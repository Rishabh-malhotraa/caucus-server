{"version":3,"sources":["../node_modules/@material-ui/utils/esm/chainPropTypes.js","../node_modules/@material-ui/utils/esm/elementAcceptingRef.js","../node_modules/@material-ui/utils/esm/elementTypeAcceptingRef.js","../node_modules/@material-ui/utils/esm/exactProp.js","../node_modules/@material-ui/utils/esm/getDisplayName.js","../node_modules/@material-ui/utils/esm/HTMLElementType.js","../node_modules/@material-ui/utils/esm/ponyfillGlobal.js","../node_modules/@material-ui/utils/esm/refType.js","../node_modules/@material-ui/styles/esm/ServerStyleSheets/ServerStyleSheets.js","../node_modules/@material-ui/styles/esm/ThemeProvider/ThemeProvider.js","../node_modules/@material-ui/styles/esm/withTheme/withTheme.js","../node_modules/@material-ui/core/esm/utils/deprecatedPropType.js","../node_modules/@material-ui/styles/esm/StylesProvider/index.js","../node_modules/@material-ui/system/esm/index.js","../node_modules/codemirror/lib/codemirror.js","../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../node_modules/@material-ui/system/esm/style.js","../node_modules/lib0/math.js","../node_modules/@material-ui/system/esm/compose.js","../node_modules/@babel/runtime/helpers/extends.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/lib0/function.js","../node_modules/lib0/map.js","../node_modules/lib0/decoding.js","../node_modules/isomorphic.js/browser.mjs","../node_modules/lib0/random.js","../node_modules/lib0/error.js","../node_modules/lib0/symbol.js","../node_modules/lib0/pair.js","../node_modules/lib0/dom.js","../node_modules/lib0/json.js","../node_modules/lib0/logging.js","../node_modules/lib0/iterator.js","../../src/utils/AbstractConnector.js","../../src/utils/DeleteSet.js","../../src/utils/Doc.js","../../src/utils/UpdateDecoder.js","../../src/utils/UpdateEncoder.js","../../src/utils/encoding.js","../../src/utils/EventHandler.js","../../src/utils/ID.js","../../src/utils/isParentOf.js","../../src/utils/RelativePosition.js","../../src/utils/Snapshot.js","../../src/utils/StructStore.js","../../src/utils/Transaction.js","../../src/utils/UndoManager.js","../../src/utils/updates.js","../../src/utils/YEvent.js","../../src/types/AbstractType.js","../../src/types/YArray.js","../../src/types/YMap.js","../../src/types/YText.js","../../src/types/YXmlFragment.js","../../src/types/YXmlElement.js","../../src/types/YXmlEvent.js","../../src/types/YXmlHook.js","../../src/types/YXmlText.js","../../src/structs/AbstractStruct.js","../../src/structs/GC.js","../../src/structs/ContentBinary.js","../../src/structs/ContentDeleted.js","../../src/structs/ContentDoc.js","../../src/structs/ContentEmbed.js","../../src/structs/ContentFormat.js","../../src/structs/ContentJSON.js","../../src/structs/ContentAny.js","../../src/structs/ContentString.js","../../src/structs/ContentType.js","../../src/structs/Item.js","../../src/structs/Skip.js","../node_modules/lib0/number.js","../node_modules/lib0/encoding.js","../node_modules/@babel/runtime/helpers/interopRequireWildcard.js","../node_modules/@material-ui/icons/utils/createSvgIcon.js","../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../node_modules/@material-ui/system/esm/borders.js","../node_modules/@material-ui/system/esm/flexbox.js","../node_modules/@material-ui/system/esm/grid.js","../node_modules/@material-ui/system/esm/positions.js","../node_modules/@material-ui/system/esm/palette.js","../node_modules/@material-ui/system/esm/sizing.js","../node_modules/@material-ui/system/esm/typography.js","../node_modules/@material-ui/core/esm/utils/unsupportedProp.js","../node_modules/lib0/buffer.js","../node_modules/lib0/binary.js","../node_modules/lib0/metric.js","../node_modules/lib0/time.js","../node_modules/@material-ui/core/esm/utils/requirePropFactory.js","../node_modules/@babel/runtime/helpers/objectSpread.js","../node_modules/lib0/array.js","../node_modules/lib0/object.js","../node_modules/lib0/observable.js","../node_modules/@material-ui/system/esm/css.js","../node_modules/@material-ui/system/esm/display.js","../node_modules/@material-ui/system/esm/shadows.js","../node_modules/lib0/set.js","../node_modules/lib0/string.js","../node_modules/lib0/environment.js","../node_modules/lib0/storage.js","../node_modules/lib0/eventloop.js","../node_modules/lib0/mutex.js","../node_modules/codemirror/mode/clike/clike.js","../node_modules/codemirror/mode/javascript/javascript.js","../node_modules/codemirror/addon/fold/foldcode.js","../node_modules/codemirror/addon/search/searchcursor.js","../node_modules/codemirror/addon/edit/matchbrackets.js","../node_modules/html-react-parser/index.mjs","../node_modules/html-react-parser/lib/attributes-to-props.js","../node_modules/html-react-parser/lib/utilities.js","../node_modules/html-dom-parser/lib/client/utilities.js","../node_modules/@material-ui/icons/SendRounded.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/react-reflex/dist/es/Polyfills.js","../node_modules/lodash.throttle/index.js","../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../node_modules/@material-ui/core/styles/withStyles.js","../node_modules/@material-ui/core/styles/defaultTheme.js","../node_modules/@material-ui/core/styles/createMuiTheme.js","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../node_modules/@material-ui/core/styles/createBreakpoints.js","../node_modules/@material-ui/core/styles/createMixins.js","../node_modules/@material-ui/core/styles/createPalette.js","../node_modules/@material-ui/core/colors/common.js","../node_modules/@material-ui/core/colors/grey.js","../node_modules/@material-ui/core/colors/indigo.js","../node_modules/@material-ui/core/colors/pink.js","../node_modules/@material-ui/core/colors/red.js","../node_modules/@material-ui/core/colors/orange.js","../node_modules/@material-ui/core/colors/blue.js","../node_modules/@material-ui/core/colors/green.js","../node_modules/@material-ui/core/styles/colorManipulator.js","../node_modules/@material-ui/core/styles/createTypography.js","../node_modules/@material-ui/core/styles/shadows.js","../node_modules/@material-ui/core/styles/shape.js","../node_modules/@material-ui/core/styles/createSpacing.js","../node_modules/@material-ui/core/styles/transitions.js","../node_modules/@material-ui/core/styles/zIndex.js","../node_modules/invert-color/lib/invert.min.js","../node_modules/lib0/diff.js","../node_modules/lib0/conditions.js","../node_modules/codemirror/mode/python/python.js","../node_modules/codemirror/mode/go/go.js","../node_modules/codemirror/mode/rust/rust.js","../node_modules/codemirror/addon/mode/simple.js","../node_modules/codemirror/mode/ruby/ruby.js","../node_modules/codemirror/mode/php/php.js","../node_modules/codemirror/mode/htmlmixed/htmlmixed.js","../node_modules/codemirror/mode/xml/xml.js","../node_modules/codemirror/mode/css/css.js","../node_modules/codemirror/mode/haskell/haskell.js","../node_modules/codemirror/addon/edit/closebrackets.js","../node_modules/codemirror/addon/edit/closetag.js","../node_modules/codemirror/addon/fold/xml-fold.js","../node_modules/codemirror/addon/hint/show-hint.js","../node_modules/codemirror/addon/hint/javascript-hint.js","../node_modules/codemirror/addon/hint/anyword-hint.js","../node_modules/codemirror/addon/fold/foldgutter.js","../node_modules/codemirror/addon/fold/brace-fold.js","../node_modules/codemirror/addon/fold/comment-fold.js","../node_modules/codemirror/keymap/sublime.js","../node_modules/codemirror/keymap/vim.js","../node_modules/codemirror/addon/dialog/dialog.js","../node_modules/codemirror/keymap/emacs.js","../node_modules/react-codemirror2/index.js","../node_modules/@material-ui/icons/Settings.js","../node_modules/@material-ui/icons/Done.js","../node_modules/@material-ui/icons/Close.js","../node_modules/url-parse/index.js","../node_modules/requires-port/index.js","../node_modules/querystringify/index.js","../node_modules/@material-ui/icons/ArrowForwardRounded.js","../node_modules/html-react-parser/index.js","../node_modules/html-react-parser/lib/dom-to-react.js","../node_modules/react-property/index.js","../node_modules/react-property/lib/HTMLDOMPropertyConfig.js","../node_modules/react-property/lib/SVGDOMPropertyConfig.js","../node_modules/react-property/lib/injection.js","../node_modules/style-to-js/cjs/index.js","../node_modules/style-to-object/index.js","../node_modules/inline-style-parser/index.js","../node_modules/style-to-js/cjs/utilities.js","../node_modules/html-dom-parser/lib/client/html-to-dom.js","../node_modules/html-dom-parser/lib/client/domparser.js","../node_modules/html-dom-parser/lib/client/constants.js","../node_modules/html-dom-parser/node_modules/domhandler/lib/node.js","../node_modules/react-tabs/esm/helpers/elementTypes.js","../node_modules/react-tabs/esm/helpers/childrenDeepMap.js","../node_modules/react-tabs/esm/components/UncontrolledTabs.js","../node_modules/react-tabs/esm/helpers/uuid.js","../node_modules/react-tabs/esm/helpers/count.js","../node_modules/react-tabs/esm/components/Tabs.js","../node_modules/react-tabs/esm/components/TabList.js","../node_modules/react-tabs/esm/components/Tab.js","../node_modules/react-tabs/esm/components/TabPanel.js","../node_modules/react-reflex/dist/es/utilities.js","../node_modules/react-reflex/dist/es/ReflexSplitter.js","../node_modules/react-reflex/dist/es/ReflexEvents.js","../node_modules/react-reflex/dist/es/ReflexContainer.js","../node_modules/react-reflex/dist/es/ReflexHandle.js","../node_modules/react-measure/dist/index.esm.js","../node_modules/react-reflex/dist/es/ReflexElement.js","../node_modules/lib0/broadcastchannel.js","../node_modules/y-protocols/sync.js","../node_modules/y-protocols/awareness.js","../node_modules/lib0/url.js","../node_modules/y-websocket/src/y-websocket.js","../node_modules/y-protocols/auth.js","../node_modules/katex/dist/katex.mjs","../node_modules/katex/dist/contrib/auto-render.mjs","../node_modules/@material-ui/core/esm/Tab/Tab.js","../node_modules/@material-ui/styles/esm/styled/styled.js","../node_modules/@material-ui/core/esm/MenuItem/MenuItem.js","../node_modules/@material-ui/core/esm/ListItem/ListItem.js","../node_modules/@material-ui/core/esm/ButtonGroup/ButtonGroup.js","../node_modules/@material-ui/core/esm/Divider/Divider.js","../node_modules/@material-ui/core/esm/utils/scrollLeft.js","../node_modules/@material-ui/core/esm/internal/animate.js","../node_modules/@material-ui/core/esm/Tabs/ScrollbarSize.js","../node_modules/@material-ui/core/esm/Tabs/TabIndicator.js","../node_modules/@material-ui/core/esm/internal/svg-icons/KeyboardArrowLeft.js","../node_modules/@material-ui/core/esm/internal/svg-icons/KeyboardArrowRight.js","../node_modules/@material-ui/core/esm/TabScrollButton/TabScrollButton.js","../node_modules/@material-ui/core/esm/Tabs/Tabs.js","../node_modules/@material-ui/lab/esm/internal/svg-icons/FirstPage.js","../node_modules/@material-ui/lab/esm/internal/svg-icons/LastPage.js","../node_modules/@material-ui/lab/esm/internal/svg-icons/NavigateBefore.js","../node_modules/@material-ui/lab/esm/internal/svg-icons/NavigateNext.js","../node_modules/@material-ui/lab/esm/PaginationItem/PaginationItem.js","../node_modules/@material-ui/lab/esm/Pagination/Pagination.js","../node_modules/@material-ui/lab/esm/Pagination/usePagination.js","../node_modules/@material-ui/core/esm/ListSubheader/ListSubheader.js","../node_modules/@material-ui/core/esm/IconButton/IconButton.js","../node_modules/@material-ui/lab/esm/internal/svg-icons/Close.js","../node_modules/@material-ui/lab/esm/internal/svg-icons/ArrowDropDown.js","../node_modules/@material-ui/lab/esm/useAutocomplete/useAutocomplete.js","../node_modules/@material-ui/lab/esm/Autocomplete/Autocomplete.js","../node_modules/@material-ui/core/esm/styles/styled.js","../node_modules/@material-ui/core/esm/Box/Box.js","../node_modules/@material-ui/core/esm/internal/svg-icons/Cancel.js","../node_modules/@material-ui/core/esm/Chip/Chip.js"],"names":["chainPropTypes","propType1","propType2","elementAcceptingRef","PropTypes","element","isRequired","exactProp","propTypes","fnNameMatchRegex","getFunctionName","fn","match","concat","getFunctionComponentName","Component","fallback","arguments","length","undefined","displayName","name","getWrappedName","outerType","innerType","wrapperName","functionName","getDisplayName","_typeof","$$typeof","ForwardRef","render","Memo","type","HTMLElementType","props","propName","componentName","location","propFullName","window","Math","self","Function","refType","oneOfType","func","object","ServerStyleSheets","options","_classCallCheck","this","_createClass","key","value","children","sheetsManager","Map","sheetsRegistry","SheetsRegistry","generateClassName","createGenerateClassName","React","createElement","StylesProvider","_extends","serverGenerateClassName","toString","id","dangerouslySetInnerHTML","__html","ThemeProvider","localTheme","theme","outerTheme","useTheme","useMemo","output","mergeOuterLocalTheme","nested","ThemeContext","Provider","withThemeCreator","defaultTheme","withTheme","WithTheme","forwardRef","ref","innerRef","other","_objectWithoutProperties","hoistNonReactStatics","deprecatedPropType","validator","reason","module","exports","userAgent","navigator","platform","gecko","test","ie_upto10","ie_11up","exec","edge","ie","ie_version","document","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","maxTouchPoints","android","mobile","mac","chromeOS","windows","presto_version","Number","flipCtrlCmd","captureRightClick","classTest","cls","RegExp","range","rmClass","node","current","className","after","slice","index","removeChildren","e","count","childNodes","removeChild","firstChild","removeChildrenAndAdd","parent","appendChild","elt","tag","content","style","cssText","createTextNode","i","eltP","setAttribute","contains","child","nodeType","parentNode","host","activeElt","activeElement","body","shadowRoot","addClass","joinClasses","a","b","as","split","createRange","start","end","endNode","r","setEnd","setStart","createTextRange","moveToElementText","collapse","moveEnd","moveStart","selectInput","select","bind","f","args","Array","prototype","call","apply","copyObj","obj","target","overwrite","prop","hasOwnProperty","countColumn","string","tabSize","startIndex","startValue","search","n","nextTab","indexOf","selectionStart","selectionEnd","_e","Delayed","time","handler","onTimeout","array","Date","setTimeout","set","ms","clearTimeout","scrollerGap","Pass","sel_dontScroll","scroll","sel_mouse","origin","sel_move","findColumn","goal","pos","col","skipped","min","spaceStrs","spaceStr","push","lst","arr","map","out","insertSorted","score","priority","splice","nothing","createObj","base","inst","Object","create","nonASCIISingleCaseWordChar","isWordCharBasic","ch","toUpperCase","toLowerCase","isWordChar","helper","source","isEmpty","extendingChars","isExtendingChar","charCodeAt","skipExtendingChars","str","dir","charAt","findFirst","pred","from","to","midF","mid","ceil","floor","iterateBidiSections","order","found","part","max","level","bidiOther","getBidiPartAt","sticky","cur","bidiOrdering","lowTypes","arabicTypes","charType","code","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","direction","len","types","i$1","prev","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","replace","j","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","m","i$7","at","isRTL","j$2","nstart","unshift","reverse","getOrder","line","text","noHandlers","on","emitter","addEventListener","attachEvent","_handlers","getHandlers","off","removeEventListener","detachEvent","signal","handlers","signalDOMEvent","cm","override","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","ctrlKey","zwspSupported","badBidiRects","dragAndDrop","div","zeroWidthElement","measure","offsetHeight","offsetWidth","hasBadBidiRects","txt","r0","getBoundingClientRect","r1","left","right","splitLinesAuto","result","l","nl","rt","hasSelection","getSelection","te","ownerDocument","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","abs","modes","mimeModes","defineMode","mode","dependencies","defineMIME","mime","spec","resolveMode","getMode","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","state","nstate","val","innerMode","info","startState","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","getLine","doc","first","size","Error","chunk","lines","sz","chunkSize","getBetween","iter","getLines","updateLineHeight","height","diff","lineNo","no","lineAtHeight","h","outer","lh","isLine","lineNumberFor","String","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","x","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","eol","sol","peek","next","eat","eatWhile","eatSpace","skipToEnd","skipTo","backUp","column","indentation","pattern","consume","caseInsensitive","cased","substr","hideFirstChars","inner","lookAhead","oracle","baseToken","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","highlightLine","context","forceToEnd","st","modeGen","lineClasses","runMode","loop","o","overlay","overlays","i_end","opaque","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","save","styleClasses","highlightFrontier","modeFrontier","precise","display","findStartLine","saved","fromSaved","processLine","viewFrom","viewTo","nextLine","startAt","stream","callBlankLine","readToken","blankLine","token","copy","Token","takeToken","asArray","tokens","extractLineClasses","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","op","inThisOp","WeakSet","markedSpans","has","add","attachLine","markedSpansBefore","old","startCh","isInsert","nw","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","startsBefore","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","offset","span$1","clearEmptySpans","newMarkers","gapMarkers","gap","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","parts","mk","find","p","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","found$1","findMaxLine","d","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","getOption","rest","addToken","buildToken","buildTokenBadBidi","insertLineContent","externalMeasured","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","title","startStyle","endStyle","css","attributes","displayText","special","specialChars","mustWrap","createDocumentFragment","lastIndex","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","input","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","Infinity","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","view","operationGroup","pushOperation","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","callbacks","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","list","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","background","wrap","insertBefore","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","k","gutterSpecs","gutterWidth","alignable","isWidget","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","width","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","gutters","wrapper","clientWidth","eventInWidget","getAttribute","sizer","mover","paddingTop","lineSpace","offsetTop","paddingVert","paddingH","cachedPaddingH","getComputedStyle","currentStyle","data","parseInt","paddingRight","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","clientHeight","barHeight","ensureLineHeights","rect","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","bottom","top","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","measureText","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","scrollTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","get","getBidi","partPos","invert","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","closestDist","endX","dist","textHeight","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","e$1","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","ranges","primIndex","empty","showCursorWhenSelecting","drawSelectionCursor","head","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","fragment","padding","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","visibility","cursorBlinkRate","setInterval","hasFocus","onBlur","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","draggingText","selForContextMenu","reset","receivedFocus","shift","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollIntoView","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","gutterSpace","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minHeight","minWidth","update","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elementFromPoint","clear","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","markArrays","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","highlight","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","scrollbarsClipped","marginBottom","borderRightWidth","selectionSnapshot","active","anchorNode","extend","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","nodeName","removeAllRanges","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","container","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","align","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","event","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","filter","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","assign","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","ok","copied","changeLine","handle","changeType","LeafChunk","BranchChunk","removeInner","insertInner","iterN","oldHeight","remaining","leaf","maybeSpill","me","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","addLineWidget","insertAt","aboveVisible","this$1","oldH","nextMarkerId","TextMarker","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","withOp","visual","dHeight","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","constructor","getValue","join","lineSeparator","setValue","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","newSel","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","CodeMirror","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","markAsReadAndPasteIfAllFilesAreRead","t","readTextFromFile","file","allowDropFileTypes","reader","onerror","onload","readAsText","text$1","getData","selected","onDragStart","setData","effectAllowed","setDragImage","img","src","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","3","8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","44","45","46","59","61","91","92","93","106","107","109","110","111","145","173","186","187","188","189","190","191","192","219","220","221","222","224","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","fromCharCode","keyMap","normalizeKeyName","alt","ctrl","cmd","mod","normalizeKeyMap","keymap","keyname","keys","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","shiftKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","prep","targetTop","moveVisually","bidi","mv","getWrappedLineExtent","moveInStorageOrder","searchInVisualLine","getRes","res","nextCh","basic","pcDefault","emacsy","macDefault","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","onKeyDown","getField","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","lastClick","lastDoubleClick","DOUBLECLICK_DELAY","PastClick","clickRepeat","now","compare","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","option","unit","addNew","moveOnDrag","contained","behavior","dragDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","preventScroll","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","leftPos","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","buttons","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","Init","defaults","optionHandlers","defineOptions","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","integer","blur","readOnlyChanged","screenReaderLabelChanged","dragDropChanged","resetPosition","funcs","dragFunctions","toggle","enter","over","leave","drop","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","pageX","pageY","inp","how","aggressive","indent","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","defineInitHook","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","hiddenTextarea","border","addEditorMethods","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","check","scrollTo","getScrollInfo","interpret","swapDoc","phrase","phraseText","phrases","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","lineDir","findNextLine","moveOnce","boundToLine","astral","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","posToDOM","isInGutter","scan","badPos","bad","domTextBetween","closing","extraLinebreak","recognizeMarker","close","addText","walk","cmText","markerID","isBlock","textContent","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","previousSibling","dist$1","belongsToInput","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","contentEditable","updateFromDOM","readFromDOMSoon","forceCompositionEnd","label","removeAttribute","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","poll","pollSelection","pollInterval","pollContent","fromIndex","fromNode","toNode","toIndex","newText","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","TextareaInput","prevInput","pollingFast","fromTextArea","textarea","tabindex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","createField","prepareCopyCut","fastPoll","dispatchEvent","Event","_display","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldScrollY","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","mouseup","extval","disabled","dontDelegate","method","defineExtension","defineDocExtension","version","factory","__esModule","getPath","path","reduce","acc","item","_options$cssProperty","cssProperty","themeKey","transform","propValue","themeMapping","handleBreakpoints","propValueFinal","isArray","_defineProperty","filterProps","imul","log10","log2","log","sqrt","exp10","pow","exp","isNegativeZero","sign","compose","_len","_key","merge","defineProperty","enumerable","configurable","writable","callAll","fs","nop","equalityStrict","equalityFlat","equalityDeep","ArrayBuffer","Uint8Array","byteLength","Set","forEach","setIfUndefined","createT","any","Decoder","uint8Array","createDecoder","hasContent","decoder","readUint8Array","buffer","byteOffset","readVarUint8Array","readVarUint","readUint8","num","binary","readVarInt","readVarString","remainingLen","encodedString","fromCodePoint","nextLen","bytes","subarray","decodeURIComponent","escape","readFromDataView","dv","DataView","readAnyLookupTable","getFloat32","getFloat64","getBigInt64","readAny","RleDecoder","super","s","UintOptRleDecoder","isNegative","math","IntDiffOptRleDecoder","hasCount","StringDecoder","spos","performance","isoCrypto","crypto","cryptoRandomBuffer","buf","getRandomValues","random","uint32","Uint32Array","uuidv4Template","uuidv4","c","methodUnimplemented","unexpectedCase","Symbol","Pair","mapToStyleString","DOMParser","ELEMENT_NODE","TEXT_NODE","CDATA_SECTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","JSON","stringify","parse","BOLD","symbol","UNBOLD","BLUE","GREY","GREEN","RED","PURPLE","ORANGE","UNCOLOR","_browserStyleMap","pair","_nodeStyleMap","computeLoggingArgs","env","strBuilder","logArgs","arg","dom","print","console","vconsoles","vc","createIterator","iterator","iteratorMap","fmap","DeleteItem","clock","DeleteSet","clients","iterateDeletedStructs","transaction","ds","deletes","clientid","structs","store","del","iterateStructs","isDeleted","dis","client","midindex","midclock","findIndexDS","sortAndMergeDeleteSet","dels","mergeDeleteSets","dss","dssI","delsLeft","addToDeleteSet","createDeleteSet","createDeleteSetFromStructStore","ss","dsitems","struct","writeDeleteSet","encoder","encoding","restEncoder","resetDsCurVal","writeDsClock","writeDsLen","readDeleteSet","numClients","decoding","restDecoder","numberOfDeletes","dsField","readDsClock","readDsLen","readAndApplyDeleteSet","unappliedDS","getState","clockEnd","findIndexSS","splitItem","delete","toUint8Array","generateNewClientId","guid","gc","gcFilter","meta","autoLoad","clientID","share","StructStore","_transaction","_transactionCleanups","subdocs","_item","shouldLoad","transact","subdocsLoaded","TypeConstructor","_integrate","Constr","_map","_start","_length","YArray","YText","toJSON","subdoc","destroy","opts","subdocsAdded","subdocsRemoved","emit","eventName","createID","dsCurrVal","keyClockDecoder","clientDecoder","leftClockDecoder","rightClockDecoder","infoDecoder","stringDecoder","parentInfoDecoder","typeRefDecoder","lenDecoder","ID","keyClock","isYKey","embed","keyClockEncoder","clientEncoder","leftClockEncoder","rightClockEncoder","infoEncoder","stringEncoder","parentInfoEncoder","typeRefEncoder","lenEncoder","write","writeClientsStructs","_sm","sm","getStateVector","entries","startNewStructs","writeClient","firstStruct","writeStructs","readUpdateV2","ydoc","transactionOrigin","structDecoder","local","retry","restStructs","clientsStructRefs","stack","clientsStructRefsIds","getNextStructTarget","nextStructsTarget","refs","curStructsTarget","missingSV","updateMissingSv","mclock","stackHead","addStackToRestSS","unapplicableItems","missing","getMissing","structRefs","integrate","integrateStructs","clientRefs","numOfStateUpdates","numberOfStructs","readClient","readInfo","readLen","GC","cantCopyParentInfo","readLeftID","readRightID","readParentInfo","readString","readItemContent","readClientsStructRefs","pending","pendingStructs","mergeUpdatesV2","dsRest","pendingDs","pendingDSUpdate","dsRest2","applyUpdateV2","YDecoder","applyUpdate","encodeStateAsUpdateV2","encodedTargetStateVector","targetStateVector","writeStateAsUpdate","decodeStateVector","updates","diffUpdateV2","encodeStateAsUpdate","readStateVector","ssLength","decodedState","writeStateVector","sv","encodeStateVectorV2","writeDocumentStateVector","encodeStateVector","EventHandler","createEventHandler","addEventHandlerListener","eventHandler","removeEventHandlerListener","error","callEventHandlerListeners","arg0","arg1","compareIDs","findRootTypeKey","RelativePosition","tname","assoc","createRelativePositionFromJSON","json","AbsolutePosition","createRelativePosition","typeid","createRelativePositionFromTypeIndex","countable","lastId","createAbsolutePositionFromRelativePosition","rpos","rightID","typeID","followRedone","createAbsolutePosition","compareRelativePositions","Snapshot","createSnapshot","isVisible","splitSnapshotAffectedStructs","getItemCleanStart","lastStruct","addStruct","getItem","findIndexCleanStart","getItemCleanEnd","clockStart","Transaction","deleteSet","beforeState","afterState","changedParentTypes","_mergeStructs","writeUpdateMessageFromTransaction","writeStructsFromTransaction","addChangedTypeToTransaction","parentSub","tryToMergeWithLeft","mergeWith","tryGcDeleteSet","deleteItems","di","deleteItem","endDeleteItemClock","si","keep","tryMergeDeleteSet","cleanupTransactions","transactionCleanups","mergeStructs","subs","itemtype","_callObserver","currentTarget","event1","event2","_dEH","beforeClock","firstChangePos","replacedStructPos","_observers","loaded","initialCall","StackItem","deletions","insertions","popStackItem","undoManager","eventType","_tr","scope","stackItem","itemsToRedo","itemsToDelete","performedChange","redone","some","redoItem","deleteFilter","subProps","_searchMarker","typeScope","captureTimeout","trackedOrigins","undoStack","redoStack","undoing","redoing","lastChange","stopCapturing","endClock","startClock","keepItem","clearItem","LazyStructReader","filterSkips","lazyStructReaderGenerator","curr","LazyStructWriter","currClient","written","clientStructs","sliceStruct","leftItem","rightOrigin","YEncoder","updateDecoders","lazyStructDecoders","currWrite","updateEncoder","lazyStructEncoder","dec","dec1","dec2","clockDiff","currDecoder","firstClient","writeStructToLazyStructWriter","finishLazyStructWriting","lazyStructWriter","svClock","flushLazyStructWriter","lazyWriter","partStructs","_changes","_keys","_delta","getPathTo","action","oldValue","adds","getContent","packOp","retain","globalSearchMarkerTimestamp","ArraySearchMarker","timestamp","overwriteMarker","findMarker","yarray","pindex","refreshMarkerTimestamp","searchMarker","pm","markPosition","updateMarkerChanges","callTypeObservers","changedType","_eH","parentSubs","typeListSlice","cs","typeListToArray","typeListForEach","typeListMap","typeListCreateIterator","currentContent","currentContentIndex","typeListGet","typeListInsertGenericsAfter","referenceItem","ownClientId","jsonContent","packJsonContent","ContentAny","Boolean","typeListInsertGenerics","typeListDelete","startLength","typeMapDelete","typeMapSet","typeMapGet","typeMapGetAll","createMapIterator","entry","YArrayEvent","_prelimContent","items","toArray","el","clone","writeTypeRef","YArrayRefID","YMapEvent","ymap","keysChanged","typeMapHas","YMapRefID","equalAttrs","currentAttributes","ContentString","updateCurrentAttributes","findNextPosition","findPosition","insertNegatedAttributes","currPos","negatedAttributes","forward","nextFormat","format","minimizeAttributeChanges","insertAttributes","currentVal","insertText","getLength","formatText","newlines","cleanupFormattingGap","startAttributes","endAttributes","cleanups","deleteText","startAttrs","YTextEvent","ytext","childListChanged","oldAttributes","deleteLen","addOp","curVal","_pending","applyDelta","toDelta","foundFormattingItem","afterClock","cleanupYTextFormatting","attrs","cleanupContextlessFormattingGap","sanitize","ins","prevSnapshot","computeYChange","packStr","addAttributes","user","insertEmbed","attributeName","attributeValue","YTextRefID","YXmlTreeWalker","root","_filter","_root","_currentNode","_firstCall","YXmlElement","_first","query","YXmlEvent","xml","_document","hooks","binding","_createAssociation","xmlType","toDOM","refItem","pc","findIndex","YXmlFragmentRefID","_prelimAttrs","getAttributes","stringBuilder","keysLen","toLocaleLowerCase","attrsString","yxml","YXmlElementRefID","writeKey","attributesChanged","YXmlHook","hookName","hook","createDom","YXmlHookRefID","YXmlText","nestedNodes","YXmlTextRefID","encodingRef","writeInfo","writeLen","writeBuf","ContentDeleted","markDeleted","writeString","writeAny","writeJSON","ContentJSON","firstCharCode","typeRefs","readKey","_copy","_write","nextID","rightItem","redoitems","ownClientID","parentItem","leftTrace","rightTrace","nextClock","nextId","redoneItem","isCountable","isMarked","doKeep","doDelete","conflictingItems","itemsBeforeOrigin","parentGCd","newStruct","replaceStruct","getRef","writeLeftID","writeRightID","ykey","writeParentInfo","contentRefs","readBuf","readJSON","readTypeRef","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","isInteger","isFinite","Encoder","cpos","cbuf","bufs","createEncoder","uint8arr","curPos","bufferLen","writeUint8","writeVarUint","writeVarInt","writeVarString","unescape","encodeURIComponent","codePointAt","writeBinaryEncoder","append","writeUint8Array","leftCopyLen","rightCopyLen","writeVarUint8Array","writeOnDataView","verifyLen","dview","floatTestBed","number","setFloat32","writeFloat32","setFloat64","writeFloat64","setBigInt64","writeBigInt64","RleEncoder","writer","flushUintOptRleEncoder","UintOptRleEncoder","flushIntDiffOptRleEncoder","encodedDiff","IntDiffOptRleEncoder","StringEncoder","sarr","lensE","_getRequireWildcardCache","WeakMap","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","_utils","createSvgIcon","require","objectWithoutPropertiesLoose","excluded","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","getBorder","borderTop","borderRight","borderLeft","borderColor","borderRadius","borders","flexBasis","flexDirection","flexWrap","justifyContent","alignItems","alignContent","flex","flexGrow","flexShrink","alignSelf","justifyItems","justifySelf","flexbox","gridGap","gridColumnGap","gridRowGap","gridColumn","gridRow","gridAutoFlow","gridAutoColumns","gridAutoRows","gridTemplateColumns","gridTemplateRows","gridTemplateAreas","gridArea","grid","color","bgcolor","palette","maxWidth","maxHeight","sizeWidth","sizeHeight","boxSizing","sizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","textAlign","typography","unsupportedProp","createUint8ArrayFromLen","createUint8ArrayViewFromArrayBuffer","createUint8ArrayFromArrayBuffer","toBase64","btoa","Buffer","fromBase64","atob","copyUint8Array","newBuf","BIT1","BIT2","BIT3","BIT4","BIT6","BIT7","BIT8","BITS5","BITS6","BITS7","BITS8","BITS31","getUnixTime","requirePropFactory","componentNameInError","ownKeys","sym","appendTo","equalFlat","every","results","hasProperty","Observable","once","_f","observers","values","styleFunction","newStyleFunction","fields","omit","_toConsumableArray","displayPrint","displayRaw","overflow","textOverflow","whiteSpace","boxShadow","trimLeftRegex","fromCamelCaseRegex","fromCamelCase","separator","trimLeft","TextEncoder","utf8TextDecoder","TextDecoder","fatal","ignoreBOM","decode","isNode","process","release","isBrowser","params","computeParams","pargs","argv","currParamName","parg","kv","getVariable","conditions","storage","hasParam","_localStorage","setItem","newValue","usePolyfill","localStorage","varStorage","onChange","queue","_runQueue","enqueue","createTimeoutClass","clearFunction","timeoutId","_","createDebouncer","requestAnimationFrame","cancelAnimationFrame","cancelIdleCallback","timeout","timer","createMutex","pushContext","popContext","typeBefore","prevToken","typeAtEndOfLine","isTopScope","words","config","parserConfig","curPunc","isDefKeyword","statementIndentUnit","dontAlignCalls","keywords","builtin","blockKeywords","defKeywords","atoms","multiLineStrings","indentStatements","indentSwitch","namespaceSeparator","isPunctuationChar","numberStart","isOperatorChar","isIdentifierChar","isReservedIdentifier","tokenBase","tokenize","tokenString","tokenComment","quote","escaped","maybeEnd","maybeEOL","typeFirstDefinitions","basecolumn","startOfLine","ctx","styleDefs","textAfter","firstChar","dontIndentStatements","switchBlock","allmanIndentation","blockCommentStart","blockCommentEnd","blockCommentContinue","lineComment","fold","cKeywords","cppKeywords","objCKeywords","objCBuiltins","basicCTypes","basicObjCTypes","cTypes","identifier","objCTypes","cBlockKeywords","cDefKeywords","cppHook","pointerHook","_stream","cIsReservedIdentifier","cpp14Literal","cpp11StringHook","cpp11RawStringDelim","tokenRawString","cppLooksLikeConstructor","lastTwo","tokenAtString","delim","def","mimes","tokenTripleString","tokenNestedComment","depth","tokenKotlinString","tripleString","cx","closeBrackets","pairs","triples","intendSwitch","stringTokenizer","tokenCeylonString","statementIndent","jsonldMode","jsonld","jsonMode","trackScope","isTS","typescript","wordRE","wordCharacters","kw","A","B","C","D","operator","atom","isJsonldKeyword","readRegexp","inSet","ret","tp","cont","expressionAllowed","tokenQuasi","lexical","lastType","brackets","findFatArrow","fatArrowAt","arrow","sawSomething","bracket","atomicTypes","JSLexical","inScope","varname","localVars","vars","parseJS","cc","marked","expression","statement","lex","pass","inList","register","block","newContext","registerVarScoped","Var","globalVars","isModifier","defaultVars","pushcontext","pushblockcontext","popcontext","pushlex","poplex","expect","wanted","vardef","parenExpr","maybeexpression","maybeelse","functiondef","forspec","enumdef","typename","typeexpr","maybelabel","maybeCatchBinding","afterExport","afterImport","funarg","expressionInner","expressionNoComma","noComma","arrowBodyNoComma","arrowBody","commasep","maybeop","maybeoperatorNoComma","maybeoperatorComma","classExpression","arrayLiteral","contCommasep","objprop","quasi","maybeTarget","expr","property","continueQuasi","targetNoComma","maybeTypeArgs","getterSetter","afterprop","maybetype","what","sep","proceed","maybetypeOrIn","mayberettype","isKW","afterType","typeprops","typearg","maybeReturnType","quasiType","typeprop","functiondecl","continueQuasiType","typeparam","maybeTypeDefault","maybeAssign","vardefCont","eltpattern","proppattern","_type","forspec1","forspec2","classNameAfter","classBody","classfield","maybeFrom","exportField","importSpec","maybeMoreImports","maybeAs","enummember","isContinuedStatement","doubleIndentSwitch","skipExpression","doFold","finder","minSize","allowFolded","marks","__isFold","cleared","myWidget","makeWidget","myRange","newFoldFunction","rangeFinder","toggleFold","foldCode","unfold","foldAll","unfoldAll","defaultOptions","auto","minFoldSize","scanUp","editorOptions","foldOptions","noFold","regexpFlags","regexp","flags","ignoreCase","global","multiline","ensureFlags","maybeMultiline","searchRegexpForward","searchRegexpForwardMultiline","inside","startLine","lastMatchIn","endMargin","newMatch","searchRegexpBackward","searchRegexpBackwardMultiline","adjustPos","orig","folded","foldFunc","searchStringForward","caseFold","cutFrom","endString","searchStringBackward","lastIndexOf","topString","SearchCursor","atOccurrence","matches","normalize","findNext","findPrevious","getSearchCursor","ie_lt8","matching","bracketRegex","findMatchingBracket","afterCursor","re","strict","scanForBracket","maxScanLen","maxScanLineLength","maxScanLines","matchBrackets","autoclear","maxHighlightLen","maxHighlightLineLength","highlightNonMatching","doMatchBrackets","currentlyHighlighted","clearHighlighted","oldConfig","HTMLReactParser","domToReact","htmlToDOM","attributesToProps","reactProperty","utilities","setStyleProp","htmlProperties","html","svgProperties","svg","isCustomAttribute","attributeNameLowerCased","propertyName","hasBooleanValue","hasOverloadedBooleanValue","PRESERVE_CUSTOM_ATTRIBUTES","styleToJS","default","styleToJSOptions","reactCompat","invertObject","TypeError","isOverridePresent","overrides","isCustomComponent","tagName","is","constants","domhandler","CASE_SENSITIVE_TAG_NAMES","Comment","Element","ProcessingInstruction","Text","caseSensitiveTagNamesMap","formatAttributes","attribute","formatTagName","caseSensitiveTagName","getCaseSensitiveTagName","formatDOM","nodes","directive","substring","isIE","_interopRequireDefault","_interopRequireWildcard","_default","includes","valueToFind","FUNC_ERROR_TEXT","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","freeSelf","objectToString","nativeMax","nativeMin","debounce","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","thisArg","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","toNumber","isObject","flush","isObjectLike","isSymbol","valueOf","isBinary","MapShim","getIndex","class_1","__entries__","callback","_i","_a","global$1","requestAnimationFrame$1","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","leadingCall","trailingCall","resolvePending","proxy","timeoutCallback","timeStamp","throttle","addObserver","observer","connect_","removeObserver","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","observe","childList","characterData","subtree","disconnect","_b","getInstance","instance_","defineConfigurable","getWindowOf","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","positions","getHTMLElementContentRect","paddings","positions_1","getPaddings","horizPad","vertPad","isDocumentElement","vertScrollbar","horizScrollbar","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","broadcastRect","ResizeObserverEntry","rectInit","contentRect","DOMRectReadOnly","createReadOnlyRect","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","observations","unobserve","clearActive","_this","observation","ResizeObserver","_extends2","_styles","_defaultTheme","stylesOrCreator","withStyles","_objectWithoutProperties2","_createBreakpoints","_createMixins","_createPalette","_createTypography","_shadows","_shape","_createSpacing","_transitions","_zIndex","_options$breakpoints","breakpoints","breakpointsInput","_options$mixins","mixins","mixinsInput","_options$palette","paletteInput","spacingInput","spacing","_options$typography","typographyInput","muiTheme","deepmerge","shadows","shape","transitions","argument","sourceKeys","_breakpoints$values","xs","md","lg","xl","_breakpoints$unit","_breakpoints$step","step","between","endIndex","down","upperbound","only","_toolbar","_extends3","_defineProperty2","toolbar","_palette$primary","light","_indigo","main","dark","_palette$secondary","secondary","_pink","A200","A400","A700","_palette$error","_red","_palette$warning","warning","_orange","_palette$info","_blue","_palette$success","success","_green","_palette$type","_palette$contrastThre","contrastThreshold","_palette$tonalOffset","tonalOffset","getContrastText","_colorManipulator","getContrastRatio","augmentColor","mainShade","lightShade","darkShade","formatMuiErrorMessage","_formatMuiErrorMessage","addLightOrDark","contrastText","common","_common","grey","_grey","divider","paper","white","hover","hoverOpacity","selectedOpacity","disabledBackground","disabledOpacity","focusOpacity","activatedOpacity","icon","intent","shade","tonalOffsetLight","tonalOffsetDark","lighten","darken","black","50","100","200","300","400","500","600","700","800","900","A100","hexToRgb","rgbToHex","decomposeColor","int","hex","intToHex","hslToRgb","recomposeColor","foreground","lumA","getLuminance","lumB","emphasize","coefficient","fade","clamp","colors","rgb","toFixed","_ref","_ref$fontFamily","defaultFontFamily","_ref$fontSize","_ref$fontWeightLight","fontWeightLight","_ref$fontWeightRegula","fontWeightRegular","_ref$fontWeightMedium","fontWeightMedium","_ref$fontWeightBold","fontWeightBold","_ref$htmlFontSize","htmlFontSize","allVariants","pxToRem2","pxToRem","coef","buildVariant","casing","variants","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caseAllCaps","caption","overline","textTransform","createShadow","mui","_system","createUnarySpacing","duration","easing","easeInOut","easeOut","easeIn","sharp","shortest","shorter","short","standard","complex","enteringScreen","leavingScreen","formatMs","milliseconds","_options$duration","durationOption","_options$easing","easingOption","_options$delay","animatedProp","getAutoHeightDuration","constant","mobileStepper","speedDial","appBar","drawer","modal","snackbar","tooltip","threshold","u","asRGB","asRgbArray","defaultThreshold","asRgbObject","simpleDiffString","undefinedToNull","wordRegexp","wordOperators","commonKeywords","commonBuiltins","scopes","conf","parserConf","ERRORCLASS","delimiters","singleDelimiters","operators","singleOperators","doubleOperators","doubleDelimiters","tripleDelimiters","hangingIndent","myKeywords","myBuiltins","extra_keywords","extra_builtins","py3","identifiers","stringPrefixes","builtins","lastToken","scopeOffset","lineOffset","pushPyScope","dedent","errorToken","tokenBaseInner","inFormat","floatLiteral","intLiteral","formatStringFactory","tokenStringFactory","delimiter","tokenOuter","singleline","OUTCLASS","tokenNestedExpr","singleLineStringErrors","isString","pushBracketScope","tokenLexer","beginningOfLine","lambda","delimiter_index","addErr","defineSimpleMode","regex","string_raw","string_raw_hash","comment","dontIndentStates","ensureState","states","toRegex","caret","unicode","asToken","Rule","tokenFunction","pend","tok","endToken","localState","endScan","curState","rule","enterLocalMode","pers","persistent","persistentStates","lState","forceEnd","indentFunction","rules","dedentIfLineStart","simpleMode","states_","hasIndentation","wordObj","keywordList","indentWords","dedentWords","opening","chain","newtok","readBlockComment","readQuoted","regexpAhead","readHereDoc","varList","lastTok","more","tokenBaseUntilBrace","tokenBaseOnce","alreadyCalled","unescaped","mayIndent","continuedLine","kwtype","thisTok","ct","closed","matchSequence","escapes","phpString","patterns","phpString_","tokStack","phpKeywords","phpAtoms","phpBuiltin","phpConfig","quoted","htmlMode","phpMode","dispatch","isPHP","curMode","php","openPHP","startOpen","htmlNew","phpNew","defaultTags","script","maybeBackup","pat","attrRegexpCache","getAttrRegexp","getAttrValue","getTagRegexp","anchored","addTags","findMatchingMode","tagInfo","tagText","multilineTagIndentFactor","multilineTagIndentPastTag","allowMissingTagName","tags","configTags","configScript","scriptTypes","htmlState","inTag","endTagA","endTag","localMode","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","xmlConfig","editorConf","config_","setStyle","inText","parser","inBlock","doctype","baseState","tagStart","inAttribute","stringStartCol","closure","isInAttribute","terminator","noIndent","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","attrEqState","attrValueState","attrContinuedState","isInText","baseIndent","fullLine","alignCDATA","tagAfter","grabbers","configuration","skipAttribute","xmlCurrentTag","xmlCurrentContext","keySet","inline","propertyKeywords","tokenHooks","documentTypes","mediaTypes","mediaFeatures","mediaValueKeywords","nonStandardPropertyKeywords","fontProperties","counterDescriptors","colorKeywords","valueKeywords","allowNested","supportsAtComponent","highlightNonStandardPropertyKeywords","tokenParenthesized","popAndPass","wordAsValue","stateArg","atBlock","documentTypes_","mediaTypes_","mediaFeatures_","mediaValueKeywords_","propertyKeywords_","nonStandardPropertyKeywords_","colorKeywords_","valueKeywords_","allWords","tokenCComment","_config","modeConfig","switchState","setState","smallRE","largeRE","digitRE","hexitRE","octitRE","idRE","symbolRE","specialRE","whiteCharRE","ncomment","stringLiteral","nest","currNest","stringGap","wellKnownWords","wkw","setType","overrideKeywords","closeBefore","explode","ensureBound","Backspace","handleBackspace","Enter","handleEnter","chars","handleChar","getConfig","around","charsAround","linesep","moveSel","contractSelection","inverted","identical","curType","stringStartsAfter","whenClosing","autoCloseSlash","whenOpening","autoCloseGT","htmlDontClose","htmlIndent","replacements","dontCloseTags","indentTags","lowerTagName","closingTagExists","emptyTags","newPos","dontIndentOnAutoClose","autoCloseCurrent","typingSlash","dontIndentOnSlash","replacement","mixed","collection","newTag","scanForClosingTag","nextClose","onCx","closeTag","nameStartChar","xmlTagStart","Iter","tagAt","prevLine","toTagEnd","gt","lastSlash","selfClose","toTagStart","lt","toNextTag","toPrevTag","findMatchingClose","findMatchingOpen","endLine","openTag","startPos","endPos","findMatchingTag","open","findEnclosingTag","HINT_ELEMENT_CLASS","ACTIVE_HINT_ELEMENT_CLASS","Completion","tick","startLen","updateOnCursorActivity","activityFunc","showHint","getHints","async","newOpts","parseOptions","selections","supportsSelection","completionActive","completion","editor","hintOptions","resolve","getText","buildKeyMap","baseMap","Up","moveFocus","Down","PageUp","menuSize","PageDown","Home","setFocus","End","pick","Tab","Esc","custom","customKeys","ourMap","addBinding","extra","getHintElement","hintsElement","Widget","picked","parentWindow","hints","selectedHint","completions","hintId","alignWithWord","below","offsetParentPosition","bodyPosition","winW","innerWidth","winH","startScroll","moveOnOverlap","DOMRect","scrolls","paddingForScrollbar","closingOnBlur","overlapX","avoidWrap","changeActive","screenAmount","closeOnUnfocus","onScroll","curScroll","point","completeOnSingleClick","selectedHintRange","getSelectedHintRange","scrollToActive","applicableHelpers","fetchHints","then","resolveAutoHints","resolved","app","run","fromList","anyword","closeOnPick","identStart","closeCharacters","disable","myTick","finishUpdate","completeSingle","node1","node2","firstNode","scrollMargin","term","autocomplete","arrayContains","scriptHint","getToken","tprop","getCompletions","javascriptHint","javascriptKeywords","getCoffeeScriptToken","coffeescriptHint","coffeescriptKeywords","stringProps","arrayProps","funcProps","forAllProps","getOwnPropertyNames","getPrototypeOf","globalScope","maybeAdd","gatherCompletions","additionalContext","useGlobalScope","jQuery","WORD","RANGE","curWord","seen","foldGutter","onGutterClick","onViewportChange","onFold","State","updateInViewport","indicatorOpen","indicatorFolded","isFolded","updateFoldInfo","foldOption","clsFolded","clsOpen","vp","changeUpdate","foldOnChangeTimeSpan","updateViewportTimeSpan","tokenType","lineText","findOpening","openCh","startToken","startBrace","startBracket","nextOpen","hasImport","semi","hasInclude","cmds","findPosSubword","cat","moveSubword","insertLine","newSelection","wordAt","addCursorToSelection","newRange","isSelectedRange","goSubwordLeft","goSubwordRight","scrollLineUp","visibleBottomLine","scrollLineDown","visibleTopLine","splitSelectionByLine","lineRanges","singleSelectionTop","selectLine","extended","insertLineAfter","insertLineBefore","selectNextOccurrence","fullWord","sublimeFindFullWord","skipAndSelectNextOccurrence","prevAnchor","prevHead","addCursorToPrevLine","addCursorToNextLine","mirror","selectBetweenBrackets","puncType","sortLines","caseSensitive","toSort","au","bu","modifyWordOrSelection","indices","getTarget","findAndGoTo","selectScope","goToBracket","swapLineUp","linesToMove","newSels","swapLineDown","toggleCommentIndented","toggleComment","joinLines","joined","actual","duplicateLine","reverseSortLines","sortLinesInsensitive","reverseSortLinesInsensitive","nextBookmark","sublimeBookmarks","prevBookmark","toggleBookmark","sublimeBookmark","clearBookmarks","selectBookmarks","smartBackspace","toStartOfLine","deletePos","prevIndent","delLineRight","upcaseAtCursor","downcaseAtCursor","setSublimeMark","sublimeMark","selectToSublimeMark","deleteToSublimeMark","tmp","sublimeKilled","swapWithSublimeMark","sublimeYank","showInCenter","findUnder","findUnderPrevious","findAllUnder","primaryIndex","macSublime","pcSublime","sublime","defaultKeymap","toKeys","motionArgs","linewise","toJumplist","wordEnd","bigWord","inclusive","explicitRepeat","toFirstChar","repeatOffset","isEdit","actionArgs","matchIndent","operatorArgs","indentRight","toLower","operatorMotionArgs","shouldMoveCursor","interlaceInsertRepeat","blockwise","keepSpaces","exitVisualBlock","increase","backtrack","textObjectInner","searchArgs","querySrc","wholeWordOnly","defaultKeymapLength","defaultExCommandMap","shortName","possiblyAsync","excludeFromCommandHistory","Vim","enterVimMode","onCursorActivity","maybeInitVimState","getOnPasteFn","leaveVimMode","vim","detachVimMap","caretColor","disableFatCursorMark","attachVimMap","enableFatCursorMark","updateFatCursorMark","fatCursorMarks","clearFatCursorMark","cmKey","vimKey","cmKeyToVimKey","findKey","modifiers","Shift","Ctrl","Alt","Cmd","Mod","CapsLock","specialKeys","Delete","Insert","pieces","lastPiece","hasCharacter","piece","isUpperCase","onPasteFn","insertMode","offsetCursor","actions","enterInsertMode","numberRegex","wordCharTest","bigWordCharTest","makeKeyRange","upperCaseAlphabet","lowerCaseAlphabet","numbers","validMarks","validRegisters","isLowerCase","isMatchableSymbol","isNumber","isWhiteSpaceString","isEndOfSentenceSymbol","inArray","defaultValue","aliases","cfg","vimGlobalState","lastInsertModeKeyTimer","createCircularJumpList","pointer","tail","newCur","curMark","useNextSlot","trashMark","markPos","cursorEqual","inc","oldPointer","cachedCursor","createInsertModeChanges","expectCursorActivityForChange","MacroModeState","latestRegister","isPlaying","isRecording","replaySearchQueries","onRecordingDone","lastInsertModeChanges","inputState","InputState","lastEditInputState","lastEditActionCommand","lastHPos","lastHSPos","lastMotion","fakeCursor","insertModeRepeat","visualMode","visualBlock","lastSelection","lastPastedText","resetVimGlobalState","optionName","searchQuery","searchIsReversed","lastSubstituteReplacePart","jumpList","macroModeState","lastCharacterSearch","increment","selectedCharacter","registerController","RegisterController","searchHistoryController","HistoryController","exCommandHistoryController","exitMacroRecordMode","enterMacroRecordMode","registerName","getRegister","openDialog","vimApi","getRegisterController","resetVimGlobalState_","getVimGlobalState_","maybeInitVimState_","suppressErrorLogging","InsertModeKey","lhs","rhs","exCommandDispatcher","unmap","noremap","toCtxArray","ctxsToMap","actualLength","mapping","newMapping","_mapCommand","mappedCtxs","mapclear","origLength","userKeymap","contexts","defineEx","prefix","exCommands","commandMap_","handleKey","command","handleMacroRecording","clearInputState","logKey","handleEsc","exitVisualMode","exitInsertMode","doKeyToKey","handleKeyInsertMode","keyBuffer","keysAreChars","commandDispatcher","matchCommand","thisMatch","handleKeyNonInsertMode","keysMatcher","pushRepeatDigit","isVimOp","processCommand","handleEx","defineMotion","defineAction","defineOperator","mapCommand","defineRegister","prefixRepeat","motionRepeat","Register","insertModeChanges","searchQueries","registers","unnamedRegister","historyBuffer","initialPrefix","getRepeat","setText","pushText","pushInsertModeChanges","pushSearchQuery","isValidRegister","shiftNumericRegisters_","nextMatch","pushInput","bestMatch","commandMatches","partial","character","lastChar","repeatOverride","processMotion","processOperator","processOperatorMotion","processAction","processSearch","processEx","copyArgs","evalInput","updateCmSelection","repeatIsExplicit","recordLastEdit","getSearchState","setReversed","promptPrefix","originalQuery","getQuery","originalScrollPos","handleQuery","showPrompt","onClose","onPromptClose","onPromptKeyUp","onPromptKeyDown","expandWordUnderCursor","isKeyword","escapeRegex","smartCase","updateSearchQuery","showConfirm","logSearchQuery","parsedQuery","clearSearchHighlight","exArgs","selectValueOnOpen","origHead","copyCursor","clipCursorToContent","origAnchor","oldHead","oldAnchor","noRepeat","motionResult","motions","recordJumpPosition","updateMark","cursorIsBefore","lastSel","chOffset","curEnd","cmSel","cursorMin","cursorMax","makeCmSelection","expandSelectionToLine","clipToLine","operatorMoveTo","actionCommand","moveToTopLine","_head","getUserVisibleLines","findFirstNonWhiteSpaceCharacter","moveToMiddleLine","moveToBottomLine","expandToLine","_cm","isReversed","highlightSearchMatches","findAndSelectNextInclusive","prevInputState","findNextFromAndToInclusive","subMode","goToMark","getMarkPos","moveToOtherHighlightedEnd","jumpToMark","best","equal","cursorIsBetween","moveByCharacters","moveByLines","moveByDisplayLines","moveByScroll","moveToColumn","moveToEol","posV","moveToStartOfLine","goalCoords","resCoords","moveByPage","moveByParagraph","findParagraph","moveBySentence","findSentence","scrollbox","moveByWords","moveToWord","moveTillCharacter","moveToCharacter","recordLastCharacterSearch","moveToSymbol","findSymbol","moveToFirstNonWhiteSpaceCharacter","moveToMatchedSymbol","moveToLineOrEdgeOfDocument","lineNum","textObjectManipulation","mirroredPairs","selfPaired","'","selectCompanionObject","findBeginningAndEnd","expandTagUnderCursor","expandSelection","repeatLastCharacterSearch","lastSearch","fillArray","times","finalHead","MAX_VALUE","lastState","prevLineEnd","wasLastLine","_args","changeCase","swapped","toSwap","yank","jumpListWalk","newBottom","scrollToCursor","replayMacro","executeMacroRegister","getLastEditPos","onKeyEventTargetKeyDown","selectForInsert","toggleVisualMode","reselectLastSelection","_actionArgs","updateLastSelection","anchorMark","headMark","finalCh","curFinalPos","newLineAndEnterInsertMode","newlineAndIndentContinueComment","whitespaceLength","tabs","currentLine","chompedText","wasChomped","firstIndent","wspace","newIndent","quotient","curPosFinal","idx","lastSelectionCurEnd","selectedArea","getSelectedAreaRange","selectedText","emptyStrings","selectBlock","extendLineToColumn","repeatFn","setRegister","setMark","replaceTo","replaceWith","replaceWithStr","incrementNumberToken","numberStr","lineStr","baseStr","digits","zeroPadding","repeatLastEdit","includeLineBreak","maxCh","offsetLine","offsetCh","commandMatch","pressed","mapped","prefixLen","pressedPrefix","mappedPrefix","cur1","cur2","cur3","cur1before2","cur2before3","trim","isClipped","wasClipped","baseCh","headCh","newDir","lineHead","atAnchor","atHead","getCurrentSelectedAreaRange","getLastSelectedAreaRange","updateFakeCursor","exclusive","headOffset","getHead","moveHead","clearFakeCursor","_forward","noSymbol","wordStart","symbolToMode","findSymbolModes","isComplete","symb","reverseSymb","section","curMoveThrough","lastCh","preprocess","curCh","findWord","emptyLineIsWord","charTests","stop","foundWord","eodCh","shortCircuit","firstWord","lastWord","keepHPos","retval","charIdxInLine","markName","includeChar","isBoundary","nextChar","ln","last_valid","skip_empty_lines","curr_index","bracketRegexp","openSym","firstIndex","SearchState","searchState_","splitBySlash","argString","splitBySeparator","findUnescapedSlashes","findUnescapedSeparators","slashes","escapeNextChar","translateRegex","specials","specialComesNext","setQuery","getOverlay","searchOverlay","setOverlay","reversed","getScrollbarAnnotate","annotate","setScrollbarAnnotate","charUnescapes","translateRegexReplace","unescapes","unescapeRegexReplace","matched","matcher","parseQuery","regexPart","forceIgnoreCase","template","$color","openNotification","alert","innerText","makePrompt","$fontFamily","$whiteSpace","shortText","prompt","regexEqual","r2","rawQuery","matchSol","highlightTimeout","searchState","showMatchesOnScrollbar","isInRange","scrollInfo","occludeToleranceTop","occludeToleranceBottom","bottomY","ExCommandDispatcher","buildCommandMap_","opt_params","that","_processCommand","commandHistoryRegister","previousCommand","inputStream","commandName","parseInput_","matchCommand_","parseCommandArgs_","toInput","parseLineSpec_","numberMatch","parseLineSpecOffset_","offsetMatch","argDelimiter","colorscheme","mapArgs","imap","nmap","vmap","setArgs","setCfg","forceGet","optionIsBoolean","message","setOptionReturn","setlocal","setglobal","regArgs","regInfo","unique","parseArgs","decimal","octal","err","radix","numPart","textPart","matchPart","comparePatternFn","compareFn","textOld","anum","bnum","vglobal","matchedLines","nextCommand","substitute","flagsPart","replacePart","confirm","doReplace","nohlsearch","delmarks","startMark","finishMark","searchCursor","exMode","modifiedLineNumber","replaceAll","unmodifiedLineNumber","_value","savedCallback","insertModeChangeRegister","logInsertModeChange","imc","repeatInsertModeChanges","changeObj","ignoreCount","selectionCount","maybeReset","handleExternalSelection","fakeCursorBookmark","onKeyFound","repeatForInsert","isAction","cachedInputState","repeatCommand","repeatInsert","changeObject","keyHandler","dialogDiv","dialog","innerHTML","closeNotification","newVal","currentNotificationClose","getElementsByTagName","onInput","closeOnEnter","closeOnBlur","evt","relatedTarget","blurring","doneTimer","posEq","killRing","addToRing","growRingTop","getFromRing","popFromRing","lastKill","_kill","ring","byChar","byWord","byLine","byPage","byParagraph","sawText","fst","bySentence","sawWord","byExpr","getPrefix","emacsPrefix","clearPrefix","repeated","findEnd","by","killTo","_killRegion","addPrefix","digit","maybeClearPrefix","maybeDuplicateInput","prefixPreservingKeys","emacsPrefixMap","one","maybeRemovePrefixMap","prefixMap","clearMark","msg","getInput","operateOnWord","toEnclosingExpr","killRegion","killLineEmacs","killRingSave","yankPop","forwardChar","backwardChar","deleteChar","deleteForwardChar","deleteBackwardChar","forwardWord","backwardWord","killWord","backwardKillWord","previousLine","scrollDownCommand","scrollUpCommand","backwardParagraph","forwardParagraph","backwardSentence","forwardSentence","killSentence","backwardKillSentence","killSexp","backwardKillSexp","forwardSexp","backwardSexp","markSexp","transposeSexps","leftStart","rightEnd","backwardUpList","justOneSpace","transposeCharsRepeatable","capitalizeWord","letter","upcaseWord","downcaseWord","undoRepeatable","keyboardQuit","newline","gotoLine","indentRigidly","exchangePointAndMark","quotedInsertTab","universalArgument","emacs","regPrefix","__extends","_extendStatics","setPrototypeOf","__proto__","__","UnControlled","Controlled","SERVER_RENDERED","Helper","tx","ty","Shared","delegateCursor","delegateScroll","coordinates","delegateSelection","autoScroll","applyNext","preserved","autoCursor","applyUserDefined","wire","onCopy","onCursor","onCut","onDblClick","onDragEnter","onDragLeave","EditorChangeEvent","onInputRead","onKeyHandled","onPaste","onRenderLine","onSelection","onTouchStart","onUpdate","_super","applied","appliedNext","appliedUserDefined","deferred","emulating","hydrated","initCb","editorDidConfigure","mounted","hydrate","_options","userDefinedOptions","resolveChange","initChange","mirrorChange","componentDidMount","phantomChange","onBeforeChange","editorDidMount","componentDidUpdate","prevProps","componentWillUnmount","editorWillUnmount","shouldComponentUpdate","nextProps","nextState","continueChange","detached","onBeforeChangeCb","editorDidAttach","editorDidDetach","required","qs","protocolre","windowsDriveLetter","address","url","isSpecial","protocol","ignore","hash","lolcation","loc","finaldestination","Url","pathname","href","scheme","extractProtocol","forwardSlashes","otherSlashes","slashesCount","relative","extracted","instruction","instructions","port","hostname","username","password","auth","char","encode","undef","domParserOptions","lowerCaseAttributeNames","htmlparser2","skipAttributesToProps","attribs","replaceElement","library","cloneElement","isValidElement","hasReplace","HTMLDOMPropertyConfig","SVGDOMPropertyConfig","injection","MUST_USE_PROPERTY","HAS_BOOLEAN_VALUE","HAS_NUMERIC_VALUE","HAS_POSITIVE_NUMERIC_VALUE","HAS_OVERLOADED_BOOLEAN_VALUE","checkMask","bitmask","injectDOMPropertyConfig","domPropertyConfig","isSVG","propConfig","Properties","DOMAttributeNames","mustUseProperty","hasNumericValue","hasPositiveNumericValue","autoFocus","accept","acceptCharset","accessKey","allowFullScreen","allowTransparency","autoComplete","autoPlay","capture","cellPadding","cellSpacing","charSet","challenge","checked","cite","classID","cols","colSpan","contextMenu","controls","controlsList","crossOrigin","dateTime","defer","download","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","high","hrefLang","htmlFor","httpEquiv","inputMode","integrity","keyParams","keyType","kind","lang","low","manifest","marginHeight","marginWidth","maxLength","media","mediaGroup","minLength","multiple","muted","nonce","noValidate","optimum","playsInline","poster","preload","profile","radioGroup","referrerPolicy","role","rows","rowSpan","sandbox","scoped","scrolling","seamless","spellCheck","srcDoc","srcLang","srcSet","summary","useMap","wmode","about","datatype","inlist","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","itemProp","itemScope","itemType","itemID","itemRef","security","unselectable","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeType","autoReverse","azimuth","baseFrequency","baseProfile","baselineShift","calcMode","capHeight","clip","clipPath","clipRule","clipPathUnits","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cy","decelerate","descent","diffuseConstant","divisor","dominantBaseline","dur","edgeMode","elevation","enableBackground","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontSizeAdjust","fontStretch","fontVariant","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","ideographic","imageRendering","in","in2","intercept","k1","k2","k3","k4","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","lightingColor","limitingConeAngle","markerEnd","markerMid","markerStart","markerHeight","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","numOctaves","opacity","orient","orientation","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","points","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","rotate","rx","ry","scale","seed","shapeRendering","slope","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","u1","u2","underlinePosition","underlineThickness","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","vHanging","vIdeographic","vMathematical","vectorEffect","vertAdvY","vertOriginX","vertOriginY","viewBox","viewTarget","widths","wordSpacing","writingMode","xHeight","x1","x2","xChannelSelector","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlns","xmlnsXlink","xmlLang","xmlSpace","y1","y2","yChannelSelector","z","zoomAndPan","__importDefault","style_to_object_1","utilities_1","camelCase","declaration","declarations","hasIterator","COMMENT_REGEX","NEWLINE_REGEX","WHITESPACE_REGEX","PROPERTY_REGEX","COLON_REGEX","VALUE_REGEX","SEMICOLON_REGEX","TRIM_REGEX","EMPTY_STRING","lineno","updatePosition","Position","whitespace","errorsList","filename","silent","comments","decl","decls","CUSTOM_PROPERTY_REGEX","HYPHEN_REGEX","NO_HYPHEN_REGEX","VENDOR_PREFIX_REGEX","capitalize","trimHyphen","skipCamelCase","domparser","DIRECTIVE_REGEX","HTML","HEAD","BODY","FIRST_TAG_REGEX","HEAD_TAG_REGEX","BODY_TAG_REGEX","parseFromDocument","parseFromString","domParser","implementation","createHTMLDocument","parseFromTemplate","firstTagName","elements","extendStatics","__assign","Document","NodeWithChildren","DataNode","Node","nodeTypes","recursive","namespace","instr","elem","cloneChildren","clone_1","clone_2","clone_3","childs","makeTypeChecker","tabsRole","isTab","isTabList","isTabPanel","deepMap","Children","isTabChild","deepForEach","canUseActiveElement","uuid","getTabsCount","tabCount","_setPrototypeOf","isTabNode","isTabDisabled","UncontrolledTabs","_Component","subClass","superClass","tabNodes","handleKeyDown","_this$props","disableUpDownKeys","isTabFromContainer","selectedIndex","useSelectedIndex","handleClick","getNextTab","getPrevTab","getLastTab","getFirstTab","setSelected","_proto","_this$props2","onSelect","getTab","_getTabsCount","getPanelsCount","panelCount","_getPanelsCount","getChildren","_this2","_this$props3","disabledTabClassName","forceRenderTabPanel","selectedTabClassName","selectedTabPanelClassName","environment","tabIds","panelIds","listIndex","wasTabFocused","determineCanUseActiveElement","tab","tabRef","panelId","selectedClassName","disabledClassName","tabId","forceRender","nodeAncestor","_this3","_this$props4","domRef","_objectWithoutPropertiesLoose","onClick","defaultProps","Tabs","handleSelected","copyPropsToState","defaultFocus","getDerivedStateFromProps","getModeFromProps","newState","maxTabIndex","defaultIndex","_this$state","TabList","DEFAULT_CLASS","checkFocus","_cx","TabPanel","Browser","opera","InstallTrigger","StyleMedia","webstore","isChrome","isOpera","CSS","getUserAgent","isWindowsDesktop","isWindowsMobile","isBlackBerry","isAndroid","isIOS","getDataProps","_objectSpread","ReflexSplitter","domElement","ReactDOM","findDOMNode","component","onStartResize","onStopResize","onMouseUp","onMouseMove","passive","isMobile","arrayOf","bool","ReflexEvents","_events","fct","tmpArray","ReflexContainer","flexData","computeFlexData","changedTouches","classList","previousPos","emitElementsEvent","getOffset","availableOffset","computeAvailableOffset","dispatchOffset","adjustFlex","resizing","resizedRefs","isA","Promise","getSize","splitterIdx","ex","createRef","windowResizeAware","onWindowResize","onElementSize","getValidChildren","UNSAFE_componentWillReceiveProps","flexHasChanged","nextChildrenFlex","diffFlex","sum","stretch","computeAvailableStretch","shrink","computeAvailableShrink","checkPropagate","childIdx","availableStretch","maxSize","nextOffset","availableShrink","computePixelFlex","warn","addOffset","newSize","currentFlex","newFlex","dispatchStretch","dispatchedStretch","nextIdx","dispatchShrink","dispatchedShrink","pixelFlex","flexDataInit","maxFlex","sizeFlex","minFlex","constrained","computeFlexDataRec","flexDataIn","hasContrain","freeElements","computeFreeElements","freeFlex","computeFreeFlex","flexDataOut","proposedFlex","constrainedFlex","maxRecDepth","getTime","newProps","oneOf","ReflexHandle","getTypes","allowedTypes","calculations","clientTop","bounds","marginRight","Measure","WrappedComponent","_class","_temp","WithContentRect","_animationFrameID","_resizeObserver","_node","_window","_handleRef","_inheritsLoose","measureRef","withContentRect","SizeAwareReflexElement","resizeHeight","resizeWidth","setDimensions","dimensions","propagateDimensionsRate","renderChildren","propagateDimensions","withHandle","ReflexElement","prevState","directions","renderOnResizeRate","channels","BC","BroadcastChannel","room","onmessage","postMessage","getChannel","bc","publish","writeSyncStep1","Y","writeSyncStep2","encodedStateVector","readSyncStep2","readUpdate","readSyncMessage","messageType","readSyncStep1","outdatedTimeout","Awareness","_checkInterval","getLocalState","lastUpdated","setLocalState","removeAwarenessStates","currLocalMeta","updated","filteredUpdated","setLocalStateField","getStates","awareness","curMeta","encodeAwarenessUpdate","messageHandlers","provider","emitSynced","syncMessageType","syncProtocol","synced","awarenessProtocol","clientMeta","currClock","permissionDeniedHandler","authProtocol","readMessage","messageHandler","setupWS","shouldConnect","websocket","_WS","binaryType","wsconnecting","wsconnected","wsLastMessageReceived","send","onclose","status","wsUnsuccessfulReconnects","onopen","encoderAwarenessState","broadcastMessage","bcconnected","mux","bcChannel","WebsocketProvider","serverUrl","roomname","connect","WebSocketPolyfill","WebSocket","resyncInterval","encodedParams","mutex","_synced","_resyncInterval","_bcSubscriber","_updateHandler","_awarenessUpdateHandler","changedClients","messageReconnectTimeout","connectBc","encoderSync","encoderState","encoderAwarenessQuery","disconnectBc","SourceLocation","lexer","second","noexpand","treatAsRelax","ParseError","underlined","uppercase","ESCAPE_LOOKUP","\"","ESCAPE_REGEX","getBaseElem","utils","setting","defaultIfUndefined","hyphenate","isCharacterBox","baseElem","protocolFromUrl","Settings","displayMode","leqno","fleqn","throwOnError","errorColor","macros","minRuleThickness","colorIsTextColor","trust","maxExpand","globalGroup","reportNonstrict","errorCode","errorMsg","useStrictBehavior","isTrusted","Style","cramped","sup","fracNum","fracDen","cramp","isTight","Style$1","DISPLAY","TEXT","SCRIPT","SCRIPTSCRIPT","scriptData","blocks","allBlocks","supportedCodepoint","codepoint","hLinePad","doubleleftarrow","doublerightarrow","leftarrow","leftbrace","leftbraceunder","leftgroup","leftgroupunder","leftharpoon","leftharpoonplus","leftharpoondown","leftharpoondownplus","lefthook","leftlinesegment","leftmapsto","leftToFrom","longequal","midbrace","midbraceunder","oiintSize1","oiintSize2","oiiintSize1","oiiintSize2","rightarrow","rightbrace","rightbraceunder","rightgroup","rightgroupunder","rightharpoon","rightharpoonplus","rightharpoondown","rightharpoondownplus","righthook","rightlinesegment","rightToFrom","twoheadleftarrow","twoheadrightarrow","tilde1","tilde2","tilde3","tilde4","vec","widehat1","widehat2","widehat3","widehat4","widecheck1","widecheck2","widecheck3","widecheck4","baraboveleftarrow","rightarrowabovebar","baraboveshortleftharpoon","rightharpoonaboveshortbar","shortbaraboveleftharpoon","shortrightharpoonabovebar","DocumentFragment","maxFontSize","hasClass","toMarkup","markup","toText","createClass","initNode","getColor","Span","Anchor","Img","iCombinations","SymbolNode","italic","skew","scriptFromCodepoint","needsSpan","SvgNode","createElementNS","PathNode","pathName","alternate","LineNode","assertSymbolDomNode","fontMetricsData","sigmasAndXis","slant","quad","extraSpace","num1","num2","num3","denom1","denom2","sup1","sup2","sup3","sub1","sub2","supDrop","subDrop","delim1","delim2","axisHeight","defaultRuleThickness","bigOpSpacing1","bigOpSpacing2","bigOpSpacing3","bigOpSpacing4","bigOpSpacing5","sqrtRuleThickness","ptPerEm","doubleRuleSep","arrayRuleWidth","fboxsep","fboxrule","extraCharacterMap","getCharacterMetrics","font","metrics","fontMetricsBySizeIndex","ATOMS","NON_ATOMS","symbols","defineSymbol","acceptUnicodeChar","ams","accent","bin","mathord","punct","textord","ligatures","mathTextSymbols","textSymbols","_ch","letters","_i2","_ch2","wideChar","_i3","_ch3","_i4","_ch4","extraLatin","_i5","_ch5","wideLatinLetterData","wideNumeralData","sizeStyleMap","sizeMultipliers","sizeAtStyle","Options","textSize","fontShape","sizeMultiplier","_fontMetrics","BASESIZE","extension","havingStyle","havingCrampedStyle","havingSize","havingBaseStyle","wantSize","havingBaseSizing","withColor","withPhantom","withFont","withTextFontFamily","withTextFontWeight","withTextFontShape","sizingClasses","oldOptions","baseSizingClasses","fontMetrics","sizeIndex","cssEmPerMu","getGlobalMetrics","ptPerUnit","relativeUnit","validUnit","calculateSize","sizeValue","unitOptions","lookupSymbol","fontName","makeSymbol","symbolNode","lookup","canCombine","_style","sizeElementFromChildren","makeSpan","makeSvgSpan","makeFragment","retrieveTextFontName","baseFontName","fontMap","variant","svgData","buildCommon","mathsym","makeLineSpan","thickness","borderBottomWidth","makeAnchor","wrapFragment","makeVList","positionType","oldChildren","_depth","positionData","getVListChildrenAndDepth","pstrutSize","pstrut","realChildren","_child","_elem","wrapperClasses","wrapperStyle","childWrap","vlist","emptySpan","depthStrut","topStrut","vtable","makeOrd","isFont","fontOrFamily","wideFontName","wideFontClass","codePoint","wideCharacterFont","fontClasses","fontData","fontClass","boldsymbol","_fontName","_fontName3","_fontName2","makeGlue","measurement","staticSvg","svgNode","tryCombineChars","thinspace","mediumspace","thickspace","spacings","mord","mop","mbin","mrel","minner","mopen","mclose","mpunct","tightSpacings","_functions","_htmlGroupBuilders","_mathmlGroupBuilders","defineFunction","names","htmlBuilder","mathmlBuilder","numArgs","argTypes","allowedInArgument","allowedInText","allowedInMath","numOptionalArgs","infix","primitive","defineFunctionBuilders","_ref2","normalizeArgument","ordargument","makeSpan$1","binLeftCanceller","binRightCanceller","styleMap","DomEnum","buildExpression","isRealGroup","surrounding","groups","buildGroup","glueOptions","dummyPrev","dummyNext","isRoot","traverseNonSpaceNodes","prevType","getTypeOfDomTree","partialGroup","checkPartialGroup","nonspace","insertAfter","getOutermostNode","makeNullDelimiter","moreClasses","baseOptions","groupNode","multiplier","buildHTMLUnbreakable","strut","verticalAlign","buildHTML","tree","eqnNum","tagChild","nobreak","htmlNode","newDocumentFragment","MathNode","TextNode","mathMLTree","SpaceNode","makeText","makeRow","getVariant","buildExpression$1","isOrdgroup","buildGroup$1","lastGroup","_group","buildExpressionRow","buildMathML","texExpression","isDisplayMode","forMathmlOnly","annotation","semantics","wrapperClass","optionsFromSettings","settings","displayWrap","stretchyCodePoint","widehat","widecheck","widetilde","utilde","overleftarrow","underleftarrow","xleftarrow","overrightarrow","underrightarrow","xrightarrow","underbrace","overbrace","overgroup","undergroup","overleftrightarrow","underleftrightarrow","xleftrightarrow","Overrightarrow","xRightarrow","overleftharpoon","xleftharpoonup","overrightharpoon","xrightharpoonup","xLeftarrow","xLeftrightarrow","xhookleftarrow","xhookrightarrow","xmapsto","xrightharpoondown","xleftharpoondown","xrightleftharpoons","xleftrightharpoons","xtwoheadleftarrow","xtwoheadrightarrow","xlongequal","xtofrom","xrightleftarrows","xrightequilibrium","xleftequilibrium","katexImagesData","overlinesegment","underlinesegment","stretchy","topPad","bottomPad","viewBoxWidth","viewBoxHeight","_height","numChars","imgIndex","widthClasses","aligns","paths","_minWidth","_viewBoxHeight","_height2","numSvgChildren","_path","_svgNode","_span","buildSvgSpan_","assertNodeType","assertSymbolNodeType","typedNode","checkSymbolNodeType","grp","supSubGroup","assertSpan","isShifty","baseChar","accentBody","clearance","isStretchy","accentFull","accentWrap","accentNode","NON_STRETCHY_ACCENT_REGEX","funcName","innerGroup","kern","paddedNode","optArgs","lowerGroup","newOptions","upperGroup","arrowPrefix","arrowShift","upperShift","lowerShift","arrowNode","upperNode","lowerNode","_lowerNode","cdArrowFunctionName","isStartOfArrow","cdArrow","arrowChar","labels","callFunction","bareArrow","family","arrowGroup","htmlBuilder$1","mathmlBuilder$1","breakOnTokenText","gullet","parseExpression","newLine","globalMap","checkControlSequence","letCommand","macro","unexpandable","isExpandable","consumeSpaces","fetch","parseFunction","popToken","future","consumeArg","expandTokens","_ref3","getRHS","_ref4","middle","pushToken","getMetrics","styleWrap","toStyle","delimSizeMultiplier","centerSpan","makeLargeDelim","center","mathrmSize","makeGlyphSpan","sizeClass","makeInner","innerPath","lap","verts","doubleVerts","makeStackedDelim","heightTotal","topMetrics","topHeightTotal","repeatMetrics","repeatHeightTotal","bottomMetrics","bottomHeightTotal","middleHeightTotal","middleFactor","middleMetrics","realHeightTotal","_innerHeight","emPad","sqrtSvg","sqrtName","extraViniculum","sqrtMain","sqrtSize1","sqrtSize2","sqrtSize3","sqrtSize4","sqrtTall","sqrtPath","pathNode","stackLargeDelimiters","stackAlwaysDelimiters","stackNeverDelimiters","sizeToMaxHeight","stackNeverDelimiterSequence","stackAlwaysDelimiterSequence","stackLargeDelimiterSequence","delimTypeToFont","traverseSequence","sequence","heightDepth","makeCustomSizedDelim","delimType","makeSmallDelim","advanceWidth","spanHeight","texHeight","ruleWidth","delimiterExtend","maxDistFromAxis","delimiterSizes","mclass","checkDelimiter","symDelim","assertParsed","leftrightDepth","rightColor","leftDelim","rightDelim","innerDepth","hadMiddle","isMiddle","colorOptions","leftNode","rightNode","middleDelim","middleNode","htmlBuilder$2","imgShift","isSingleChar","lineWeight","angleHeight","ruleThickness","borderStyle","borderWidth","borderTopWidth","backgroundColor","mathmlBuilder$2","thk","_ref5","_environments","defineEnvironment","getHLines","hlineInfo","nxt","validateAmsEnvironmentContext","envName","parseArray","hskipBeforeAndAfter","addJot","arraystretch","colSeparationType","addEqnNum","singleRow","maxNumCols","beginGroup","expandMacroAsText","row","rowGaps","hLinesBeforeRow","cell","endGroup","nextToken","parseSizeGroup","dCellStyle","htmlBuilder$3","nr","nc","hlines","pt","arraycolsep","baselineskip","jot","arrayskip","arstrutHeight","arstrutDepth","setHLinePos","hlinesInGap","isDashed","inrow","outrow","rowGap","colSep","colDescrNum","colDescriptions","eqnNumSpans","rw","eqnTag","colDescr","firstSeparator","lineType","borderRightStyle","sepwidth","pregap","_shift","postgap","dashes","vListElems","hline","lineShift","eqnNumCol","alignMap","mathmlBuilder$3","tbl","glue","table","menclose","columnLines","prevTypeWasAlign","iStart","iEnd","_cols","rowLines","alignedHandler","numMaths","separationType","numCols","emptyGroup","isAligned","styling","curMaths","nde","ca","colAlign","payload","parsedRows","endChar","rowNodes","labelNum","inLabel","wrappedArrow","parseCD","environments","nameGroup","parseArguments","endNameToken","makeSpan$2","htmlBuilder$4","mathmlBuilder$4","lspace","rspace","binrelClass","baseArg","shiftedArg","baseOp","limits","alwaysHandleSupSub","parentIsSupSub","suppressBaseShift","supsub","htmlBuilder$5","mathmlBuilder$5","fontAliases","adjustStyle","originalStyle","htmlBuilder$6","nstyle","dstyle","numerm","numer","continued","hStrut","dStrut","ruleSpacing","numShift","denomShift","frac","delimSize","denomm","denom","hasBarLine","barSize","midShift","candidateClearance","mathmlBuilder$6","isDisplay","withDelims","leftOp","rightOp","stylArray","delimFromValue","delimString","barNode","isBlank","styl","textOrd","_ref6","assert","htmlBuilder$7","braceBody","isOver","vSpan","formatUnsupportedCmd","trustContext","class","keyVal","mathml","sizeData","totalheight","mathFunction","muUnit","dimension","alignment","fix","outerMode","switchMode","chooseMathStyle","scriptscript","assembleSupSub","supGroup","subGroup","baseShift","finalGroup","_bottom","noSuccessor","htmlBuilder$8","hasLimits","large","stash","oval","mathmlBuilder$8","singleCharBigOps","fName","singleCharIntegrals","htmlBuilder$9","childText","sizingGroup","isAllString","semisimple","sizeFuncs","smashHeight","smashDepth","tbArg","smashedNode","theta","phi","lineClearance","minDelimiterHeight","delimDepth","rootm","toShift","rootVList","rootVListWrap","styleMap$1","newStyle","builderDelegate","htmlBuilderDelegate","supm","subm","minSupShift","valueBase","valueSup","valueSub","supShift","subShift","_newOptions","isOiint","psi","vlistElem","_vlistElem","isBrace","_base2","_base","defaultVariant","cssSpace","regularSpace","ord","pad","padNode","textFontFamilies","textFontWeights","textFontShapes","optionsWithFont","makeVerb","star","functions","controlWordWhitespaceRegex","combiningDiacriticalMarksEndRegex","combiningDiacriticalMarkString","Lexer","tokenRegex","catcodes","setCatcode","nlIndex","controlMatch","Namespace","globalMacros","undefStack","undefs","builtinMacros","defineMacro","expandOnce","consumeArgs","digitToNumber","newcommand","existsOK","nonexistsOK","exists","isDefined","argText","expandNextToken","dotsByToken","thedots","expandAfterFuture","spaceAfterDots","latexRaiseA","implicitCommands","MacroExpander","expansionCount","feed","newMode","pushTokens","scanArgument","isOptional","delims","isDelimited","expandableOnly","topToken","expansion","_getExpansion","expanded","expandMacro","oldStackLength","definition","stripped","bodyLexer","unicodeAccents","unicodeSymbols","Parser","breakOnInfix","endOfExpression","parseAtom","formLigatures","handleInfixNodes","overIndex","numerNode","denomNode","numerBody","denomBody","handleSupSubscript","symbolToken","parseGroup","textordArray","superscript","subscript","_limits","prime","primes","funcData","totalArgs","argType","parseGroupOfType","optional","parseColorGroup","parseUrlGroup","parseArgumentGroup","parseStringGroup","modeName","argToken","parseRegexGroup","firstToken","groupEnd","parseSymbol","nucleus","parseTree","toParse","baseNode","renderToDomTree","compatMode","renderError","katexNode","mathMLNode","_htmlNode","buildTree","katex","renderToString","__parse","__renderToDomTree","__renderToHTMLTree","buildHTMLTree","__setFontMetrics","__defineSymbol","__defineMacro","__domTree","findEndOfMath","braceLevel","delimLength","amsRegex","renderMathInText","optionsCopy","regexLeft","startsWith","rawData","splitAtDelimiters","preProcess","errorCallback","renderElem","childNode","ignoredTags","ignoredClasses","renderMathInElement","_props$disabled","_props$disableFocusRi","disableFocusRipple","fullWidth","indicator","selectionFollowsFocus","_props$textColor","textColor","_props$wrapped","wrapped","ButtonBase","focusRipple","clsx","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","styled","stylesOptions","classNamePrefix","useStyles","makeStyles","StyledComponent","classNameProp","ComponentProp","spread","FinalComponent","MenuItem","_props$component","_props$disableGutters","disableGutters","ListItemClasses","_props$role","tabIndexProp","ListItem","dense","useEnhancedEffect","_props$alignItems","_props$autoFocus","_props$button","childrenProp","componentProp","_props$ContainerCompo","ContainerComponent","_props$ContainerProps","ContainerProps","ContainerClassName","_props$dense","_props$divider","focusVisibleClassName","_props$selected","ListContext","childContext","listItemRef","hasSecondaryAction","isMuiElement","handleOwnRef","instance","handleRef","useForkRef","componentProps","alignItemsFlexStart","secondaryAction","focusVisible","backgroundClip","transition","Button","ButtonGroup","_props$color","_props$disableElevati","disableElevation","_props$disableRipple","disableRipple","_props$fullWidth","_props$orientation","_props$size","_props$variant","buttonClassName","grouped","vertical","groupedHorizontal","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","borderRightColor","groupedOutlinedVertical","borderBottomColor","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","Divider","_props$absolute","absolute","_props$flexItem","flexItem","_props$light","inset","cachedType","detectScrollType","dummy","getNormalizedScrollLeft","easeInOutSin","sin","PI","ScrollbarSize","scrollbarHeight","nodeRef","setMeasurements","handleResize","prevHeight","TabIndicator","colorPrimary","colorSecondary","KeyboardArrowLeft","KeyboardArrowRight","TabScrollButton","ariaLabel","ariaLabelledBy","_props$centered","centered","_props$indicatorColor","indicatorColor","_props$ScrollButtonCo","ScrollButtonComponent","_props$scrollButtons","scrollButtons","_props$TabIndicatorPr","TabIndicatorProps","TabScrollButtonProps","scrollable","isRtl","scrollStart","clientSize","_React$useState","setMounted","_React$useState2","indicatorStyle","setIndicatorStyle","_React$useState3","displayScroll","setDisplayScroll","_React$useState4","scrollerStyle","setScrollerStyle","valueToIndex","tabsRef","tabListRef","getTabsMeta","tabsMeta","tabMeta","tabsNode","scrollLeftNormalized","_children","updateIndicatorState","useEventCallback","_newIndicatorStyle","_getTabsMeta","correction","newIndicatorStyle","dStart","dSize","scrollValue","cb","_options$ease","ease","cancelled","animate","moveTabsScroll","handleStartScrollClick","handleEndScrollClick","handleScrollbarSizeChange","scrollSelectedIntoView","_getTabsMeta2","nextScrollStart","_nextScrollStart","updateScrollButtonState","showStartScroll","showEndScroll","_tabsRef$current","win","ownerWindow","handleTabsScroll","updateIndicator","updateScrollButtons","childIndex","childValue","conditionalElements","scrollbarSizeListener","scrollButtonsActive","showScrollButtons","scrollButtonStart","scrollButtonsDesktop","scrollButtonEnd","getConditionalElements","fixed","flexContainer","flexContainerVertical","newFocusTarget","previousItemKey","nextItemKey","previousElementSibling","nextElementSibling","WebkitOverflowScrolling","overflowX","scrollbarWidth","PaginationItem","page","_props$shape","_props$type","Icon","previous","NavigateNextIcon","NavigateBeforeIcon","FirstPageIcon","LastPageIcon","ellipsis","sizeSmall","sizeLarge","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","defaultGetAriaLabel","Pagination","boundaryCount","_props$getItemAriaLab","defaultPage","getItemAriaLabel","_props$renderItem","hideNextButton","hidePrevButton","renderItem","showFirstButton","showLastButton","siblingCount","_props$boundaryCount","_props$componentName","_props$count","_props$defaultPage","_props$hideNextButton","_props$hidePrevButton","handleChange","pageProp","_props$showFirstButto","_props$showLastButton","_props$siblingCount","_useControlled","useControlled","controlled","_useControlled2","_slicedToArray","setPageState","startPages","endPages","siblingsStart","siblingsEnd","itemList","buttonPage","usePagination","ul","listStyle","ListSubheader","_props$disableSticky","disableSticky","_props$inset","colorInherit","IconButton","_props$edge","edgeStart","edgeEnd","centerRipple","stripDiacritics","defaultFilterOptions","_config$ignoreAccents","ignoreAccents","_config$ignoreCase","_config$matchFrom","matchFrom","_config$trim","inputValue","getOptionLabel","filteredOptions","candidate","createFilterOptions","useAutocomplete","_props$autoComplete","_props$autoHighlight","autoHighlight","_props$autoSelect","autoSelect","_props$blurOnSelect","blurOnSelect","_props$clearOnBlur","clearOnBlur","freeSolo","_props$clearOnEscape","clearOnEscape","_props$debug","debug","_props$defaultValue","_props$disableClearab","disableClearable","_props$disableCloseOn","disableCloseOnSelect","_props$disabledItemsF","disabledItemsFocusable","_props$disableListWra","disableListWrap","_props$filterOptions","filterOptions","_props$filterSelected","filterSelectedOptions","_props$freeSolo","getOptionDisabled","_props$getOptionLabel","getOptionLabelProp","_props$getOptionSelec","getOptionSelected","groupBy","_props$handleHomeEndK","handleHomeEndKeys","idProp","_props$includeInputIn","includeInputInList","inputValueProp","_props$multiple","onHighlightChange","onInputChange","onOpen","openProp","_props$openOnFocus","openOnFocus","_props$selectOnFocus","selectOnFocus","valueProp","useId","ignoreFocus","firstFocus","inputRef","listboxRef","anchorEl","setAnchorEl","focusedTag","setFocusedTag","defaultHighlighted","highlightedIndexRef","_useControlled3","_useControlled4","setInputValue","setFocused","resetInputValue","newInputValue","optionLabel","_useControlled5","_useControlled6","setOpenState","inputValueIsSelectedValue","popupOpen","value2","focusTag","tagToFocus","setHighlightedIndex","_ref2$reason","listboxNode","scrollBottom","elementBottom","changeHighlightedIndex","_ref3$direction","_ref3$reason","nextIndex","nextFocus","nextFocusDisabled","hasAttribute","validOptionIndex","maxIndex","newIndex","getNextIndex","setSelectionRange","syncHighlightedIndex","valueItem","currentOption","itemIndex","optionItem","handleListboxRef","setRef","handleOpen","handleClose","handleValue","details","isTouch","selectNewValue","reasonProp","handleFocusTag","nextTag","validTagIndex","handleClear","handleFocus","handleBlur","handleInputChange","handleOptionMouseOver","handleOptionTouchStart","handleOptionClick","handleTagDelete","handlePopupIndicator","handleMouseDown","handleInputMouseDown","groupedOptions","getRootProps","getInputLabelProps","getInputProps","getClearProps","getPopupIndicatorProps","getTagProps","onDelete","getListboxProps","getOptionProps","onMouseOver","DisablePortal","CloseIcon","ArrowDropDownIcon","Autocomplete","startAdornment","ChipProps","_props$clearText","clearText","_props$closeIcon","closeIcon","_props$closeText","closeText","_props$disablePortal","disablePortal","_props$forcePopupIcon","forcePopupIcon","_props$getLimitTagsTe","getLimitTagsText","_props$limitTags","limitTags","_props$ListboxCompone","ListboxComponent","ListboxProps","_props$loading","loading","_props$loadingText","loadingText","_props$noOptionsText","noOptionsText","_props$openText","openText","_props$PaperComponent","PaperComponent","Paper","_props$PopperComponen","PopperComponent","PopperComponentProp","Popper","_props$popupIcon","popupIcon","renderGroupProp","renderGroup","renderInput","renderOptionProp","renderOption","renderTags","_useAutocomplete","getCustomizedTagProps","tagSizeSmall","Chip","groupLabel","groupUl","renderListOption","optionProps","hasClearIcon","hasPopupIcon","InputLabelProps","InputProps","inputRoot","endAdornment","clearIndicator","clearIndicatorDirty","popupIndicator","popupIndicatorOpen","inputProps","inputFocused","popper","popperDisablePortal","noOptions","listbox","option2","index2","_option","outline","WebkitTapHighlightColor","componentCreator","styledWithoutDefault","Box","isDeleteKeyboardEvent","keyboardEvent","avatarProp","avatar","clickableProp","clickable","deleteIconProp","deleteIcon","iconProp","chipRef","handleDeleteIconClick","small","moreProps","customClasses","deleteIconSmall","CancelIcon","avatarSmall","iconSmall","deletable","labelSmall","deleteIconColor","userSelect","clickableColorPrimary","clickableColorSecondary","deletableColorPrimary","deletableColorSecondary","avatarColorPrimary","avatarColorSecondary","iconColorPrimary","iconColorSecondary","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary"],"mappings":"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,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,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AC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,EAAG,KAAO,EAAG,EAAG,QACzB,KAAQ,CAAC,EAAG,KAAO,EAAG,EAAG,QACzB,KAAQ,CAAC,EAAG,KAAO,EAAG,EAAG,QACzB,KAAQ,CAAC,EAAG,KAAO,EAAG,EAAG,QACzB,KAAQ,CAAC,EAAG,OAAS,EAAG,EAAG,QAC3B,KAAQ,CAAC,EAAG,OAAS,EAAG,EAAG,QAC3B,KAAQ,CAAC,EAAG,OAAS,EAAG,EAAG,QAC3B,KAAQ,CAAC,EAAG,OAAS,EAAG,EAAG,QAC3B,KAAQ,CAAC,EAAG,OAAS,EAAG,EAAG,QAC3B,KAAQ,CAAC,EAAG,OAAS,EAAG,EAAG,QAC3B,KAAQ,CAAC,EAAG,OAAS,EAAG,EAAG,QAC3B,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,EAAG,OAAS,EAAG,EAAG,SAC3B,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,EAAG,OAAS,EAAG,EAAG,QAC3B,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,OAAS,OAAS,EAAG,EAAG,QACjC,KAAQ,CAAC,EAAG,OAAS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AS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,OAAS,OAAS,EAAG,EAAG,MAC/B,GAAM,EAAE,OAAS,OAAS,EAAG,EAAG,MAChC,GAAM,EAAE,OAAS,OAAS,EAAG,EAAG,MAChC,GAAM,EAAE,OAAS,OAAS,EAAG,EAAG,MAChC,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,OAAS,OAAS,EAAG,EAAG,MAC/B,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,OAAS,OAAS,EAAG,EAAG,MAC/B,GAAM,CAAC,OAAS,OAAS,EAAG,EAAG,MAC/B,GAAM,CAAC,OAAS,OAAS,EAAG,EAAG,MAC/B,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,OAAS,EAAG,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,GAAM,CAAC,EAAG,OAAS,EAAG,EAAG,MACzB,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,OAAS,OAAS,EAAG,EAAG,MAChC,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,OAAS,OAAS,EAAG,EAAG,MAChC,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,OAAS,OAAS,EAAG,EAAG,MAChC,IAAO,CAAC,OAAS,OAAS,EAAG,EAAG,MAChC,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,OAAS,OAAS,EAAG,EAAG,MAChC,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,OAAS,OAAS,EAAG,EAAG,MAChC,IAAO,CAAC,OAAS,OAAS,EAAG,EAAG,MAChC,IAAO,CAAC,OAAS,OAAS,EAAG,EAAG,MAChC,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,EAAG,EAAG,EAAG,MACpB,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,OAAS,EAAG,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,OAAS,OAAS,EAAG,EAAG,MAChC,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OAAS,EAAG,EAAG,MAC1B,IAAO,CAAC,EAAG,OA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EAAavnH,EAAMyyC,EAAM9oE,GAAK,SAAU,aAAa,GACrD49I,EAAavnH,EAAMyyC,EAAM9oE,GAAK,SAAU,uBAAuB,GAE/D49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,WAAW,GAElD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,gBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,YACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,UAAU,GACjD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,WAAW,GAClD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,gBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,WAAW,GAClD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,cAAc,GACrD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,WAAW,GAElD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,aAAa,GACpD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,cAAc,GACrD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,iBAAiB,GACxD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,UAAU,GACjD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,gBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,UAAU,GACjD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,YAAY,GACnD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,YAAY,GACnD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,mBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,qBAAqB,GAC5D49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,eAAe,GACtD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,mBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,gBAAgB,GACvD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,oBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,UAAU,GACjD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,gBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,YACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,UAAU,GACjD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,WAAW,GAClD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,gBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,WAAW,GAClD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,cAAc,GACrD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,WAAW,GAElD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,aAAa,GACpD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,cAAc,GACrD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,iBAAiB,GAExD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,WAAW,GAClD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,qBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,eAAe,GACtD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,YAAY,GACnD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,oBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,sBAAsB,GAC7D49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,iBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,eAAe,GACtD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,mBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,gBAAgB,GACvD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,oBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,YAAY,GACnD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,cAAc,GACrD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,cAAc,GACrD49I,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,EAAMynH,EAAKE,GAAK,SAAU,aACvCJ,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,SAAS,GAChD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,aAAa,GACpD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,eAAe,GACtD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,gBAAgB,GACvD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,cACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,kBAAkB,GACzD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,mBAAmB,GAC1D49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,aAAa,GACpD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,eAAe,GACtD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,eAAe,GACtD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,YAAY,GACnD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,cAAc,GACrD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,iBAAiB,GACxD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,iBAAiB,GACxD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,aAAa,GACpD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,gBAAgB,GACvD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,qBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,oBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,WAAW,GAClD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,YAAY,GACnD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,gBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,gBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,YAAY,GACnD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,YAAY,GACnD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,UAAU,GACjD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,cAAc,GACrD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,gBAAgB,GACvD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,YAAY,GACnD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,eAAe,GACtD49I,EAAavnH,EAAMynH,EAAKE,GAAK,SAAU,YACvCJ,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,SAAS,GAChD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,aAAa,GACpD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,eAAe,GACtD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,gBAAgB,GACvD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,YAAY,GACnD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,YAAY,GACnD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,eAAe,GACtD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,cACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,iBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,eAAe,GACtD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,YAAY,GACnD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,cAAc,GACrD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,iBAAiB,GACxD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,iBAAiB,GACxD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,aAAa,GACpD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,gBAAgB,GACvD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,sBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,qBACvC49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,WAAW,GAClD49I,EAAavnH,EAAMynH,EAAK99I,GAAK,SAAU,cACvC49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,CACH,KAAQ,QAGRC,GAAiB,CACnB,OAAK,UACL,OAAK,UACL,OAAK,UACL,SAAK,gBACL,OAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,gBACL,SAAK,gBACL,SAAK,gBACL,SAAK,UACL,OAAK,UACL,SAAK,gBACL,SAAK,gBACL,SAAK,gBACL,SAAK,UACL,SAAK,gBACL,OAAK,UACL,SAAK,gBACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,OAAK,UACL,OAAK,UACL,OAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,gBACL,SAAK,gBACL,SAAK,UACL,SAAK,UACL,OAAK,UACL,SAAK,gBACL,SAAK,gBACL,SAAK,gBACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,OAAK,UACL,OAAK,UACL,OAAK,UACL,SAAK,gBACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,OAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,OAAK,UACL,SAAK,UACL,SAAK,UACL,OAAK,UACL,OAAK,UACL,OAAK,UACL,SAAK,gBACL,OAAK,UACL,SAAK,gBACL,SAAK,gBACL,SAAK,gBACL,SAAK,UACL,SAAK,gBACL,SAAK,gBACL,SAAK,UACL,SAAK,UACL,OAAK,UACL,SAAK,gBACL,SAAK,gBACL,SAAK,gBACL,SAAK,UACL,SAAK,gBACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,gBACL,SAAK,UACL,SAAK,gBACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,OAAK,UACL,OAAK,UACL,OAAK,UACL,SAAK,gBACL,SAAK,gBACL,SAAK,gBACL,SAAK,gBACL,SAAK,UACL,SAAK,gBACL,SAAK,UACL,SAAK,gBACL,SAAK,UACL,SAAK,UACL,OAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,OAAK,UACL,SAAK,UACL,OAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,OAAK,UACL,OAAK,UACL,OAAK,UACL,SAAK,gBACL,OAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,gBACL,SAAK,gBACL,SAAK,gBACL,SAAK,UACL,OAAK,UACL,SAAK,gBACL,SAAK,gBACL,SAAK,gBACL,SAAK,UACL,SAAK,gBACL,OAAK,UACL,SAAK,gBACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,OAAK,UACL,OAAK,UACL,OAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,gBACL,SAAK,gBACL,SAAK,UACL,SAAK,UACL,OAAK,UACL,SAAK,gBACL,SAAK,gBACL,SAAK,gBACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,OAAK,UACL,OAAK,UACL,OAAK,UACL,SAAK,gBACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,OAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,SAAK,UACL,OAAK,UACL,SAAK,UACL,SAAK,UACL,OAAK,UACL,OAAK,UACL,OAAK,UACL,SAAK,gBACL,OAAK,UACL,SAAK,gBACL,SAAK,gBACL,SAAK,gBACL,SAAK,UACL,SAAK,gBACL,SAAK,gBACL,SAAK,UACL,SAAK,UACL,OAAK,UACL,SAAK,gB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","file":"static/js/6.6aa287c7.chunk.js","sourcesContent":["export default function chainPropTypes(propType1, propType2) {\n  if (process.env.NODE_ENV === 'production') {\n    return function () {\n      return null;\n    };\n  }\n\n  return function validate() {\n    return propType1.apply(void 0, arguments) || propType2.apply(void 0, arguments);\n  };\n}","import PropTypes from 'prop-types';\nimport chainPropTypes from './chainPropTypes';\n\nfunction isClassComponent(elementType) {\n  // elementType.prototype?.isReactComponent\n  var _elementType$prototyp = elementType.prototype,\n      prototype = _elementType$prototyp === void 0 ? {} : _elementType$prototyp;\n  return Boolean(prototype.isReactComponent);\n}\n\nfunction acceptingRef(props, propName, componentName, location, propFullName) {\n  var element = props[propName];\n  var safePropName = propFullName || propName;\n\n  if (element == null) {\n    return null;\n  }\n\n  var warningHint;\n  var elementType = element.type;\n  /**\n   * Blacklisting instead of whitelisting\n   *\n   * Blacklisting will miss some components, such as React.Fragment. Those will at least\n   * trigger a warning in React.\n   * We can't whitelist because there is no safe way to detect React.forwardRef\n   * or class components. \"Safe\" means there's no public API.\n   *\n   */\n\n  if (typeof elementType === 'function' && !isClassComponent(elementType)) {\n    warningHint = 'Did you accidentally use a plain function component for an element instead?';\n  }\n\n  if (warningHint !== undefined) {\n    return new Error(\"Invalid \".concat(location, \" `\").concat(safePropName, \"` supplied to `\").concat(componentName, \"`. \") + \"Expected an element that can hold a ref. \".concat(warningHint, \" \") + 'For more information see https://material-ui.com/r/caveat-with-refs-guide');\n  }\n\n  return null;\n}\n\nvar elementAcceptingRef = chainPropTypes(PropTypes.element, acceptingRef);\nelementAcceptingRef.isRequired = chainPropTypes(PropTypes.element.isRequired, acceptingRef);\nexport default elementAcceptingRef;","import * as PropTypes from 'prop-types';\nimport chainPropTypes from './chainPropTypes';\n\nfunction isClassComponent(elementType) {\n  // elementType.prototype?.isReactComponent\n  var _elementType$prototyp = elementType.prototype,\n      prototype = _elementType$prototyp === void 0 ? {} : _elementType$prototyp;\n  return Boolean(prototype.isReactComponent);\n}\n\nfunction elementTypeAcceptingRef(props, propName, componentName, location, propFullName) {\n  var propValue = props[propName];\n  var safePropName = propFullName || propName;\n\n  if (propValue == null) {\n    return null;\n  }\n\n  var warningHint;\n  /**\n   * Blacklisting instead of whitelisting\n   *\n   * Blacklisting will miss some components, such as React.Fragment. Those will at least\n   * trigger a warning in React.\n   * We can't whitelist because there is no safe way to detect React.forwardRef\n   * or class components. \"Safe\" means there's no public API.\n   *\n   */\n\n  if (typeof propValue === 'function' && !isClassComponent(propValue)) {\n    warningHint = 'Did you accidentally provide a plain function component instead?';\n  }\n\n  if (warningHint !== undefined) {\n    return new Error(\"Invalid \".concat(location, \" `\").concat(safePropName, \"` supplied to `\").concat(componentName, \"`. \") + \"Expected an element type that can hold a ref. \".concat(warningHint, \" \") + 'For more information see https://material-ui.com/r/caveat-with-refs-guide');\n  }\n\n  return null;\n}\n\nexport default chainPropTypes(PropTypes.elementType, elementTypeAcceptingRef);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n// This module is based on https://github.com/airbnb/prop-types-exact repository.\n// However, in order to reduce the number of dependencies and to remove some extra safe checks\n// the module was forked.\n// Only exported for test purposes.\nexport var specialProperty = \"exact-prop: \\u200B\";\nexport default function exactProp(propTypes) {\n  if (process.env.NODE_ENV === 'production') {\n    return propTypes;\n  }\n\n  return _extends({}, propTypes, _defineProperty({}, specialProperty, function (props) {\n    var unsupportedProps = Object.keys(props).filter(function (prop) {\n      return !propTypes.hasOwnProperty(prop);\n    });\n\n    if (unsupportedProps.length > 0) {\n      return new Error(\"The following props are not supported: \".concat(unsupportedProps.map(function (prop) {\n        return \"`\".concat(prop, \"`\");\n      }).join(', '), \". Please remove them.\"));\n    }\n\n    return null;\n  }));\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { ForwardRef, Memo } from 'react-is'; // Simplified polyfill for IE 11 support\n// https://github.com/JamesMGreene/Function.name/blob/58b314d4a983110c3682f1228f845d39ccca1817/Function.name.js#L3\n\nvar fnNameMatchRegex = /^\\s*function(?:\\s|\\s*\\/\\*.*\\*\\/\\s*)+([^(\\s/]*)\\s*/;\nexport function getFunctionName(fn) {\n  var match = \"\".concat(fn).match(fnNameMatchRegex);\n  var name = match && match[1];\n  return name || '';\n}\n/**\n * @param {function} Component\n * @param {string} fallback\n * @returns {string | undefined}\n */\n\nfunction getFunctionComponentName(Component) {\n  var fallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return Component.displayName || Component.name || getFunctionName(Component) || fallback;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var functionName = getFunctionComponentName(innerType);\n  return outerType.displayName || (functionName !== '' ? \"\".concat(wrapperName, \"(\").concat(functionName, \")\") : wrapperName);\n}\n/**\n * cherry-pick from\n * https://github.com/facebook/react/blob/769b1f270e1251d9dbdce0fcbd9e92e502d059b8/packages/shared/getComponentName.js\n * originally forked from recompose/getDisplayName with added IE 11 support\n *\n * @param {React.ReactType} Component\n * @returns {string | undefined}\n */\n\n\nexport default function getDisplayName(Component) {\n  if (Component == null) {\n    return undefined;\n  }\n\n  if (typeof Component === 'string') {\n    return Component;\n  }\n\n  if (typeof Component === 'function') {\n    return getFunctionComponentName(Component, 'Component');\n  }\n\n  if (_typeof(Component) === 'object') {\n    switch (Component.$$typeof) {\n      case ForwardRef:\n        return getWrappedName(Component, Component.render, 'ForwardRef');\n\n      case Memo:\n        return getWrappedName(Component, Component.type, 'memo');\n\n      default:\n        return undefined;\n    }\n  }\n\n  return undefined;\n}","export default function HTMLElementType(props, propName, componentName, location, propFullName) {\n  if (process.env.NODE_ENV === 'production') {\n    return null;\n  }\n\n  var propValue = props[propName];\n  var safePropName = propFullName || propName;\n\n  if (propValue == null) {\n    return null;\n  }\n\n  if (propValue && propValue.nodeType !== 1) {\n    return new Error(\"Invalid \".concat(location, \" `\").concat(safePropName, \"` supplied to `\").concat(componentName, \"`. \") + \"Expected an HTMLElement.\");\n  }\n\n  return null;\n}","/* eslint-disable */\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nexport default typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();","import PropTypes from 'prop-types';\nvar refType = PropTypes.oneOfType([PropTypes.func, PropTypes.object]);\nexport default refType;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport React from 'react';\nimport { SheetsRegistry } from 'jss';\nimport StylesProvider from '../StylesProvider';\nimport createGenerateClassName from '../createGenerateClassName';\n\nvar ServerStyleSheets = /*#__PURE__*/function () {\n  function ServerStyleSheets() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, ServerStyleSheets);\n\n    this.options = options;\n  }\n\n  _createClass(ServerStyleSheets, [{\n    key: \"collect\",\n    value: function collect(children) {\n      // This is needed in order to deduplicate the injection of CSS in the page.\n      var sheetsManager = new Map(); // This is needed in order to inject the critical CSS.\n\n      this.sheetsRegistry = new SheetsRegistry(); // A new class name generator\n\n      var generateClassName = createGenerateClassName();\n      return /*#__PURE__*/React.createElement(StylesProvider, _extends({\n        sheetsManager: sheetsManager,\n        serverGenerateClassName: generateClassName,\n        sheetsRegistry: this.sheetsRegistry\n      }, this.options), children);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return this.sheetsRegistry ? this.sheetsRegistry.toString() : '';\n    }\n  }, {\n    key: \"getStyleElement\",\n    value: function getStyleElement(props) {\n      return /*#__PURE__*/React.createElement('style', _extends({\n        id: 'jss-server-side',\n        key: 'jss-server-side',\n        dangerouslySetInnerHTML: {\n          __html: this.toString()\n        }\n      }, props));\n    }\n  }]);\n\n  return ServerStyleSheets;\n}();\n\nexport { ServerStyleSheets as default };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { exactProp } from '@material-ui/utils';\nimport ThemeContext from '../useTheme/ThemeContext';\nimport useTheme from '../useTheme';\nimport nested from './nested'; // To support composition of theme.\n\nfunction mergeOuterLocalTheme(outerTheme, localTheme) {\n  if (typeof localTheme === 'function') {\n    var mergedTheme = localTheme(outerTheme);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!mergedTheme) {\n        console.error(['Material-UI: You should return an object from your theme function, i.e.', '<ThemeProvider theme={() => ({})} />'].join('\\n'));\n      }\n    }\n\n    return mergedTheme;\n  }\n\n  return _extends({}, outerTheme, localTheme);\n}\n/**\n * This component takes a `theme` prop.\n * It makes the `theme` available down the React tree thanks to React context.\n * This component should preferably be used at **the root of your component tree**.\n */\n\n\nfunction ThemeProvider(props) {\n  var children = props.children,\n      localTheme = props.theme;\n  var outerTheme = useTheme();\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (outerTheme === null && typeof localTheme === 'function') {\n      console.error(['Material-UI: You are providing a theme function prop to the ThemeProvider component:', '<ThemeProvider theme={outerTheme => outerTheme} />', '', 'However, no outer theme is present.', 'Make sure a theme is already injected higher in the React tree ' + 'or provide a theme object.'].join('\\n'));\n    }\n  }\n\n  var theme = React.useMemo(function () {\n    var output = outerTheme === null ? localTheme : mergeOuterLocalTheme(outerTheme, localTheme);\n\n    if (output != null) {\n      output[nested] = outerTheme !== null;\n    }\n\n    return output;\n  }, [localTheme, outerTheme]);\n  return /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n    value: theme\n  }, children);\n}\n\nprocess.env.NODE_ENV !== \"production\" ? ThemeProvider.propTypes = {\n  /**\n   * Your component tree.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * A theme object. You can provide a function to extend the outer theme.\n   */\n  theme: PropTypes.oneOfType([PropTypes.object, PropTypes.func]).isRequired\n} : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  process.env.NODE_ENV !== \"production\" ? ThemeProvider.propTypes = exactProp(ThemeProvider.propTypes) : void 0;\n}\n\nexport default ThemeProvider;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport { chainPropTypes, getDisplayName } from '@material-ui/utils';\nimport useTheme from '../useTheme';\nexport function withThemeCreator() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var defaultTheme = options.defaultTheme;\n\n  var withTheme = function withTheme(Component) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (Component === undefined) {\n        throw new Error(['You are calling withTheme(Component) with an undefined component.', 'You may have forgotten to import it.'].join('\\n'));\n      }\n    }\n\n    var WithTheme = /*#__PURE__*/React.forwardRef(function WithTheme(props, ref) {\n      var innerRef = props.innerRef,\n          other = _objectWithoutProperties(props, [\"innerRef\"]);\n\n      var theme = useTheme() || defaultTheme;\n      return /*#__PURE__*/React.createElement(Component, _extends({\n        theme: theme,\n        ref: innerRef || ref\n      }, other));\n    });\n    process.env.NODE_ENV !== \"production\" ? WithTheme.propTypes = {\n      /**\n       * Use that prop to pass a ref to the decorated component.\n       * @deprecated\n       */\n      innerRef: chainPropTypes(PropTypes.oneOfType([PropTypes.func, PropTypes.object]), function (props) {\n        if (props.innerRef == null) {\n          return null;\n        }\n\n        return new Error('Material-UI: The `innerRef` prop is deprecated and will be removed in v5. ' + 'Refs are now automatically forwarded to the inner component.');\n      })\n    } : void 0;\n\n    if (process.env.NODE_ENV !== 'production') {\n      WithTheme.displayName = \"WithTheme(\".concat(getDisplayName(Component), \")\");\n    }\n\n    hoistNonReactStatics(WithTheme, Component);\n\n    if (process.env.NODE_ENV !== 'production') {\n      // Exposed for test purposes.\n      WithTheme.Naked = Component;\n    }\n\n    return WithTheme;\n  };\n\n  return withTheme;\n} // Provide the theme object as a prop to the input component.\n// It's an alternative API to useTheme().\n// We encourage the usage of useTheme() where possible.\n\nvar withTheme = withThemeCreator();\nexport default withTheme;","export default function deprecatedPropType(validator, reason) {\n  if (process.env.NODE_ENV === 'production') {\n    return function () {\n      return null;\n    };\n  }\n\n  return function (props, propName, componentName, location, propFullName) {\n    var componentNameSafe = componentName || '<<anonymous>>';\n    var propFullNameSafe = propFullName || propName;\n\n    if (typeof props[propName] !== 'undefined') {\n      return new Error(\"The \".concat(location, \" `\").concat(propFullNameSafe, \"` of \") + \"`\".concat(componentNameSafe, \"` is deprecated. \").concat(reason));\n    }\n\n    return null;\n  };\n}","export { default } from './StylesProvider';\nexport * from './StylesProvider';","/** @license Material-UI v4.11.3\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nexport { default as borders } from './borders';\nexport * from './borders';\nexport { default as breakpoints } from './breakpoints';\nexport { default as compose } from './compose';\nexport { default as css } from './css';\nexport { default as display } from './display';\nexport { default as flexbox } from './flexbox';\nexport * from './flexbox';\nexport { default as grid } from './grid';\nexport * from './grid';\nexport { default as palette } from './palette';\nexport * from './palette';\nexport { default as positions } from './positions';\nexport * from './positions';\nexport { default as shadows } from './shadows';\nexport { default as sizing } from './sizing';\nexport * from './sizing';\nexport { default as spacing } from './spacing';\nexport * from './spacing';\nexport { default as style } from './style';\nexport { default as typography } from './typography';\nexport * from './typography';","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = safari && (/Mobile\\/\\w+/.test(userAgent) || navigator.maxTouchPoints > 2);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 50;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length, isRTL = direction == \"rtl\" ? 1 : 0;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers, arr = map && map[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range;\n    try {range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) { return false }\n    return range.compareEndPoints(\"StartToEnd\", range) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n\n  // Add a span to a line.\n  function addMarkedSpan(line, span, op) {\n    var inThisOp = op && window.WeakSet && (op.markedSpans || (op.markedSpans = new WeakSet));\n    if (inThisOp && inThisOp.has(line.markedSpans)) {\n      line.markedSpans.push(span);\n    } else {\n      line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n      if (inThisOp) { inThisOp.add(line.markedSpans); }\n    }\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css || attributes) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      gutterWrap.setAttribute(\"aria-hidden\", \"true\");\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    for (var i = 0; i < lineView.rest.length; i++)\n      { if (lineView.rest[i] == line)\n        { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n      { if (lineNo(lineView.rest[i$1]) > lineN)\n        { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight; box.bottom += widgetHeight;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e$1) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        { drawSelectionCursor(cm, range.head, curFragment); }\n      if (!collapsed)\n        { drawSelectionRange(cm, range, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () {\n        if (!cm.hasFocus()) { onBlur(cm); }\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.hasFocus()) {\n      cm.display.input.focus();\n      if (!cm.state.focused) { onFocus(cm); }\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      if (cm.state.focused) { onBlur(cm); }\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent && !cm.state.draggingText) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;\n    var screenw = displayWidth(cm) - display.gutters.offsetWidth;\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId,          // Unique ID\n      markArrays: null         // Used by addMarkedSpan\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) &&\n        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n    // Send an event to consumers responding to changes in gutter width.\n    signalLater(display, \"gutterChanged\", display);\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    cm.options.direction = doc.direction;\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(prev) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = prev ? prev.undoDepth : Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = prev ? prev.maxGeneration : 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption(\"readOnly\") != \"nocursor\")\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n      // is with selectLeft/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        { if (op(this.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null), doc.cm && doc.cm.curOp);\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range.head; }\n      else if (start == \"anchor\") { pos = range.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n      else { pos = range.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head || ranges[i].anchor)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {\n      var this$1 = this;\n\n      this.history = new History(this.history);\n      linkedDocs(this, function (doc) { return doc.history = this$1.history; }, true);\n    },\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) { continue }\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(\n                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return\n        }\n        var reader = new FileReader;\n        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };\n        reader.onload = function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return\n          }\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e$1){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 224: \"Mod\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\", \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\",\n    \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\",\n    \"Ctrl-T\": \"transposeChars\", \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map.fallthrough, handle, context) }\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Mod\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") { dir = -dir; }\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"codepoint\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n      { document.execCommand(\"cut\"); }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      if (cm.state.delayingBlurEvent) {\n        if (cm.hasFocus()) { cm.state.delayingBlurEvent = false; }\n        else { delayBlurEvent(cm); }\n      }\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if ((webkit && !safari) || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { return display.input.focus(); }, 20);\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    if (ie) { delayBlurEvent(cm); }\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n      else\n        { ourRange = range; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n    var order = getOrder(anchorLine);\n    if (!order) { return range }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e$1) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = (val === '') ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(function () {\n        if (this$1.hasFocus() && !this$1.state.focused) { onFocus(this$1); }\n      }, 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }\n    });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == textLines.join(\"\\n\"))\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          { indented = indentLine(cm, range.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function(map) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (!range.empty()) {\n            var from = range.from(), to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this, j, how); }\n            var newRanges = this.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range = this.doc.sel.primary();\n        if (start == null) { pos = range.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range.from() : range.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty())\n            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range.from() : range.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse)\n            { return dir < 0 ? range.from() : range.to() }\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range, margin) {\n        if (range == null) {\n          range = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range == \"number\") {\n          range = {from: Pos(range, 0), to: null};\n        } else if (range.from == null) {\n          range = {from: range, to: null};\n        }\n        if (!range.to) { range.to = range.from; }\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"codepoint\", \"char\", \"column\" (like char, but\n  // doesn't cross line boundaries), \"word\" (across next word), or\n  // \"group\" (to the start of next group of word or\n  // non-word-non-whitespace chars). The visually param controls\n  // whether, in right-to-left text, direction 1 means to move towards\n  // the next index in the string, or towards the character to the right\n  // of the current position. The resulting position will have a\n  // hitSide=true property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n    function findNextLine() {\n      var l = pos.line + lineDir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (unit == \"codepoint\") {\n        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));\n        if (isNaN(ch)) {\n          next = null;\n        } else {\n          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;\n          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);\n        }\n      } else if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\" || unit == \"codepoint\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    div.contentEditable = true;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    function belongsToInput(e) {\n      for (var t = e.target; t; t = t.parentNode) {\n        if (t == div) { return true }\n        if (/\\bCodeMirror-(?:line)?widget\\b/.test(t.className)) { break }\n      }\n      return false\n    }\n\n    on(div, \"paste\", function (e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = activeElt();\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = activeElt() == this.div;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || activeElt() != this.div)\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n    if (this.selectionInEditor())\n      { this.pollSelection(); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find(0)))\n            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n    this.textarea.readOnly = !!val;\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, */) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.61.1\";\n\n  return CodeMirror;\n\n})));\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport responsivePropType from './responsivePropType';\nimport { handleBreakpoints } from './breakpoints';\n\nfunction getPath(obj, path) {\n  if (!path || typeof path !== 'string') {\n    return null;\n  }\n\n  return path.split('.').reduce(function (acc, item) {\n    return acc && acc[item] ? acc[item] : null;\n  }, obj);\n}\n\nfunction style(options) {\n  var prop = options.prop,\n      _options$cssProperty = options.cssProperty,\n      cssProperty = _options$cssProperty === void 0 ? options.prop : _options$cssProperty,\n      themeKey = options.themeKey,\n      transform = options.transform;\n\n  var fn = function fn(props) {\n    if (props[prop] == null) {\n      return null;\n    }\n\n    var propValue = props[prop];\n    var theme = props.theme;\n    var themeMapping = getPath(theme, themeKey) || {};\n\n    var styleFromPropValue = function styleFromPropValue(propValueFinal) {\n      var value;\n\n      if (typeof themeMapping === 'function') {\n        value = themeMapping(propValueFinal);\n      } else if (Array.isArray(themeMapping)) {\n        value = themeMapping[propValueFinal] || propValueFinal;\n      } else {\n        value = getPath(themeMapping, propValueFinal) || propValueFinal;\n\n        if (transform) {\n          value = transform(value);\n        }\n      }\n\n      if (cssProperty === false) {\n        return value;\n      }\n\n      return _defineProperty({}, cssProperty, value);\n    };\n\n    return handleBreakpoints(props, propValue, styleFromPropValue);\n  };\n\n  fn.propTypes = process.env.NODE_ENV !== 'production' ? _defineProperty({}, prop, responsivePropType) : {};\n  fn.filterProps = [prop];\n  return fn;\n}\n\nexport default style;","/**\n * Common Math expressions.\n *\n * @module math\n */\n\nexport const floor = Math.floor\nexport const ceil = Math.ceil\nexport const abs = Math.abs\nexport const imul = Math.imul\nexport const round = Math.round\nexport const log10 = Math.log10\nexport const log2 = Math.log2\nexport const log = Math.log\nexport const sqrt = Math.sqrt\n\n/**\n * @function\n * @param {number} a\n * @param {number} b\n * @return {number} The sum of a and b\n */\nexport const add = (a, b) => a + b\n\n/**\n * @function\n * @param {number} a\n * @param {number} b\n * @return {number} The smaller element of a and b\n */\nexport const min = (a, b) => a < b ? a : b\n\n/**\n * @function\n * @param {number} a\n * @param {number} b\n * @return {number} The bigger element of a and b\n */\nexport const max = (a, b) => a > b ? a : b\n\nexport const isNaN = Number.isNaN\n\nexport const pow = Math.pow\n/**\n * Base 10 exponential function. Returns the value of 10 raised to the power of pow.\n *\n * @param {number} exp\n * @return {number}\n */\nexport const exp10 = exp => Math.pow(10, exp)\n\nexport const sign = Math.sign\n\n/**\n * @param {number} n\n * @return {boolean} Wether n is negative. This function also differentiates between -0 and +0\n */\nexport const isNegativeZero = n => n !== 0 ? n < 0 : 1 / n < 0\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport merge from './merge';\n\nfunction compose() {\n  for (var _len = arguments.length, styles = new Array(_len), _key = 0; _key < _len; _key++) {\n    styles[_key] = arguments[_key];\n  }\n\n  var fn = function fn(props) {\n    return styles.reduce(function (acc, style) {\n      var output = style(props);\n\n      if (output) {\n        return merge(acc, output);\n      }\n\n      return acc;\n    }, {});\n  }; // Alternative approach that doesn't yield any performance gain.\n  // const handlers = styles.reduce((acc, style) => {\n  //   style.filterProps.forEach(prop => {\n  //     acc[prop] = style;\n  //   });\n  //   return acc;\n  // }, {});\n  // const fn = props => {\n  //   return Object.keys(props).reduce((acc, prop) => {\n  //     if (handlers[prop]) {\n  //       return merge(acc, handlers[prop](props));\n  //     }\n  //     return acc;\n  //   }, {});\n  // };\n\n\n  fn.propTypes = process.env.NODE_ENV !== 'production' ? styles.reduce(function (acc, style) {\n    return _extends(acc, style.propTypes);\n  }, {}) : {};\n  fn.filterProps = styles.reduce(function (acc, style) {\n    return acc.concat(style.filterProps);\n  }, []);\n  return fn;\n}\n\nexport default compose;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","/**\n * Common functions and function call helpers.\n *\n * @module function\n */\n\nimport * as array from './array.js'\nimport * as object from './object.js'\n\n/**\n * Calls all functions in `fs` with args. Only throws after all functions were called.\n *\n * @param {Array<function>} fs\n * @param {Array<any>} args\n */\nexport const callAll = (fs, args, i = 0) => {\n  try {\n    for (; i < fs.length; i++) {\n      fs[i](...args)\n    }\n  } finally {\n    if (i < fs.length) {\n      callAll(fs, args, i + 1)\n    }\n  }\n}\n\nexport const nop = () => {}\n\n/**\n * @template T\n * @param {function():T} f\n * @return {T}\n */\nexport const apply = f => f()\n\n/**\n * @template A\n *\n * @param {A} a\n * @return {A}\n */\nexport const id = a => a\n\n/**\n * @template T\n *\n * @param {T} a\n * @param {T} b\n * @return {boolean}\n */\nexport const equalityStrict = (a, b) => a === b\n\n/**\n * @template T\n *\n * @param {Array<T>|object} a\n * @param {Array<T>|object} b\n * @return {boolean}\n */\nexport const equalityFlat = (a, b) => a === b || (a != null && b != null && a.constructor === b.constructor && ((a instanceof Array && array.equalFlat(a, /** @type {Array<T>} */ (b))) || (typeof a === 'object' && object.equalFlat(a, b))))\n\n/**\n * @param {any} a\n * @param {any} b\n * @return {boolean}\n */\nexport const equalityDeep = (a, b) => {\n  if (a == null || b == null) {\n    return equalityStrict(a, b)\n  }\n  if (a.constructor !== b.constructor) {\n    return false\n  }\n  if (a === b) {\n    return true\n  }\n  switch (a.constructor) {\n    case ArrayBuffer:\n      a = new Uint8Array(a)\n      b = new Uint8Array(b)\n    // eslint-disable-next-line no-fallthrough\n    case Uint8Array: {\n      if (a.byteLength !== b.byteLength) {\n        return false\n      }\n      for (let i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) {\n          return false\n        }\n      }\n      break\n    }\n    case Set: {\n      if (a.size !== b.size) {\n        return false\n      }\n      for (const value of a) {\n        if (!b.has(value)) {\n          return false\n        }\n      }\n      break\n    }\n    case Map: {\n      if (a.size !== b.size) {\n        return false\n      }\n      for (const key of a.keys()) {\n        if (!b.has(key) || !equalityDeep(a.get(key), b.get(key))) {\n          return false\n        }\n      }\n      break\n    }\n    case Object:\n      if (object.length(a) !== object.length(b)) {\n        return false\n      }\n      for (const key in a) {\n        if (!object.hasProperty(a, key) || !equalityDeep(a[key], b[key])) {\n          return false\n        }\n      }\n      break\n    case Array:\n      if (a.length !== b.length) {\n        return false\n      }\n      for (let i = 0; i < a.length; i++) {\n        if (!equalityDeep(a[i], b[i])) {\n          return false\n        }\n      }\n      break\n    default:\n      return false\n  }\n  return true\n}\n","/**\n * Utility module to work with key-value stores.\n *\n * @module map\n */\n\n/**\n * Creates a new Map instance.\n *\n * @function\n * @return {Map<any, any>}\n *\n * @function\n */\nexport const create = () => new Map()\n\n/**\n * Copy a Map object into a fresh Map object.\n *\n * @function\n * @template X,Y\n * @param {Map<X,Y>} m\n * @return {Map<X,Y>}\n */\nexport const copy = m => {\n  const r = create()\n  m.forEach((v, k) => { r.set(k, v) })\n  return r\n}\n\n/**\n * Get map property. Create T if property is undefined and set T on map.\n *\n * ```js\n * const listeners = map.setIfUndefined(events, 'eventName', set.create)\n * listeners.add(listener)\n * ```\n *\n * @function\n * @template T,K\n * @param {Map<K, T>} map\n * @param {K} key\n * @param {function():T} createT\n * @return {T}\n */\nexport const setIfUndefined = (map, key, createT) => {\n  let set = map.get(key)\n  if (set === undefined) {\n    map.set(key, set = createT())\n  }\n  return set\n}\n\n/**\n * Creates an Array and populates it with the content of all key-value pairs using the `f(value, key)` function.\n *\n * @function\n * @template K\n * @template V\n * @template R\n * @param {Map<K,V>} m\n * @param {function(V,K):R} f\n * @return {Array<R>}\n */\nexport const map = (m, f) => {\n  const res = []\n  for (const [key, value] of m) {\n    res.push(f(value, key))\n  }\n  return res\n}\n\n/**\n * Tests whether any key-value pairs pass the test implemented by `f(value, key)`.\n *\n * @todo should rename to some - similarly to Array.some\n *\n * @function\n * @template K\n * @template V\n * @param {Map<K,V>} m\n * @param {function(V,K):boolean} f\n * @return {boolean}\n */\nexport const any = (m, f) => {\n  for (const [key, value] of m) {\n    if (f(value, key)) {\n      return true\n    }\n  }\n  return false\n}\n\n/**\n * Tests whether all key-value pairs pass the test implemented by `f(value, key)`.\n *\n * @function\n * @template K\n * @template V\n * @param {Map<K,V>} m\n * @param {function(V,K):boolean} f\n * @return {boolean}\n */\nexport const all = (m, f) => {\n  for (const [key, value] of m) {\n    if (!f(value, key)) {\n      return false\n    }\n  }\n  return true\n}\n","/**\n * Efficient schema-less binary decoding with support for variable length encoding.\n *\n * Use [lib0/decoding] with [lib0/encoding]. Every encoding function has a corresponding decoding function.\n *\n * Encodes numbers in little-endian order (least to most significant byte order)\n * and is compatible with Golang's binary encoding (https://golang.org/pkg/encoding/binary/)\n * which is also used in Protocol Buffers.\n *\n * ```js\n * // encoding step\n * const encoder = new encoding.createEncoder()\n * encoding.writeVarUint(encoder, 256)\n * encoding.writeVarString(encoder, 'Hello world!')\n * const buf = encoding.toUint8Array(encoder)\n * ```\n *\n * ```js\n * // decoding step\n * const decoder = new decoding.createDecoder(buf)\n * decoding.readVarUint(decoder) // => 256\n * decoding.readVarString(decoder) // => 'Hello world!'\n * decoding.hasContent(decoder) // => false - all data is read\n * ```\n *\n * @module decoding\n */\n\nimport * as buffer from './buffer.js'\nimport * as binary from './binary.js'\nimport * as math from './math.js'\n\n/**\n * A Decoder handles the decoding of an Uint8Array.\n */\nexport class Decoder {\n  /**\n   * @param {Uint8Array} uint8Array Binary data to decode\n   */\n  constructor (uint8Array) {\n    /**\n     * Decoding target.\n     *\n     * @type {Uint8Array}\n     */\n    this.arr = uint8Array\n    /**\n     * Current decoding position.\n     *\n     * @type {number}\n     */\n    this.pos = 0\n  }\n}\n\n/**\n * @function\n * @param {Uint8Array} uint8Array\n * @return {Decoder}\n */\nexport const createDecoder = uint8Array => new Decoder(uint8Array)\n\n/**\n * @function\n * @param {Decoder} decoder\n * @return {boolean}\n */\nexport const hasContent = decoder => decoder.pos !== decoder.arr.length\n\n/**\n * Clone a decoder instance.\n * Optionally set a new position parameter.\n *\n * @function\n * @param {Decoder} decoder The decoder instance\n * @param {number} [newPos] Defaults to current position\n * @return {Decoder} A clone of `decoder`\n */\nexport const clone = (decoder, newPos = decoder.pos) => {\n  const _decoder = createDecoder(decoder.arr)\n  _decoder.pos = newPos\n  return _decoder\n}\n\n/**\n * Create an Uint8Array view of the next `len` bytes and advance the position by `len`.\n *\n * Important: The Uint8Array still points to the underlying ArrayBuffer. Make sure to discard the result as soon as possible to prevent any memory leaks.\n *            Use `buffer.copyUint8Array` to copy the result into a new Uint8Array.\n *\n * @function\n * @param {Decoder} decoder The decoder instance\n * @param {number} len The length of bytes to read\n * @return {Uint8Array}\n */\nexport const readUint8Array = (decoder, len) => {\n  const view = buffer.createUint8ArrayViewFromArrayBuffer(decoder.arr.buffer, decoder.pos + decoder.arr.byteOffset, len)\n  decoder.pos += len\n  return view\n}\n\n/**\n * Read variable length Uint8Array.\n *\n * Important: The Uint8Array still points to the underlying ArrayBuffer. Make sure to discard the result as soon as possible to prevent any memory leaks.\n *            Use `buffer.copyUint8Array` to copy the result into a new Uint8Array.\n *\n * @function\n * @param {Decoder} decoder\n * @return {Uint8Array}\n */\nexport const readVarUint8Array = decoder => readUint8Array(decoder, readVarUint(decoder))\n\n/**\n * Read the rest of the content as an ArrayBuffer\n * @function\n * @param {Decoder} decoder\n * @return {Uint8Array}\n */\nexport const readTailAsUint8Array = decoder => readUint8Array(decoder, decoder.arr.length - decoder.pos)\n\n/**\n * Skip one byte, jump to the next position.\n * @function\n * @param {Decoder} decoder The decoder instance\n * @return {number} The next position\n */\nexport const skip8 = decoder => decoder.pos++\n\n/**\n * Read one byte as unsigned integer.\n * @function\n * @param {Decoder} decoder The decoder instance\n * @return {number} Unsigned 8-bit integer\n */\nexport const readUint8 = decoder => decoder.arr[decoder.pos++]\n\n/**\n * Read 2 bytes as unsigned integer.\n *\n * @function\n * @param {Decoder} decoder\n * @return {number} An unsigned integer.\n */\nexport const readUint16 = decoder => {\n  const uint =\n    decoder.arr[decoder.pos] +\n    (decoder.arr[decoder.pos + 1] << 8)\n  decoder.pos += 2\n  return uint\n}\n\n/**\n * Read 4 bytes as unsigned integer.\n *\n * @function\n * @param {Decoder} decoder\n * @return {number} An unsigned integer.\n */\nexport const readUint32 = decoder => {\n  const uint =\n    (decoder.arr[decoder.pos] +\n    (decoder.arr[decoder.pos + 1] << 8) +\n    (decoder.arr[decoder.pos + 2] << 16) +\n    (decoder.arr[decoder.pos + 3] << 24)) >>> 0\n  decoder.pos += 4\n  return uint\n}\n\n/**\n * Read 4 bytes as unsigned integer in big endian order.\n * (most significant byte first)\n *\n * @function\n * @param {Decoder} decoder\n * @return {number} An unsigned integer.\n */\nexport const readUint32BigEndian = decoder => {\n  const uint =\n    (decoder.arr[decoder.pos + 3] +\n    (decoder.arr[decoder.pos + 2] << 8) +\n    (decoder.arr[decoder.pos + 1] << 16) +\n    (decoder.arr[decoder.pos] << 24)) >>> 0\n  decoder.pos += 4\n  return uint\n}\n\n/**\n * Look ahead without incrementing the position\n * to the next byte and read it as unsigned integer.\n *\n * @function\n * @param {Decoder} decoder\n * @return {number} An unsigned integer.\n */\nexport const peekUint8 = decoder => decoder.arr[decoder.pos]\n\n/**\n * Look ahead without incrementing the position\n * to the next byte and read it as unsigned integer.\n *\n * @function\n * @param {Decoder} decoder\n * @return {number} An unsigned integer.\n */\nexport const peekUint16 = decoder =>\n  decoder.arr[decoder.pos] +\n  (decoder.arr[decoder.pos + 1] << 8)\n\n/**\n * Look ahead without incrementing the position\n * to the next byte and read it as unsigned integer.\n *\n * @function\n * @param {Decoder} decoder\n * @return {number} An unsigned integer.\n */\nexport const peekUint32 = decoder => (\n  decoder.arr[decoder.pos] +\n  (decoder.arr[decoder.pos + 1] << 8) +\n  (decoder.arr[decoder.pos + 2] << 16) +\n  (decoder.arr[decoder.pos + 3] << 24)\n) >>> 0\n\n/**\n * Read unsigned integer (32bit) with variable length.\n * 1/8th of the storage is used as encoding overhead.\n *  * numbers < 2^7 is stored in one bytlength\n *  * numbers < 2^14 is stored in two bylength\n *\n * @function\n * @param {Decoder} decoder\n * @return {number} An unsigned integer.length\n */\nexport const readVarUint = decoder => {\n  let num = 0\n  let len = 0\n  while (true) {\n    const r = decoder.arr[decoder.pos++]\n    num = num | ((r & binary.BITS7) << len)\n    len += 7\n    if (r < binary.BIT8) {\n      return num >>> 0 // return unsigned number!\n    }\n    /* istanbul ignore if */\n    if (len > 35) {\n      throw new Error('Integer out of range!')\n    }\n  }\n}\n\n/**\n * Read signed integer (32bit) with variable length.\n * 1/8th of the storage is used as encoding overhead.\n *  * numbers < 2^7 is stored in one bytlength\n *  * numbers < 2^14 is stored in two bylength\n * @todo This should probably create the inverse ~num if number is negative - but this would be a breaking change.\n *\n * @function\n * @param {Decoder} decoder\n * @return {number} An unsigned integer.length\n */\nexport const readVarInt = decoder => {\n  let r = decoder.arr[decoder.pos++]\n  let num = r & binary.BITS6\n  let len = 6\n  const sign = (r & binary.BIT7) > 0 ? -1 : 1\n  if ((r & binary.BIT8) === 0) {\n    // don't continue reading\n    return sign * num\n  }\n  while (true) {\n    r = decoder.arr[decoder.pos++]\n    num = num | ((r & binary.BITS7) << len)\n    len += 7\n    if (r < binary.BIT8) {\n      return sign * (num >>> 0)\n    }\n    /* istanbul ignore if */\n    if (len > 41) {\n      throw new Error('Integer out of range!')\n    }\n  }\n}\n\n/**\n * Look ahead and read varUint without incrementing position\n *\n * @function\n * @param {Decoder} decoder\n * @return {number}\n */\nexport const peekVarUint = decoder => {\n  const pos = decoder.pos\n  const s = readVarUint(decoder)\n  decoder.pos = pos\n  return s\n}\n\n/**\n * Look ahead and read varUint without incrementing position\n *\n * @function\n * @param {Decoder} decoder\n * @return {number}\n */\nexport const peekVarInt = decoder => {\n  const pos = decoder.pos\n  const s = readVarInt(decoder)\n  decoder.pos = pos\n  return s\n}\n\n/**\n * Read string of variable length\n * * varUint is used to store the length of the string\n *\n * Transforming utf8 to a string is pretty expensive. The code performs 10x better\n * when String.fromCodePoint is fed with all characters as arguments.\n * But most environments have a maximum number of arguments per functions.\n * For effiency reasons we apply a maximum of 10000 characters at once.\n *\n * @function\n * @param {Decoder} decoder\n * @return {String} The read String.\n */\nexport const readVarString = decoder => {\n  let remainingLen = readVarUint(decoder)\n  if (remainingLen === 0) {\n    return ''\n  } else {\n    let encodedString = String.fromCodePoint(readUint8(decoder)) // remember to decrease remainingLen\n    if (--remainingLen < 100) { // do not create a Uint8Array for small strings\n      while (remainingLen--) {\n        encodedString += String.fromCodePoint(readUint8(decoder))\n      }\n    } else {\n      while (remainingLen > 0) {\n        const nextLen = remainingLen < 10000 ? remainingLen : 10000\n        // this is dangerous, we create a fresh array view from the existing buffer\n        const bytes = decoder.arr.subarray(decoder.pos, decoder.pos + nextLen)\n        decoder.pos += nextLen\n        // Starting with ES5.1 we can supply a generic array-like object as arguments\n        encodedString += String.fromCodePoint.apply(null, /** @type {any} */ (bytes))\n        remainingLen -= nextLen\n      }\n    }\n    return decodeURIComponent(escape(encodedString))\n  }\n}\n\n/**\n * Look ahead and read varString without incrementing position\n *\n * @function\n * @param {Decoder} decoder\n * @return {string}\n */\nexport const peekVarString = decoder => {\n  const pos = decoder.pos\n  const s = readVarString(decoder)\n  decoder.pos = pos\n  return s\n}\n\n/**\n * @param {Decoder} decoder\n * @param {number} len\n * @return {DataView}\n */\nexport const readFromDataView = (decoder, len) => {\n  const dv = new DataView(decoder.arr.buffer, decoder.arr.byteOffset + decoder.pos, len)\n  decoder.pos += len\n  return dv\n}\n\n/**\n * @param {Decoder} decoder\n */\nexport const readFloat32 = decoder => readFromDataView(decoder, 4).getFloat32(0, false)\n\n/**\n * @param {Decoder} decoder\n */\nexport const readFloat64 = decoder => readFromDataView(decoder, 8).getFloat64(0, false)\n\n/**\n * @param {Decoder} decoder\n */\nexport const readBigInt64 = decoder => /** @type {any} */ (readFromDataView(decoder, 8)).getBigInt64(0, false)\n\n/**\n * @param {Decoder} decoder\n */\nexport const readBigUint64 = decoder => /** @type {any} */ (readFromDataView(decoder, 8)).getBigUint64(0, false)\n\n/**\n * @type {Array<function(Decoder):any>}\n */\nconst readAnyLookupTable = [\n  decoder => undefined, // CASE 127: undefined\n  decoder => null, // CASE 126: null\n  readVarInt, // CASE 125: integer\n  readFloat32, // CASE 124: float32\n  readFloat64, // CASE 123: float64\n  readBigInt64, // CASE 122: bigint\n  decoder => false, // CASE 121: boolean (false)\n  decoder => true, // CASE 120: boolean (true)\n  readVarString, // CASE 119: string\n  decoder => { // CASE 118: object<string,any>\n    const len = readVarUint(decoder)\n    /**\n     * @type {Object<string,any>}\n     */\n    const obj = {}\n    for (let i = 0; i < len; i++) {\n      const key = readVarString(decoder)\n      obj[key] = readAny(decoder)\n    }\n    return obj\n  },\n  decoder => { // CASE 117: array<any>\n    const len = readVarUint(decoder)\n    const arr = []\n    for (let i = 0; i < len; i++) {\n      arr.push(readAny(decoder))\n    }\n    return arr\n  },\n  readVarUint8Array // CASE 116: Uint8Array\n]\n\n/**\n * @param {Decoder} decoder\n */\nexport const readAny = decoder => readAnyLookupTable[127 - readUint8(decoder)](decoder)\n\n/**\n * T must not be null.\n *\n * @template T\n */\nexport class RleDecoder extends Decoder {\n  /**\n   * @param {Uint8Array} uint8Array\n   * @param {function(Decoder):T} reader\n   */\n  constructor (uint8Array, reader) {\n    super(uint8Array)\n    /**\n     * The reader\n     */\n    this.reader = reader\n    /**\n     * Current state\n     * @type {T|null}\n     */\n    this.s = null\n    this.count = 0\n  }\n\n  read () {\n    if (this.count === 0) {\n      this.s = this.reader(this)\n      if (hasContent(this)) {\n        this.count = readVarUint(this) + 1 // see encoder implementation for the reason why this is incremented\n      } else {\n        this.count = -1 // read the current value forever\n      }\n    }\n    this.count--\n    return /** @type {T} */ (this.s)\n  }\n}\n\nexport class IntDiffDecoder extends Decoder {\n  /**\n   * @param {Uint8Array} uint8Array\n   * @param {number} start\n   */\n  constructor (uint8Array, start) {\n    super(uint8Array)\n    /**\n     * Current state\n     * @type {number}\n     */\n    this.s = start\n  }\n\n  /**\n   * @return {number}\n   */\n  read () {\n    this.s += readVarInt(this)\n    return this.s\n  }\n}\n\nexport class RleIntDiffDecoder extends Decoder {\n  /**\n   * @param {Uint8Array} uint8Array\n   * @param {number} start\n   */\n  constructor (uint8Array, start) {\n    super(uint8Array)\n    /**\n     * Current state\n     * @type {number}\n     */\n    this.s = start\n    this.count = 0\n  }\n\n  /**\n   * @return {number}\n   */\n  read () {\n    if (this.count === 0) {\n      this.s += readVarInt(this)\n      if (hasContent(this)) {\n        this.count = readVarUint(this) + 1 // see encoder implementation for the reason why this is incremented\n      } else {\n        this.count = -1 // read the current value forever\n      }\n    }\n    this.count--\n    return /** @type {number} */ (this.s)\n  }\n}\n\nexport class UintOptRleDecoder extends Decoder {\n  /**\n   * @param {Uint8Array} uint8Array\n   */\n  constructor (uint8Array) {\n    super(uint8Array)\n    /**\n     * @type {number}\n     */\n    this.s = 0\n    this.count = 0\n  }\n\n  read () {\n    if (this.count === 0) {\n      this.s = readVarInt(this)\n      // if the sign is negative, we read the count too, otherwise count is 1\n      const isNegative = math.isNegativeZero(this.s)\n      this.count = 1\n      if (isNegative) {\n        this.s = -this.s\n        this.count = readVarUint(this) + 2\n      }\n    }\n    this.count--\n    return /** @type {number} */ (this.s)\n  }\n}\n\nexport class IncUintOptRleDecoder extends Decoder {\n  /**\n   * @param {Uint8Array} uint8Array\n   */\n  constructor (uint8Array) {\n    super(uint8Array)\n    /**\n     * @type {number}\n     */\n    this.s = 0\n    this.count = 0\n  }\n\n  read () {\n    if (this.count === 0) {\n      this.s = readVarInt(this)\n      // if the sign is negative, we read the count too, otherwise count is 1\n      const isNegative = math.isNegativeZero(this.s)\n      this.count = 1\n      if (isNegative) {\n        this.s = -this.s\n        this.count = readVarUint(this) + 2\n      }\n    }\n    this.count--\n    return /** @type {number} */ (this.s++)\n  }\n}\n\nexport class IntDiffOptRleDecoder extends Decoder {\n  /**\n   * @param {Uint8Array} uint8Array\n   */\n  constructor (uint8Array) {\n    super(uint8Array)\n    /**\n     * @type {number}\n     */\n    this.s = 0\n    this.count = 0\n    this.diff = 0\n  }\n\n  /**\n   * @return {number}\n   */\n  read () {\n    if (this.count === 0) {\n      const diff = readVarInt(this)\n      // if the first bit is set, we read more data\n      const hasCount = diff & 1\n      this.diff = diff >> 1\n      this.count = 1\n      if (hasCount) {\n        this.count = readVarUint(this) + 2\n      }\n    }\n    this.s += this.diff\n    this.count--\n    return this.s\n  }\n}\n\nexport class StringDecoder {\n  /**\n   * @param {Uint8Array} uint8Array\n   */\n  constructor (uint8Array) {\n    this.decoder = new UintOptRleDecoder(uint8Array)\n    this.str = readVarString(this.decoder)\n    /**\n     * @type {number}\n     */\n    this.spos = 0\n  }\n\n  /**\n   * @return {string}\n   */\n  read () {\n    const end = this.spos + this.decoder.read()\n    const res = this.str.slice(this.spos, end)\n    this.spos = end\n    return res\n  }\n}\n","/* eslint-env browser */\nexport const performance = typeof window === 'undefined' ? null : (typeof window.performance !== 'undefined' && window.performance) || null\n\nconst isoCrypto = typeof crypto === 'undefined' ? null : crypto\n\n/**\n * @type {function(number):ArrayBuffer}\n */\nexport const cryptoRandomBuffer = isoCrypto !== null\n  ? len => {\n    // browser\n    const buf = new ArrayBuffer(len)\n    const arr = new Uint8Array(buf)\n    isoCrypto.getRandomValues(arr)\n    return buf\n  }\n  : len => {\n    // polyfill\n    const buf = new ArrayBuffer(len)\n    const arr = new Uint8Array(buf)\n    for (let i = 0; i < len; i++) {\n      arr[i] = Math.ceil((Math.random() * 0xFFFFFFFF) >>> 0)\n    }\n    return buf\n  }\n","\n/**\n * Isomorphic module for true random numbers / buffers / uuids.\n *\n * Attention: falls back to Math.random if the browser does not support crypto.\n *\n * @module random\n */\n\nimport * as math from './math.js'\nimport { cryptoRandomBuffer } from './isomorphic.js'\n\nexport const rand = Math.random\n\n/* istanbul ignore next */\nexport const uint32 = () => new Uint32Array(cryptoRandomBuffer(4))[0]\n\n/**\n * @template T\n * @param {Array<T>} arr\n * @return {T}\n */\nexport const oneOf = arr => arr[math.floor(rand() * arr.length)]\n\n// @ts-ignore\nconst uuidv4Template = [1e7] + -1e3 + -4e3 + -8e3 + -1e11\nexport const uuidv4 = () => uuidv4Template.replace(/[018]/g, /** @param {number} c */ c =>\n  (c ^ uint32() & 15 >> c / 4).toString(16)\n)\n","/**\n * Error helpers.\n *\n * @module error\n */\n\n/**\n * @param {string} s\n * @return {Error}\n */\n/* istanbul ignore next */\nexport const create = s => new Error(s)\n\n/**\n * @throws {Error}\n * @return {never}\n */\n/* istanbul ignore next */\nexport const methodUnimplemented = () => {\n  throw create('Method unimplemented')\n}\n\n/**\n * @throws {Error}\n * @return {never}\n */\n/* istanbul ignore next */\nexport const unexpectedCase = () => {\n  throw create('Unexpected case')\n}\n","/**\n * Utility module to work with EcmaScript Symbols.\n *\n * @module symbol\n */\n\n/**\n * Return fresh symbol.\n *\n * @return {Symbol}\n */\nexport const create = Symbol\n\n/**\n * @param {any} s\n * @return {boolean}\n */\nexport const isSymbol = s => typeof s === 'symbol'\n","/**\n * Working with value pairs.\n *\n * @module pair\n */\n\n/**\n * @template L,R\n */\nexport class Pair {\n  /**\n   * @param {L} left\n   * @param {R} right\n   */\n  constructor (left, right) {\n    this.left = left\n    this.right = right\n  }\n}\n\n/**\n * @template L,R\n * @param {L} left\n * @param {R} right\n * @return {Pair<L,R>}\n */\nexport const create = (left, right) => new Pair(left, right)\n\n/**\n * @template L,R\n * @param {R} right\n * @param {L} left\n * @return {Pair<L,R>}\n */\nexport const createReversed = (right, left) => new Pair(left, right)\n\n/**\n * @template L,R\n * @param {Array<Pair<L,R>>} arr\n * @param {function(L, R):any} f\n */\nexport const forEach = (arr, f) => arr.forEach(p => f(p.left, p.right))\n\n/**\n * @template L,R,X\n * @param {Array<Pair<L,R>>} arr\n * @param {function(L, R):X} f\n * @return {Array<X>}\n */\nexport const map = (arr, f) => arr.map(p => f(p.left, p.right))\n","/* eslint-env browser */\n\n/**\n * Utility module to work with the DOM.\n *\n * @module dom\n */\n\nimport * as pair from './pair.js'\nimport * as map from './map.js'\n\n/* istanbul ignore next */\n/**\n * @type {Document}\n */\nexport const doc = /** @type {Document} */ (typeof document !== 'undefined' ? document : {})\n\n/**\n * @param {string} name\n * @return {HTMLElement}\n */\n/* istanbul ignore next */\nexport const createElement = name => doc.createElement(name)\n\n/**\n * @return {DocumentFragment}\n */\n/* istanbul ignore next */\nexport const createDocumentFragment = () => doc.createDocumentFragment()\n\n/**\n * @param {string} text\n * @return {Text}\n */\n/* istanbul ignore next */\nexport const createTextNode = text => doc.createTextNode(text)\n\n/* istanbul ignore next */\nexport const domParser = /** @type {DOMParser} */ (typeof DOMParser !== 'undefined' ? new DOMParser() : null)\n\n/**\n * @param {HTMLElement} el\n * @param {string} name\n * @param {Object} opts\n */\n/* istanbul ignore next */\nexport const emitCustomEvent = (el, name, opts) => el.dispatchEvent(new CustomEvent(name, opts))\n\n/**\n * @param {Element} el\n * @param {Array<pair.Pair<string,string|boolean>>} attrs Array of key-value pairs\n * @return {Element}\n */\n/* istanbul ignore next */\nexport const setAttributes = (el, attrs) => {\n  pair.forEach(attrs, (key, value) => {\n    if (value === false) {\n      el.removeAttribute(key)\n    } else if (value === true) {\n      el.setAttribute(key, '')\n    } else {\n      // @ts-ignore\n      el.setAttribute(key, value)\n    }\n  })\n  return el\n}\n\n/**\n * @param {Element} el\n * @param {Map<string, string>} attrs Array of key-value pairs\n * @return {Element}\n */\n/* istanbul ignore next */\nexport const setAttributesMap = (el, attrs) => {\n  attrs.forEach((value, key) => { el.setAttribute(key, value) })\n  return el\n}\n\n/**\n * @param {Array<Node>|HTMLCollection} children\n * @return {DocumentFragment}\n */\n/* istanbul ignore next */\nexport const fragment = children => {\n  const fragment = createDocumentFragment()\n  for (let i = 0; i < children.length; i++) {\n    appendChild(fragment, children[i])\n  }\n  return fragment\n}\n\n/**\n * @param {Element} parent\n * @param {Array<Node>} nodes\n * @return {Element}\n */\n/* istanbul ignore next */\nexport const append = (parent, nodes) => {\n  appendChild(parent, fragment(nodes))\n  return parent\n}\n\n/**\n * @param {HTMLElement} el\n */\n/* istanbul ignore next */\nexport const remove = el => el.remove()\n\n/**\n * @param {EventTarget} el\n * @param {string} name\n * @param {EventListener} f\n */\n/* istanbul ignore next */\nexport const addEventListener = (el, name, f) => el.addEventListener(name, f)\n\n/**\n * @param {EventTarget} el\n * @param {string} name\n * @param {EventListener} f\n */\n/* istanbul ignore next */\nexport const removeEventListener = (el, name, f) => el.removeEventListener(name, f)\n\n/**\n * @param {Node} node\n * @param {Array<pair.Pair<string,EventListener>>} listeners\n * @return {Node}\n */\n/* istanbul ignore next */\nexport const addEventListeners = (node, listeners) => {\n  pair.forEach(listeners, (name, f) => addEventListener(node, name, f))\n  return node\n}\n\n/**\n * @param {Node} node\n * @param {Array<pair.Pair<string,EventListener>>} listeners\n * @return {Node}\n */\n/* istanbul ignore next */\nexport const removeEventListeners = (node, listeners) => {\n  pair.forEach(listeners, (name, f) => removeEventListener(node, name, f))\n  return node\n}\n\n/**\n * @param {string} name\n * @param {Array<pair.Pair<string,string>|pair.Pair<string,boolean>>} attrs Array of key-value pairs\n * @param {Array<Node>} children\n * @return {Element}\n */\n/* istanbul ignore next */\nexport const element = (name, attrs = [], children = []) =>\n  append(setAttributes(createElement(name), attrs), children)\n\n/**\n * @param {number} width\n * @param {number} height\n */\n/* istanbul ignore next */\nexport const canvas = (width, height) => {\n  const c = /** @type {HTMLCanvasElement} */ (createElement('canvas'))\n  c.height = height\n  c.width = width\n  return c\n}\n\n/**\n * @param {string} t\n * @return {Text}\n */\n/* istanbul ignore next */\nexport const text = createTextNode\n\n/**\n * @param {pair.Pair<string,string>} pair\n */\n/* istanbul ignore next */\nexport const pairToStyleString = pair => `${pair.left}:${pair.right};`\n\n/**\n * @param {Array<pair.Pair<string,string>>} pairs\n * @return {string}\n */\n/* istanbul ignore next */\nexport const pairsToStyleString = pairs => pairs.map(pairToStyleString).join('')\n\n/**\n * @param {Map<string,string>} m\n * @return {string}\n */\n/* istanbul ignore next */\nexport const mapToStyleString = m => map.map(m, (value, key) => `${key}:${value};`).join('')\n\n/**\n * @todo should always query on a dom element\n *\n * @param {HTMLElement|ShadowRoot} el\n * @param {string} query\n * @return {HTMLElement | null}\n */\n/* istanbul ignore next */\nexport const querySelector = (el, query) => el.querySelector(query)\n\n/**\n * @param {HTMLElement|ShadowRoot} el\n * @param {string} query\n * @return {NodeListOf<HTMLElement>}\n */\n/* istanbul ignore next */\nexport const querySelectorAll = (el, query) => el.querySelectorAll(query)\n\n/**\n * @param {string} id\n * @return {HTMLElement}\n */\n/* istanbul ignore next */\nexport const getElementById = id => /** @type {HTMLElement} */ (doc.getElementById(id))\n\n/**\n * @param {string} html\n * @return {HTMLElement}\n */\n/* istanbul ignore next */\nconst _parse = html => domParser.parseFromString(`<html><body>${html}</body></html>`, 'text/html').body\n\n/**\n * @param {string} html\n * @return {DocumentFragment}\n */\n/* istanbul ignore next */\nexport const parseFragment = html => fragment(/** @type {any} */ (_parse(html).childNodes))\n\n/**\n * @param {string} html\n * @return {HTMLElement}\n */\n/* istanbul ignore next */\nexport const parseElement = html => /** @type HTMLElement */ (_parse(html).firstElementChild)\n\n/**\n * @param {HTMLElement} oldEl\n * @param {HTMLElement|DocumentFragment} newEl\n */\n/* istanbul ignore next */\nexport const replaceWith = (oldEl, newEl) => oldEl.replaceWith(newEl)\n\n/**\n * @param {HTMLElement} parent\n * @param {HTMLElement} el\n * @param {Node|null} ref\n * @return {HTMLElement}\n */\n/* istanbul ignore next */\nexport const insertBefore = (parent, el, ref) => parent.insertBefore(el, ref)\n\n/**\n * @param {Node} parent\n * @param {Node} child\n * @return {Node}\n */\n/* istanbul ignore next */\nexport const appendChild = (parent, child) => parent.appendChild(child)\n\nexport const ELEMENT_NODE = doc.ELEMENT_NODE\nexport const TEXT_NODE = doc.TEXT_NODE\nexport const CDATA_SECTION_NODE = doc.CDATA_SECTION_NODE\nexport const COMMENT_NODE = doc.COMMENT_NODE\nexport const DOCUMENT_NODE = doc.DOCUMENT_NODE\nexport const DOCUMENT_TYPE_NODE = doc.DOCUMENT_TYPE_NODE\nexport const DOCUMENT_FRAGMENT_NODE = doc.DOCUMENT_FRAGMENT_NODE\n\n/**\n * @param {any} node\n * @param {number} type\n */\nexport const checkNodeType = (node, type) => node.nodeType === type\n\n/**\n * @param {Node} parent\n * @param {HTMLElement} child\n */\nexport const isParentOf = (parent, child) => {\n  let p = child.parentNode\n  while (p && p !== parent) {\n    p = p.parentNode\n  }\n  return p === parent\n}\n","/**\n * JSON utility functions.\n *\n * @module json\n */\n\n/**\n * Transform JavaScript object to JSON.\n *\n * @param {any} object\n * @return {string}\n */\nexport const stringify = JSON.stringify\n\n/**\n * Parse JSON object.\n *\n * @param {string} json\n * @return {any}\n */\nexport const parse = JSON.parse\n","/**\n * Isomorphic logging module with support for colors!\n *\n * @module logging\n */\n\nimport * as env from './environment.js'\nimport * as symbol from './symbol.js'\nimport * as pair from './pair.js'\nimport * as dom from './dom.js'\nimport * as json from './json.js'\nimport * as map from './map.js'\nimport * as eventloop from './eventloop.js'\nimport * as math from './math.js'\nimport * as time from './time.js'\nimport * as func from './function.js'\n\nexport const BOLD = symbol.create()\nexport const UNBOLD = symbol.create()\nexport const BLUE = symbol.create()\nexport const GREY = symbol.create()\nexport const GREEN = symbol.create()\nexport const RED = symbol.create()\nexport const PURPLE = symbol.create()\nexport const ORANGE = symbol.create()\nexport const UNCOLOR = symbol.create()\n\n/**\n * @type {Object<Symbol,pair.Pair<string,string>>}\n */\nconst _browserStyleMap = {\n  [BOLD]: pair.create('font-weight', 'bold'),\n  [UNBOLD]: pair.create('font-weight', 'normal'),\n  [BLUE]: pair.create('color', 'blue'),\n  [GREEN]: pair.create('color', 'green'),\n  [GREY]: pair.create('color', 'grey'),\n  [RED]: pair.create('color', 'red'),\n  [PURPLE]: pair.create('color', 'purple'),\n  [ORANGE]: pair.create('color', 'orange'), // not well supported in chrome when debugging node with inspector - TODO: deprecate\n  [UNCOLOR]: pair.create('color', 'black')\n}\n\nconst _nodeStyleMap = {\n  [BOLD]: '\\u001b[1m',\n  [UNBOLD]: '\\u001b[2m',\n  [BLUE]: '\\x1b[34m',\n  [GREEN]: '\\x1b[32m',\n  [GREY]: '\\u001b[37m',\n  [RED]: '\\x1b[31m',\n  [PURPLE]: '\\x1b[35m',\n  [ORANGE]: '\\x1b[38;5;208m',\n  [UNCOLOR]: '\\x1b[0m'\n}\n\n/* istanbul ignore next */\n/**\n * @param {Array<string|Symbol|Object|number>} args\n * @return {Array<string|object|number>}\n */\nconst computeBrowserLoggingArgs = args => {\n  const strBuilder = []\n  const styles = []\n  const currentStyle = map.create()\n  /**\n   * @type {Array<string|Object|number>}\n   */\n  let logArgs = []\n  // try with formatting until we find something unsupported\n  let i = 0\n\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    // @ts-ignore\n    const style = _browserStyleMap[arg]\n    if (style !== undefined) {\n      currentStyle.set(style.left, style.right)\n    } else {\n      if (arg.constructor === String || arg.constructor === Number) {\n        const style = dom.mapToStyleString(currentStyle)\n        if (i > 0 || style.length > 0) {\n          strBuilder.push('%c' + arg)\n          styles.push(style)\n        } else {\n          strBuilder.push(arg)\n        }\n      } else {\n        break\n      }\n    }\n  }\n\n  if (i > 0) {\n    // create logArgs with what we have so far\n    logArgs = styles\n    logArgs.unshift(strBuilder.join(''))\n  }\n  // append the rest\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    if (!(arg instanceof Symbol)) {\n      logArgs.push(arg)\n    }\n  }\n  return logArgs\n}\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n * @return {Array<string|object|number>}\n */\nconst computeNodeLoggingArgs = args => {\n  const strBuilder = []\n  const logArgs = []\n\n  // try with formatting until we find something unsupported\n  let i = 0\n\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    // @ts-ignore\n    const style = _nodeStyleMap[arg]\n    if (style !== undefined) {\n      strBuilder.push(style)\n    } else {\n      if (arg.constructor === String || arg.constructor === Number) {\n        strBuilder.push(arg)\n      } else {\n        break\n      }\n    }\n  }\n  if (i > 0) {\n    // create logArgs with what we have so far\n    strBuilder.push('\\x1b[0m')\n    logArgs.push(strBuilder.join(''))\n  }\n  // append the rest\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    /* istanbul ignore else */\n    if (!(arg instanceof Symbol)) {\n      logArgs.push(arg)\n    }\n  }\n  return logArgs\n}\n\n/* istanbul ignore next */\nconst computeLoggingArgs = env.isNode ? computeNodeLoggingArgs : computeBrowserLoggingArgs\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const print = (...args) => {\n  console.log(...computeLoggingArgs(args))\n  /* istanbul ignore next */\n  vconsoles.forEach(vc => vc.print(args))\n}\n\n/* istanbul ignore next */\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const warn = (...args) => {\n  console.warn(...computeLoggingArgs(args))\n  args.unshift(ORANGE)\n  vconsoles.forEach(vc => vc.print(args))\n}\n\n/* istanbul ignore next */\n/**\n * @param {Error} err\n */\nexport const printError = err => {\n  console.error(err)\n  vconsoles.forEach(vc => vc.printError(err))\n}\n\n/* istanbul ignore next */\n/**\n * @param {string} url image location\n * @param {number} height height of the image in pixel\n */\nexport const printImg = (url, height) => {\n  if (env.isBrowser) {\n    console.log('%c                      ', `font-size: ${height}px; background-size: contain; background-repeat: no-repeat; background-image: url(${url})`)\n    // console.log('%c                ', `font-size: ${height}x; background: url(${url}) no-repeat;`)\n  }\n  vconsoles.forEach(vc => vc.printImg(url, height))\n}\n\n/* istanbul ignore next */\n/**\n * @param {string} base64\n * @param {number} height\n */\nexport const printImgBase64 = (base64, height) => printImg(`data:image/gif;base64,${base64}`, height)\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const group = (...args) => {\n  console.group(...computeLoggingArgs(args))\n  /* istanbul ignore next */\n  vconsoles.forEach(vc => vc.group(args))\n}\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const groupCollapsed = (...args) => {\n  console.groupCollapsed(...computeLoggingArgs(args))\n  /* istanbul ignore next */\n  vconsoles.forEach(vc => vc.groupCollapsed(args))\n}\n\nexport const groupEnd = () => {\n  console.groupEnd()\n  /* istanbul ignore next */\n  vconsoles.forEach(vc => vc.groupEnd())\n}\n\n/* istanbul ignore next */\n/**\n * @param {function():Node} createNode\n */\nexport const printDom = createNode =>\n  vconsoles.forEach(vc => vc.printDom(createNode()))\n\n/* istanbul ignore next */\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {number} height\n */\nexport const printCanvas = (canvas, height) => printImg(canvas.toDataURL(), height)\n\nexport const vconsoles = new Set()\n\n/* istanbul ignore next */\n/**\n * @param {Array<string|Symbol|Object|number>} args\n * @return {Array<Element>}\n */\nconst _computeLineSpans = args => {\n  const spans = []\n  const currentStyle = new Map()\n  // try with formatting until we find something unsupported\n  let i = 0\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    // @ts-ignore\n    const style = _browserStyleMap[arg]\n    if (style !== undefined) {\n      currentStyle.set(style.left, style.right)\n    } else {\n      if (arg.constructor === String || arg.constructor === Number) {\n        // @ts-ignore\n        const span = dom.element('span', [pair.create('style', dom.mapToStyleString(currentStyle))], [dom.text(arg)])\n        if (span.innerHTML === '') {\n          span.innerHTML = '&nbsp;'\n        }\n        spans.push(span)\n      } else {\n        break\n      }\n    }\n  }\n  // append the rest\n  for (; i < args.length; i++) {\n    let content = args[i]\n    if (!(content instanceof Symbol)) {\n      if (content.constructor !== String && content.constructor !== Number) {\n        content = ' ' + json.stringify(content) + ' '\n      }\n      spans.push(dom.element('span', [], [dom.text(/** @type {string} */ (content))]))\n    }\n  }\n  return spans\n}\n\nconst lineStyle = 'font-family:monospace;border-bottom:1px solid #e2e2e2;padding:2px;'\n\n/* istanbul ignore next */\nexport class VConsole {\n  /**\n   * @param {Element} dom\n   */\n  constructor (dom) {\n    this.dom = dom\n    /**\n     * @type {Element}\n     */\n    this.ccontainer = this.dom\n    this.depth = 0\n    vconsoles.add(this)\n  }\n\n  /**\n   * @param {Array<string|Symbol|Object|number>} args\n   * @param {boolean} collapsed\n   */\n  group (args, collapsed = false) {\n    eventloop.enqueue(() => {\n      const triangleDown = dom.element('span', [pair.create('hidden', collapsed), pair.create('style', 'color:grey;font-size:120%;')], [dom.text('')])\n      const triangleRight = dom.element('span', [pair.create('hidden', !collapsed), pair.create('style', 'color:grey;font-size:125%;')], [dom.text('')])\n      const content = dom.element('div', [pair.create('style', `${lineStyle};padding-left:${this.depth * 10}px`)], [triangleDown, triangleRight, dom.text(' ')].concat(_computeLineSpans(args)))\n      const nextContainer = dom.element('div', [pair.create('hidden', collapsed)])\n      const nextLine = dom.element('div', [], [content, nextContainer])\n      dom.append(this.ccontainer, [nextLine])\n      this.ccontainer = nextContainer\n      this.depth++\n      // when header is clicked, collapse/uncollapse container\n      dom.addEventListener(content, 'click', event => {\n        nextContainer.toggleAttribute('hidden')\n        triangleDown.toggleAttribute('hidden')\n        triangleRight.toggleAttribute('hidden')\n      })\n    })\n  }\n\n  /**\n   * @param {Array<string|Symbol|Object|number>} args\n   */\n  groupCollapsed (args) {\n    this.group(args, true)\n  }\n\n  groupEnd () {\n    eventloop.enqueue(() => {\n      if (this.depth > 0) {\n        this.depth--\n        // @ts-ignore\n        this.ccontainer = this.ccontainer.parentElement.parentElement\n      }\n    })\n  }\n\n  /**\n   * @param {Array<string|Symbol|Object|number>} args\n   */\n  print (args) {\n    eventloop.enqueue(() => {\n      dom.append(this.ccontainer, [dom.element('div', [pair.create('style', `${lineStyle};padding-left:${this.depth * 10}px`)], _computeLineSpans(args))])\n    })\n  }\n\n  /**\n   * @param {Error} err\n   */\n  printError (err) {\n    this.print([RED, BOLD, err.toString()])\n  }\n\n  /**\n   * @param {string} url\n   * @param {number} height\n   */\n  printImg (url, height) {\n    eventloop.enqueue(() => {\n      dom.append(this.ccontainer, [dom.element('img', [pair.create('src', url), pair.create('height', `${math.round(height * 1.5)}px`)])])\n    })\n  }\n\n  /**\n   * @param {Node} node\n   */\n  printDom (node) {\n    eventloop.enqueue(() => {\n      dom.append(this.ccontainer, [node])\n    })\n  }\n\n  destroy () {\n    eventloop.enqueue(() => {\n      vconsoles.delete(this)\n    })\n  }\n}\n\n/* istanbul ignore next */\n/**\n * @param {Element} dom\n */\nexport const createVConsole = dom => new VConsole(dom)\n\nconst loggingColors = [GREEN, PURPLE, ORANGE, BLUE]\nlet nextColor = 0\nlet lastLoggingTime = time.getUnixTime()\n\n/**\n * @param {string} moduleName\n * @return {function(...any):void}\n */\nexport const createModuleLogger = moduleName => {\n  const color = loggingColors[nextColor]\n  const debugRegexVar = env.getVariable('log')\n  const doLogging = debugRegexVar !== null && (debugRegexVar === '*' || debugRegexVar === 'true' || new RegExp(debugRegexVar, 'gi').test(moduleName))\n  nextColor = (nextColor + 1) % loggingColors.length\n  moduleName += ': '\n\n  return !doLogging ? func.nop : (...args) => {\n    const timeNow = time.getUnixTime()\n    const timeDiff = timeNow - lastLoggingTime\n    lastLoggingTime = timeNow\n    print(color, moduleName, UNCOLOR, ...args.map(arg => (typeof arg === 'string' || typeof arg === 'symbol') ? arg : JSON.stringify(arg)), color, ' +' + timeDiff + 'ms')\n  }\n}\n","/**\n * Utility module to create and manipulate Iterators.\n *\n * @module iterator\n */\n\n/**\n * @template T,R\n * @param {Iterator<T>} iterator\n * @param {function(T):R} f\n * @return {IterableIterator<R>}\n */\nexport const mapIterator = (iterator, f) => ({\n  /**\n   * @param {function(T):R} f\n   */\n  [Symbol.iterator] () {\n    return this\n  },\n  // @ts-ignore\n  next () {\n    const r = iterator.next()\n    return { value: r.done ? undefined : f(r.value), done: r.done }\n  }\n})\n\n/**\n * @template T\n * @param {function():IteratorResult<T>} next\n * @return {IterableIterator<T>}\n */\nexport const createIterator = next => ({\n  /**\n   * @return {IterableIterator<T>}\n   */\n  [Symbol.iterator] () {\n    return this\n  },\n  // @ts-ignore\n  next\n})\n\n/**\n * @template T\n * @param {Iterator<T>} iterator\n * @param {function(T):boolean} filter\n */\nexport const iteratorFilter = (iterator, filter) => createIterator(() => {\n  let res\n  do {\n    res = iterator.next()\n  } while (!res.done && !filter(res.value))\n  return res\n})\n\n/**\n * @template T,M\n * @param {Iterator<T>} iterator\n * @param {function(T):M} fmap\n */\nexport const iteratorMap = (iterator, fmap) => createIterator(() => {\n  const { done, value } = iterator.next()\n  return { done, value: done ? undefined : fmap(value) }\n})\n","\nimport { Observable } from 'lib0/observable'\n\nimport {\n  Doc // eslint-disable-line\n} from '../internals.js'\n\n/**\n * This is an abstract interface that all Connectors should implement to keep them interchangeable.\n *\n * @note This interface is experimental and it is not advised to actually inherit this class.\n *       It just serves as typing information.\n *\n * @extends {Observable<any>}\n */\nexport class AbstractConnector extends Observable {\n  /**\n   * @param {Doc} ydoc\n   * @param {any} awareness\n   */\n  constructor (ydoc, awareness) {\n    super()\n    this.doc = ydoc\n    this.awareness = awareness\n  }\n}\n","\nimport {\n  findIndexSS,\n  getState,\n  splitItem,\n  iterateStructs,\n  UpdateEncoderV2,\n  DSDecoderV1, DSEncoderV1, DSDecoderV2, DSEncoderV2, Item, GC, StructStore, Transaction, ID // eslint-disable-line\n} from '../internals.js'\n\nimport * as array from 'lib0/array'\nimport * as math from 'lib0/math'\nimport * as map from 'lib0/map'\nimport * as encoding from 'lib0/encoding'\nimport * as decoding from 'lib0/decoding'\n\nexport class DeleteItem {\n  /**\n   * @param {number} clock\n   * @param {number} len\n   */\n  constructor (clock, len) {\n    /**\n     * @type {number}\n     */\n    this.clock = clock\n    /**\n     * @type {number}\n     */\n    this.len = len\n  }\n}\n\n/**\n * We no longer maintain a DeleteStore. DeleteSet is a temporary object that is created when needed.\n * - When created in a transaction, it must only be accessed after sorting, and merging\n *   - This DeleteSet is send to other clients\n * - We do not create a DeleteSet when we send a sync message. The DeleteSet message is created directly from StructStore\n * - We read a DeleteSet as part of a sync/update message. In this case the DeleteSet is already sorted and merged.\n */\nexport class DeleteSet {\n  constructor () {\n    /**\n     * @type {Map<number,Array<DeleteItem>>}\n     */\n    this.clients = new Map()\n  }\n}\n\n/**\n * Iterate over all structs that the DeleteSet gc's.\n *\n * @param {Transaction} transaction\n * @param {DeleteSet} ds\n * @param {function(GC|Item):void} f\n *\n * @function\n */\nexport const iterateDeletedStructs = (transaction, ds, f) =>\n  ds.clients.forEach((deletes, clientid) => {\n    const structs = /** @type {Array<GC|Item>} */ (transaction.doc.store.clients.get(clientid))\n    for (let i = 0; i < deletes.length; i++) {\n      const del = deletes[i]\n      iterateStructs(transaction, structs, del.clock, del.len, f)\n    }\n  })\n\n/**\n * @param {Array<DeleteItem>} dis\n * @param {number} clock\n * @return {number|null}\n *\n * @private\n * @function\n */\nexport const findIndexDS = (dis, clock) => {\n  let left = 0\n  let right = dis.length - 1\n  while (left <= right) {\n    const midindex = math.floor((left + right) / 2)\n    const mid = dis[midindex]\n    const midclock = mid.clock\n    if (midclock <= clock) {\n      if (clock < midclock + mid.len) {\n        return midindex\n      }\n      left = midindex + 1\n    } else {\n      right = midindex - 1\n    }\n  }\n  return null\n}\n\n/**\n * @param {DeleteSet} ds\n * @param {ID} id\n * @return {boolean}\n *\n * @private\n * @function\n */\nexport const isDeleted = (ds, id) => {\n  const dis = ds.clients.get(id.client)\n  return dis !== undefined && findIndexDS(dis, id.clock) !== null\n}\n\n/**\n * @param {DeleteSet} ds\n *\n * @private\n * @function\n */\nexport const sortAndMergeDeleteSet = ds => {\n  ds.clients.forEach(dels => {\n    dels.sort((a, b) => a.clock - b.clock)\n    // merge items without filtering or splicing the array\n    // i is the current pointer\n    // j refers to the current insert position for the pointed item\n    // try to merge dels[i] into dels[j-1] or set dels[j]=dels[i]\n    let i, j\n    for (i = 1, j = 1; i < dels.length; i++) {\n      const left = dels[j - 1]\n      const right = dels[i]\n      if (left.clock + left.len >= right.clock) {\n        left.len = math.max(left.len, right.clock + right.len - left.clock)\n      } else {\n        if (j < i) {\n          dels[j] = right\n        }\n        j++\n      }\n    }\n    dels.length = j\n  })\n}\n\n/**\n * @param {Array<DeleteSet>} dss\n * @return {DeleteSet} A fresh DeleteSet\n */\nexport const mergeDeleteSets = dss => {\n  const merged = new DeleteSet()\n  for (let dssI = 0; dssI < dss.length; dssI++) {\n    dss[dssI].clients.forEach((delsLeft, client) => {\n      if (!merged.clients.has(client)) {\n        // Write all missing keys from current ds and all following.\n        // If merged already contains `client` current ds has already been added.\n        /**\n         * @type {Array<DeleteItem>}\n         */\n        const dels = delsLeft.slice()\n        for (let i = dssI + 1; i < dss.length; i++) {\n          array.appendTo(dels, dss[i].clients.get(client) || [])\n        }\n        merged.clients.set(client, dels)\n      }\n    })\n  }\n  sortAndMergeDeleteSet(merged)\n  return merged\n}\n\n/**\n * @param {DeleteSet} ds\n * @param {number} client\n * @param {number} clock\n * @param {number} length\n *\n * @private\n * @function\n */\nexport const addToDeleteSet = (ds, client, clock, length) => {\n  map.setIfUndefined(ds.clients, client, () => []).push(new DeleteItem(clock, length))\n}\n\nexport const createDeleteSet = () => new DeleteSet()\n\n/**\n * @param {StructStore} ss\n * @return {DeleteSet} Merged and sorted DeleteSet\n *\n * @private\n * @function\n */\nexport const createDeleteSetFromStructStore = ss => {\n  const ds = createDeleteSet()\n  ss.clients.forEach((structs, client) => {\n    /**\n     * @type {Array<DeleteItem>}\n     */\n    const dsitems = []\n    for (let i = 0; i < structs.length; i++) {\n      const struct = structs[i]\n      if (struct.deleted) {\n        const clock = struct.id.clock\n        let len = struct.length\n        if (i + 1 < structs.length) {\n          for (let next = structs[i + 1]; i + 1 < structs.length && next.deleted; next = structs[++i + 1]) {\n            len += next.length\n          }\n        }\n        dsitems.push(new DeleteItem(clock, len))\n      }\n    }\n    if (dsitems.length > 0) {\n      ds.clients.set(client, dsitems)\n    }\n  })\n  return ds\n}\n\n/**\n * @param {DSEncoderV1 | DSEncoderV2} encoder\n * @param {DeleteSet} ds\n *\n * @private\n * @function\n */\nexport const writeDeleteSet = (encoder, ds) => {\n  encoding.writeVarUint(encoder.restEncoder, ds.clients.size)\n  ds.clients.forEach((dsitems, client) => {\n    encoder.resetDsCurVal()\n    encoding.writeVarUint(encoder.restEncoder, client)\n    const len = dsitems.length\n    encoding.writeVarUint(encoder.restEncoder, len)\n    for (let i = 0; i < len; i++) {\n      const item = dsitems[i]\n      encoder.writeDsClock(item.clock)\n      encoder.writeDsLen(item.len)\n    }\n  })\n}\n\n/**\n * @param {DSDecoderV1 | DSDecoderV2} decoder\n * @return {DeleteSet}\n *\n * @private\n * @function\n */\nexport const readDeleteSet = decoder => {\n  const ds = new DeleteSet()\n  const numClients = decoding.readVarUint(decoder.restDecoder)\n  for (let i = 0; i < numClients; i++) {\n    decoder.resetDsCurVal()\n    const client = decoding.readVarUint(decoder.restDecoder)\n    const numberOfDeletes = decoding.readVarUint(decoder.restDecoder)\n    if (numberOfDeletes > 0) {\n      const dsField = map.setIfUndefined(ds.clients, client, () => [])\n      for (let i = 0; i < numberOfDeletes; i++) {\n        dsField.push(new DeleteItem(decoder.readDsClock(), decoder.readDsLen()))\n      }\n    }\n  }\n  return ds\n}\n\n/**\n * @todo YDecoder also contains references to String and other Decoders. Would make sense to exchange YDecoder.toUint8Array for YDecoder.DsToUint8Array()..\n */\n\n/**\n * @param {DSDecoderV1 | DSDecoderV2} decoder\n * @param {Transaction} transaction\n * @param {StructStore} store\n * @return {Uint8Array|null} Returns a v2 update containing all deletes that couldn't be applied yet; or null if all deletes were applied successfully.\n *\n * @private\n * @function\n */\nexport const readAndApplyDeleteSet = (decoder, transaction, store) => {\n  const unappliedDS = new DeleteSet()\n  const numClients = decoding.readVarUint(decoder.restDecoder)\n  for (let i = 0; i < numClients; i++) {\n    decoder.resetDsCurVal()\n    const client = decoding.readVarUint(decoder.restDecoder)\n    const numberOfDeletes = decoding.readVarUint(decoder.restDecoder)\n    const structs = store.clients.get(client) || []\n    const state = getState(store, client)\n    for (let i = 0; i < numberOfDeletes; i++) {\n      const clock = decoder.readDsClock()\n      const clockEnd = clock + decoder.readDsLen()\n      if (clock < state) {\n        if (state < clockEnd) {\n          addToDeleteSet(unappliedDS, client, state, clockEnd - state)\n        }\n        let index = findIndexSS(structs, clock)\n        /**\n         * We can ignore the case of GC and Delete structs, because we are going to skip them\n         * @type {Item}\n         */\n        // @ts-ignore\n        let struct = structs[index]\n        // split the first item if necessary\n        if (!struct.deleted && struct.id.clock < clock) {\n          structs.splice(index + 1, 0, splitItem(transaction, struct, clock - struct.id.clock))\n          index++ // increase we now want to use the next struct\n        }\n        while (index < structs.length) {\n          // @ts-ignore\n          struct = structs[index++]\n          if (struct.id.clock < clockEnd) {\n            if (!struct.deleted) {\n              if (clockEnd < struct.id.clock + struct.length) {\n                structs.splice(index, 0, splitItem(transaction, struct, clockEnd - struct.id.clock))\n              }\n              struct.delete(transaction)\n            }\n          } else {\n            break\n          }\n        }\n      } else {\n        addToDeleteSet(unappliedDS, client, clock, clockEnd - clock)\n      }\n    }\n  }\n  if (unappliedDS.clients.size > 0) {\n    const ds = new UpdateEncoderV2()\n    encoding.writeVarUint(ds.restEncoder, 0) // encode 0 structs\n    writeDeleteSet(ds, unappliedDS)\n    return ds.toUint8Array()\n  }\n  return null\n}\n","/**\n * @module Y\n */\n\nimport {\n  StructStore,\n  AbstractType,\n  YArray,\n  YText,\n  YMap,\n  YXmlFragment,\n  transact,\n  ContentDoc, Item, Transaction, YEvent // eslint-disable-line\n} from '../internals.js'\n\nimport { Observable } from 'lib0/observable'\nimport * as random from 'lib0/random'\nimport * as map from 'lib0/map'\nimport * as array from 'lib0/array'\n\nexport const generateNewClientId = random.uint32\n\n/**\n * @typedef {Object} DocOpts\n * @property {boolean} [DocOpts.gc=true] Disable garbage collection (default: gc=true)\n * @property {function(Item):boolean} [DocOpts.gcFilter] Will be called before an Item is garbage collected. Return false to keep the Item.\n * @property {string} [DocOpts.guid] Define a globally unique identifier for this document\n * @property {any} [DocOpts.meta] Any kind of meta information you want to associate with this document. If this is a subdocument, remote peers will store the meta information as well.\n * @property {boolean} [DocOpts.autoLoad] If a subdocument, automatically load document. If this is a subdocument, remote peers will load the document as well automatically.\n */\n\n/**\n * A Yjs instance handles the state of shared data.\n * @extends Observable<string>\n */\nexport class Doc extends Observable {\n  /**\n   * @param {DocOpts} [opts] configuration\n   */\n  constructor ({ guid = random.uuidv4(), gc = true, gcFilter = () => true, meta = null, autoLoad = false } = {}) {\n    super()\n    this.gc = gc\n    this.gcFilter = gcFilter\n    this.clientID = generateNewClientId()\n    this.guid = guid\n    /**\n     * @type {Map<string, AbstractType<YEvent>>}\n     */\n    this.share = new Map()\n    this.store = new StructStore()\n    /**\n     * @type {Transaction | null}\n     */\n    this._transaction = null\n    /**\n     * @type {Array<Transaction>}\n     */\n    this._transactionCleanups = []\n    /**\n     * @type {Set<Doc>}\n     */\n    this.subdocs = new Set()\n    /**\n     * If this document is a subdocument - a document integrated into another document - then _item is defined.\n     * @type {Item?}\n     */\n    this._item = null\n    this.shouldLoad = autoLoad\n    this.autoLoad = autoLoad\n    this.meta = meta\n  }\n\n  /**\n   * Notify the parent document that you request to load data into this subdocument (if it is a subdocument).\n   *\n   * `load()` might be used in the future to request any provider to load the most current data.\n   *\n   * It is safe to call `load()` multiple times.\n   */\n  load () {\n    const item = this._item\n    if (item !== null && !this.shouldLoad) {\n      transact(/** @type {any} */ (item.parent).doc, transaction => {\n        transaction.subdocsLoaded.add(this)\n      }, null, true)\n    }\n    this.shouldLoad = true\n  }\n\n  getSubdocs () {\n    return this.subdocs\n  }\n\n  getSubdocGuids () {\n    return new Set(Array.from(this.subdocs).map(doc => doc.guid))\n  }\n\n  /**\n   * Changes that happen inside of a transaction are bundled. This means that\n   * the observer fires _after_ the transaction is finished and that all changes\n   * that happened inside of the transaction are sent as one message to the\n   * other peers.\n   *\n   * @param {function(Transaction):void} f The function that should be executed as a transaction\n   * @param {any} [origin] Origin of who started the transaction. Will be stored on transaction.origin\n   *\n   * @public\n   */\n  transact (f, origin = null) {\n    transact(this, f, origin)\n  }\n\n  /**\n   * Define a shared data type.\n   *\n   * Multiple calls of `y.get(name, TypeConstructor)` yield the same result\n   * and do not overwrite each other. I.e.\n   * `y.define(name, Y.Array) === y.define(name, Y.Array)`\n   *\n   * After this method is called, the type is also available on `y.share.get(name)`.\n   *\n   * *Best Practices:*\n   * Define all types right after the Yjs instance is created and store them in a separate object.\n   * Also use the typed methods `getText(name)`, `getArray(name)`, ..\n   *\n   * @example\n   *   const y = new Y(..)\n   *   const appState = {\n   *     document: y.getText('document')\n   *     comments: y.getArray('comments')\n   *   }\n   *\n   * @param {string} name\n   * @param {Function} TypeConstructor The constructor of the type definition. E.g. Y.Text, Y.Array, Y.Map, ...\n   * @return {AbstractType<any>} The created type. Constructed with TypeConstructor\n   *\n   * @public\n   */\n  get (name, TypeConstructor = AbstractType) {\n    const type = map.setIfUndefined(this.share, name, () => {\n      // @ts-ignore\n      const t = new TypeConstructor()\n      t._integrate(this, null)\n      return t\n    })\n    const Constr = type.constructor\n    if (TypeConstructor !== AbstractType && Constr !== TypeConstructor) {\n      if (Constr === AbstractType) {\n        // @ts-ignore\n        const t = new TypeConstructor()\n        t._map = type._map\n        type._map.forEach(/** @param {Item?} n */ n => {\n          for (; n !== null; n = n.left) {\n            // @ts-ignore\n            n.parent = t\n          }\n        })\n        t._start = type._start\n        for (let n = t._start; n !== null; n = n.right) {\n          n.parent = t\n        }\n        t._length = type._length\n        this.share.set(name, t)\n        t._integrate(this, null)\n        return t\n      } else {\n        throw new Error(`Type with the name ${name} has already been defined with a different constructor`)\n      }\n    }\n    return type\n  }\n\n  /**\n   * @template T\n   * @param {string} [name]\n   * @return {YArray<T>}\n   *\n   * @public\n   */\n  getArray (name = '') {\n    // @ts-ignore\n    return this.get(name, YArray)\n  }\n\n  /**\n   * @param {string} [name]\n   * @return {YText}\n   *\n   * @public\n   */\n  getText (name = '') {\n    // @ts-ignore\n    return this.get(name, YText)\n  }\n\n  /**\n   * @param {string} [name]\n   * @return {YMap<any>}\n   *\n   * @public\n   */\n  getMap (name = '') {\n    // @ts-ignore\n    return this.get(name, YMap)\n  }\n\n  /**\n   * @param {string} [name]\n   * @return {YXmlFragment}\n   *\n   * @public\n   */\n  getXmlFragment (name = '') {\n    // @ts-ignore\n    return this.get(name, YXmlFragment)\n  }\n\n  /**\n   * Converts the entire document into a js object, recursively traversing each yjs type\n   * Doesn't log types that have not been defined (using ydoc.getType(..)).\n   *\n   * @deprecated Do not use this method and rather call toJSON directly on the shared types.\n   *\n   * @return {Object<string, any>}\n   */\n  toJSON () {\n    /**\n     * @type {Object<string, any>}\n     */\n    const doc = {}\n\n    this.share.forEach((value, key) => {\n      doc[key] = value.toJSON()\n    })\n\n    return doc\n  }\n\n  /**\n   * Emit `destroy` event and unregister all event handlers.\n   */\n  destroy () {\n    array.from(this.subdocs).forEach(subdoc => subdoc.destroy())\n    const item = this._item\n    if (item !== null) {\n      this._item = null\n      const content = /** @type {ContentDoc} */ (item.content)\n      if (item.deleted) {\n        // @ts-ignore\n        content.doc = null\n      } else {\n        content.doc = new Doc({ guid: this.guid, ...content.opts })\n        content.doc._item = item\n      }\n      transact(/** @type {any} */ (item).parent.doc, transaction => {\n        if (!item.deleted) {\n          transaction.subdocsAdded.add(content.doc)\n        }\n        transaction.subdocsRemoved.add(this)\n      }, null, true)\n    }\n    this.emit('destroyed', [true])\n    this.emit('destroy', [this])\n    super.destroy()\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {function(...any):any} f\n   */\n  on (eventName, f) {\n    super.on(eventName, f)\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {function} f\n   */\n  off (eventName, f) {\n    super.off(eventName, f)\n  }\n}\n","import * as buffer from 'lib0/buffer'\nimport * as decoding from 'lib0/decoding'\nimport {\n  ID, createID\n} from '../internals.js'\n\nexport class DSDecoderV1 {\n  /**\n   * @param {decoding.Decoder} decoder\n   */\n  constructor (decoder) {\n    this.restDecoder = decoder\n  }\n\n  resetDsCurVal () {\n    // nop\n  }\n\n  /**\n   * @return {number}\n   */\n  readDsClock () {\n    return decoding.readVarUint(this.restDecoder)\n  }\n\n  /**\n   * @return {number}\n   */\n  readDsLen () {\n    return decoding.readVarUint(this.restDecoder)\n  }\n}\n\nexport class UpdateDecoderV1 extends DSDecoderV1 {\n  /**\n   * @return {ID}\n   */\n  readLeftID () {\n    return createID(decoding.readVarUint(this.restDecoder), decoding.readVarUint(this.restDecoder))\n  }\n\n  /**\n   * @return {ID}\n   */\n  readRightID () {\n    return createID(decoding.readVarUint(this.restDecoder), decoding.readVarUint(this.restDecoder))\n  }\n\n  /**\n   * Read the next client id.\n   * Use this in favor of readID whenever possible to reduce the number of objects created.\n   */\n  readClient () {\n    return decoding.readVarUint(this.restDecoder)\n  }\n\n  /**\n   * @return {number} info An unsigned 8-bit integer\n   */\n  readInfo () {\n    return decoding.readUint8(this.restDecoder)\n  }\n\n  /**\n   * @return {string}\n   */\n  readString () {\n    return decoding.readVarString(this.restDecoder)\n  }\n\n  /**\n   * @return {boolean} isKey\n   */\n  readParentInfo () {\n    return decoding.readVarUint(this.restDecoder) === 1\n  }\n\n  /**\n   * @return {number} info An unsigned 8-bit integer\n   */\n  readTypeRef () {\n    return decoding.readVarUint(this.restDecoder)\n  }\n\n  /**\n   * Write len of a struct - well suited for Opt RLE encoder.\n   *\n   * @return {number} len\n   */\n  readLen () {\n    return decoding.readVarUint(this.restDecoder)\n  }\n\n  /**\n   * @return {any}\n   */\n  readAny () {\n    return decoding.readAny(this.restDecoder)\n  }\n\n  /**\n   * @return {Uint8Array}\n   */\n  readBuf () {\n    return buffer.copyUint8Array(decoding.readVarUint8Array(this.restDecoder))\n  }\n\n  /**\n   * Legacy implementation uses JSON parse. We use any-decoding in v2.\n   *\n   * @return {any}\n   */\n  readJSON () {\n    return JSON.parse(decoding.readVarString(this.restDecoder))\n  }\n\n  /**\n   * @return {string}\n   */\n  readKey () {\n    return decoding.readVarString(this.restDecoder)\n  }\n}\n\nexport class DSDecoderV2 {\n  /**\n   * @param {decoding.Decoder} decoder\n   */\n  constructor (decoder) {\n    /**\n     * @private\n     */\n    this.dsCurrVal = 0\n    this.restDecoder = decoder\n  }\n\n  resetDsCurVal () {\n    this.dsCurrVal = 0\n  }\n\n  /**\n   * @return {number}\n   */\n  readDsClock () {\n    this.dsCurrVal += decoding.readVarUint(this.restDecoder)\n    return this.dsCurrVal\n  }\n\n  /**\n   * @return {number}\n   */\n  readDsLen () {\n    const diff = decoding.readVarUint(this.restDecoder) + 1\n    this.dsCurrVal += diff\n    return diff\n  }\n}\n\nexport class UpdateDecoderV2 extends DSDecoderV2 {\n  /**\n   * @param {decoding.Decoder} decoder\n   */\n  constructor (decoder) {\n    super(decoder)\n    /**\n     * List of cached keys. If the keys[id] does not exist, we read a new key\n     * from stringEncoder and push it to keys.\n     *\n     * @type {Array<string>}\n     */\n    this.keys = []\n    decoding.readVarUint(decoder) // read feature flag - currently unused\n    this.keyClockDecoder = new decoding.IntDiffOptRleDecoder(decoding.readVarUint8Array(decoder))\n    this.clientDecoder = new decoding.UintOptRleDecoder(decoding.readVarUint8Array(decoder))\n    this.leftClockDecoder = new decoding.IntDiffOptRleDecoder(decoding.readVarUint8Array(decoder))\n    this.rightClockDecoder = new decoding.IntDiffOptRleDecoder(decoding.readVarUint8Array(decoder))\n    this.infoDecoder = new decoding.RleDecoder(decoding.readVarUint8Array(decoder), decoding.readUint8)\n    this.stringDecoder = new decoding.StringDecoder(decoding.readVarUint8Array(decoder))\n    this.parentInfoDecoder = new decoding.RleDecoder(decoding.readVarUint8Array(decoder), decoding.readUint8)\n    this.typeRefDecoder = new decoding.UintOptRleDecoder(decoding.readVarUint8Array(decoder))\n    this.lenDecoder = new decoding.UintOptRleDecoder(decoding.readVarUint8Array(decoder))\n  }\n\n  /**\n   * @return {ID}\n   */\n  readLeftID () {\n    return new ID(this.clientDecoder.read(), this.leftClockDecoder.read())\n  }\n\n  /**\n   * @return {ID}\n   */\n  readRightID () {\n    return new ID(this.clientDecoder.read(), this.rightClockDecoder.read())\n  }\n\n  /**\n   * Read the next client id.\n   * Use this in favor of readID whenever possible to reduce the number of objects created.\n   */\n  readClient () {\n    return this.clientDecoder.read()\n  }\n\n  /**\n   * @return {number} info An unsigned 8-bit integer\n   */\n  readInfo () {\n    return /** @type {number} */ (this.infoDecoder.read())\n  }\n\n  /**\n   * @return {string}\n   */\n  readString () {\n    return this.stringDecoder.read()\n  }\n\n  /**\n   * @return {boolean}\n   */\n  readParentInfo () {\n    return this.parentInfoDecoder.read() === 1\n  }\n\n  /**\n   * @return {number} An unsigned 8-bit integer\n   */\n  readTypeRef () {\n    return this.typeRefDecoder.read()\n  }\n\n  /**\n   * Write len of a struct - well suited for Opt RLE encoder.\n   *\n   * @return {number}\n   */\n  readLen () {\n    return this.lenDecoder.read()\n  }\n\n  /**\n   * @return {any}\n   */\n  readAny () {\n    return decoding.readAny(this.restDecoder)\n  }\n\n  /**\n   * @return {Uint8Array}\n   */\n  readBuf () {\n    return decoding.readVarUint8Array(this.restDecoder)\n  }\n\n  /**\n   * This is mainly here for legacy purposes.\n   *\n   * Initial we incoded objects using JSON. Now we use the much faster lib0/any-encoder. This method mainly exists for legacy purposes for the v1 encoder.\n   *\n   * @return {any}\n   */\n  readJSON () {\n    return decoding.readAny(this.restDecoder)\n  }\n\n  /**\n   * @return {string}\n   */\n  readKey () {\n    const keyClock = this.keyClockDecoder.read()\n    if (keyClock < this.keys.length) {\n      return this.keys[keyClock]\n    } else {\n      const key = this.stringDecoder.read()\n      this.keys.push(key)\n      return key\n    }\n  }\n}\n","\nimport * as error from 'lib0/error'\nimport * as encoding from 'lib0/encoding'\n\nimport {\n  ID // eslint-disable-line\n} from '../internals.js'\n\nexport class DSEncoderV1 {\n  constructor () {\n    this.restEncoder = encoding.createEncoder()\n  }\n\n  toUint8Array () {\n    return encoding.toUint8Array(this.restEncoder)\n  }\n\n  resetDsCurVal () {\n    // nop\n  }\n\n  /**\n   * @param {number} clock\n   */\n  writeDsClock (clock) {\n    encoding.writeVarUint(this.restEncoder, clock)\n  }\n\n  /**\n   * @param {number} len\n   */\n  writeDsLen (len) {\n    encoding.writeVarUint(this.restEncoder, len)\n  }\n}\n\nexport class UpdateEncoderV1 extends DSEncoderV1 {\n  /**\n   * @param {ID} id\n   */\n  writeLeftID (id) {\n    encoding.writeVarUint(this.restEncoder, id.client)\n    encoding.writeVarUint(this.restEncoder, id.clock)\n  }\n\n  /**\n   * @param {ID} id\n   */\n  writeRightID (id) {\n    encoding.writeVarUint(this.restEncoder, id.client)\n    encoding.writeVarUint(this.restEncoder, id.clock)\n  }\n\n  /**\n   * Use writeClient and writeClock instead of writeID if possible.\n   * @param {number} client\n   */\n  writeClient (client) {\n    encoding.writeVarUint(this.restEncoder, client)\n  }\n\n  /**\n   * @param {number} info An unsigned 8-bit integer\n   */\n  writeInfo (info) {\n    encoding.writeUint8(this.restEncoder, info)\n  }\n\n  /**\n   * @param {string} s\n   */\n  writeString (s) {\n    encoding.writeVarString(this.restEncoder, s)\n  }\n\n  /**\n   * @param {boolean} isYKey\n   */\n  writeParentInfo (isYKey) {\n    encoding.writeVarUint(this.restEncoder, isYKey ? 1 : 0)\n  }\n\n  /**\n   * @param {number} info An unsigned 8-bit integer\n   */\n  writeTypeRef (info) {\n    encoding.writeVarUint(this.restEncoder, info)\n  }\n\n  /**\n   * Write len of a struct - well suited for Opt RLE encoder.\n   *\n   * @param {number} len\n   */\n  writeLen (len) {\n    encoding.writeVarUint(this.restEncoder, len)\n  }\n\n  /**\n   * @param {any} any\n   */\n  writeAny (any) {\n    encoding.writeAny(this.restEncoder, any)\n  }\n\n  /**\n   * @param {Uint8Array} buf\n   */\n  writeBuf (buf) {\n    encoding.writeVarUint8Array(this.restEncoder, buf)\n  }\n\n  /**\n   * @param {any} embed\n   */\n  writeJSON (embed) {\n    encoding.writeVarString(this.restEncoder, JSON.stringify(embed))\n  }\n\n  /**\n   * @param {string} key\n   */\n  writeKey (key) {\n    encoding.writeVarString(this.restEncoder, key)\n  }\n}\n\nexport class DSEncoderV2 {\n  constructor () {\n    this.restEncoder = encoding.createEncoder() // encodes all the rest / non-optimized\n    this.dsCurrVal = 0\n  }\n\n  toUint8Array () {\n    return encoding.toUint8Array(this.restEncoder)\n  }\n\n  resetDsCurVal () {\n    this.dsCurrVal = 0\n  }\n\n  /**\n   * @param {number} clock\n   */\n  writeDsClock (clock) {\n    const diff = clock - this.dsCurrVal\n    this.dsCurrVal = clock\n    encoding.writeVarUint(this.restEncoder, diff)\n  }\n\n  /**\n   * @param {number} len\n   */\n  writeDsLen (len) {\n    if (len === 0) {\n      error.unexpectedCase()\n    }\n    encoding.writeVarUint(this.restEncoder, len - 1)\n    this.dsCurrVal += len\n  }\n}\n\nexport class UpdateEncoderV2 extends DSEncoderV2 {\n  constructor () {\n    super()\n    /**\n     * @type {Map<string,number>}\n     */\n    this.keyMap = new Map()\n    /**\n     * Refers to the next uniqe key-identifier to me used.\n     * See writeKey method for more information.\n     *\n     * @type {number}\n     */\n    this.keyClock = 0\n    this.keyClockEncoder = new encoding.IntDiffOptRleEncoder()\n    this.clientEncoder = new encoding.UintOptRleEncoder()\n    this.leftClockEncoder = new encoding.IntDiffOptRleEncoder()\n    this.rightClockEncoder = new encoding.IntDiffOptRleEncoder()\n    this.infoEncoder = new encoding.RleEncoder(encoding.writeUint8)\n    this.stringEncoder = new encoding.StringEncoder()\n    this.parentInfoEncoder = new encoding.RleEncoder(encoding.writeUint8)\n    this.typeRefEncoder = new encoding.UintOptRleEncoder()\n    this.lenEncoder = new encoding.UintOptRleEncoder()\n  }\n\n  toUint8Array () {\n    const encoder = encoding.createEncoder()\n    encoding.writeVarUint(encoder, 0) // this is a feature flag that we might use in the future\n    encoding.writeVarUint8Array(encoder, this.keyClockEncoder.toUint8Array())\n    encoding.writeVarUint8Array(encoder, this.clientEncoder.toUint8Array())\n    encoding.writeVarUint8Array(encoder, this.leftClockEncoder.toUint8Array())\n    encoding.writeVarUint8Array(encoder, this.rightClockEncoder.toUint8Array())\n    encoding.writeVarUint8Array(encoder, encoding.toUint8Array(this.infoEncoder))\n    encoding.writeVarUint8Array(encoder, this.stringEncoder.toUint8Array())\n    encoding.writeVarUint8Array(encoder, encoding.toUint8Array(this.parentInfoEncoder))\n    encoding.writeVarUint8Array(encoder, this.typeRefEncoder.toUint8Array())\n    encoding.writeVarUint8Array(encoder, this.lenEncoder.toUint8Array())\n    // @note The rest encoder is appended! (note the missing var)\n    encoding.writeUint8Array(encoder, encoding.toUint8Array(this.restEncoder))\n    return encoding.toUint8Array(encoder)\n  }\n\n  /**\n   * @param {ID} id\n   */\n  writeLeftID (id) {\n    this.clientEncoder.write(id.client)\n    this.leftClockEncoder.write(id.clock)\n  }\n\n  /**\n   * @param {ID} id\n   */\n  writeRightID (id) {\n    this.clientEncoder.write(id.client)\n    this.rightClockEncoder.write(id.clock)\n  }\n\n  /**\n   * @param {number} client\n   */\n  writeClient (client) {\n    this.clientEncoder.write(client)\n  }\n\n  /**\n   * @param {number} info An unsigned 8-bit integer\n   */\n  writeInfo (info) {\n    this.infoEncoder.write(info)\n  }\n\n  /**\n   * @param {string} s\n   */\n  writeString (s) {\n    this.stringEncoder.write(s)\n  }\n\n  /**\n   * @param {boolean} isYKey\n   */\n  writeParentInfo (isYKey) {\n    this.parentInfoEncoder.write(isYKey ? 1 : 0)\n  }\n\n  /**\n   * @param {number} info An unsigned 8-bit integer\n   */\n  writeTypeRef (info) {\n    this.typeRefEncoder.write(info)\n  }\n\n  /**\n   * Write len of a struct - well suited for Opt RLE encoder.\n   *\n   * @param {number} len\n   */\n  writeLen (len) {\n    this.lenEncoder.write(len)\n  }\n\n  /**\n   * @param {any} any\n   */\n  writeAny (any) {\n    encoding.writeAny(this.restEncoder, any)\n  }\n\n  /**\n   * @param {Uint8Array} buf\n   */\n  writeBuf (buf) {\n    encoding.writeVarUint8Array(this.restEncoder, buf)\n  }\n\n  /**\n   * This is mainly here for legacy purposes.\n   *\n   * Initial we incoded objects using JSON. Now we use the much faster lib0/any-encoder. This method mainly exists for legacy purposes for the v1 encoder.\n   *\n   * @param {any} embed\n   */\n  writeJSON (embed) {\n    encoding.writeAny(this.restEncoder, embed)\n  }\n\n  /**\n   * Property keys are often reused. For example, in y-prosemirror the key `bold` might\n   * occur very often. For a 3d application, the key `position` might occur very often.\n   *\n   * We cache these keys in a Map and refer to them via a unique number.\n   *\n   * @param {string} key\n   */\n  writeKey (key) {\n    const clock = this.keyMap.get(key)\n    if (clock === undefined) {\n      this.keyClockEncoder.write(this.keyClock++)\n      this.stringEncoder.write(key)\n    } else {\n      this.keyClockEncoder.write(this.keyClock++)\n    }\n  }\n}\n","\n/**\n * @module encoding\n */\n/*\n * We use the first five bits in the info flag for determining the type of the struct.\n *\n * 0: GC\n * 1: Item with Deleted content\n * 2: Item with JSON content\n * 3: Item with Binary content\n * 4: Item with String content\n * 5: Item with Embed content (for richtext content)\n * 6: Item with Format content (a formatting marker for richtext content)\n * 7: Item with Type\n */\n\nimport {\n  findIndexSS,\n  getState,\n  createID,\n  getStateVector,\n  readAndApplyDeleteSet,\n  writeDeleteSet,\n  createDeleteSetFromStructStore,\n  transact,\n  readItemContent,\n  UpdateDecoderV1,\n  UpdateDecoderV2,\n  UpdateEncoderV1,\n  UpdateEncoderV2,\n  DSEncoderV2,\n  DSDecoderV1,\n  DSEncoderV1,\n  mergeUpdatesV2,\n  Skip,\n  diffUpdateV2,\n  DSDecoderV2, Doc, Transaction, GC, Item, StructStore // eslint-disable-line\n} from '../internals.js'\n\nimport * as encoding from 'lib0/encoding'\nimport * as decoding from 'lib0/decoding'\nimport * as binary from 'lib0/binary'\nimport * as map from 'lib0/map'\nimport * as math from 'lib0/math'\n\n/**\n * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n * @param {Array<GC|Item>} structs All structs by `client`\n * @param {number} client\n * @param {number} clock write structs starting with `ID(client,clock)`\n *\n * @function\n */\nconst writeStructs = (encoder, structs, client, clock) => {\n  // write first id\n  clock = math.max(clock, structs[0].id.clock) // make sure the first id exists\n  const startNewStructs = findIndexSS(structs, clock)\n  // write # encoded structs\n  encoding.writeVarUint(encoder.restEncoder, structs.length - startNewStructs)\n  encoder.writeClient(client)\n  encoding.writeVarUint(encoder.restEncoder, clock)\n  const firstStruct = structs[startNewStructs]\n  // write first struct with an offset\n  firstStruct.write(encoder, clock - firstStruct.id.clock)\n  for (let i = startNewStructs + 1; i < structs.length; i++) {\n    structs[i].write(encoder, 0)\n  }\n}\n\n/**\n * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n * @param {StructStore} store\n * @param {Map<number,number>} _sm\n *\n * @private\n * @function\n */\nexport const writeClientsStructs = (encoder, store, _sm) => {\n  // we filter all valid _sm entries into sm\n  const sm = new Map()\n  _sm.forEach((clock, client) => {\n    // only write if new structs are available\n    if (getState(store, client) > clock) {\n      sm.set(client, clock)\n    }\n  })\n  getStateVector(store).forEach((clock, client) => {\n    if (!_sm.has(client)) {\n      sm.set(client, 0)\n    }\n  })\n  // write # states that were updated\n  encoding.writeVarUint(encoder.restEncoder, sm.size)\n  // Write items with higher client ids first\n  // This heavily improves the conflict algorithm.\n  Array.from(sm.entries()).sort((a, b) => b[0] - a[0]).forEach(([client, clock]) => {\n    // @ts-ignore\n    writeStructs(encoder, store.clients.get(client), client, clock)\n  })\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder The decoder object to read data from.\n * @param {Doc} doc\n * @return {Map<number, { i: number, refs: Array<Item | GC> }>}\n *\n * @private\n * @function\n */\nexport const readClientsStructRefs = (decoder, doc) => {\n  /**\n   * @type {Map<number, { i: number, refs: Array<Item | GC> }>}\n   */\n  const clientRefs = map.create()\n  const numOfStateUpdates = decoding.readVarUint(decoder.restDecoder)\n  for (let i = 0; i < numOfStateUpdates; i++) {\n    const numberOfStructs = decoding.readVarUint(decoder.restDecoder)\n    /**\n     * @type {Array<GC|Item>}\n     */\n    const refs = new Array(numberOfStructs)\n    const client = decoder.readClient()\n    let clock = decoding.readVarUint(decoder.restDecoder)\n    // const start = performance.now()\n    clientRefs.set(client, { i: 0, refs })\n    for (let i = 0; i < numberOfStructs; i++) {\n      const info = decoder.readInfo()\n      switch (binary.BITS5 & info) {\n        case 0: { // GC\n          const len = decoder.readLen()\n          refs[i] = new GC(createID(client, clock), len)\n          clock += len\n          break\n        }\n        case 10: { // Skip Struct (nothing to apply)\n          // @todo we could reduce the amount of checks by adding Skip struct to clientRefs so we know that something is missing.\n          const len = decoding.readVarUint(decoder.restDecoder)\n          refs[i] = new Skip(createID(client, clock), len)\n          clock += len\n          break\n        }\n        default: { // Item with content\n          /**\n           * The optimized implementation doesn't use any variables because inlining variables is faster.\n           * Below a non-optimized version is shown that implements the basic algorithm with\n           * a few comments\n           */\n          const cantCopyParentInfo = (info & (binary.BIT7 | binary.BIT8)) === 0\n          // If parent = null and neither left nor right are defined, then we know that `parent` is child of `y`\n          // and we read the next string as parentYKey.\n          // It indicates how we store/retrieve parent from `y.share`\n          // @type {string|null}\n          const struct = new Item(\n            createID(client, clock),\n            null, // leftd\n            (info & binary.BIT8) === binary.BIT8 ? decoder.readLeftID() : null, // origin\n            null, // right\n            (info & binary.BIT7) === binary.BIT7 ? decoder.readRightID() : null, // right origin\n            cantCopyParentInfo ? (decoder.readParentInfo() ? doc.get(decoder.readString()) : decoder.readLeftID()) : null, // parent\n            cantCopyParentInfo && (info & binary.BIT6) === binary.BIT6 ? decoder.readString() : null, // parentSub\n            readItemContent(decoder, info) // item content\n          )\n          /* A non-optimized implementation of the above algorithm:\n\n          // The item that was originally to the left of this item.\n          const origin = (info & binary.BIT8) === binary.BIT8 ? decoder.readLeftID() : null\n          // The item that was originally to the right of this item.\n          const rightOrigin = (info & binary.BIT7) === binary.BIT7 ? decoder.readRightID() : null\n          const cantCopyParentInfo = (info & (binary.BIT7 | binary.BIT8)) === 0\n          const hasParentYKey = cantCopyParentInfo ? decoder.readParentInfo() : false\n          // If parent = null and neither left nor right are defined, then we know that `parent` is child of `y`\n          // and we read the next string as parentYKey.\n          // It indicates how we store/retrieve parent from `y.share`\n          // @type {string|null}\n          const parentYKey = cantCopyParentInfo && hasParentYKey ? decoder.readString() : null\n\n          const struct = new Item(\n            createID(client, clock),\n            null, // leftd\n            origin, // origin\n            null, // right\n            rightOrigin, // right origin\n            cantCopyParentInfo && !hasParentYKey ? decoder.readLeftID() : (parentYKey !== null ? doc.get(parentYKey) : null), // parent\n            cantCopyParentInfo && (info & binary.BIT6) === binary.BIT6 ? decoder.readString() : null, // parentSub\n            readItemContent(decoder, info) // item content\n          )\n          */\n          refs[i] = struct\n          clock += struct.length\n        }\n      }\n    }\n    // console.log('time to read: ', performance.now() - start) // @todo remove\n  }\n  return clientRefs\n}\n\n/**\n * Resume computing structs generated by struct readers.\n *\n * While there is something to do, we integrate structs in this order\n * 1. top element on stack, if stack is not empty\n * 2. next element from current struct reader (if empty, use next struct reader)\n *\n * If struct causally depends on another struct (ref.missing), we put next reader of\n * `ref.id.client` on top of stack.\n *\n * At some point we find a struct that has no causal dependencies,\n * then we start emptying the stack.\n *\n * It is not possible to have circles: i.e. struct1 (from client1) depends on struct2 (from client2)\n * depends on struct3 (from client1). Therefore the max stack size is eqaul to `structReaders.length`.\n *\n * This method is implemented in a way so that we can resume computation if this update\n * causally depends on another update.\n *\n * @param {Transaction} transaction\n * @param {StructStore} store\n * @param {Map<number, { i: number, refs: (GC | Item)[] }>} clientsStructRefs\n * @return { null | { update: Uint8Array, missing: Map<number,number> } }\n *\n * @private\n * @function\n */\nconst integrateStructs = (transaction, store, clientsStructRefs) => {\n  /**\n   * @type {Array<Item | GC>}\n   */\n  const stack = []\n  // sort them so that we take the higher id first, in case of conflicts the lower id will probably not conflict with the id from the higher user.\n  let clientsStructRefsIds = Array.from(clientsStructRefs.keys()).sort((a, b) => a - b)\n  if (clientsStructRefsIds.length === 0) {\n    return null\n  }\n  const getNextStructTarget = () => {\n    if (clientsStructRefsIds.length === 0) {\n      return null\n    }\n    let nextStructsTarget = /** @type {{i:number,refs:Array<GC|Item>}} */ (clientsStructRefs.get(clientsStructRefsIds[clientsStructRefsIds.length - 1]))\n    while (nextStructsTarget.refs.length === nextStructsTarget.i) {\n      clientsStructRefsIds.pop()\n      if (clientsStructRefsIds.length > 0) {\n        nextStructsTarget = /** @type {{i:number,refs:Array<GC|Item>}} */ (clientsStructRefs.get(clientsStructRefsIds[clientsStructRefsIds.length - 1]))\n      } else {\n        return null\n      }\n    }\n    return nextStructsTarget\n  }\n  let curStructsTarget = getNextStructTarget()\n  if (curStructsTarget === null && stack.length === 0) {\n    return null\n  }\n\n  /**\n   * @type {StructStore}\n   */\n  const restStructs = new StructStore()\n  const missingSV = new Map()\n  /**\n   * @param {number} client\n   * @param {number} clock\n   */\n  const updateMissingSv = (client, clock) => {\n    const mclock = missingSV.get(client)\n    if (mclock == null || mclock > clock) {\n      missingSV.set(client, clock)\n    }\n  }\n  /**\n   * @type {GC|Item}\n   */\n  let stackHead = /** @type {any} */ (curStructsTarget).refs[/** @type {any} */ (curStructsTarget).i++]\n  // caching the state because it is used very often\n  const state = new Map()\n\n  const addStackToRestSS = () => {\n    for (const item of stack) {\n      const client = item.id.client\n      const unapplicableItems = clientsStructRefs.get(client)\n      if (unapplicableItems) {\n        // decrement because we weren't able to apply previous operation\n        unapplicableItems.i--\n        restStructs.clients.set(client, unapplicableItems.refs.slice(unapplicableItems.i))\n        clientsStructRefs.delete(client)\n        unapplicableItems.i = 0\n        unapplicableItems.refs = []\n      } else {\n        // item was the last item on clientsStructRefs and the field was already cleared. Add item to restStructs and continue\n        restStructs.clients.set(client, [item])\n      }\n      // remove client from clientsStructRefsIds to prevent users from applying the same update again\n      clientsStructRefsIds = clientsStructRefsIds.filter(c => c !== client)\n    }\n    stack.length = 0\n  }\n\n  // iterate over all struct readers until we are done\n  while (true) {\n    if (stackHead.constructor !== Skip) {\n      const localClock = map.setIfUndefined(state, stackHead.id.client, () => getState(store, stackHead.id.client))\n      const offset = localClock - stackHead.id.clock\n      if (offset < 0) {\n        // update from the same client is missing\n        stack.push(stackHead)\n        updateMissingSv(stackHead.id.client, stackHead.id.clock - 1)\n        // hid a dead wall, add all items from stack to restSS\n        addStackToRestSS()\n      } else {\n        const missing = stackHead.getMissing(transaction, store)\n        if (missing !== null) {\n          stack.push(stackHead)\n          // get the struct reader that has the missing struct\n          /**\n           * @type {{ refs: Array<GC|Item>, i: number }}\n           */\n          const structRefs = clientsStructRefs.get(/** @type {number} */ (missing)) || { refs: [], i: 0 }\n          if (structRefs.refs.length === structRefs.i) {\n            // This update message causally depends on another update message that doesn't exist yet\n            updateMissingSv(/** @type {number} */ (missing), getState(store, missing))\n            addStackToRestSS()\n          } else {\n            stackHead = structRefs.refs[structRefs.i++]\n            continue\n          }\n        } else if (offset === 0 || offset < stackHead.length) {\n          // all fine, apply the stackhead\n          stackHead.integrate(transaction, offset)\n          state.set(stackHead.id.client, stackHead.id.clock + stackHead.length)\n        }\n      }\n    }\n    // iterate to next stackHead\n    if (stack.length > 0) {\n      stackHead = /** @type {GC|Item} */ (stack.pop())\n    } else if (curStructsTarget !== null && curStructsTarget.i < curStructsTarget.refs.length) {\n      stackHead = /** @type {GC|Item} */ (curStructsTarget.refs[curStructsTarget.i++])\n    } else {\n      curStructsTarget = getNextStructTarget()\n      if (curStructsTarget === null) {\n        // we are done!\n        break\n      } else {\n        stackHead = /** @type {GC|Item} */ (curStructsTarget.refs[curStructsTarget.i++])\n      }\n    }\n  }\n  if (restStructs.clients.size > 0) {\n    const encoder = new UpdateEncoderV2()\n    writeClientsStructs(encoder, restStructs, new Map())\n    // write empty deleteset\n    // writeDeleteSet(encoder, new DeleteSet())\n    encoding.writeVarUint(encoder.restEncoder, 0) // => no need for an extra function call, just write 0 deletes\n    return { missing: missingSV, update: encoder.toUint8Array() }\n  }\n  return null\n}\n\n/**\n * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n * @param {Transaction} transaction\n *\n * @private\n * @function\n */\nexport const writeStructsFromTransaction = (encoder, transaction) => writeClientsStructs(encoder, transaction.doc.store, transaction.beforeState)\n\n/**\n * Read and apply a document update.\n *\n * This function has the same effect as `applyUpdate` but accepts an decoder.\n *\n * @param {decoding.Decoder} decoder\n * @param {Doc} ydoc\n * @param {any} [transactionOrigin] This will be stored on `transaction.origin` and `.on('update', (update, origin))`\n * @param {UpdateDecoderV1 | UpdateDecoderV2} [structDecoder]\n *\n * @function\n */\nexport const readUpdateV2 = (decoder, ydoc, transactionOrigin, structDecoder = new UpdateDecoderV2(decoder)) =>\n  transact(ydoc, transaction => {\n    // force that transaction.local is set to non-local\n    transaction.local = false\n    let retry = false\n    const doc = transaction.doc\n    const store = doc.store\n    // let start = performance.now()\n    const ss = readClientsStructRefs(structDecoder, doc)\n    // console.log('time to read structs: ', performance.now() - start) // @todo remove\n    // start = performance.now()\n    // console.log('time to merge: ', performance.now() - start) // @todo remove\n    // start = performance.now()\n    const restStructs = integrateStructs(transaction, store, ss)\n    const pending = store.pendingStructs\n    if (pending) {\n      // check if we can apply something\n      for (const [client, clock] of pending.missing) {\n        if (clock < getState(store, client)) {\n          retry = true\n          break\n        }\n      }\n      if (restStructs) {\n        // merge restStructs into store.pending\n        for (const [client, clock] of restStructs.missing) {\n          const mclock = pending.missing.get(client)\n          if (mclock == null || mclock > clock) {\n            pending.missing.set(client, clock)\n          }\n        }\n        pending.update = mergeUpdatesV2([pending.update, restStructs.update])\n      }\n    } else {\n      store.pendingStructs = restStructs\n    }\n    // console.log('time to integrate: ', performance.now() - start) // @todo remove\n    // start = performance.now()\n    const dsRest = readAndApplyDeleteSet(structDecoder, transaction, store)\n    if (store.pendingDs) {\n      // @todo we could make a lower-bound state-vector check as we do above\n      const pendingDSUpdate = new UpdateDecoderV2(decoding.createDecoder(store.pendingDs))\n      decoding.readVarUint(pendingDSUpdate.restDecoder) // read 0 structs, because we only encode deletes in pendingdsupdate\n      const dsRest2 = readAndApplyDeleteSet(pendingDSUpdate, transaction, store)\n      if (dsRest && dsRest2) {\n        // case 1: ds1 != null && ds2 != null\n        store.pendingDs = mergeUpdatesV2([dsRest, dsRest2])\n      } else {\n        // case 2: ds1 != null\n        // case 3: ds2 != null\n        // case 4: ds1 == null && ds2 == null\n        store.pendingDs = dsRest || dsRest2\n      }\n    } else {\n      // Either dsRest == null && pendingDs == null OR dsRest != null\n      store.pendingDs = dsRest\n    }\n    // console.log('time to cleanup: ', performance.now() - start) // @todo remove\n    // start = performance.now()\n\n    // console.log('time to resume delete readers: ', performance.now() - start) // @todo remove\n    // start = performance.now()\n    if (retry) {\n      const update = /** @type {{update: Uint8Array}} */ (store.pendingStructs).update\n      store.pendingStructs = null\n      applyUpdateV2(transaction.doc, update)\n    }\n  }, transactionOrigin, false)\n\n/**\n * Read and apply a document update.\n *\n * This function has the same effect as `applyUpdate` but accepts an decoder.\n *\n * @param {decoding.Decoder} decoder\n * @param {Doc} ydoc\n * @param {any} [transactionOrigin] This will be stored on `transaction.origin` and `.on('update', (update, origin))`\n *\n * @function\n */\nexport const readUpdate = (decoder, ydoc, transactionOrigin) => readUpdateV2(decoder, ydoc, transactionOrigin, new UpdateDecoderV1(decoder))\n\n/**\n * Apply a document update created by, for example, `y.on('update', update => ..)` or `update = encodeStateAsUpdate()`.\n *\n * This function has the same effect as `readUpdate` but accepts an Uint8Array instead of a Decoder.\n *\n * @param {Doc} ydoc\n * @param {Uint8Array} update\n * @param {any} [transactionOrigin] This will be stored on `transaction.origin` and `.on('update', (update, origin))`\n * @param {typeof UpdateDecoderV1 | typeof UpdateDecoderV2} [YDecoder]\n *\n * @function\n */\nexport const applyUpdateV2 = (ydoc, update, transactionOrigin, YDecoder = UpdateDecoderV2) => {\n  const decoder = decoding.createDecoder(update)\n  readUpdateV2(decoder, ydoc, transactionOrigin, new YDecoder(decoder))\n}\n\n/**\n * Apply a document update created by, for example, `y.on('update', update => ..)` or `update = encodeStateAsUpdate()`.\n *\n * This function has the same effect as `readUpdate` but accepts an Uint8Array instead of a Decoder.\n *\n * @param {Doc} ydoc\n * @param {Uint8Array} update\n * @param {any} [transactionOrigin] This will be stored on `transaction.origin` and `.on('update', (update, origin))`\n *\n * @function\n */\nexport const applyUpdate = (ydoc, update, transactionOrigin) => applyUpdateV2(ydoc, update, transactionOrigin, UpdateDecoderV1)\n\n/**\n * Write all the document as a single update message. If you specify the state of the remote client (`targetStateVector`) it will\n * only write the operations that are missing.\n *\n * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n * @param {Doc} doc\n * @param {Map<number,number>} [targetStateVector] The state of the target that receives the update. Leave empty to write all known structs\n *\n * @function\n */\nexport const writeStateAsUpdate = (encoder, doc, targetStateVector = new Map()) => {\n  writeClientsStructs(encoder, doc.store, targetStateVector)\n  writeDeleteSet(encoder, createDeleteSetFromStructStore(doc.store))\n}\n\n/**\n * Write all the document as a single update message that can be applied on the remote document. If you specify the state of the remote client (`targetState`) it will\n * only write the operations that are missing.\n *\n * Use `writeStateAsUpdate` instead if you are working with lib0/encoding.js#Encoder\n *\n * @param {Doc} doc\n * @param {Uint8Array} [encodedTargetStateVector] The state of the target that receives the update. Leave empty to write all known structs\n * @param {UpdateEncoderV1 | UpdateEncoderV2} [encoder]\n * @return {Uint8Array}\n *\n * @function\n */\nexport const encodeStateAsUpdateV2 = (doc, encodedTargetStateVector = new Uint8Array([0]), encoder = new UpdateEncoderV2()) => {\n  const targetStateVector = decodeStateVector(encodedTargetStateVector)\n  writeStateAsUpdate(encoder, doc, targetStateVector)\n  const updates = [encoder.toUint8Array()]\n  // also add the pending updates (if there are any)\n  // @todo support diffirent encoders\n  if (encoder.constructor === UpdateEncoderV2) {\n    if (doc.store.pendingDs) {\n      updates.push(doc.store.pendingDs)\n    }\n    if (doc.store.pendingStructs) {\n      updates.push(diffUpdateV2(doc.store.pendingStructs.update, encodedTargetStateVector))\n    }\n    if (updates.length > 1) {\n      return mergeUpdatesV2(updates)\n    }\n  }\n  return updates[0]\n}\n\n/**\n * Write all the document as a single update message that can be applied on the remote document. If you specify the state of the remote client (`targetState`) it will\n * only write the operations that are missing.\n *\n * Use `writeStateAsUpdate` instead if you are working with lib0/encoding.js#Encoder\n *\n * @param {Doc} doc\n * @param {Uint8Array} [encodedTargetStateVector] The state of the target that receives the update. Leave empty to write all known structs\n * @return {Uint8Array}\n *\n * @function\n */\nexport const encodeStateAsUpdate = (doc, encodedTargetStateVector) => encodeStateAsUpdateV2(doc, encodedTargetStateVector, new UpdateEncoderV1())\n\n/**\n * Read state vector from Decoder and return as Map\n *\n * @param {DSDecoderV1 | DSDecoderV2} decoder\n * @return {Map<number,number>} Maps `client` to the number next expected `clock` from that client.\n *\n * @function\n */\nexport const readStateVector = decoder => {\n  const ss = new Map()\n  const ssLength = decoding.readVarUint(decoder.restDecoder)\n  for (let i = 0; i < ssLength; i++) {\n    const client = decoding.readVarUint(decoder.restDecoder)\n    const clock = decoding.readVarUint(decoder.restDecoder)\n    ss.set(client, clock)\n  }\n  return ss\n}\n\n/**\n * Read decodedState and return State as Map.\n *\n * @param {Uint8Array} decodedState\n * @return {Map<number,number>} Maps `client` to the number next expected `clock` from that client.\n *\n * @function\n */\n// export const decodeStateVectorV2 = decodedState => readStateVector(new DSDecoderV2(decoding.createDecoder(decodedState)))\n\n/**\n * Read decodedState and return State as Map.\n *\n * @param {Uint8Array} decodedState\n * @return {Map<number,number>} Maps `client` to the number next expected `clock` from that client.\n *\n * @function\n */\nexport const decodeStateVector = decodedState => readStateVector(new DSDecoderV1(decoding.createDecoder(decodedState)))\n\n/**\n * @param {DSEncoderV1 | DSEncoderV2} encoder\n * @param {Map<number,number>} sv\n * @function\n */\nexport const writeStateVector = (encoder, sv) => {\n  encoding.writeVarUint(encoder.restEncoder, sv.size)\n  sv.forEach((clock, client) => {\n    encoding.writeVarUint(encoder.restEncoder, client) // @todo use a special client decoder that is based on mapping\n    encoding.writeVarUint(encoder.restEncoder, clock)\n  })\n  return encoder\n}\n\n/**\n * @param {DSEncoderV1 | DSEncoderV2} encoder\n * @param {Doc} doc\n *\n * @function\n */\nexport const writeDocumentStateVector = (encoder, doc) => writeStateVector(encoder, getStateVector(doc.store))\n\n/**\n * Encode State as Uint8Array.\n *\n * @param {Doc|Map<number,number>} doc\n * @param {DSEncoderV1 | DSEncoderV2} [encoder]\n * @return {Uint8Array}\n *\n * @function\n */\nexport const encodeStateVectorV2 = (doc, encoder = new DSEncoderV2()) => {\n  if (doc instanceof Map) {\n    writeStateVector(encoder, doc)\n  } else {\n    writeDocumentStateVector(encoder, doc)\n  }\n  return encoder.toUint8Array()\n}\n\n/**\n * Encode State as Uint8Array.\n *\n * @param {Doc|Map<number,number>} doc\n * @return {Uint8Array}\n *\n * @function\n */\nexport const encodeStateVector = doc => encodeStateVectorV2(doc, new DSEncoderV1())\n","import * as f from 'lib0/function'\n\n/**\n * General event handler implementation.\n *\n * @template ARG0, ARG1\n *\n * @private\n */\nexport class EventHandler {\n  constructor () {\n    /**\n     * @type {Array<function(ARG0, ARG1):void>}\n     */\n    this.l = []\n  }\n}\n\n/**\n * @template ARG0,ARG1\n * @returns {EventHandler<ARG0,ARG1>}\n *\n * @private\n * @function\n */\nexport const createEventHandler = () => new EventHandler()\n\n/**\n * Adds an event listener that is called when\n * {@link EventHandler#callEventListeners} is called.\n *\n * @template ARG0,ARG1\n * @param {EventHandler<ARG0,ARG1>} eventHandler\n * @param {function(ARG0,ARG1):void} f The event handler.\n *\n * @private\n * @function\n */\nexport const addEventHandlerListener = (eventHandler, f) =>\n  eventHandler.l.push(f)\n\n/**\n * Removes an event listener.\n *\n * @template ARG0,ARG1\n * @param {EventHandler<ARG0,ARG1>} eventHandler\n * @param {function(ARG0,ARG1):void} f The event handler that was added with\n *                     {@link EventHandler#addEventListener}\n *\n * @private\n * @function\n */\nexport const removeEventHandlerListener = (eventHandler, f) => {\n  const l = eventHandler.l\n  const len = l.length\n  eventHandler.l = l.filter(g => f !== g)\n  if (len === eventHandler.l.length) {\n    console.error('[yjs] Tried to remove event handler that doesn\\'t exist.')\n  }\n}\n\n/**\n * Removes all event listeners.\n * @template ARG0,ARG1\n * @param {EventHandler<ARG0,ARG1>} eventHandler\n *\n * @private\n * @function\n */\nexport const removeAllEventHandlerListeners = eventHandler => {\n  eventHandler.l.length = 0\n}\n\n/**\n * Call all event listeners that were added via\n * {@link EventHandler#addEventListener}.\n *\n * @template ARG0,ARG1\n * @param {EventHandler<ARG0,ARG1>} eventHandler\n * @param {ARG0} arg0\n * @param {ARG1} arg1\n *\n * @private\n * @function\n */\nexport const callEventHandlerListeners = (eventHandler, arg0, arg1) =>\n  f.callAll(eventHandler.l, [arg0, arg1])\n","\nimport { AbstractType } from '../internals.js' // eslint-disable-line\n\nimport * as decoding from 'lib0/decoding'\nimport * as encoding from 'lib0/encoding'\nimport * as error from 'lib0/error'\n\nexport class ID {\n  /**\n   * @param {number} client client id\n   * @param {number} clock unique per client id, continuous number\n   */\n  constructor (client, clock) {\n    /**\n     * Client id\n     * @type {number}\n     */\n    this.client = client\n    /**\n     * unique per client id, continuous number\n     * @type {number}\n     */\n    this.clock = clock\n  }\n}\n\n/**\n * @param {ID | null} a\n * @param {ID | null} b\n * @return {boolean}\n *\n * @function\n */\nexport const compareIDs = (a, b) => a === b || (a !== null && b !== null && a.client === b.client && a.clock === b.clock)\n\n/**\n * @param {number} client\n * @param {number} clock\n *\n * @private\n * @function\n */\nexport const createID = (client, clock) => new ID(client, clock)\n\n/**\n * @param {encoding.Encoder} encoder\n * @param {ID} id\n *\n * @private\n * @function\n */\nexport const writeID = (encoder, id) => {\n  encoding.writeVarUint(encoder, id.client)\n  encoding.writeVarUint(encoder, id.clock)\n}\n\n/**\n * Read ID.\n * * If first varUint read is 0xFFFFFF a RootID is returned.\n * * Otherwise an ID is returned\n *\n * @param {decoding.Decoder} decoder\n * @return {ID}\n *\n * @private\n * @function\n */\nexport const readID = decoder =>\n  createID(decoding.readVarUint(decoder), decoding.readVarUint(decoder))\n\n/**\n * The top types are mapped from y.share.get(keyname) => type.\n * `type` does not store any information about the `keyname`.\n * This function finds the correct `keyname` for `type` and throws otherwise.\n *\n * @param {AbstractType<any>} type\n * @return {string}\n *\n * @private\n * @function\n */\nexport const findRootTypeKey = type => {\n  // @ts-ignore _y must be defined, otherwise unexpected case\n  for (const [key, value] of type.doc.share.entries()) {\n    if (value === type) {\n      return key\n    }\n  }\n  throw error.unexpectedCase()\n}\n","\nimport { AbstractType, Item } from '../internals.js' // eslint-disable-line\n\n/**\n * Check if `parent` is a parent of `child`.\n *\n * @param {AbstractType<any>} parent\n * @param {Item|null} child\n * @return {Boolean} Whether `parent` is a parent of `child`.\n *\n * @private\n * @function\n */\nexport const isParentOf = (parent, child) => {\n  while (child !== null) {\n    if (child.parent === parent) {\n      return true\n    }\n    child = /** @type {AbstractType<any>} */ (child.parent)._item\n  }\n  return false\n}\n","\nimport {\n  writeID,\n  readID,\n  compareIDs,\n  getState,\n  findRootTypeKey,\n  Item,\n  createID,\n  ContentType,\n  followRedone,\n  ID, Doc, AbstractType // eslint-disable-line\n} from '../internals.js'\n\nimport * as encoding from 'lib0/encoding'\nimport * as decoding from 'lib0/decoding'\nimport * as error from 'lib0/error'\n\n/**\n * A relative position is based on the Yjs model and is not affected by document changes.\n * E.g. If you place a relative position before a certain character, it will always point to this character.\n * If you place a relative position at the end of a type, it will always point to the end of the type.\n *\n * A numeric position is often unsuited for user selections, because it does not change when content is inserted\n * before or after.\n *\n * ```Insert(0, 'x')('a|bc') = 'xa|bc'``` Where | is the relative position.\n *\n * One of the properties must be defined.\n *\n * @example\n *   // Current cursor position is at position 10\n *   const relativePosition = createRelativePositionFromIndex(yText, 10)\n *   // modify yText\n *   yText.insert(0, 'abc')\n *   yText.delete(3, 10)\n *   // Compute the cursor position\n *   const absolutePosition = createAbsolutePositionFromRelativePosition(y, relativePosition)\n *   absolutePosition.type === yText // => true\n *   console.log('cursor location is ' + absolutePosition.index) // => cursor location is 3\n *\n */\nexport class RelativePosition {\n  /**\n   * @param {ID|null} type\n   * @param {string|null} tname\n   * @param {ID|null} item\n   * @param {number} assoc\n   */\n  constructor (type, tname, item, assoc = 0) {\n    /**\n     * @type {ID|null}\n     */\n    this.type = type\n    /**\n     * @type {string|null}\n     */\n    this.tname = tname\n    /**\n     * @type {ID | null}\n     */\n    this.item = item\n    /**\n     * A relative position is associated to a specific character. By default\n     * assoc >= 0, the relative position is associated to the character\n     * after the meant position.\n     * I.e. position 1 in 'ab' is associated to character 'b'.\n     *\n     * If assoc < 0, then the relative position is associated to the caharacter\n     * before the meant position.\n     *\n     * @type {number}\n     */\n    this.assoc = assoc\n  }\n}\n\n/**\n * @param {RelativePosition} rpos\n * @return {any}\n */\nexport const relativePositionToJSON = rpos => {\n  const json = {}\n  if (rpos.type) {\n    json.type = rpos.type\n  }\n  if (rpos.tname) {\n    json.tname = rpos.tname\n  }\n  if (rpos.item) {\n    json.item = rpos.item\n  }\n  if (rpos.assoc != null) {\n    json.assoc = rpos.assoc\n  }\n  return json\n}\n\n/**\n * @param {any} json\n * @return {RelativePosition}\n *\n * @function\n */\nexport const createRelativePositionFromJSON = json => new RelativePosition(json.type == null ? null : createID(json.type.client, json.type.clock), json.tname || null, json.item == null ? null : createID(json.item.client, json.item.clock), json.assoc == null ? 0 : json.assoc)\n\nexport class AbsolutePosition {\n  /**\n   * @param {AbstractType<any>} type\n   * @param {number} index\n   * @param {number} [assoc]\n   */\n  constructor (type, index, assoc = 0) {\n    /**\n     * @type {AbstractType<any>}\n     */\n    this.type = type\n    /**\n     * @type {number}\n     */\n    this.index = index\n    this.assoc = assoc\n  }\n}\n\n/**\n * @param {AbstractType<any>} type\n * @param {number} index\n * @param {number} [assoc]\n *\n * @function\n */\nexport const createAbsolutePosition = (type, index, assoc = 0) => new AbsolutePosition(type, index, assoc)\n\n/**\n * @param {AbstractType<any>} type\n * @param {ID|null} item\n * @param {number} [assoc]\n *\n * @function\n */\nexport const createRelativePosition = (type, item, assoc) => {\n  let typeid = null\n  let tname = null\n  if (type._item === null) {\n    tname = findRootTypeKey(type)\n  } else {\n    typeid = createID(type._item.id.client, type._item.id.clock)\n  }\n  return new RelativePosition(typeid, tname, item, assoc)\n}\n\n/**\n * Create a relativePosition based on a absolute position.\n *\n * @param {AbstractType<any>} type The base type (e.g. YText or YArray).\n * @param {number} index The absolute position.\n * @param {number} [assoc]\n * @return {RelativePosition}\n *\n * @function\n */\nexport const createRelativePositionFromTypeIndex = (type, index, assoc = 0) => {\n  let t = type._start\n  if (assoc < 0) {\n    // associated to the left character or the beginning of a type, increment index if possible.\n    if (index === 0) {\n      return createRelativePosition(type, null, assoc)\n    }\n    index--\n  }\n  while (t !== null) {\n    if (!t.deleted && t.countable) {\n      if (t.length > index) {\n        // case 1: found position somewhere in the linked list\n        return createRelativePosition(type, createID(t.id.client, t.id.clock + index), assoc)\n      }\n      index -= t.length\n    }\n    if (t.right === null && assoc < 0) {\n      // left-associated position, return last available id\n      return createRelativePosition(type, t.lastId, assoc)\n    }\n    t = t.right\n  }\n  return createRelativePosition(type, null, assoc)\n}\n\n/**\n * @param {encoding.Encoder} encoder\n * @param {RelativePosition} rpos\n *\n * @function\n */\nexport const writeRelativePosition = (encoder, rpos) => {\n  const { type, tname, item, assoc } = rpos\n  if (item !== null) {\n    encoding.writeVarUint(encoder, 0)\n    writeID(encoder, item)\n  } else if (tname !== null) {\n    // case 2: found position at the end of the list and type is stored in y.share\n    encoding.writeUint8(encoder, 1)\n    encoding.writeVarString(encoder, tname)\n  } else if (type !== null) {\n    // case 3: found position at the end of the list and type is attached to an item\n    encoding.writeUint8(encoder, 2)\n    writeID(encoder, type)\n  } else {\n    throw error.unexpectedCase()\n  }\n  encoding.writeVarInt(encoder, assoc)\n  return encoder\n}\n\n/**\n * @param {RelativePosition} rpos\n * @return {Uint8Array}\n */\nexport const encodeRelativePosition = rpos => {\n  const encoder = encoding.createEncoder()\n  writeRelativePosition(encoder, rpos)\n  return encoding.toUint8Array(encoder)\n}\n\n/**\n * @param {decoding.Decoder} decoder\n * @return {RelativePosition}\n *\n * @function\n */\nexport const readRelativePosition = decoder => {\n  let type = null\n  let tname = null\n  let itemID = null\n  switch (decoding.readVarUint(decoder)) {\n    case 0:\n      // case 1: found position somewhere in the linked list\n      itemID = readID(decoder)\n      break\n    case 1:\n      // case 2: found position at the end of the list and type is stored in y.share\n      tname = decoding.readVarString(decoder)\n      break\n    case 2: {\n      // case 3: found position at the end of the list and type is attached to an item\n      type = readID(decoder)\n    }\n  }\n  const assoc = decoding.hasContent(decoder) ? decoding.readVarInt(decoder) : 0\n  return new RelativePosition(type, tname, itemID, assoc)\n}\n\n/**\n * @param {Uint8Array} uint8Array\n * @return {RelativePosition}\n */\nexport const decodeRelativePosition = uint8Array => readRelativePosition(decoding.createDecoder(uint8Array))\n\n/**\n * @param {RelativePosition} rpos\n * @param {Doc} doc\n * @return {AbsolutePosition|null}\n *\n * @function\n */\nexport const createAbsolutePositionFromRelativePosition = (rpos, doc) => {\n  const store = doc.store\n  const rightID = rpos.item\n  const typeID = rpos.type\n  const tname = rpos.tname\n  const assoc = rpos.assoc\n  let type = null\n  let index = 0\n  if (rightID !== null) {\n    if (getState(store, rightID.client) <= rightID.clock) {\n      return null\n    }\n    const res = followRedone(store, rightID)\n    const right = res.item\n    if (!(right instanceof Item)) {\n      return null\n    }\n    type = /** @type {AbstractType<any>} */ (right.parent)\n    if (type._item === null || !type._item.deleted) {\n      index = (right.deleted || !right.countable) ? 0 : (res.diff + (assoc >= 0 ? 0 : 1)) // adjust position based on left association if necessary\n      let n = right.left\n      while (n !== null) {\n        if (!n.deleted && n.countable) {\n          index += n.length\n        }\n        n = n.left\n      }\n    }\n  } else {\n    if (tname !== null) {\n      type = doc.get(tname)\n    } else if (typeID !== null) {\n      if (getState(store, typeID.client) <= typeID.clock) {\n        // type does not exist yet\n        return null\n      }\n      const { item } = followRedone(store, typeID)\n      if (item instanceof Item && item.content instanceof ContentType) {\n        type = item.content.type\n      } else {\n        // struct is garbage collected\n        return null\n      }\n    } else {\n      throw error.unexpectedCase()\n    }\n    if (assoc >= 0) {\n      index = type._length\n    } else {\n      index = 0\n    }\n  }\n  return createAbsolutePosition(type, index, rpos.assoc)\n}\n\n/**\n * @param {RelativePosition|null} a\n * @param {RelativePosition|null} b\n * @return {boolean}\n *\n * @function\n */\nexport const compareRelativePositions = (a, b) => a === b || (\n  a !== null && b !== null && a.tname === b.tname && compareIDs(a.item, b.item) && compareIDs(a.type, b.type) && a.assoc === b.assoc\n)\n","\nimport {\n  isDeleted,\n  createDeleteSetFromStructStore,\n  getStateVector,\n  getItemCleanStart,\n  iterateDeletedStructs,\n  writeDeleteSet,\n  writeStateVector,\n  readDeleteSet,\n  readStateVector,\n  createDeleteSet,\n  createID,\n  getState,\n  findIndexSS,\n  UpdateEncoderV2,\n  applyUpdateV2,\n  DSEncoderV1, DSEncoderV2, DSDecoderV1, DSDecoderV2, Transaction, Doc, DeleteSet, Item // eslint-disable-line\n} from '../internals.js'\n\nimport * as map from 'lib0/map'\nimport * as set from 'lib0/set'\nimport * as decoding from 'lib0/decoding'\nimport * as encoding from 'lib0/encoding'\n\nexport class Snapshot {\n  /**\n   * @param {DeleteSet} ds\n   * @param {Map<number,number>} sv state map\n   */\n  constructor (ds, sv) {\n    /**\n     * @type {DeleteSet}\n     */\n    this.ds = ds\n    /**\n     * State Map\n     * @type {Map<number,number>}\n     */\n    this.sv = sv\n  }\n}\n\n/**\n * @param {Snapshot} snap1\n * @param {Snapshot} snap2\n * @return {boolean}\n */\nexport const equalSnapshots = (snap1, snap2) => {\n  const ds1 = snap1.ds.clients\n  const ds2 = snap2.ds.clients\n  const sv1 = snap1.sv\n  const sv2 = snap2.sv\n  if (sv1.size !== sv2.size || ds1.size !== ds2.size) {\n    return false\n  }\n  for (const [key, value] of sv1.entries()) {\n    if (sv2.get(key) !== value) {\n      return false\n    }\n  }\n  for (const [client, dsitems1] of ds1.entries()) {\n    const dsitems2 = ds2.get(client) || []\n    if (dsitems1.length !== dsitems2.length) {\n      return false\n    }\n    for (let i = 0; i < dsitems1.length; i++) {\n      const dsitem1 = dsitems1[i]\n      const dsitem2 = dsitems2[i]\n      if (dsitem1.clock !== dsitem2.clock || dsitem1.len !== dsitem2.len) {\n        return false\n      }\n    }\n  }\n  return true\n}\n\n/**\n * @param {Snapshot} snapshot\n * @param {DSEncoderV1 | DSEncoderV2} [encoder]\n * @return {Uint8Array}\n */\nexport const encodeSnapshotV2 = (snapshot, encoder = new DSEncoderV2()) => {\n  writeDeleteSet(encoder, snapshot.ds)\n  writeStateVector(encoder, snapshot.sv)\n  return encoder.toUint8Array()\n}\n\n/**\n * @param {Snapshot} snapshot\n * @return {Uint8Array}\n */\nexport const encodeSnapshot = snapshot => encodeSnapshotV2(snapshot, new DSEncoderV1())\n\n/**\n * @param {Uint8Array} buf\n * @param {DSDecoderV1 | DSDecoderV2} [decoder]\n * @return {Snapshot}\n */\nexport const decodeSnapshotV2 = (buf, decoder = new DSDecoderV2(decoding.createDecoder(buf))) => {\n  return new Snapshot(readDeleteSet(decoder), readStateVector(decoder))\n}\n\n/**\n * @param {Uint8Array} buf\n * @return {Snapshot}\n */\nexport const decodeSnapshot = buf => decodeSnapshotV2(buf, new DSDecoderV1(decoding.createDecoder(buf)))\n\n/**\n * @param {DeleteSet} ds\n * @param {Map<number,number>} sm\n * @return {Snapshot}\n */\nexport const createSnapshot = (ds, sm) => new Snapshot(ds, sm)\n\nexport const emptySnapshot = createSnapshot(createDeleteSet(), new Map())\n\n/**\n * @param {Doc} doc\n * @return {Snapshot}\n */\nexport const snapshot = doc => createSnapshot(createDeleteSetFromStructStore(doc.store), getStateVector(doc.store))\n\n/**\n * @param {Item} item\n * @param {Snapshot|undefined} snapshot\n *\n * @protected\n * @function\n */\nexport const isVisible = (item, snapshot) => snapshot === undefined ? !item.deleted : (\n  snapshot.sv.has(item.id.client) && (snapshot.sv.get(item.id.client) || 0) > item.id.clock && !isDeleted(snapshot.ds, item.id)\n)\n\n/**\n * @param {Transaction} transaction\n * @param {Snapshot} snapshot\n */\nexport const splitSnapshotAffectedStructs = (transaction, snapshot) => {\n  const meta = map.setIfUndefined(transaction.meta, splitSnapshotAffectedStructs, set.create)\n  const store = transaction.doc.store\n  // check if we already split for this snapshot\n  if (!meta.has(snapshot)) {\n    snapshot.sv.forEach((clock, client) => {\n      if (clock < getState(store, client)) {\n        getItemCleanStart(transaction, createID(client, clock))\n      }\n    })\n    iterateDeletedStructs(transaction, snapshot.ds, item => {})\n    meta.add(snapshot)\n  }\n}\n\n/**\n * @param {Doc} originDoc\n * @param {Snapshot} snapshot\n * @param {Doc} [newDoc] Optionally, you may define the Yjs document that receives the data from originDoc\n * @return {Doc}\n */\nexport const createDocFromSnapshot = (originDoc, snapshot, newDoc = new Doc()) => {\n  if (originDoc.gc) {\n    // we should not try to restore a GC-ed document, because some of the restored items might have their content deleted\n    throw new Error('originDoc must not be garbage collected')\n  }\n  const { sv, ds } = snapshot\n\n  const encoder = new UpdateEncoderV2()\n  originDoc.transact(transaction => {\n    let size = 0\n    sv.forEach(clock => {\n      if (clock > 0) {\n        size++\n      }\n    })\n    encoding.writeVarUint(encoder.restEncoder, size)\n    // splitting the structs before writing them to the encoder\n    for (const [client, clock] of sv) {\n      if (clock === 0) {\n        continue\n      }\n      if (clock < getState(originDoc.store, client)) {\n        getItemCleanStart(transaction, createID(client, clock))\n      }\n      const structs = originDoc.store.clients.get(client) || []\n      const lastStructIndex = findIndexSS(structs, clock - 1)\n      // write # encoded structs\n      encoding.writeVarUint(encoder.restEncoder, lastStructIndex + 1)\n      encoder.writeClient(client)\n      // first clock written is 0\n      encoding.writeVarUint(encoder.restEncoder, 0)\n      for (let i = 0; i <= lastStructIndex; i++) {\n        structs[i].write(encoder, 0)\n      }\n    }\n    writeDeleteSet(encoder, ds)\n  })\n\n  applyUpdateV2(newDoc, encoder.toUint8Array(), 'snapshot')\n  return newDoc\n}\n","\nimport {\n  GC,\n  splitItem,\n  Transaction, ID, Item, DSDecoderV2 // eslint-disable-line\n} from '../internals.js'\n\nimport * as math from 'lib0/math'\nimport * as error from 'lib0/error'\n\nexport class StructStore {\n  constructor () {\n    /**\n     * @type {Map<number,Array<GC|Item>>}\n     */\n    this.clients = new Map()\n    /**\n     * @type {null | { missing: Map<number, number>, update: Uint8Array }}\n     */\n    this.pendingStructs = null\n    /**\n     * @type {null | Uint8Array}\n     */\n    this.pendingDs = null\n  }\n}\n\n/**\n * Return the states as a Map<client,clock>.\n * Note that clock refers to the next expected clock id.\n *\n * @param {StructStore} store\n * @return {Map<number,number>}\n *\n * @public\n * @function\n */\nexport const getStateVector = store => {\n  const sm = new Map()\n  store.clients.forEach((structs, client) => {\n    const struct = structs[structs.length - 1]\n    sm.set(client, struct.id.clock + struct.length)\n  })\n  return sm\n}\n\n/**\n * @param {StructStore} store\n * @param {number} client\n * @return {number}\n *\n * @public\n * @function\n */\nexport const getState = (store, client) => {\n  const structs = store.clients.get(client)\n  if (structs === undefined) {\n    return 0\n  }\n  const lastStruct = structs[structs.length - 1]\n  return lastStruct.id.clock + lastStruct.length\n}\n\n/**\n * @param {StructStore} store\n *\n * @private\n * @function\n */\nexport const integretyCheck = store => {\n  store.clients.forEach(structs => {\n    for (let i = 1; i < structs.length; i++) {\n      const l = structs[i - 1]\n      const r = structs[i]\n      if (l.id.clock + l.length !== r.id.clock) {\n        throw new Error('StructStore failed integrety check')\n      }\n    }\n  })\n}\n\n/**\n * @param {StructStore} store\n * @param {GC|Item} struct\n *\n * @private\n * @function\n */\nexport const addStruct = (store, struct) => {\n  let structs = store.clients.get(struct.id.client)\n  if (structs === undefined) {\n    structs = []\n    store.clients.set(struct.id.client, structs)\n  } else {\n    const lastStruct = structs[structs.length - 1]\n    if (lastStruct.id.clock + lastStruct.length !== struct.id.clock) {\n      throw error.unexpectedCase()\n    }\n  }\n  structs.push(struct)\n}\n\n/**\n * Perform a binary search on a sorted array\n * @param {Array<Item|GC>} structs\n * @param {number} clock\n * @return {number}\n *\n * @private\n * @function\n */\nexport const findIndexSS = (structs, clock) => {\n  let left = 0\n  let right = structs.length - 1\n  let mid = structs[right]\n  let midclock = mid.id.clock\n  if (midclock === clock) {\n    return right\n  }\n  // @todo does it even make sense to pivot the search?\n  // If a good split misses, it might actually increase the time to find the correct item.\n  // Currently, the only advantage is that search with pivoting might find the item on the first try.\n  let midindex = math.floor((clock / (midclock + mid.length - 1)) * right) // pivoting the search\n  while (left <= right) {\n    mid = structs[midindex]\n    midclock = mid.id.clock\n    if (midclock <= clock) {\n      if (clock < midclock + mid.length) {\n        return midindex\n      }\n      left = midindex + 1\n    } else {\n      right = midindex - 1\n    }\n    midindex = math.floor((left + right) / 2)\n  }\n  // Always check state before looking for a struct in StructStore\n  // Therefore the case of not finding a struct is unexpected\n  throw error.unexpectedCase()\n}\n\n/**\n * Expects that id is actually in store. This function throws or is an infinite loop otherwise.\n *\n * @param {StructStore} store\n * @param {ID} id\n * @return {GC|Item}\n *\n * @private\n * @function\n */\nexport const find = (store, id) => {\n  /**\n   * @type {Array<GC|Item>}\n   */\n  // @ts-ignore\n  const structs = store.clients.get(id.client)\n  return structs[findIndexSS(structs, id.clock)]\n}\n\n/**\n * Expects that id is actually in store. This function throws or is an infinite loop otherwise.\n * @private\n * @function\n */\nexport const getItem = /** @type {function(StructStore,ID):Item} */ (find)\n\n/**\n * @param {Transaction} transaction\n * @param {Array<Item|GC>} structs\n * @param {number} clock\n */\nexport const findIndexCleanStart = (transaction, structs, clock) => {\n  const index = findIndexSS(structs, clock)\n  const struct = structs[index]\n  if (struct.id.clock < clock && struct instanceof Item) {\n    structs.splice(index + 1, 0, splitItem(transaction, struct, clock - struct.id.clock))\n    return index + 1\n  }\n  return index\n}\n\n/**\n * Expects that id is actually in store. This function throws or is an infinite loop otherwise.\n *\n * @param {Transaction} transaction\n * @param {ID} id\n * @return {Item}\n *\n * @private\n * @function\n */\nexport const getItemCleanStart = (transaction, id) => {\n  const structs = /** @type {Array<Item>} */ (transaction.doc.store.clients.get(id.client))\n  return structs[findIndexCleanStart(transaction, structs, id.clock)]\n}\n\n/**\n * Expects that id is actually in store. This function throws or is an infinite loop otherwise.\n *\n * @param {Transaction} transaction\n * @param {StructStore} store\n * @param {ID} id\n * @return {Item}\n *\n * @private\n * @function\n */\nexport const getItemCleanEnd = (transaction, store, id) => {\n  /**\n   * @type {Array<Item>}\n   */\n  // @ts-ignore\n  const structs = store.clients.get(id.client)\n  const index = findIndexSS(structs, id.clock)\n  const struct = structs[index]\n  if (id.clock !== struct.id.clock + struct.length - 1 && struct.constructor !== GC) {\n    structs.splice(index + 1, 0, splitItem(transaction, struct, id.clock - struct.id.clock + 1))\n  }\n  return struct\n}\n\n/**\n * Replace `item` with `newitem` in store\n * @param {StructStore} store\n * @param {GC|Item} struct\n * @param {GC|Item} newStruct\n *\n * @private\n * @function\n */\nexport const replaceStruct = (store, struct, newStruct) => {\n  const structs = /** @type {Array<GC|Item>} */ (store.clients.get(struct.id.client))\n  structs[findIndexSS(structs, struct.id.clock)] = newStruct\n}\n\n/**\n * Iterate over a range of structs\n *\n * @param {Transaction} transaction\n * @param {Array<Item|GC>} structs\n * @param {number} clockStart Inclusive start\n * @param {number} len\n * @param {function(GC|Item):void} f\n *\n * @function\n */\nexport const iterateStructs = (transaction, structs, clockStart, len, f) => {\n  if (len === 0) {\n    return\n  }\n  const clockEnd = clockStart + len\n  let index = findIndexCleanStart(transaction, structs, clockStart)\n  let struct\n  do {\n    struct = structs[index++]\n    if (clockEnd < struct.id.clock + struct.length) {\n      findIndexCleanStart(transaction, structs, clockEnd)\n    }\n    f(struct)\n  } while (index < structs.length && structs[index].id.clock < clockEnd)\n}\n","\nimport {\n  getState,\n  writeStructsFromTransaction,\n  writeDeleteSet,\n  DeleteSet,\n  sortAndMergeDeleteSet,\n  getStateVector,\n  findIndexSS,\n  callEventHandlerListeners,\n  Item,\n  generateNewClientId,\n  createID,\n  UpdateEncoderV1, UpdateEncoderV2, GC, StructStore, AbstractType, AbstractStruct, YEvent, Doc // eslint-disable-line\n} from '../internals.js'\n\nimport * as map from 'lib0/map'\nimport * as math from 'lib0/math'\nimport * as set from 'lib0/set'\nimport * as logging from 'lib0/logging'\nimport { callAll } from 'lib0/function'\n\n/**\n * A transaction is created for every change on the Yjs model. It is possible\n * to bundle changes on the Yjs model in a single transaction to\n * minimize the number on messages sent and the number of observer calls.\n * If possible the user of this library should bundle as many changes as\n * possible. Here is an example to illustrate the advantages of bundling:\n *\n * @example\n * const map = y.define('map', YMap)\n * // Log content when change is triggered\n * map.observe(() => {\n *   console.log('change triggered')\n * })\n * // Each change on the map type triggers a log message:\n * map.set('a', 0) // => \"change triggered\"\n * map.set('b', 0) // => \"change triggered\"\n * // When put in a transaction, it will trigger the log after the transaction:\n * y.transact(() => {\n *   map.set('a', 1)\n *   map.set('b', 1)\n * }) // => \"change triggered\"\n *\n * @public\n */\nexport class Transaction {\n  /**\n   * @param {Doc} doc\n   * @param {any} origin\n   * @param {boolean} local\n   */\n  constructor (doc, origin, local) {\n    /**\n     * The Yjs instance.\n     * @type {Doc}\n     */\n    this.doc = doc\n    /**\n     * Describes the set of deleted items by ids\n     * @type {DeleteSet}\n     */\n    this.deleteSet = new DeleteSet()\n    /**\n     * Holds the state before the transaction started.\n     * @type {Map<Number,Number>}\n     */\n    this.beforeState = getStateVector(doc.store)\n    /**\n     * Holds the state after the transaction.\n     * @type {Map<Number,Number>}\n     */\n    this.afterState = new Map()\n    /**\n     * All types that were directly modified (property added or child\n     * inserted/deleted). New types are not included in this Set.\n     * Maps from type to parentSubs (`item.parentSub = null` for YArray)\n     * @type {Map<AbstractType<YEvent>,Set<String|null>>}\n     */\n    this.changed = new Map()\n    /**\n     * Stores the events for the types that observe also child elements.\n     * It is mainly used by `observeDeep`.\n     * @type {Map<AbstractType<YEvent>,Array<YEvent>>}\n     */\n    this.changedParentTypes = new Map()\n    /**\n     * @type {Array<AbstractStruct>}\n     */\n    this._mergeStructs = []\n    /**\n     * @type {any}\n     */\n    this.origin = origin\n    /**\n     * Stores meta information on the transaction\n     * @type {Map<any,any>}\n     */\n    this.meta = new Map()\n    /**\n     * Whether this change originates from this doc.\n     * @type {boolean}\n     */\n    this.local = local\n    /**\n     * @type {Set<Doc>}\n     */\n    this.subdocsAdded = new Set()\n    /**\n     * @type {Set<Doc>}\n     */\n    this.subdocsRemoved = new Set()\n    /**\n     * @type {Set<Doc>}\n     */\n    this.subdocsLoaded = new Set()\n  }\n}\n\n/**\n * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n * @param {Transaction} transaction\n * @return {boolean} Whether data was written.\n */\nexport const writeUpdateMessageFromTransaction = (encoder, transaction) => {\n  if (transaction.deleteSet.clients.size === 0 && !map.any(transaction.afterState, (clock, client) => transaction.beforeState.get(client) !== clock)) {\n    return false\n  }\n  sortAndMergeDeleteSet(transaction.deleteSet)\n  writeStructsFromTransaction(encoder, transaction)\n  writeDeleteSet(encoder, transaction.deleteSet)\n  return true\n}\n\n/**\n * @param {Transaction} transaction\n *\n * @private\n * @function\n */\nexport const nextID = transaction => {\n  const y = transaction.doc\n  return createID(y.clientID, getState(y.store, y.clientID))\n}\n\n/**\n * If `type.parent` was added in current transaction, `type` technically\n * did not change, it was just added and we should not fire events for `type`.\n *\n * @param {Transaction} transaction\n * @param {AbstractType<YEvent>} type\n * @param {string|null} parentSub\n */\nexport const addChangedTypeToTransaction = (transaction, type, parentSub) => {\n  const item = type._item\n  if (item === null || (item.id.clock < (transaction.beforeState.get(item.id.client) || 0) && !item.deleted)) {\n    map.setIfUndefined(transaction.changed, type, set.create).add(parentSub)\n  }\n}\n\n/**\n * @param {Array<AbstractStruct>} structs\n * @param {number} pos\n */\nconst tryToMergeWithLeft = (structs, pos) => {\n  const left = structs[pos - 1]\n  const right = structs[pos]\n  if (left.deleted === right.deleted && left.constructor === right.constructor) {\n    if (left.mergeWith(right)) {\n      structs.splice(pos, 1)\n      if (right instanceof Item && right.parentSub !== null && /** @type {AbstractType<any>} */ (right.parent)._map.get(right.parentSub) === right) {\n        /** @type {AbstractType<any>} */ (right.parent)._map.set(right.parentSub, /** @type {Item} */ (left))\n      }\n    }\n  }\n}\n\n/**\n * @param {DeleteSet} ds\n * @param {StructStore} store\n * @param {function(Item):boolean} gcFilter\n */\nconst tryGcDeleteSet = (ds, store, gcFilter) => {\n  for (const [client, deleteItems] of ds.clients.entries()) {\n    const structs = /** @type {Array<GC|Item>} */ (store.clients.get(client))\n    for (let di = deleteItems.length - 1; di >= 0; di--) {\n      const deleteItem = deleteItems[di]\n      const endDeleteItemClock = deleteItem.clock + deleteItem.len\n      for (\n        let si = findIndexSS(structs, deleteItem.clock), struct = structs[si];\n        si < structs.length && struct.id.clock < endDeleteItemClock;\n        struct = structs[++si]\n      ) {\n        const struct = structs[si]\n        if (deleteItem.clock + deleteItem.len <= struct.id.clock) {\n          break\n        }\n        if (struct instanceof Item && struct.deleted && !struct.keep && gcFilter(struct)) {\n          struct.gc(store, false)\n        }\n      }\n    }\n  }\n}\n\n/**\n * @param {DeleteSet} ds\n * @param {StructStore} store\n */\nconst tryMergeDeleteSet = (ds, store) => {\n  // try to merge deleted / gc'd items\n  // merge from right to left for better efficiecy and so we don't miss any merge targets\n  ds.clients.forEach((deleteItems, client) => {\n    const structs = /** @type {Array<GC|Item>} */ (store.clients.get(client))\n    for (let di = deleteItems.length - 1; di >= 0; di--) {\n      const deleteItem = deleteItems[di]\n      // start with merging the item next to the last deleted item\n      const mostRightIndexToCheck = math.min(structs.length - 1, 1 + findIndexSS(structs, deleteItem.clock + deleteItem.len - 1))\n      for (\n        let si = mostRightIndexToCheck, struct = structs[si];\n        si > 0 && struct.id.clock >= deleteItem.clock;\n        struct = structs[--si]\n      ) {\n        tryToMergeWithLeft(structs, si)\n      }\n    }\n  })\n}\n\n/**\n * @param {DeleteSet} ds\n * @param {StructStore} store\n * @param {function(Item):boolean} gcFilter\n */\nexport const tryGc = (ds, store, gcFilter) => {\n  tryGcDeleteSet(ds, store, gcFilter)\n  tryMergeDeleteSet(ds, store)\n}\n\n/**\n * @param {Array<Transaction>} transactionCleanups\n * @param {number} i\n */\nconst cleanupTransactions = (transactionCleanups, i) => {\n  if (i < transactionCleanups.length) {\n    const transaction = transactionCleanups[i]\n    const doc = transaction.doc\n    const store = doc.store\n    const ds = transaction.deleteSet\n    const mergeStructs = transaction._mergeStructs\n    try {\n      sortAndMergeDeleteSet(ds)\n      transaction.afterState = getStateVector(transaction.doc.store)\n      doc._transaction = null\n      doc.emit('beforeObserverCalls', [transaction, doc])\n      /**\n       * An array of event callbacks.\n       *\n       * Each callback is called even if the other ones throw errors.\n       *\n       * @type {Array<function():void>}\n       */\n      const fs = []\n      // observe events on changed types\n      transaction.changed.forEach((subs, itemtype) =>\n        fs.push(() => {\n          if (itemtype._item === null || !itemtype._item.deleted) {\n            itemtype._callObserver(transaction, subs)\n          }\n        })\n      )\n      fs.push(() => {\n        // deep observe events\n        transaction.changedParentTypes.forEach((events, type) =>\n          fs.push(() => {\n            // We need to think about the possibility that the user transforms the\n            // Y.Doc in the event.\n            if (type._item === null || !type._item.deleted) {\n              events = events\n                .filter(event =>\n                  event.target._item === null || !event.target._item.deleted\n                )\n              events\n                .forEach(event => {\n                  event.currentTarget = type\n                })\n              // sort events by path length so that top-level events are fired first.\n              events\n                .sort((event1, event2) => event1.path.length - event2.path.length)\n              // We don't need to check for events.length\n              // because we know it has at least one element\n              callEventHandlerListeners(type._dEH, events, transaction)\n            }\n          })\n        )\n        fs.push(() => doc.emit('afterTransaction', [transaction, doc]))\n      })\n      callAll(fs, [])\n    } finally {\n      // Replace deleted items with ItemDeleted / GC.\n      // This is where content is actually remove from the Yjs Doc.\n      if (doc.gc) {\n        tryGcDeleteSet(ds, store, doc.gcFilter)\n      }\n      tryMergeDeleteSet(ds, store)\n\n      // on all affected store.clients props, try to merge\n      transaction.afterState.forEach((clock, client) => {\n        const beforeClock = transaction.beforeState.get(client) || 0\n        if (beforeClock !== clock) {\n          const structs = /** @type {Array<GC|Item>} */ (store.clients.get(client))\n          // we iterate from right to left so we can safely remove entries\n          const firstChangePos = math.max(findIndexSS(structs, beforeClock), 1)\n          for (let i = structs.length - 1; i >= firstChangePos; i--) {\n            tryToMergeWithLeft(structs, i)\n          }\n        }\n      })\n      // try to merge mergeStructs\n      // @todo: it makes more sense to transform mergeStructs to a DS, sort it, and merge from right to left\n      //        but at the moment DS does not handle duplicates\n      for (let i = 0; i < mergeStructs.length; i++) {\n        const { client, clock } = mergeStructs[i].id\n        const structs = /** @type {Array<GC|Item>} */ (store.clients.get(client))\n        const replacedStructPos = findIndexSS(structs, clock)\n        if (replacedStructPos + 1 < structs.length) {\n          tryToMergeWithLeft(structs, replacedStructPos + 1)\n        }\n        if (replacedStructPos > 0) {\n          tryToMergeWithLeft(structs, replacedStructPos)\n        }\n      }\n      if (!transaction.local && transaction.afterState.get(doc.clientID) !== transaction.beforeState.get(doc.clientID)) {\n        doc.clientID = generateNewClientId()\n        logging.print(logging.ORANGE, logging.BOLD, '[yjs] ', logging.UNBOLD, logging.RED, 'Changed the client-id because another client seems to be using it.')\n      }\n      // @todo Merge all the transactions into one and provide send the data as a single update message\n      doc.emit('afterTransactionCleanup', [transaction, doc])\n      if (doc._observers.has('update')) {\n        const encoder = new UpdateEncoderV1()\n        const hasContent = writeUpdateMessageFromTransaction(encoder, transaction)\n        if (hasContent) {\n          doc.emit('update', [encoder.toUint8Array(), transaction.origin, doc, transaction])\n        }\n      }\n      if (doc._observers.has('updateV2')) {\n        const encoder = new UpdateEncoderV2()\n        const hasContent = writeUpdateMessageFromTransaction(encoder, transaction)\n        if (hasContent) {\n          doc.emit('updateV2', [encoder.toUint8Array(), transaction.origin, doc, transaction])\n        }\n      }\n      transaction.subdocsAdded.forEach(subdoc => doc.subdocs.add(subdoc))\n      transaction.subdocsRemoved.forEach(subdoc => doc.subdocs.delete(subdoc))\n\n      doc.emit('subdocs', [{ loaded: transaction.subdocsLoaded, added: transaction.subdocsAdded, removed: transaction.subdocsRemoved }])\n      transaction.subdocsRemoved.forEach(subdoc => subdoc.destroy())\n\n      if (transactionCleanups.length <= i + 1) {\n        doc._transactionCleanups = []\n        doc.emit('afterAllTransactions', [doc, transactionCleanups])\n      } else {\n        cleanupTransactions(transactionCleanups, i + 1)\n      }\n    }\n  }\n}\n\n/**\n * Implements the functionality of `y.transact(()=>{..})`\n *\n * @param {Doc} doc\n * @param {function(Transaction):void} f\n * @param {any} [origin=true]\n *\n * @function\n */\nexport const transact = (doc, f, origin = null, local = true) => {\n  const transactionCleanups = doc._transactionCleanups\n  let initialCall = false\n  if (doc._transaction === null) {\n    initialCall = true\n    doc._transaction = new Transaction(doc, origin, local)\n    transactionCleanups.push(doc._transaction)\n    if (transactionCleanups.length === 1) {\n      doc.emit('beforeAllTransactions', [doc])\n    }\n    doc.emit('beforeTransaction', [doc._transaction, doc])\n  }\n  try {\n    f(doc._transaction)\n  } finally {\n    if (initialCall && transactionCleanups[0] === doc._transaction) {\n      // The first transaction ended, now process observer calls.\n      // Observer call may create new transactions for which we need to call the observers and do cleanup.\n      // We don't want to nest these calls, so we execute these calls one after\n      // another.\n      // Also we need to ensure that all cleanups are called, even if the\n      // observes throw errors.\n      // This file is full of hacky try {} finally {} blocks to ensure that an\n      // event can throw errors and also that the cleanup is called.\n      cleanupTransactions(transactionCleanups, 0)\n    }\n  }\n}\n","import {\n  mergeDeleteSets,\n  iterateDeletedStructs,\n  keepItem,\n  transact,\n  createID,\n  redoItem,\n  isParentOf,\n  followRedone,\n  getItemCleanStart,\n  isDeleted,\n  addToDeleteSet,\n  Transaction, Doc, Item, GC, DeleteSet, AbstractType, YEvent // eslint-disable-line\n} from '../internals.js'\n\nimport * as time from 'lib0/time'\nimport { Observable } from 'lib0/observable'\n\nclass StackItem {\n  /**\n   * @param {DeleteSet} deletions\n   * @param {DeleteSet} insertions\n   */\n  constructor (deletions, insertions) {\n    this.insertions = insertions\n    this.deletions = deletions\n    /**\n     * Use this to save and restore metadata like selection range\n     */\n    this.meta = new Map()\n  }\n}\n\n/**\n * @param {UndoManager} undoManager\n * @param {Array<StackItem>} stack\n * @param {string} eventType\n * @return {StackItem?}\n */\nconst popStackItem = (undoManager, stack, eventType) => {\n  /**\n   * Whether a change happened\n   * @type {StackItem?}\n   */\n  let result = null\n  /**\n   * Keep a reference to the transaction so we can fire the event with the changedParentTypes\n   * @type {any}\n   */\n  let _tr = null\n  const doc = undoManager.doc\n  const scope = undoManager.scope\n  transact(doc, transaction => {\n    while (stack.length > 0 && result === null) {\n      const store = doc.store\n      const stackItem = /** @type {StackItem} */ (stack.pop())\n      /**\n       * @type {Set<Item>}\n       */\n      const itemsToRedo = new Set()\n      /**\n       * @type {Array<Item>}\n       */\n      const itemsToDelete = []\n      let performedChange = false\n      iterateDeletedStructs(transaction, stackItem.insertions, struct => {\n        if (struct instanceof Item) {\n          if (struct.redone !== null) {\n            let { item, diff } = followRedone(store, struct.id)\n            if (diff > 0) {\n              item = getItemCleanStart(transaction, createID(item.id.client, item.id.clock + diff))\n            }\n            struct = item\n          }\n          if (!struct.deleted && scope.some(type => isParentOf(type, /** @type {Item} */ (struct)))) {\n            itemsToDelete.push(struct)\n          }\n        }\n      })\n      iterateDeletedStructs(transaction, stackItem.deletions, struct => {\n        if (\n          struct instanceof Item &&\n          scope.some(type => isParentOf(type, struct)) &&\n          // Never redo structs in stackItem.insertions because they were created and deleted in the same capture interval.\n          !isDeleted(stackItem.insertions, struct.id)\n        ) {\n          itemsToRedo.add(struct)\n        }\n      })\n      itemsToRedo.forEach(struct => {\n        performedChange = redoItem(transaction, struct, itemsToRedo) !== null || performedChange\n      })\n      // We want to delete in reverse order so that children are deleted before\n      // parents, so we have more information available when items are filtered.\n      for (let i = itemsToDelete.length - 1; i >= 0; i--) {\n        const item = itemsToDelete[i]\n        if (undoManager.deleteFilter(item)) {\n          item.delete(transaction)\n          performedChange = true\n        }\n      }\n      result = performedChange ? stackItem : null\n    }\n    transaction.changed.forEach((subProps, type) => {\n      // destroy search marker if necessary\n      if (subProps.has(null) && type._searchMarker) {\n        type._searchMarker.length = 0\n      }\n    })\n    _tr = transaction\n  }, undoManager)\n  if (result != null) {\n    const changedParentTypes = _tr.changedParentTypes\n    undoManager.emit('stack-item-popped', [{ stackItem: result, type: eventType, changedParentTypes }, undoManager])\n  }\n  return result\n}\n\n/**\n * @typedef {Object} UndoManagerOptions\n * @property {number} [UndoManagerOptions.captureTimeout=500]\n * @property {function(Item):boolean} [UndoManagerOptions.deleteFilter=()=>true] Sometimes\n * it is necessary to filter whan an Undo/Redo operation can delete. If this\n * filter returns false, the type/item won't be deleted even it is in the\n * undo/redo scope.\n * @property {Set<any>} [UndoManagerOptions.trackedOrigins=new Set([null])]\n */\n\n/**\n * Fires 'stack-item-added' event when a stack item was added to either the undo- or\n * the redo-stack. You may store additional stack information via the\n * metadata property on `event.stackItem.meta` (it is a `Map` of metadata properties).\n * Fires 'stack-item-popped' event when a stack item was popped from either the\n * undo- or the redo-stack. You may restore the saved stack information from `event.stackItem.meta`.\n *\n * @extends {Observable<'stack-item-added'|'stack-item-popped'>}\n */\nexport class UndoManager extends Observable {\n  /**\n   * @param {AbstractType<any>|Array<AbstractType<any>>} typeScope Accepts either a single type, or an array of types\n   * @param {UndoManagerOptions} options\n   */\n  constructor (typeScope, { captureTimeout = 500, deleteFilter = () => true, trackedOrigins = new Set([null]) } = {}) {\n    super()\n    this.scope = typeScope instanceof Array ? typeScope : [typeScope]\n    this.deleteFilter = deleteFilter\n    trackedOrigins.add(this)\n    this.trackedOrigins = trackedOrigins\n    /**\n     * @type {Array<StackItem>}\n     */\n    this.undoStack = []\n    /**\n     * @type {Array<StackItem>}\n     */\n    this.redoStack = []\n    /**\n     * Whether the client is currently undoing (calling UndoManager.undo)\n     *\n     * @type {boolean}\n     */\n    this.undoing = false\n    this.redoing = false\n    this.doc = /** @type {Doc} */ (this.scope[0].doc)\n    this.lastChange = 0\n    this.doc.on('afterTransaction', /** @param {Transaction} transaction */ transaction => {\n      // Only track certain transactions\n      if (!this.scope.some(type => transaction.changedParentTypes.has(type)) || (!this.trackedOrigins.has(transaction.origin) && (!transaction.origin || !this.trackedOrigins.has(transaction.origin.constructor)))) {\n        return\n      }\n      const undoing = this.undoing\n      const redoing = this.redoing\n      const stack = undoing ? this.redoStack : this.undoStack\n      if (undoing) {\n        this.stopCapturing() // next undo should not be appended to last stack item\n      } else if (!redoing) {\n        // neither undoing nor redoing: delete redoStack\n        this.redoStack = []\n      }\n      const insertions = new DeleteSet()\n      transaction.afterState.forEach((endClock, client) => {\n        const startClock = transaction.beforeState.get(client) || 0\n        const len = endClock - startClock\n        if (len > 0) {\n          addToDeleteSet(insertions, client, startClock, len)\n        }\n      })\n      const now = time.getUnixTime()\n      if (now - this.lastChange < captureTimeout && stack.length > 0 && !undoing && !redoing) {\n        // append change to last stack op\n        const lastOp = stack[stack.length - 1]\n        lastOp.deletions = mergeDeleteSets([lastOp.deletions, transaction.deleteSet])\n        lastOp.insertions = mergeDeleteSets([lastOp.insertions, insertions])\n      } else {\n        // create a new stack op\n        stack.push(new StackItem(transaction.deleteSet, insertions))\n      }\n      if (!undoing && !redoing) {\n        this.lastChange = now\n      }\n      // make sure that deleted structs are not gc'd\n      iterateDeletedStructs(transaction, transaction.deleteSet, /** @param {Item|GC} item */ item => {\n        if (item instanceof Item && this.scope.some(type => isParentOf(type, item))) {\n          keepItem(item, true)\n        }\n      })\n      this.emit('stack-item-added', [{ stackItem: stack[stack.length - 1], origin: transaction.origin, type: undoing ? 'redo' : 'undo', changedParentTypes: transaction.changedParentTypes }, this])\n    })\n  }\n\n  clear () {\n    this.doc.transact(transaction => {\n      /**\n       * @param {StackItem} stackItem\n       */\n      const clearItem = stackItem => {\n        iterateDeletedStructs(transaction, stackItem.deletions, item => {\n          if (item instanceof Item && this.scope.some(type => isParentOf(type, item))) {\n            keepItem(item, false)\n          }\n        })\n      }\n      this.undoStack.forEach(clearItem)\n      this.redoStack.forEach(clearItem)\n    })\n    this.undoStack = []\n    this.redoStack = []\n  }\n\n  /**\n   * UndoManager merges Undo-StackItem if they are created within time-gap\n   * smaller than `options.captureTimeout`. Call `um.stopCapturing()` so that the next\n   * StackItem won't be merged.\n   *\n   *\n   * @example\n   *     // without stopCapturing\n   *     ytext.insert(0, 'a')\n   *     ytext.insert(1, 'b')\n   *     um.undo()\n   *     ytext.toString() // => '' (note that 'ab' was removed)\n   *     // with stopCapturing\n   *     ytext.insert(0, 'a')\n   *     um.stopCapturing()\n   *     ytext.insert(0, 'b')\n   *     um.undo()\n   *     ytext.toString() // => 'a' (note that only 'b' was removed)\n   *\n   */\n  stopCapturing () {\n    this.lastChange = 0\n  }\n\n  /**\n   * Undo last changes on type.\n   *\n   * @return {StackItem?} Returns StackItem if a change was applied\n   */\n  undo () {\n    this.undoing = true\n    let res\n    try {\n      res = popStackItem(this, this.undoStack, 'undo')\n    } finally {\n      this.undoing = false\n    }\n    return res\n  }\n\n  /**\n   * Redo last undo operation.\n   *\n   * @return {StackItem?} Returns StackItem if a change was applied\n   */\n  redo () {\n    this.redoing = true\n    let res\n    try {\n      res = popStackItem(this, this.redoStack, 'redo')\n    } finally {\n      this.redoing = false\n    }\n    return res\n  }\n}\n","\nimport * as binary from 'lib0/binary'\nimport * as decoding from 'lib0/decoding'\nimport * as encoding from 'lib0/encoding'\nimport * as logging from 'lib0/logging'\nimport * as math from 'lib0/math'\nimport {\n  createID,\n  readItemContent,\n  readDeleteSet,\n  writeDeleteSet,\n  Skip,\n  mergeDeleteSets,\n  DSEncoderV1,\n  DSEncoderV2,\n  decodeStateVector,\n  Item, GC, UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2 // eslint-disable-line\n} from '../internals.js'\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n */\nfunction * lazyStructReaderGenerator (decoder) {\n  const numOfStateUpdates = decoding.readVarUint(decoder.restDecoder)\n  for (let i = 0; i < numOfStateUpdates; i++) {\n    const numberOfStructs = decoding.readVarUint(decoder.restDecoder)\n    const client = decoder.readClient()\n    let clock = decoding.readVarUint(decoder.restDecoder)\n    for (let i = 0; i < numberOfStructs; i++) {\n      const info = decoder.readInfo()\n      // @todo use switch instead of ifs\n      if (info === 10) {\n        const len = decoding.readVarUint(decoder.restDecoder)\n        yield new Skip(createID(client, clock), len)\n        clock += len\n      } else if ((binary.BITS5 & info) !== 0) {\n        const cantCopyParentInfo = (info & (binary.BIT7 | binary.BIT8)) === 0\n        // If parent = null and neither left nor right are defined, then we know that `parent` is child of `y`\n        // and we read the next string as parentYKey.\n        // It indicates how we store/retrieve parent from `y.share`\n        // @type {string|null}\n        const struct = new Item(\n          createID(client, clock),\n          null, // left\n          (info & binary.BIT8) === binary.BIT8 ? decoder.readLeftID() : null, // origin\n          null, // right\n          (info & binary.BIT7) === binary.BIT7 ? decoder.readRightID() : null, // right origin\n          // @ts-ignore Force writing a string here.\n          cantCopyParentInfo ? (decoder.readParentInfo() ? decoder.readString() : decoder.readLeftID()) : null, // parent\n          cantCopyParentInfo && (info & binary.BIT6) === binary.BIT6 ? decoder.readString() : null, // parentSub\n          readItemContent(decoder, info) // item content\n        )\n        yield struct\n        clock += struct.length\n      } else {\n        const len = decoder.readLen()\n        yield new GC(createID(client, clock), len)\n        clock += len\n      }\n    }\n  }\n}\n\nexport class LazyStructReader {\n  /**\n   * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n   * @param {boolean} filterSkips\n   */\n  constructor (decoder, filterSkips) {\n    this.gen = lazyStructReaderGenerator(decoder)\n    /**\n     * @type {null | Item | Skip | GC}\n     */\n    this.curr = null\n    this.done = false\n    this.filterSkips = filterSkips\n    this.next()\n  }\n\n  /**\n   * @return {Item | GC | Skip |null}\n   */\n  next () {\n    // ignore \"Skip\" structs\n    do {\n      this.curr = this.gen.next().value || null\n    } while (this.filterSkips && this.curr !== null && this.curr.constructor === Skip)\n    return this.curr\n  }\n}\n\n/**\n * @param {Uint8Array} update\n *\n */\nexport const logUpdate = update => logUpdateV2(update, UpdateDecoderV1)\n\n/**\n * @param {Uint8Array} update\n * @param {typeof UpdateDecoderV2 | typeof UpdateDecoderV1} [YDecoder]\n *\n */\nexport const logUpdateV2 = (update, YDecoder = UpdateDecoderV2) => {\n  const structs = []\n  const updateDecoder = new YDecoder(decoding.createDecoder(update))\n  const lazyDecoder = new LazyStructReader(updateDecoder, false)\n  for (let curr = lazyDecoder.curr; curr !== null; curr = lazyDecoder.next()) {\n    structs.push(curr)\n  }\n  logging.print('Structs: ', structs)\n  const ds = readDeleteSet(updateDecoder)\n  logging.print('DeleteSet: ', ds)\n}\n\nexport class LazyStructWriter {\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   */\n  constructor (encoder) {\n    this.currClient = 0\n    this.startClock = 0\n    this.written = 0\n    this.encoder = encoder\n    /**\n     * We want to write operations lazily, but also we need to know beforehand how many operations we want to write for each client.\n     *\n     * This kind of meta-information (#clients, #structs-per-client-written) is written to the restEncoder.\n     *\n     * We fragment the restEncoder and store a slice of it per-client until we know how many clients there are.\n     * When we flush (toUint8Array) we write the restEncoder using the fragments and the meta-information.\n     *\n     * @type {Array<{ written: number, restEncoder: Uint8Array }>}\n     */\n    this.clientStructs = []\n  }\n}\n\n/**\n * @param {Array<Uint8Array>} updates\n * @return {Uint8Array}\n */\nexport const mergeUpdates = updates => mergeUpdatesV2(updates, UpdateDecoderV1, UpdateEncoderV1)\n\n/**\n * @param {Uint8Array} update\n * @param {typeof DSEncoderV1 | typeof DSEncoderV2} YEncoder\n * @param {typeof UpdateDecoderV1 | typeof UpdateDecoderV2} YDecoder\n * @return {Uint8Array}\n */\nexport const encodeStateVectorFromUpdateV2 = (update, YEncoder = DSEncoderV2, YDecoder = UpdateDecoderV2) => {\n  const encoder = new YEncoder()\n  const updateDecoder = new LazyStructReader(new YDecoder(decoding.createDecoder(update)), false)\n  let curr = updateDecoder.curr\n  if (curr !== null) {\n    let size = 0\n    let currClient = curr.id.client\n    let currClock = 0\n    let stopCounting = curr.id.clock !== 0 // must start at 0\n    for (; curr !== null; curr = updateDecoder.next()) {\n      // we ignore skips\n      if (curr.constructor === Skip) {\n        stopCounting = true\n      }\n      if (!stopCounting) {\n        currClock = curr.id.clock + curr.length\n      }\n      if (currClient !== curr.id.client) {\n        if (currClock !== 0) {\n          size++\n          // We found a new client\n          // write what we have to the encoder\n          encoding.writeVarUint(encoder.restEncoder, currClient)\n          encoding.writeVarUint(encoder.restEncoder, currClock)\n        }\n        currClient = curr.id.client\n        stopCounting = false\n      }\n    }\n    // write what we have\n    if (currClock !== 0) {\n      size++\n      encoding.writeVarUint(encoder.restEncoder, currClient)\n      encoding.writeVarUint(encoder.restEncoder, currClock)\n    }\n    // prepend the size of the state vector\n    const enc = encoding.createEncoder()\n    encoding.writeVarUint(enc, size)\n    encoding.writeBinaryEncoder(enc, encoder.restEncoder)\n    encoder.restEncoder = enc\n    return encoder.toUint8Array()\n  } else {\n    encoding.writeVarUint(encoder.restEncoder, 0)\n    return encoder.toUint8Array()\n  }\n}\n\n/**\n * @param {Uint8Array} update\n * @return {Uint8Array}\n */\nexport const encodeStateVectorFromUpdate = update => encodeStateVectorFromUpdateV2(update, DSEncoderV1, UpdateDecoderV1)\n\n/**\n * @param {Uint8Array} update\n * @param {typeof UpdateDecoderV1 | typeof UpdateDecoderV2} YDecoder\n * @return {{ from: Map<number,number>, to: Map<number,number> }}\n */\nexport const parseUpdateMetaV2 = (update, YDecoder = UpdateDecoderV2) => {\n  /**\n   * @type {Map<number, number>}\n   */\n  const from = new Map()\n  /**\n   * @type {Map<number, number>}\n   */\n  const to = new Map()\n  const updateDecoder = new LazyStructReader(new YDecoder(decoding.createDecoder(update)), false)\n  let curr = updateDecoder.curr\n  if (curr !== null) {\n    let currClient = curr.id.client\n    let currClock = curr.id.clock\n    // write the beginning to `from`\n    from.set(currClient, currClock)\n    for (; curr !== null; curr = updateDecoder.next()) {\n      if (currClient !== curr.id.client) {\n        // We found a new client\n        // write the end to `to`\n        to.set(currClient, currClock)\n        // write the beginning to `from`\n        from.set(curr.id.client, curr.id.clock)\n        // update currClient\n        currClient = curr.id.client\n      }\n      currClock = curr.id.clock + curr.length\n    }\n    // write the end to `to`\n    to.set(currClient, currClock)\n  }\n  return { from, to }\n}\n\n/**\n * @param {Uint8Array} update\n * @return {{ from: Map<number,number>, to: Map<number,number> }}\n */\nexport const parseUpdateMeta = update => parseUpdateMetaV2(update, UpdateDecoderV1)\n\n/**\n * This method is intended to slice any kind of struct and retrieve the right part.\n * It does not handle side-effects, so it should only be used by the lazy-encoder.\n *\n * @param {Item | GC | Skip} left\n * @param {number} diff\n * @return {Item | GC}\n */\nconst sliceStruct = (left, diff) => {\n  if (left.constructor === GC) {\n    const { client, clock } = left.id\n    return new GC(createID(client, clock + diff), left.length - diff)\n  } else if (left.constructor === Skip) {\n    const { client, clock } = left.id\n    return new Skip(createID(client, clock + diff), left.length - diff)\n  } else {\n    const leftItem = /** @type {Item} */ (left)\n    const { client, clock } = leftItem.id\n    return new Item(\n      createID(client, clock + diff),\n      null,\n      createID(client, clock + diff - 1),\n      null,\n      leftItem.rightOrigin,\n      leftItem.parent,\n      leftItem.parentSub,\n      leftItem.content.splice(diff)\n    )\n  }\n}\n\n/**\n *\n * This function works similarly to `readUpdateV2`.\n *\n * @param {Array<Uint8Array>} updates\n * @param {typeof UpdateDecoderV1 | typeof UpdateDecoderV2} [YDecoder]\n * @param {typeof UpdateEncoderV1 | typeof UpdateEncoderV2} [YEncoder]\n * @return {Uint8Array}\n */\nexport const mergeUpdatesV2 = (updates, YDecoder = UpdateDecoderV2, YEncoder = UpdateEncoderV2) => {\n  const updateDecoders = updates.map(update => new YDecoder(decoding.createDecoder(update)))\n  let lazyStructDecoders = updateDecoders.map(decoder => new LazyStructReader(decoder, true))\n\n  /**\n   * @todo we don't need offset because we always slice before\n   * @type {null | { struct: Item | GC | Skip, offset: number }}\n   */\n  let currWrite = null\n\n  const updateEncoder = new YEncoder()\n  // write structs lazily\n  const lazyStructEncoder = new LazyStructWriter(updateEncoder)\n\n  // Note: We need to ensure that all lazyStructDecoders are fully consumed\n  // Note: Should merge document updates whenever possible - even from different updates\n  // Note: Should handle that some operations cannot be applied yet ()\n\n  while (true) {\n    // Write higher clients first  sort by clientID & clock and remove decoders without content\n    lazyStructDecoders = lazyStructDecoders.filter(dec => dec.curr !== null)\n    lazyStructDecoders.sort(\n      /** @type {function(any,any):number} */ (dec1, dec2) => {\n        if (dec1.curr.id.client === dec2.curr.id.client) {\n          const clockDiff = dec1.curr.id.clock - dec2.curr.id.clock\n          if (clockDiff === 0) {\n            return dec1.curr.constructor === dec2.curr.constructor ? 0 : (\n              dec1.curr.constructor === Skip ? 1 : -1\n            )\n          } else {\n            return clockDiff\n          }\n        } else {\n          return dec2.curr.id.client - dec1.curr.id.client\n        }\n      }\n    )\n    if (lazyStructDecoders.length === 0) {\n      break\n    }\n    const currDecoder = lazyStructDecoders[0]\n    // write from currDecoder until the next operation is from another client or if filler-struct\n    // then we need to reorder the decoders and find the next operation to write\n    const firstClient = /** @type {Item | GC} */ (currDecoder.curr).id.client\n\n    if (currWrite !== null) {\n      let curr = /** @type {Item | GC | null} */ (currDecoder.curr)\n\n      // iterate until we find something that we haven't written already\n      // remember: first the high client-ids are written\n      while (curr !== null && curr.id.clock + curr.length <= currWrite.struct.id.clock + currWrite.struct.length && curr.id.client >= currWrite.struct.id.client) {\n        curr = currDecoder.next()\n      }\n      if (curr === null || curr.id.client !== firstClient) {\n        continue\n      }\n\n      if (firstClient !== currWrite.struct.id.client) {\n        writeStructToLazyStructWriter(lazyStructEncoder, currWrite.struct, currWrite.offset)\n        currWrite = { struct: curr, offset: 0 }\n        currDecoder.next()\n      } else {\n        if (currWrite.struct.id.clock + currWrite.struct.length < curr.id.clock) {\n          // @todo write currStruct & set currStruct = Skip(clock = currStruct.id.clock + currStruct.length, length = curr.id.clock - self.clock)\n          if (currWrite.struct.constructor === Skip) {\n            // extend existing skip\n            currWrite.struct.length = curr.id.clock + curr.length - currWrite.struct.id.clock\n          } else {\n            writeStructToLazyStructWriter(lazyStructEncoder, currWrite.struct, currWrite.offset)\n            const diff = curr.id.clock - currWrite.struct.id.clock - currWrite.struct.length\n            /**\n             * @type {Skip}\n             */\n            const struct = new Skip(createID(firstClient, currWrite.struct.id.clock + currWrite.struct.length), diff)\n            currWrite = { struct, offset: 0 }\n          }\n        } else { // if (currWrite.struct.id.clock + currWrite.struct.length >= curr.id.clock) {\n          const diff = currWrite.struct.id.clock + currWrite.struct.length - curr.id.clock\n          if (diff > 0) {\n            if (currWrite.struct.constructor === Skip) {\n              // prefer to slice Skip because the other struct might contain more information\n              currWrite.struct.length -= diff\n            } else {\n              curr = sliceStruct(curr, diff)\n            }\n          }\n          if (!currWrite.struct.mergeWith(/** @type {any} */ (curr))) {\n            writeStructToLazyStructWriter(lazyStructEncoder, currWrite.struct, currWrite.offset)\n            currWrite = { struct: curr, offset: 0 }\n            currDecoder.next()\n          }\n        }\n      }\n    } else {\n      currWrite = { struct: /** @type {Item | GC} */ (currDecoder.curr), offset: 0 }\n      currDecoder.next()\n    }\n    for (\n      let next = currDecoder.curr;\n      next !== null && next.id.client === firstClient && next.id.clock === currWrite.struct.id.clock + currWrite.struct.length && next.constructor !== Skip;\n      next = currDecoder.next()\n    ) {\n      writeStructToLazyStructWriter(lazyStructEncoder, currWrite.struct, currWrite.offset)\n      currWrite = { struct: next, offset: 0 }\n    }\n  }\n  if (currWrite !== null) {\n    writeStructToLazyStructWriter(lazyStructEncoder, currWrite.struct, currWrite.offset)\n    currWrite = null\n  }\n  finishLazyStructWriting(lazyStructEncoder)\n\n  const dss = updateDecoders.map(decoder => readDeleteSet(decoder))\n  const ds = mergeDeleteSets(dss)\n  writeDeleteSet(updateEncoder, ds)\n  return updateEncoder.toUint8Array()\n}\n\n/**\n * @param {Uint8Array} update\n * @param {Uint8Array} sv\n * @param {typeof UpdateDecoderV1 | typeof UpdateDecoderV2} [YDecoder]\n * @param {typeof UpdateEncoderV1 | typeof UpdateEncoderV2} [YEncoder]\n */\nexport const diffUpdateV2 = (update, sv, YDecoder = UpdateDecoderV2, YEncoder = UpdateEncoderV2) => {\n  const state = decodeStateVector(sv)\n  const encoder = new YEncoder()\n  const lazyStructWriter = new LazyStructWriter(encoder)\n  const decoder = new YDecoder(decoding.createDecoder(update))\n  const reader = new LazyStructReader(decoder, false)\n  while (reader.curr) {\n    const curr = reader.curr\n    const currClient = curr.id.client\n    const svClock = state.get(currClient) || 0\n    if (reader.curr.constructor === Skip) {\n      // the first written struct shouldn't be a skip\n      reader.next()\n      continue\n    }\n    if (curr.id.clock + curr.length > svClock) {\n      writeStructToLazyStructWriter(lazyStructWriter, curr, math.max(svClock - curr.id.clock, 0))\n      reader.next()\n      while (reader.curr && reader.curr.id.client === currClient) {\n        writeStructToLazyStructWriter(lazyStructWriter, reader.curr, 0)\n        reader.next()\n      }\n    } else {\n      // read until something new comes up\n      while (reader.curr && reader.curr.id.client === currClient && reader.curr.id.clock + reader.curr.length <= svClock) {\n        reader.next()\n      }\n    }\n  }\n  finishLazyStructWriting(lazyStructWriter)\n  // write ds\n  const ds = readDeleteSet(decoder)\n  writeDeleteSet(encoder, ds)\n  return encoder.toUint8Array()\n}\n\n/**\n * @param {Uint8Array} update\n * @param {Uint8Array} sv\n */\nexport const diffUpdate = (update, sv) => diffUpdateV2(update, sv, UpdateDecoderV1, UpdateEncoderV1)\n\n/**\n * @param {LazyStructWriter} lazyWriter\n */\nconst flushLazyStructWriter = lazyWriter => {\n  if (lazyWriter.written > 0) {\n    lazyWriter.clientStructs.push({ written: lazyWriter.written, restEncoder: encoding.toUint8Array(lazyWriter.encoder.restEncoder) })\n    lazyWriter.encoder.restEncoder = encoding.createEncoder()\n    lazyWriter.written = 0\n  }\n}\n\n/**\n * @param {LazyStructWriter} lazyWriter\n * @param {Item | GC} struct\n * @param {number} offset\n */\nconst writeStructToLazyStructWriter = (lazyWriter, struct, offset) => {\n  // flush curr if we start another client\n  if (lazyWriter.written > 0 && lazyWriter.currClient !== struct.id.client) {\n    flushLazyStructWriter(lazyWriter)\n  }\n  if (lazyWriter.written === 0) {\n    lazyWriter.currClient = struct.id.client\n    // write next client\n    lazyWriter.encoder.writeClient(struct.id.client)\n    // write startClock\n    encoding.writeVarUint(lazyWriter.encoder.restEncoder, struct.id.clock + offset)\n  }\n  struct.write(lazyWriter.encoder, offset)\n  lazyWriter.written++\n}\n/**\n * Call this function when we collected all parts and want to\n * put all the parts together. After calling this method,\n * you can continue using the UpdateEncoder.\n *\n * @param {LazyStructWriter} lazyWriter\n */\nconst finishLazyStructWriting = (lazyWriter) => {\n  flushLazyStructWriter(lazyWriter)\n\n  // this is a fresh encoder because we called flushCurr\n  const restEncoder = lazyWriter.encoder.restEncoder\n\n  /**\n   * Now we put all the fragments together.\n   * This works similarly to `writeClientsStructs`\n   */\n\n  // write # states that were updated - i.e. the clients\n  encoding.writeVarUint(restEncoder, lazyWriter.clientStructs.length)\n\n  for (let i = 0; i < lazyWriter.clientStructs.length; i++) {\n    const partStructs = lazyWriter.clientStructs[i]\n    /**\n     * Works similarly to `writeStructs`\n     */\n    // write # encoded structs\n    encoding.writeVarUint(restEncoder, partStructs.written)\n    // write the rest of the fragment\n    encoding.writeUint8Array(restEncoder, partStructs.restEncoder)\n  }\n}\n","\nimport {\n  isDeleted,\n  Item, AbstractType, Transaction, AbstractStruct // eslint-disable-line\n} from '../internals.js'\n\nimport * as set from 'lib0/set'\nimport * as array from 'lib0/array'\n\n/**\n * YEvent describes the changes on a YType.\n */\nexport class YEvent {\n  /**\n   * @param {AbstractType<any>} target The changed type.\n   * @param {Transaction} transaction\n   */\n  constructor (target, transaction) {\n    /**\n     * The type on which this event was created on.\n     * @type {AbstractType<any>}\n     */\n    this.target = target\n    /**\n     * The current target on which the observe callback is called.\n     * @type {AbstractType<any>}\n     */\n    this.currentTarget = target\n    /**\n     * The transaction that triggered this event.\n     * @type {Transaction}\n     */\n    this.transaction = transaction\n    /**\n     * @type {Object|null}\n     */\n    this._changes = null\n    /**\n     * @type {null | Map<string, { action: 'add' | 'update' | 'delete', oldValue: any, newValue: any }>}\n     */\n    this._keys = null\n    /**\n     * @type {null | Array<{ insert?: string | Array<any>, retain?: number, delete?: number, attributes?: Object<string, any> }>}\n     */\n    this._delta = null\n  }\n\n  /**\n   * Computes the path from `y` to the changed type.\n   *\n   * @todo v14 should standardize on path: Array<{parent, index}> because that is easier to work with.\n   *\n   * The following property holds:\n   * @example\n   *   let type = y\n   *   event.path.forEach(dir => {\n   *     type = type.get(dir)\n   *   })\n   *   type === event.target // => true\n   */\n  get path () {\n    // @ts-ignore _item is defined because target is integrated\n    return getPathTo(this.currentTarget, this.target)\n  }\n\n  /**\n   * Check if a struct is deleted by this event.\n   *\n   * In contrast to change.deleted, this method also returns true if the struct was added and then deleted.\n   *\n   * @param {AbstractStruct} struct\n   * @return {boolean}\n   */\n  deletes (struct) {\n    return isDeleted(this.transaction.deleteSet, struct.id)\n  }\n\n  /**\n   * @type {Map<string, { action: 'add' | 'update' | 'delete', oldValue: any, newValue: any }>}\n   */\n  get keys () {\n    if (this._keys === null) {\n      const keys = new Map()\n      const target = this.target\n      const changed = /** @type Set<string|null> */ (this.transaction.changed.get(target))\n      changed.forEach(key => {\n        if (key !== null) {\n          const item = /** @type {Item} */ (target._map.get(key))\n          /**\n           * @type {'delete' | 'add' | 'update'}\n           */\n          let action\n          let oldValue\n          if (this.adds(item)) {\n            let prev = item.left\n            while (prev !== null && this.adds(prev)) {\n              prev = prev.left\n            }\n            if (this.deletes(item)) {\n              if (prev !== null && this.deletes(prev)) {\n                action = 'delete'\n                oldValue = array.last(prev.content.getContent())\n              } else {\n                return\n              }\n            } else {\n              if (prev !== null && this.deletes(prev)) {\n                action = 'update'\n                oldValue = array.last(prev.content.getContent())\n              } else {\n                action = 'add'\n                oldValue = undefined\n              }\n            }\n          } else {\n            if (this.deletes(item)) {\n              action = 'delete'\n              oldValue = array.last(/** @type {Item} */ item.content.getContent())\n            } else {\n              return // nop\n            }\n          }\n          keys.set(key, { action, oldValue })\n        }\n      })\n      this._keys = keys\n    }\n    return this._keys\n  }\n\n  /**\n   * @type {Array<{insert?: string | Array<any>, retain?: number, delete?: number, attributes?: Object<string, any>}>}\n   */\n  get delta () {\n    return this.changes.delta\n  }\n\n  /**\n   * Check if a struct is added by this event.\n   *\n   * In contrast to change.deleted, this method also returns true if the struct was added and then deleted.\n   *\n   * @param {AbstractStruct} struct\n   * @return {boolean}\n   */\n  adds (struct) {\n    return struct.id.clock >= (this.transaction.beforeState.get(struct.id.client) || 0)\n  }\n\n  /**\n   * @type {{added:Set<Item>,deleted:Set<Item>,keys:Map<string,{action:'add'|'update'|'delete',oldValue:any}>,delta:Array<{insert?:Array<any>|string, delete?:number, retain?:number}>}}\n   */\n  get changes () {\n    let changes = this._changes\n    if (changes === null) {\n      const target = this.target\n      const added = set.create()\n      const deleted = set.create()\n      /**\n       * @type {Array<{insert:Array<any>}|{delete:number}|{retain:number}>}\n       */\n      const delta = []\n      changes = {\n        added,\n        deleted,\n        delta,\n        keys: this.keys\n      }\n      const changed = /** @type Set<string|null> */ (this.transaction.changed.get(target))\n      if (changed.has(null)) {\n        /**\n         * @type {any}\n         */\n        let lastOp = null\n        const packOp = () => {\n          if (lastOp) {\n            delta.push(lastOp)\n          }\n        }\n        for (let item = target._start; item !== null; item = item.right) {\n          if (item.deleted) {\n            if (this.deletes(item) && !this.adds(item)) {\n              if (lastOp === null || lastOp.delete === undefined) {\n                packOp()\n                lastOp = { delete: 0 }\n              }\n              lastOp.delete += item.length\n              deleted.add(item)\n            } // else nop\n          } else {\n            if (this.adds(item)) {\n              if (lastOp === null || lastOp.insert === undefined) {\n                packOp()\n                lastOp = { insert: [] }\n              }\n              lastOp.insert = lastOp.insert.concat(item.content.getContent())\n              added.add(item)\n            } else {\n              if (lastOp === null || lastOp.retain === undefined) {\n                packOp()\n                lastOp = { retain: 0 }\n              }\n              lastOp.retain += item.length\n            }\n          }\n        }\n        if (lastOp !== null && lastOp.retain === undefined) {\n          packOp()\n        }\n      }\n      this._changes = changes\n    }\n    return /** @type {any} */ (changes)\n  }\n}\n\n/**\n * Compute the path from this type to the specified target.\n *\n * @example\n *   // `child` should be accessible via `type.get(path[0]).get(path[1])..`\n *   const path = type.getPathTo(child)\n *   // assuming `type instanceof YArray`\n *   console.log(path) // might look like => [2, 'key1']\n *   child === type.get(path[0]).get(path[1])\n *\n * @param {AbstractType<any>} parent\n * @param {AbstractType<any>} child target\n * @return {Array<string|number>} Path to the target\n *\n * @private\n * @function\n */\nconst getPathTo = (parent, child) => {\n  const path = []\n  while (child._item !== null && child !== parent) {\n    if (child._item.parentSub !== null) {\n      // parent is map-ish\n      path.unshift(child._item.parentSub)\n    } else {\n      // parent is array-ish\n      let i = 0\n      let c = /** @type {AbstractType<any>} */ (child._item.parent)._start\n      while (c !== child._item && c !== null) {\n        if (!c.deleted) {\n          i++\n        }\n        c = c.right\n      }\n      path.unshift(i)\n    }\n    child = /** @type {AbstractType<any>} */ (child._item.parent)\n  }\n  return path\n}\n","\nimport {\n  removeEventHandlerListener,\n  callEventHandlerListeners,\n  addEventHandlerListener,\n  createEventHandler,\n  getState,\n  isVisible,\n  ContentType,\n  createID,\n  ContentAny,\n  ContentBinary,\n  getItemCleanStart,\n  ContentDoc, YText, YArray, UpdateEncoderV1, UpdateEncoderV2, Doc, Snapshot, Transaction, EventHandler, YEvent, Item, // eslint-disable-line\n} from '../internals.js'\n\nimport * as map from 'lib0/map'\nimport * as iterator from 'lib0/iterator'\nimport * as error from 'lib0/error'\nimport * as math from 'lib0/math'\n\nconst maxSearchMarker = 80\n\n/**\n * A unique timestamp that identifies each marker.\n *\n * Time is relative,.. this is more like an ever-increasing clock.\n *\n * @type {number}\n */\nlet globalSearchMarkerTimestamp = 0\n\nexport class ArraySearchMarker {\n  /**\n   * @param {Item} p\n   * @param {number} index\n   */\n  constructor (p, index) {\n    p.marker = true\n    this.p = p\n    this.index = index\n    this.timestamp = globalSearchMarkerTimestamp++\n  }\n}\n\n/**\n * @param {ArraySearchMarker} marker\n */\nconst refreshMarkerTimestamp = marker => { marker.timestamp = globalSearchMarkerTimestamp++ }\n\n/**\n * This is rather complex so this function is the only thing that should overwrite a marker\n *\n * @param {ArraySearchMarker} marker\n * @param {Item} p\n * @param {number} index\n */\nconst overwriteMarker = (marker, p, index) => {\n  marker.p.marker = false\n  marker.p = p\n  p.marker = true\n  marker.index = index\n  marker.timestamp = globalSearchMarkerTimestamp++\n}\n\n/**\n * @param {Array<ArraySearchMarker>} searchMarker\n * @param {Item} p\n * @param {number} index\n */\nconst markPosition = (searchMarker, p, index) => {\n  if (searchMarker.length >= maxSearchMarker) {\n    // override oldest marker (we don't want to create more objects)\n    const marker = searchMarker.reduce((a, b) => a.timestamp < b.timestamp ? a : b)\n    overwriteMarker(marker, p, index)\n    return marker\n  } else {\n    // create new marker\n    const pm = new ArraySearchMarker(p, index)\n    searchMarker.push(pm)\n    return pm\n  }\n}\n\n/**\n * Search marker help us to find positions in the associative array faster.\n *\n * They speed up the process of finding a position without much bookkeeping.\n *\n * A maximum of `maxSearchMarker` objects are created.\n *\n * This function always returns a refreshed marker (updated timestamp)\n *\n * @param {AbstractType<any>} yarray\n * @param {number} index\n */\nexport const findMarker = (yarray, index) => {\n  if (yarray._start === null || index === 0 || yarray._searchMarker === null) {\n    return null\n  }\n  const marker = yarray._searchMarker.length === 0 ? null : yarray._searchMarker.reduce((a, b) => math.abs(index - a.index) < math.abs(index - b.index) ? a : b)\n  let p = yarray._start\n  let pindex = 0\n  if (marker !== null) {\n    p = marker.p\n    pindex = marker.index\n    refreshMarkerTimestamp(marker) // we used it, we might need to use it again\n  }\n  // iterate to right if possible\n  while (p.right !== null && pindex < index) {\n    if (!p.deleted && p.countable) {\n      if (index < pindex + p.length) {\n        break\n      }\n      pindex += p.length\n    }\n    p = p.right\n  }\n  // iterate to left if necessary (might be that pindex > index)\n  while (p.left !== null && pindex > index) {\n    p = p.left\n    if (!p.deleted && p.countable) {\n      pindex -= p.length\n    }\n  }\n  // we want to make sure that p can't be merged with left, because that would screw up everything\n  // in that cas just return what we have (it is most likely the best marker anyway)\n  // iterate to left until p can't be merged with left\n  while (p.left !== null && p.left.id.client === p.id.client && p.left.id.clock + p.left.length === p.id.clock) {\n    p = p.left\n    if (!p.deleted && p.countable) {\n      pindex -= p.length\n    }\n  }\n\n  // @todo remove!\n  // assure position\n  // {\n  //   let start = yarray._start\n  //   let pos = 0\n  //   while (start !== p) {\n  //     if (!start.deleted && start.countable) {\n  //       pos += start.length\n  //     }\n  //     start = /** @type {Item} */ (start.right)\n  //   }\n  //   if (pos !== pindex) {\n  //     debugger\n  //     throw new Error('Gotcha position fail!')\n  //   }\n  // }\n  // if (marker) {\n  //   if (window.lengthes == null) {\n  //     window.lengthes = []\n  //     window.getLengthes = () => window.lengthes.sort((a, b) => a - b)\n  //   }\n  //   window.lengthes.push(marker.index - pindex)\n  //   console.log('distance', marker.index - pindex, 'len', p && p.parent.length)\n  // }\n  if (marker !== null && math.abs(marker.index - pindex) < /** @type {YText|YArray<any>} */ (p.parent).length / maxSearchMarker) {\n    // adjust existing marker\n    overwriteMarker(marker, p, pindex)\n    return marker\n  } else {\n    // create new marker\n    return markPosition(yarray._searchMarker, p, pindex)\n  }\n}\n\n/**\n * Update markers when a change happened.\n *\n * This should be called before doing a deletion!\n *\n * @param {Array<ArraySearchMarker>} searchMarker\n * @param {number} index\n * @param {number} len If insertion, len is positive. If deletion, len is negative.\n */\nexport const updateMarkerChanges = (searchMarker, index, len) => {\n  for (let i = searchMarker.length - 1; i >= 0; i--) {\n    const m = searchMarker[i]\n    if (len > 0) {\n      /**\n       * @type {Item|null}\n       */\n      let p = m.p\n      p.marker = false\n      // Ideally we just want to do a simple position comparison, but this will only work if\n      // search markers don't point to deleted items for formats.\n      // Iterate marker to prev undeleted countable position so we know what to do when updating a position\n      while (p && (p.deleted || !p.countable)) {\n        p = p.left\n        if (p && !p.deleted && p.countable) {\n          // adjust position. the loop should break now\n          m.index -= p.length\n        }\n      }\n      if (p === null || p.marker === true) {\n        // remove search marker if updated position is null or if position is already marked\n        searchMarker.splice(i, 1)\n        continue\n      }\n      m.p = p\n      p.marker = true\n    }\n    if (index < m.index || (len > 0 && index === m.index)) { // a simple index <= m.index check would actually suffice\n      m.index = math.max(index, m.index + len)\n    }\n  }\n}\n\n/**\n * Accumulate all (list) children of a type and return them as an Array.\n *\n * @param {AbstractType<any>} t\n * @return {Array<Item>}\n */\nexport const getTypeChildren = t => {\n  let s = t._start\n  const arr = []\n  while (s) {\n    arr.push(s)\n    s = s.right\n  }\n  return arr\n}\n\n/**\n * Call event listeners with an event. This will also add an event to all\n * parents (for `.observeDeep` handlers).\n *\n * @template EventType\n * @param {AbstractType<EventType>} type\n * @param {Transaction} transaction\n * @param {EventType} event\n */\nexport const callTypeObservers = (type, transaction, event) => {\n  const changedType = type\n  const changedParentTypes = transaction.changedParentTypes\n  while (true) {\n    // @ts-ignore\n    map.setIfUndefined(changedParentTypes, type, () => []).push(event)\n    if (type._item === null) {\n      break\n    }\n    type = /** @type {AbstractType<any>} */ (type._item.parent)\n  }\n  callEventHandlerListeners(changedType._eH, event, transaction)\n}\n\n/**\n * @template EventType\n * Abstract Yjs Type class\n */\nexport class AbstractType {\n  constructor () {\n    /**\n     * @type {Item|null}\n     */\n    this._item = null\n    /**\n     * @type {Map<string,Item>}\n     */\n    this._map = new Map()\n    /**\n     * @type {Item|null}\n     */\n    this._start = null\n    /**\n     * @type {Doc|null}\n     */\n    this.doc = null\n    this._length = 0\n    /**\n     * Event handlers\n     * @type {EventHandler<EventType,Transaction>}\n     */\n    this._eH = createEventHandler()\n    /**\n     * Deep event handlers\n     * @type {EventHandler<Array<YEvent>,Transaction>}\n     */\n    this._dEH = createEventHandler()\n    /**\n     * @type {null | Array<ArraySearchMarker>}\n     */\n    this._searchMarker = null\n  }\n\n  /**\n   * @return {AbstractType<any>|null}\n   */\n  get parent () {\n    return this._item ? /** @type {AbstractType<any>} */ (this._item.parent) : null\n  }\n\n  /**\n   * Integrate this type into the Yjs instance.\n   *\n   * * Save this struct in the os\n   * * This type is sent to other client\n   * * Observer functions are fired\n   *\n   * @param {Doc} y The Yjs instance\n   * @param {Item|null} item\n   */\n  _integrate (y, item) {\n    this.doc = y\n    this._item = item\n  }\n\n  /**\n   * @return {AbstractType<EventType>}\n   */\n  _copy () {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @return {AbstractType<EventType>}\n   */\n  clone () {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   */\n  _write (encoder) { }\n\n  /**\n   * The first non-deleted item\n   */\n  get _first () {\n    let n = this._start\n    while (n !== null && n.deleted) {\n      n = n.right\n    }\n    return n\n  }\n\n  /**\n   * Creates YEvent and calls all type observers.\n   * Must be implemented by each type.\n   *\n   * @param {Transaction} transaction\n   * @param {Set<null|string>} parentSubs Keys changed on this type. `null` if list was modified.\n   */\n  _callObserver (transaction, parentSubs) {\n    if (!transaction.local && this._searchMarker) {\n      this._searchMarker.length = 0\n    }\n  }\n\n  /**\n   * Observe all events that are created on this type.\n   *\n   * @param {function(EventType, Transaction):void} f Observer function\n   */\n  observe (f) {\n    addEventHandlerListener(this._eH, f)\n  }\n\n  /**\n   * Observe all events that are created by this type and its children.\n   *\n   * @param {function(Array<YEvent>,Transaction):void} f Observer function\n   */\n  observeDeep (f) {\n    addEventHandlerListener(this._dEH, f)\n  }\n\n  /**\n   * Unregister an observer function.\n   *\n   * @param {function(EventType,Transaction):void} f Observer function\n   */\n  unobserve (f) {\n    removeEventHandlerListener(this._eH, f)\n  }\n\n  /**\n   * Unregister an observer function.\n   *\n   * @param {function(Array<YEvent>,Transaction):void} f Observer function\n   */\n  unobserveDeep (f) {\n    removeEventHandlerListener(this._dEH, f)\n  }\n\n  /**\n   * @abstract\n   * @return {any}\n   */\n  toJSON () {}\n}\n\n/**\n * @param {AbstractType<any>} type\n * @param {number} start\n * @param {number} end\n * @return {Array<any>}\n *\n * @private\n * @function\n */\nexport const typeListSlice = (type, start, end) => {\n  if (start < 0) {\n    start = type._length + start\n  }\n  if (end < 0) {\n    end = type._length + end\n  }\n  let len = end - start\n  const cs = []\n  let n = type._start\n  while (n !== null && len > 0) {\n    if (n.countable && !n.deleted) {\n      const c = n.content.getContent()\n      if (c.length <= start) {\n        start -= c.length\n      } else {\n        for (let i = start; i < c.length && len > 0; i++) {\n          cs.push(c[i])\n          len--\n        }\n        start = 0\n      }\n    }\n    n = n.right\n  }\n  return cs\n}\n\n/**\n * @param {AbstractType<any>} type\n * @return {Array<any>}\n *\n * @private\n * @function\n */\nexport const typeListToArray = type => {\n  const cs = []\n  let n = type._start\n  while (n !== null) {\n    if (n.countable && !n.deleted) {\n      const c = n.content.getContent()\n      for (let i = 0; i < c.length; i++) {\n        cs.push(c[i])\n      }\n    }\n    n = n.right\n  }\n  return cs\n}\n\n/**\n * @param {AbstractType<any>} type\n * @param {Snapshot} snapshot\n * @return {Array<any>}\n *\n * @private\n * @function\n */\nexport const typeListToArraySnapshot = (type, snapshot) => {\n  const cs = []\n  let n = type._start\n  while (n !== null) {\n    if (n.countable && isVisible(n, snapshot)) {\n      const c = n.content.getContent()\n      for (let i = 0; i < c.length; i++) {\n        cs.push(c[i])\n      }\n    }\n    n = n.right\n  }\n  return cs\n}\n\n/**\n * Executes a provided function on once on overy element of this YArray.\n *\n * @param {AbstractType<any>} type\n * @param {function(any,number,any):void} f A function to execute on every element of this YArray.\n *\n * @private\n * @function\n */\nexport const typeListForEach = (type, f) => {\n  let index = 0\n  let n = type._start\n  while (n !== null) {\n    if (n.countable && !n.deleted) {\n      const c = n.content.getContent()\n      for (let i = 0; i < c.length; i++) {\n        f(c[i], index++, type)\n      }\n    }\n    n = n.right\n  }\n}\n\n/**\n * @template C,R\n * @param {AbstractType<any>} type\n * @param {function(C,number,AbstractType<any>):R} f\n * @return {Array<R>}\n *\n * @private\n * @function\n */\nexport const typeListMap = (type, f) => {\n  /**\n   * @type {Array<any>}\n   */\n  const result = []\n  typeListForEach(type, (c, i) => {\n    result.push(f(c, i, type))\n  })\n  return result\n}\n\n/**\n * @param {AbstractType<any>} type\n * @return {IterableIterator<any>}\n *\n * @private\n * @function\n */\nexport const typeListCreateIterator = type => {\n  let n = type._start\n  /**\n   * @type {Array<any>|null}\n   */\n  let currentContent = null\n  let currentContentIndex = 0\n  return {\n    [Symbol.iterator] () {\n      return this\n    },\n    next: () => {\n      // find some content\n      if (currentContent === null) {\n        while (n !== null && n.deleted) {\n          n = n.right\n        }\n        // check if we reached the end, no need to check currentContent, because it does not exist\n        if (n === null) {\n          return {\n            done: true,\n            value: undefined\n          }\n        }\n        // we found n, so we can set currentContent\n        currentContent = n.content.getContent()\n        currentContentIndex = 0\n        n = n.right // we used the content of n, now iterate to next\n      }\n      const value = currentContent[currentContentIndex++]\n      // check if we need to empty currentContent\n      if (currentContent.length <= currentContentIndex) {\n        currentContent = null\n      }\n      return {\n        done: false,\n        value\n      }\n    }\n  }\n}\n\n/**\n * Executes a provided function on once on overy element of this YArray.\n * Operates on a snapshotted state of the document.\n *\n * @param {AbstractType<any>} type\n * @param {function(any,number,AbstractType<any>):void} f A function to execute on every element of this YArray.\n * @param {Snapshot} snapshot\n *\n * @private\n * @function\n */\nexport const typeListForEachSnapshot = (type, f, snapshot) => {\n  let index = 0\n  let n = type._start\n  while (n !== null) {\n    if (n.countable && isVisible(n, snapshot)) {\n      const c = n.content.getContent()\n      for (let i = 0; i < c.length; i++) {\n        f(c[i], index++, type)\n      }\n    }\n    n = n.right\n  }\n}\n\n/**\n * @param {AbstractType<any>} type\n * @param {number} index\n * @return {any}\n *\n * @private\n * @function\n */\nexport const typeListGet = (type, index) => {\n  const marker = findMarker(type, index)\n  let n = type._start\n  if (marker !== null) {\n    n = marker.p\n    index -= marker.index\n  }\n  for (; n !== null; n = n.right) {\n    if (!n.deleted && n.countable) {\n      if (index < n.length) {\n        return n.content.getContent()[index]\n      }\n      index -= n.length\n    }\n  }\n}\n\n/**\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {Item?} referenceItem\n * @param {Array<Object<string,any>|Array<any>|boolean|number|string|Uint8Array>} content\n *\n * @private\n * @function\n */\nexport const typeListInsertGenericsAfter = (transaction, parent, referenceItem, content) => {\n  let left = referenceItem\n  const doc = transaction.doc\n  const ownClientId = doc.clientID\n  const store = doc.store\n  const right = referenceItem === null ? parent._start : referenceItem.right\n  /**\n   * @type {Array<Object|Array<any>|number>}\n   */\n  let jsonContent = []\n  const packJsonContent = () => {\n    if (jsonContent.length > 0) {\n      left = new Item(createID(ownClientId, getState(store, ownClientId)), left, left && left.lastId, right, right && right.id, parent, null, new ContentAny(jsonContent))\n      left.integrate(transaction, 0)\n      jsonContent = []\n    }\n  }\n  content.forEach(c => {\n    switch (c.constructor) {\n      case Number:\n      case Object:\n      case Boolean:\n      case Array:\n      case String:\n        jsonContent.push(c)\n        break\n      default:\n        packJsonContent()\n        switch (c.constructor) {\n          case Uint8Array:\n          case ArrayBuffer:\n            left = new Item(createID(ownClientId, getState(store, ownClientId)), left, left && left.lastId, right, right && right.id, parent, null, new ContentBinary(new Uint8Array(/** @type {Uint8Array} */ (c))))\n            left.integrate(transaction, 0)\n            break\n          case Doc:\n            left = new Item(createID(ownClientId, getState(store, ownClientId)), left, left && left.lastId, right, right && right.id, parent, null, new ContentDoc(/** @type {Doc} */ (c)))\n            left.integrate(transaction, 0)\n            break\n          default:\n            if (c instanceof AbstractType) {\n              left = new Item(createID(ownClientId, getState(store, ownClientId)), left, left && left.lastId, right, right && right.id, parent, null, new ContentType(c))\n              left.integrate(transaction, 0)\n            } else {\n              throw new Error('Unexpected content type in insert operation')\n            }\n        }\n    }\n  })\n  packJsonContent()\n}\n\n/**\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {number} index\n * @param {Array<Object<string,any>|Array<any>|number|string|Uint8Array>} content\n *\n * @private\n * @function\n */\nexport const typeListInsertGenerics = (transaction, parent, index, content) => {\n  if (index === 0) {\n    if (parent._searchMarker) {\n      updateMarkerChanges(parent._searchMarker, index, content.length)\n    }\n    return typeListInsertGenericsAfter(transaction, parent, null, content)\n  }\n  const startIndex = index\n  const marker = findMarker(parent, index)\n  let n = parent._start\n  if (marker !== null) {\n    n = marker.p\n    index -= marker.index\n    // we need to iterate one to the left so that the algorithm works\n    if (index === 0) {\n      // @todo refactor this as it actually doesn't consider formats\n      n = n.prev // important! get the left undeleted item so that we can actually decrease index\n      index += (n && n.countable && !n.deleted) ? n.length : 0\n    }\n  }\n  for (; n !== null; n = n.right) {\n    if (!n.deleted && n.countable) {\n      if (index <= n.length) {\n        if (index < n.length) {\n          // insert in-between\n          getItemCleanStart(transaction, createID(n.id.client, n.id.clock + index))\n        }\n        break\n      }\n      index -= n.length\n    }\n  }\n  if (parent._searchMarker) {\n    updateMarkerChanges(parent._searchMarker, startIndex, content.length)\n  }\n  return typeListInsertGenericsAfter(transaction, parent, n, content)\n}\n\n/**\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {number} index\n * @param {number} length\n *\n * @private\n * @function\n */\nexport const typeListDelete = (transaction, parent, index, length) => {\n  if (length === 0) { return }\n  const startIndex = index\n  const startLength = length\n  const marker = findMarker(parent, index)\n  let n = parent._start\n  if (marker !== null) {\n    n = marker.p\n    index -= marker.index\n  }\n  // compute the first item to be deleted\n  for (; n !== null && index > 0; n = n.right) {\n    if (!n.deleted && n.countable) {\n      if (index < n.length) {\n        getItemCleanStart(transaction, createID(n.id.client, n.id.clock + index))\n      }\n      index -= n.length\n    }\n  }\n  // delete all items until done\n  while (length > 0 && n !== null) {\n    if (!n.deleted) {\n      if (length < n.length) {\n        getItemCleanStart(transaction, createID(n.id.client, n.id.clock + length))\n      }\n      n.delete(transaction)\n      length -= n.length\n    }\n    n = n.right\n  }\n  if (length > 0) {\n    throw error.create('array length exceeded')\n  }\n  if (parent._searchMarker) {\n    updateMarkerChanges(parent._searchMarker, startIndex, -startLength + length /* in case we remove the above exception */)\n  }\n}\n\n/**\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {string} key\n *\n * @private\n * @function\n */\nexport const typeMapDelete = (transaction, parent, key) => {\n  const c = parent._map.get(key)\n  if (c !== undefined) {\n    c.delete(transaction)\n  }\n}\n\n/**\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {string} key\n * @param {Object|number|Array<any>|string|Uint8Array|AbstractType<any>} value\n *\n * @private\n * @function\n */\nexport const typeMapSet = (transaction, parent, key, value) => {\n  const left = parent._map.get(key) || null\n  const doc = transaction.doc\n  const ownClientId = doc.clientID\n  let content\n  if (value == null) {\n    content = new ContentAny([value])\n  } else {\n    switch (value.constructor) {\n      case Number:\n      case Object:\n      case Boolean:\n      case Array:\n      case String:\n        content = new ContentAny([value])\n        break\n      case Uint8Array:\n        content = new ContentBinary(/** @type {Uint8Array} */ (value))\n        break\n      case Doc:\n        content = new ContentDoc(/** @type {Doc} */ (value))\n        break\n      default:\n        if (value instanceof AbstractType) {\n          content = new ContentType(value)\n        } else {\n          throw new Error('Unexpected content type')\n        }\n    }\n  }\n  new Item(createID(ownClientId, getState(doc.store, ownClientId)), left, left && left.lastId, null, null, parent, key, content).integrate(transaction, 0)\n}\n\n/**\n * @param {AbstractType<any>} parent\n * @param {string} key\n * @return {Object<string,any>|number|Array<any>|string|Uint8Array|AbstractType<any>|undefined}\n *\n * @private\n * @function\n */\nexport const typeMapGet = (parent, key) => {\n  const val = parent._map.get(key)\n  return val !== undefined && !val.deleted ? val.content.getContent()[val.length - 1] : undefined\n}\n\n/**\n * @param {AbstractType<any>} parent\n * @return {Object<string,Object<string,any>|number|Array<any>|string|Uint8Array|AbstractType<any>|undefined>}\n *\n * @private\n * @function\n */\nexport const typeMapGetAll = (parent) => {\n  /**\n   * @type {Object<string,any>}\n   */\n  const res = {}\n  parent._map.forEach((value, key) => {\n    if (!value.deleted) {\n      res[key] = value.content.getContent()[value.length - 1]\n    }\n  })\n  return res\n}\n\n/**\n * @param {AbstractType<any>} parent\n * @param {string} key\n * @return {boolean}\n *\n * @private\n * @function\n */\nexport const typeMapHas = (parent, key) => {\n  const val = parent._map.get(key)\n  return val !== undefined && !val.deleted\n}\n\n/**\n * @param {AbstractType<any>} parent\n * @param {string} key\n * @param {Snapshot} snapshot\n * @return {Object<string,any>|number|Array<any>|string|Uint8Array|AbstractType<any>|undefined}\n *\n * @private\n * @function\n */\nexport const typeMapGetSnapshot = (parent, key, snapshot) => {\n  let v = parent._map.get(key) || null\n  while (v !== null && (!snapshot.sv.has(v.id.client) || v.id.clock >= (snapshot.sv.get(v.id.client) || 0))) {\n    v = v.left\n  }\n  return v !== null && isVisible(v, snapshot) ? v.content.getContent()[v.length - 1] : undefined\n}\n\n/**\n * @param {Map<string,Item>} map\n * @return {IterableIterator<Array<any>>}\n *\n * @private\n * @function\n */\nexport const createMapIterator = map => iterator.iteratorFilter(map.entries(), /** @param {any} entry */ entry => !entry[1].deleted)\n","/**\n * @module YArray\n */\n\nimport {\n  YEvent,\n  AbstractType,\n  typeListGet,\n  typeListToArray,\n  typeListForEach,\n  typeListCreateIterator,\n  typeListInsertGenerics,\n  typeListDelete,\n  typeListMap,\n  YArrayRefID,\n  callTypeObservers,\n  transact,\n  ArraySearchMarker, UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2, Doc, Transaction, Item // eslint-disable-line\n} from '../internals.js'\nimport { typeListSlice } from './AbstractType.js'\n\n/**\n * Event that describes the changes on a YArray\n * @template T\n */\nexport class YArrayEvent extends YEvent {\n  /**\n   * @param {YArray<T>} yarray The changed type\n   * @param {Transaction} transaction The transaction object\n   */\n  constructor (yarray, transaction) {\n    super(yarray, transaction)\n    this._transaction = transaction\n  }\n}\n\n/**\n * A shared Array implementation.\n * @template T\n * @extends AbstractType<YArrayEvent<T>>\n * @implements {Iterable<T>}\n */\nexport class YArray extends AbstractType {\n  constructor () {\n    super()\n    /**\n     * @type {Array<any>?}\n     * @private\n     */\n    this._prelimContent = []\n    /**\n     * @type {Array<ArraySearchMarker>}\n     */\n    this._searchMarker = []\n  }\n\n  /**\n   * Construct a new YArray containing the specified items.\n   * @template T\n   * @param {Array<T>} items\n   * @return {YArray<T>}\n   */\n  static from (items) {\n    const a = new YArray()\n    a.push(items)\n    return a\n  }\n\n  /**\n   * Integrate this type into the Yjs instance.\n   *\n   * * Save this struct in the os\n   * * This type is sent to other client\n   * * Observer functions are fired\n   *\n   * @param {Doc} y The Yjs instance\n   * @param {Item} item\n   */\n  _integrate (y, item) {\n    super._integrate(y, item)\n    this.insert(0, /** @type {Array<any>} */ (this._prelimContent))\n    this._prelimContent = null\n  }\n\n  _copy () {\n    return new YArray()\n  }\n\n  /**\n   * @return {YArray<T>}\n   */\n  clone () {\n    const arr = new YArray()\n    arr.insert(0, this.toArray().map(el =>\n      el instanceof AbstractType ? el.clone() : el\n    ))\n    return arr\n  }\n\n  get length () {\n    return this._prelimContent === null ? this._length : this._prelimContent.length\n  }\n\n  /**\n   * Creates YArrayEvent and calls observers.\n   *\n   * @param {Transaction} transaction\n   * @param {Set<null|string>} parentSubs Keys changed on this type. `null` if list was modified.\n   */\n  _callObserver (transaction, parentSubs) {\n    super._callObserver(transaction, parentSubs)\n    callTypeObservers(this, transaction, new YArrayEvent(this, transaction))\n  }\n\n  /**\n   * Inserts new content at an index.\n   *\n   * Important: This function expects an array of content. Not just a content\n   * object. The reason for this \"weirdness\" is that inserting several elements\n   * is very efficient when it is done as a single operation.\n   *\n   * @example\n   *  // Insert character 'a' at position 0\n   *  yarray.insert(0, ['a'])\n   *  // Insert numbers 1, 2 at position 1\n   *  yarray.insert(1, [1, 2])\n   *\n   * @param {number} index The index to insert content at.\n   * @param {Array<T>} content The array of content\n   */\n  insert (index, content) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeListInsertGenerics(transaction, this, index, content)\n      })\n    } else {\n      /** @type {Array<any>} */ (this._prelimContent).splice(index, 0, ...content)\n    }\n  }\n\n  /**\n   * Appends content to this YArray.\n   *\n   * @param {Array<T>} content Array of content to append.\n   */\n  push (content) {\n    this.insert(this.length, content)\n  }\n\n  /**\n   * Preppends content to this YArray.\n   *\n   * @param {Array<T>} content Array of content to preppend.\n   */\n  unshift (content) {\n    this.insert(0, content)\n  }\n\n  /**\n   * Deletes elements starting from an index.\n   *\n   * @param {number} index Index at which to start deleting elements\n   * @param {number} length The number of elements to remove. Defaults to 1.\n   */\n  delete (index, length = 1) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeListDelete(transaction, this, index, length)\n      })\n    } else {\n      /** @type {Array<any>} */ (this._prelimContent).splice(index, length)\n    }\n  }\n\n  /**\n   * Returns the i-th element from a YArray.\n   *\n   * @param {number} index The index of the element to return from the YArray\n   * @return {T}\n   */\n  get (index) {\n    return typeListGet(this, index)\n  }\n\n  /**\n   * Transforms this YArray to a JavaScript Array.\n   *\n   * @return {Array<T>}\n   */\n  toArray () {\n    return typeListToArray(this)\n  }\n\n  /**\n   * Transforms this YArray to a JavaScript Array.\n   *\n   * @param {number} [start]\n   * @param {number} [end]\n   * @return {Array<T>}\n   */\n  slice (start = 0, end = this.length) {\n    return typeListSlice(this, start, end)\n  }\n\n  /**\n   * Transforms this Shared Type to a JSON object.\n   *\n   * @return {Array<any>}\n   */\n  toJSON () {\n    return this.map(c => c instanceof AbstractType ? c.toJSON() : c)\n  }\n\n  /**\n   * Returns an Array with the result of calling a provided function on every\n   * element of this YArray.\n   *\n   * @template T,M\n   * @param {function(T,number,YArray<T>):M} f Function that produces an element of the new Array\n   * @return {Array<M>} A new array with each element being the result of the\n   *                 callback function\n   */\n  map (f) {\n    return typeListMap(this, /** @type {any} */ (f))\n  }\n\n  /**\n   * Executes a provided function on once on overy element of this YArray.\n   *\n   * @param {function(T,number,YArray<T>):void} f A function to execute on every element of this YArray.\n   */\n  forEach (f) {\n    typeListForEach(this, f)\n  }\n\n  /**\n   * @return {IterableIterator<T>}\n   */\n  [Symbol.iterator] () {\n    return typeListCreateIterator(this)\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   */\n  _write (encoder) {\n    encoder.writeTypeRef(YArrayRefID)\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n *\n * @private\n * @function\n */\nexport const readYArray = decoder => new YArray()\n","\n/**\n * @module YMap\n */\n\nimport {\n  YEvent,\n  AbstractType,\n  typeMapDelete,\n  typeMapSet,\n  typeMapGet,\n  typeMapHas,\n  createMapIterator,\n  YMapRefID,\n  callTypeObservers,\n  transact,\n  UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2, Doc, Transaction, Item // eslint-disable-line\n} from '../internals.js'\n\nimport * as iterator from 'lib0/iterator'\n\n/**\n * @template T\n * Event that describes the changes on a YMap.\n */\nexport class YMapEvent extends YEvent {\n  /**\n   * @param {YMap<T>} ymap The YArray that changed.\n   * @param {Transaction} transaction\n   * @param {Set<any>} subs The keys that changed.\n   */\n  constructor (ymap, transaction, subs) {\n    super(ymap, transaction)\n    this.keysChanged = subs\n  }\n}\n\n/**\n * @template T number|string|Object|Array|Uint8Array\n * A shared Map implementation.\n *\n * @extends AbstractType<YMapEvent<T>>\n * @implements {Iterable<T>}\n */\nexport class YMap extends AbstractType {\n  /**\n   *\n   * @param {Iterable<readonly [string, any]>=} entries - an optional iterable to initialize the YMap\n   */\n  constructor (entries) {\n    super()\n    /**\n     * @type {Map<string,any>?}\n     * @private\n     */\n    this._prelimContent = null\n\n    if (entries === undefined) {\n      this._prelimContent = new Map()\n    } else {\n      this._prelimContent = new Map(entries)\n    }\n  }\n\n  /**\n   * Integrate this type into the Yjs instance.\n   *\n   * * Save this struct in the os\n   * * This type is sent to other client\n   * * Observer functions are fired\n   *\n   * @param {Doc} y The Yjs instance\n   * @param {Item} item\n   */\n  _integrate (y, item) {\n    super._integrate(y, item)\n    ;/** @type {Map<string, any>} */ (this._prelimContent).forEach((value, key) => {\n      this.set(key, value)\n    })\n    this._prelimContent = null\n  }\n\n  _copy () {\n    return new YMap()\n  }\n\n  /**\n   * @return {YMap<T>}\n   */\n  clone () {\n    const map = new YMap()\n    this.forEach((value, key) => {\n      map.set(key, value instanceof AbstractType ? value.clone() : value)\n    })\n    return map\n  }\n\n  /**\n   * Creates YMapEvent and calls observers.\n   *\n   * @param {Transaction} transaction\n   * @param {Set<null|string>} parentSubs Keys changed on this type. `null` if list was modified.\n   */\n  _callObserver (transaction, parentSubs) {\n    callTypeObservers(this, transaction, new YMapEvent(this, transaction, parentSubs))\n  }\n\n  /**\n   * Transforms this Shared Type to a JSON object.\n   *\n   * @return {Object<string,T>}\n   */\n  toJSON () {\n    /**\n     * @type {Object<string,T>}\n     */\n    const map = {}\n    this._map.forEach((item, key) => {\n      if (!item.deleted) {\n        const v = item.content.getContent()[item.length - 1]\n        map[key] = v instanceof AbstractType ? v.toJSON() : v\n      }\n    })\n    return map\n  }\n\n  /**\n   * Returns the size of the YMap (count of key/value pairs)\n   *\n   * @return {number}\n   */\n  get size () {\n    return [...createMapIterator(this._map)].length\n  }\n\n  /**\n   * Returns the keys for each element in the YMap Type.\n   *\n   * @return {IterableIterator<string>}\n   */\n  keys () {\n    return iterator.iteratorMap(createMapIterator(this._map), /** @param {any} v */ v => v[0])\n  }\n\n  /**\n   * Returns the values for each element in the YMap Type.\n   *\n   * @return {IterableIterator<any>}\n   */\n  values () {\n    return iterator.iteratorMap(createMapIterator(this._map), /** @param {any} v */ v => v[1].content.getContent()[v[1].length - 1])\n  }\n\n  /**\n   * Returns an Iterator of [key, value] pairs\n   *\n   * @return {IterableIterator<any>}\n   */\n  entries () {\n    return iterator.iteratorMap(createMapIterator(this._map), /** @param {any} v */ v => [v[0], v[1].content.getContent()[v[1].length - 1]])\n  }\n\n  /**\n   * Executes a provided function on once on every key-value pair.\n   *\n   * @param {function(T,string,YMap<T>):void} f A function to execute on every element of this YArray.\n   */\n  forEach (f) {\n    /**\n     * @type {Object<string,T>}\n     */\n    const map = {}\n    this._map.forEach((item, key) => {\n      if (!item.deleted) {\n        f(item.content.getContent()[item.length - 1], key, this)\n      }\n    })\n    return map\n  }\n\n  /**\n   * @return {IterableIterator<T>}\n   */\n  [Symbol.iterator] () {\n    return this.entries()\n  }\n\n  /**\n   * Remove a specified element from this YMap.\n   *\n   * @param {string} key The key of the element to remove.\n   */\n  delete (key) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeMapDelete(transaction, this, key)\n      })\n    } else {\n      /** @type {Map<string, any>} */ (this._prelimContent).delete(key)\n    }\n  }\n\n  /**\n   * Adds or updates an element with a specified key and value.\n   *\n   * @param {string} key The key of the element to add to this YMap\n   * @param {T} value The value of the element to add\n   */\n  set (key, value) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeMapSet(transaction, this, key, value)\n      })\n    } else {\n      /** @type {Map<string, any>} */ (this._prelimContent).set(key, value)\n    }\n    return value\n  }\n\n  /**\n   * Returns a specified element from this YMap.\n   *\n   * @param {string} key\n   * @return {T|undefined}\n   */\n  get (key) {\n    return /** @type {any} */ (typeMapGet(this, key))\n  }\n\n  /**\n   * Returns a boolean indicating whether the specified key exists or not.\n   *\n   * @param {string} key The key to test.\n   * @return {boolean}\n   */\n  has (key) {\n    return typeMapHas(this, key)\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   */\n  _write (encoder) {\n    encoder.writeTypeRef(YMapRefID)\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n *\n * @private\n * @function\n */\nexport const readYMap = decoder => new YMap()\n","\n/**\n * @module YText\n */\n\nimport {\n  YEvent,\n  AbstractType,\n  getItemCleanStart,\n  getState,\n  isVisible,\n  createID,\n  YTextRefID,\n  callTypeObservers,\n  transact,\n  ContentEmbed,\n  GC,\n  ContentFormat,\n  ContentString,\n  splitSnapshotAffectedStructs,\n  iterateDeletedStructs,\n  iterateStructs,\n  findMarker,\n  typeMapDelete,\n  typeMapSet,\n  typeMapGet,\n  typeMapGetAll,\n  updateMarkerChanges,\n  ArraySearchMarker, UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2, ID, Doc, Item, Snapshot, Transaction // eslint-disable-line\n} from '../internals.js'\n\nimport * as object from 'lib0/object'\nimport * as map from 'lib0/map'\nimport * as error from 'lib0/error'\n\n/**\n * @param {any} a\n * @param {any} b\n * @return {boolean}\n */\nconst equalAttrs = (a, b) => a === b || (typeof a === 'object' && typeof b === 'object' && a && b && object.equalFlat(a, b))\n\nexport class ItemTextListPosition {\n  /**\n   * @param {Item|null} left\n   * @param {Item|null} right\n   * @param {number} index\n   * @param {Map<string,any>} currentAttributes\n   */\n  constructor (left, right, index, currentAttributes) {\n    this.left = left\n    this.right = right\n    this.index = index\n    this.currentAttributes = currentAttributes\n  }\n\n  /**\n   * Only call this if you know that this.right is defined\n   */\n  forward () {\n    if (this.right === null) {\n      error.unexpectedCase()\n    }\n    switch (this.right.content.constructor) {\n      case ContentEmbed:\n      case ContentString:\n        if (!this.right.deleted) {\n          this.index += this.right.length\n        }\n        break\n      case ContentFormat:\n        if (!this.right.deleted) {\n          updateCurrentAttributes(this.currentAttributes, /** @type {ContentFormat} */ (this.right.content))\n        }\n        break\n    }\n    this.left = this.right\n    this.right = this.right.right\n  }\n}\n\n/**\n * @param {Transaction} transaction\n * @param {ItemTextListPosition} pos\n * @param {number} count steps to move forward\n * @return {ItemTextListPosition}\n *\n * @private\n * @function\n */\nconst findNextPosition = (transaction, pos, count) => {\n  while (pos.right !== null && count > 0) {\n    switch (pos.right.content.constructor) {\n      case ContentEmbed:\n      case ContentString:\n        if (!pos.right.deleted) {\n          if (count < pos.right.length) {\n            // split right\n            getItemCleanStart(transaction, createID(pos.right.id.client, pos.right.id.clock + count))\n          }\n          pos.index += pos.right.length\n          count -= pos.right.length\n        }\n        break\n      case ContentFormat:\n        if (!pos.right.deleted) {\n          updateCurrentAttributes(pos.currentAttributes, /** @type {ContentFormat} */ (pos.right.content))\n        }\n        break\n    }\n    pos.left = pos.right\n    pos.right = pos.right.right\n    // pos.forward() - we don't forward because that would halve the performance because we already do the checks above\n  }\n  return pos\n}\n\n/**\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {number} index\n * @return {ItemTextListPosition}\n *\n * @private\n * @function\n */\nconst findPosition = (transaction, parent, index) => {\n  const currentAttributes = new Map()\n  const marker = findMarker(parent, index)\n  if (marker) {\n    const pos = new ItemTextListPosition(marker.p.left, marker.p, marker.index, currentAttributes)\n    return findNextPosition(transaction, pos, index - marker.index)\n  } else {\n    const pos = new ItemTextListPosition(null, parent._start, 0, currentAttributes)\n    return findNextPosition(transaction, pos, index)\n  }\n}\n\n/**\n * Negate applied formats\n *\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {ItemTextListPosition} currPos\n * @param {Map<string,any>} negatedAttributes\n *\n * @private\n * @function\n */\nconst insertNegatedAttributes = (transaction, parent, currPos, negatedAttributes) => {\n  // check if we really need to remove attributes\n  while (\n    currPos.right !== null && (\n      currPos.right.deleted === true || (\n        currPos.right.content.constructor === ContentFormat &&\n        equalAttrs(negatedAttributes.get(/** @type {ContentFormat} */ (currPos.right.content).key), /** @type {ContentFormat} */ (currPos.right.content).value)\n      )\n    )\n  ) {\n    if (!currPos.right.deleted) {\n      negatedAttributes.delete(/** @type {ContentFormat} */ (currPos.right.content).key)\n    }\n    currPos.forward()\n  }\n  const doc = transaction.doc\n  const ownClientId = doc.clientID\n  let nextFormat = currPos.left\n  const right = currPos.right\n  negatedAttributes.forEach((val, key) => {\n    nextFormat = new Item(createID(ownClientId, getState(doc.store, ownClientId)), nextFormat, nextFormat && nextFormat.lastId, right, right && right.id, parent, null, new ContentFormat(key, val))\n    nextFormat.integrate(transaction, 0)\n    currPos.right = nextFormat\n  })\n}\n\n/**\n * @param {Map<string,any>} currentAttributes\n * @param {ContentFormat} format\n *\n * @private\n * @function\n */\nconst updateCurrentAttributes = (currentAttributes, format) => {\n  const { key, value } = format\n  if (value === null) {\n    currentAttributes.delete(key)\n  } else {\n    currentAttributes.set(key, value)\n  }\n}\n\n/**\n * @param {ItemTextListPosition} currPos\n * @param {Object<string,any>} attributes\n *\n * @private\n * @function\n */\nconst minimizeAttributeChanges = (currPos, attributes) => {\n  // go right while attributes[right.key] === right.value (or right is deleted)\n  while (true) {\n    if (currPos.right === null) {\n      break\n    } else if (currPos.right.deleted || (currPos.right.content.constructor === ContentFormat && equalAttrs(attributes[(/** @type {ContentFormat} */ (currPos.right.content)).key] || null, /** @type {ContentFormat} */ (currPos.right.content).value))) {\n      //\n    } else {\n      break\n    }\n    currPos.forward()\n  }\n}\n\n/**\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {ItemTextListPosition} currPos\n * @param {Object<string,any>} attributes\n * @return {Map<string,any>}\n *\n * @private\n * @function\n **/\nconst insertAttributes = (transaction, parent, currPos, attributes) => {\n  const doc = transaction.doc\n  const ownClientId = doc.clientID\n  const negatedAttributes = new Map()\n  // insert format-start items\n  for (const key in attributes) {\n    const val = attributes[key]\n    const currentVal = currPos.currentAttributes.get(key) || null\n    if (!equalAttrs(currentVal, val)) {\n      // save negated attribute (set null if currentVal undefined)\n      negatedAttributes.set(key, currentVal)\n      const { left, right } = currPos\n      currPos.right = new Item(createID(ownClientId, getState(doc.store, ownClientId)), left, left && left.lastId, right, right && right.id, parent, null, new ContentFormat(key, val))\n      currPos.right.integrate(transaction, 0)\n      currPos.forward()\n    }\n  }\n  return negatedAttributes\n}\n\n/**\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {ItemTextListPosition} currPos\n * @param {string|object} text\n * @param {Object<string,any>} attributes\n *\n * @private\n * @function\n **/\nconst insertText = (transaction, parent, currPos, text, attributes) => {\n  currPos.currentAttributes.forEach((val, key) => {\n    if (attributes[key] === undefined) {\n      attributes[key] = null\n    }\n  })\n  const doc = transaction.doc\n  const ownClientId = doc.clientID\n  minimizeAttributeChanges(currPos, attributes)\n  const negatedAttributes = insertAttributes(transaction, parent, currPos, attributes)\n  // insert content\n  const content = text.constructor === String ? new ContentString(/** @type {string} */ (text)) : new ContentEmbed(text)\n  let { left, right, index } = currPos\n  if (parent._searchMarker) {\n    updateMarkerChanges(parent._searchMarker, currPos.index, content.getLength())\n  }\n  right = new Item(createID(ownClientId, getState(doc.store, ownClientId)), left, left && left.lastId, right, right && right.id, parent, null, content)\n  right.integrate(transaction, 0)\n  currPos.right = right\n  currPos.index = index\n  currPos.forward()\n  insertNegatedAttributes(transaction, parent, currPos, negatedAttributes)\n}\n\n/**\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {ItemTextListPosition} currPos\n * @param {number} length\n * @param {Object<string,any>} attributes\n *\n * @private\n * @function\n */\nconst formatText = (transaction, parent, currPos, length, attributes) => {\n  const doc = transaction.doc\n  const ownClientId = doc.clientID\n  minimizeAttributeChanges(currPos, attributes)\n  const negatedAttributes = insertAttributes(transaction, parent, currPos, attributes)\n  // iterate until first non-format or null is found\n  // delete all formats with attributes[format.key] != null\n  while (length > 0 && currPos.right !== null) {\n    if (!currPos.right.deleted) {\n      switch (currPos.right.content.constructor) {\n        case ContentFormat: {\n          const { key, value } = /** @type {ContentFormat} */ (currPos.right.content)\n          const attr = attributes[key]\n          if (attr !== undefined) {\n            if (equalAttrs(attr, value)) {\n              negatedAttributes.delete(key)\n            } else {\n              negatedAttributes.set(key, value)\n            }\n            currPos.right.delete(transaction)\n          }\n          break\n        }\n        case ContentEmbed:\n        case ContentString:\n          if (length < currPos.right.length) {\n            getItemCleanStart(transaction, createID(currPos.right.id.client, currPos.right.id.clock + length))\n          }\n          length -= currPos.right.length\n          break\n      }\n    }\n    currPos.forward()\n  }\n  // Quill just assumes that the editor starts with a newline and that it always\n  // ends with a newline. We only insert that newline when a new newline is\n  // inserted - i.e when length is bigger than type.length\n  if (length > 0) {\n    let newlines = ''\n    for (; length > 0; length--) {\n      newlines += '\\n'\n    }\n    currPos.right = new Item(createID(ownClientId, getState(doc.store, ownClientId)), currPos.left, currPos.left && currPos.left.lastId, currPos.right, currPos.right && currPos.right.id, parent, null, new ContentString(newlines))\n    currPos.right.integrate(transaction, 0)\n    currPos.forward()\n  }\n  insertNegatedAttributes(transaction, parent, currPos, negatedAttributes)\n}\n\n/**\n * Call this function after string content has been deleted in order to\n * clean up formatting Items.\n *\n * @param {Transaction} transaction\n * @param {Item} start\n * @param {Item|null} end exclusive end, automatically iterates to the next Content Item\n * @param {Map<string,any>} startAttributes\n * @param {Map<string,any>} endAttributes This attribute is modified!\n * @return {number} The amount of formatting Items deleted.\n *\n * @function\n */\nconst cleanupFormattingGap = (transaction, start, end, startAttributes, endAttributes) => {\n  while (end && end.content.constructor !== ContentString && end.content.constructor !== ContentEmbed) {\n    if (!end.deleted && end.content.constructor === ContentFormat) {\n      updateCurrentAttributes(endAttributes, /** @type {ContentFormat} */ (end.content))\n    }\n    end = end.right\n  }\n  let cleanups = 0\n  while (start !== end) {\n    if (!start.deleted) {\n      const content = start.content\n      switch (content.constructor) {\n        case ContentFormat: {\n          const { key, value } = /** @type {ContentFormat} */ (content)\n          if ((endAttributes.get(key) || null) !== value || (startAttributes.get(key) || null) === value) {\n            // Either this format is overwritten or it is not necessary because the attribute already existed.\n            start.delete(transaction)\n            cleanups++\n          }\n          break\n        }\n      }\n    }\n    start = /** @type {Item} */ (start.right)\n  }\n  return cleanups\n}\n\n/**\n * @param {Transaction} transaction\n * @param {Item | null} item\n */\nconst cleanupContextlessFormattingGap = (transaction, item) => {\n  // iterate until item.right is null or content\n  while (item && item.right && (item.right.deleted || (item.right.content.constructor !== ContentString && item.right.content.constructor !== ContentEmbed))) {\n    item = item.right\n  }\n  const attrs = new Set()\n  // iterate back until a content item is found\n  while (item && (item.deleted || (item.content.constructor !== ContentString && item.content.constructor !== ContentEmbed))) {\n    if (!item.deleted && item.content.constructor === ContentFormat) {\n      const key = /** @type {ContentFormat} */ (item.content).key\n      if (attrs.has(key)) {\n        item.delete(transaction)\n      } else {\n        attrs.add(key)\n      }\n    }\n    item = item.left\n  }\n}\n\n/**\n * This function is experimental and subject to change / be removed.\n *\n * Ideally, we don't need this function at all. Formatting attributes should be cleaned up\n * automatically after each change. This function iterates twice over the complete YText type\n * and removes unnecessary formatting attributes. This is also helpful for testing.\n *\n * This function won't be exported anymore as soon as there is confidence that the YText type works as intended.\n *\n * @param {YText} type\n * @return {number} How many formatting attributes have been cleaned up.\n */\nexport const cleanupYTextFormatting = type => {\n  let res = 0\n  transact(/** @type {Doc} */ (type.doc), transaction => {\n    let start = /** @type {Item} */ (type._start)\n    let end = type._start\n    let startAttributes = map.create()\n    const currentAttributes = map.copy(startAttributes)\n    while (end) {\n      if (end.deleted === false) {\n        switch (end.content.constructor) {\n          case ContentFormat:\n            updateCurrentAttributes(currentAttributes, /** @type {ContentFormat} */ (end.content))\n            break\n          case ContentEmbed:\n          case ContentString:\n            res += cleanupFormattingGap(transaction, start, end, startAttributes, currentAttributes)\n            startAttributes = map.copy(currentAttributes)\n            start = end\n            break\n        }\n      }\n      end = end.right\n    }\n  })\n  return res\n}\n\n/**\n * @param {Transaction} transaction\n * @param {ItemTextListPosition} currPos\n * @param {number} length\n * @return {ItemTextListPosition}\n *\n * @private\n * @function\n */\nconst deleteText = (transaction, currPos, length) => {\n  const startLength = length\n  const startAttrs = map.copy(currPos.currentAttributes)\n  const start = currPos.right\n  while (length > 0 && currPos.right !== null) {\n    if (currPos.right.deleted === false) {\n      switch (currPos.right.content.constructor) {\n        case ContentEmbed:\n        case ContentString:\n          if (length < currPos.right.length) {\n            getItemCleanStart(transaction, createID(currPos.right.id.client, currPos.right.id.clock + length))\n          }\n          length -= currPos.right.length\n          currPos.right.delete(transaction)\n          break\n      }\n    }\n    currPos.forward()\n  }\n  if (start) {\n    cleanupFormattingGap(transaction, start, currPos.right, startAttrs, map.copy(currPos.currentAttributes))\n  }\n  const parent = /** @type {AbstractType<any>} */ (/** @type {Item} */ (currPos.left || currPos.right).parent)\n  if (parent._searchMarker) {\n    updateMarkerChanges(parent._searchMarker, currPos.index, -startLength + length)\n  }\n  return currPos\n}\n\n/**\n * The Quill Delta format represents changes on a text document with\n * formatting information. For mor information visit {@link https://quilljs.com/docs/delta/|Quill Delta}\n *\n * @example\n *   {\n *     ops: [\n *       { insert: 'Gandalf', attributes: { bold: true } },\n *       { insert: ' the ' },\n *       { insert: 'Grey', attributes: { color: '#cccccc' } }\n *     ]\n *   }\n *\n */\n\n/**\n  * Attributes that can be assigned to a selection of text.\n  *\n  * @example\n  *   {\n  *     bold: true,\n  *     font-size: '40px'\n  *   }\n  *\n  * @typedef {Object} TextAttributes\n  */\n\n/**\n * Event that describes the changes on a YText type.\n */\nexport class YTextEvent extends YEvent {\n  /**\n   * @param {YText} ytext\n   * @param {Transaction} transaction\n   * @param {Set<any>} subs The keys that changed\n   */\n  constructor (ytext, transaction, subs) {\n    super(ytext, transaction)\n    /**\n     * Whether the children changed.\n     * @type {Boolean}\n     * @private\n     */\n    this.childListChanged = false\n    /**\n     * Set of all changed attributes.\n     * @type {Set<string>}\n     */\n    this.keysChanged = new Set()\n    subs.forEach((sub) => {\n      if (sub === null) {\n        this.childListChanged = true\n      } else {\n        this.keysChanged.add(sub)\n      }\n    })\n  }\n\n  /**\n   * @type {{added:Set<Item>,deleted:Set<Item>,keys:Map<string,{action:'add'|'update'|'delete',oldValue:any}>,delta:Array<{insert?:Array<any>|string, delete?:number, retain?:number}>}}\n   */\n  get changes () {\n    if (this._changes === null) {\n      /**\n       * @type {{added:Set<Item>,deleted:Set<Item>,keys:Map<string,{action:'add'|'update'|'delete',oldValue:any}>,delta:Array<{insert?:Array<any>|string, delete?:number, retain?:number}>}}\n       */\n      const changes = {\n        keys: this.keys,\n        delta: this.delta,\n        added: new Set(),\n        deleted: new Set()\n      }\n      this._changes = changes\n    }\n    return /** @type {any} */ (this._changes)\n  }\n\n  /**\n   * Compute the changes in the delta format.\n   * A {@link https://quilljs.com/docs/delta/|Quill Delta}) that represents the changes on the document.\n   *\n   * @type {Array<{insert?:string, delete?:number, retain?:number, attributes?: Object<string,any>}>}\n   *\n   * @public\n   */\n  get delta () {\n    if (this._delta === null) {\n      const y = /** @type {Doc} */ (this.target.doc)\n      /**\n       * @type {Array<{insert?:string, delete?:number, retain?:number, attributes?: Object<string,any>}>}\n       */\n      const delta = []\n      transact(y, transaction => {\n        const currentAttributes = new Map() // saves all current attributes for insert\n        const oldAttributes = new Map()\n        let item = this.target._start\n        /**\n         * @type {string?}\n         */\n        let action = null\n        /**\n         * @type {Object<string,any>}\n         */\n        const attributes = {} // counts added or removed new attributes for retain\n        /**\n         * @type {string|object}\n         */\n        let insert = ''\n        let retain = 0\n        let deleteLen = 0\n        const addOp = () => {\n          if (action !== null) {\n            /**\n             * @type {any}\n             */\n            let op\n            switch (action) {\n              case 'delete':\n                op = { delete: deleteLen }\n                deleteLen = 0\n                break\n              case 'insert':\n                op = { insert }\n                if (currentAttributes.size > 0) {\n                  op.attributes = {}\n                  currentAttributes.forEach((value, key) => {\n                    if (value !== null) {\n                      op.attributes[key] = value\n                    }\n                  })\n                }\n                insert = ''\n                break\n              case 'retain':\n                op = { retain }\n                if (Object.keys(attributes).length > 0) {\n                  op.attributes = {}\n                  for (const key in attributes) {\n                    op.attributes[key] = attributes[key]\n                  }\n                }\n                retain = 0\n                break\n            }\n            delta.push(op)\n            action = null\n          }\n        }\n        while (item !== null) {\n          switch (item.content.constructor) {\n            case ContentEmbed:\n              if (this.adds(item)) {\n                if (!this.deletes(item)) {\n                  addOp()\n                  action = 'insert'\n                  insert = /** @type {ContentEmbed} */ (item.content).embed\n                  addOp()\n                }\n              } else if (this.deletes(item)) {\n                if (action !== 'delete') {\n                  addOp()\n                  action = 'delete'\n                }\n                deleteLen += 1\n              } else if (!item.deleted) {\n                if (action !== 'retain') {\n                  addOp()\n                  action = 'retain'\n                }\n                retain += 1\n              }\n              break\n            case ContentString:\n              if (this.adds(item)) {\n                if (!this.deletes(item)) {\n                  if (action !== 'insert') {\n                    addOp()\n                    action = 'insert'\n                  }\n                  insert += /** @type {ContentString} */ (item.content).str\n                }\n              } else if (this.deletes(item)) {\n                if (action !== 'delete') {\n                  addOp()\n                  action = 'delete'\n                }\n                deleteLen += item.length\n              } else if (!item.deleted) {\n                if (action !== 'retain') {\n                  addOp()\n                  action = 'retain'\n                }\n                retain += item.length\n              }\n              break\n            case ContentFormat: {\n              const { key, value } = /** @type {ContentFormat} */ (item.content)\n              if (this.adds(item)) {\n                if (!this.deletes(item)) {\n                  const curVal = currentAttributes.get(key) || null\n                  if (!equalAttrs(curVal, value)) {\n                    if (action === 'retain') {\n                      addOp()\n                    }\n                    if (equalAttrs(value, (oldAttributes.get(key) || null))) {\n                      delete attributes[key]\n                    } else {\n                      attributes[key] = value\n                    }\n                  } else {\n                    item.delete(transaction)\n                  }\n                }\n              } else if (this.deletes(item)) {\n                oldAttributes.set(key, value)\n                const curVal = currentAttributes.get(key) || null\n                if (!equalAttrs(curVal, value)) {\n                  if (action === 'retain') {\n                    addOp()\n                  }\n                  attributes[key] = curVal\n                }\n              } else if (!item.deleted) {\n                oldAttributes.set(key, value)\n                const attr = attributes[key]\n                if (attr !== undefined) {\n                  if (!equalAttrs(attr, value)) {\n                    if (action === 'retain') {\n                      addOp()\n                    }\n                    if (value === null) {\n                      attributes[key] = value\n                    } else {\n                      delete attributes[key]\n                    }\n                  } else {\n                    item.delete(transaction)\n                  }\n                }\n              }\n              if (!item.deleted) {\n                if (action === 'insert') {\n                  addOp()\n                }\n                updateCurrentAttributes(currentAttributes, /** @type {ContentFormat} */ (item.content))\n              }\n              break\n            }\n          }\n          item = item.right\n        }\n        addOp()\n        while (delta.length > 0) {\n          const lastOp = delta[delta.length - 1]\n          if (lastOp.retain !== undefined && lastOp.attributes === undefined) {\n            // retain delta's if they don't assign attributes\n            delta.pop()\n          } else {\n            break\n          }\n        }\n      })\n      this._delta = delta\n    }\n    return /** @type {any} */ (this._delta)\n  }\n}\n\n/**\n * Type that represents text with formatting information.\n *\n * This type replaces y-richtext as this implementation is able to handle\n * block formats (format information on a paragraph), embeds (complex elements\n * like pictures and videos), and text formats (**bold**, *italic*).\n *\n * @extends AbstractType<YTextEvent>\n */\nexport class YText extends AbstractType {\n  /**\n   * @param {String} [string] The initial value of the YText.\n   */\n  constructor (string) {\n    super()\n    /**\n     * Array of pending operations on this type\n     * @type {Array<function():void>?}\n     */\n    this._pending = string !== undefined ? [() => this.insert(0, string)] : []\n    /**\n     * @type {Array<ArraySearchMarker>}\n     */\n    this._searchMarker = []\n  }\n\n  /**\n   * Number of characters of this text type.\n   *\n   * @type {number}\n   */\n  get length () {\n    return this._length\n  }\n\n  /**\n   * @param {Doc} y\n   * @param {Item} item\n   */\n  _integrate (y, item) {\n    super._integrate(y, item)\n    try {\n      /** @type {Array<function>} */ (this._pending).forEach(f => f())\n    } catch (e) {\n      console.error(e)\n    }\n    this._pending = null\n  }\n\n  _copy () {\n    return new YText()\n  }\n\n  /**\n   * @return {YText}\n   */\n  clone () {\n    const text = new YText()\n    text.applyDelta(this.toDelta())\n    return text\n  }\n\n  /**\n   * Creates YTextEvent and calls observers.\n   *\n   * @param {Transaction} transaction\n   * @param {Set<null|string>} parentSubs Keys changed on this type. `null` if list was modified.\n   */\n  _callObserver (transaction, parentSubs) {\n    super._callObserver(transaction, parentSubs)\n    const event = new YTextEvent(this, transaction, parentSubs)\n    const doc = transaction.doc\n    callTypeObservers(this, transaction, event)\n    // If a remote change happened, we try to cleanup potential formatting duplicates.\n    if (!transaction.local) {\n      // check if another formatting item was inserted\n      let foundFormattingItem = false\n      for (const [client, afterClock] of transaction.afterState.entries()) {\n        const clock = transaction.beforeState.get(client) || 0\n        if (afterClock === clock) {\n          continue\n        }\n        iterateStructs(transaction, /** @type {Array<Item|GC>} */ (doc.store.clients.get(client)), clock, afterClock, item => {\n          if (!item.deleted && /** @type {Item} */ (item).content.constructor === ContentFormat) {\n            foundFormattingItem = true\n          }\n        })\n        if (foundFormattingItem) {\n          break\n        }\n      }\n      if (!foundFormattingItem) {\n        iterateDeletedStructs(transaction, transaction.deleteSet, item => {\n          if (item instanceof GC || foundFormattingItem) {\n            return\n          }\n          if (item.parent === this && item.content.constructor === ContentFormat) {\n            foundFormattingItem = true\n          }\n        })\n      }\n      transact(doc, (t) => {\n        if (foundFormattingItem) {\n          // If a formatting item was inserted, we simply clean the whole type.\n          // We need to compute currentAttributes for the current position anyway.\n          cleanupYTextFormatting(this)\n        } else {\n          // If no formatting attribute was inserted, we can make due with contextless\n          // formatting cleanups.\n          // Contextless: it is not necessary to compute currentAttributes for the affected position.\n          iterateDeletedStructs(t, t.deleteSet, item => {\n            if (item instanceof GC) {\n              return\n            }\n            if (item.parent === this) {\n              cleanupContextlessFormattingGap(t, item)\n            }\n          })\n        }\n      })\n    }\n  }\n\n  /**\n   * Returns the unformatted string representation of this YText type.\n   *\n   * @public\n   */\n  toString () {\n    let str = ''\n    /**\n     * @type {Item|null}\n     */\n    let n = this._start\n    while (n !== null) {\n      if (!n.deleted && n.countable && n.content.constructor === ContentString) {\n        str += /** @type {ContentString} */ (n.content).str\n      }\n      n = n.right\n    }\n    return str\n  }\n\n  /**\n   * Returns the unformatted string representation of this YText type.\n   *\n   * @return {string}\n   * @public\n   */\n  toJSON () {\n    return this.toString()\n  }\n\n  /**\n   * Apply a {@link Delta} on this shared YText type.\n   *\n   * @param {any} delta The changes to apply on this element.\n   * @param {object}  [opts]\n   * @param {boolean} [opts.sanitize] Sanitize input delta. Removes ending newlines if set to true.\n   *\n   *\n   * @public\n   */\n  applyDelta (delta, { sanitize = true } = {}) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        const currPos = new ItemTextListPosition(null, this._start, 0, new Map())\n        for (let i = 0; i < delta.length; i++) {\n          const op = delta[i]\n          if (op.insert !== undefined) {\n            // Quill assumes that the content starts with an empty paragraph.\n            // Yjs/Y.Text assumes that it starts empty. We always hide that\n            // there is a newline at the end of the content.\n            // If we omit this step, clients will see a different number of\n            // paragraphs, but nothing bad will happen.\n            const ins = (!sanitize && typeof op.insert === 'string' && i === delta.length - 1 && currPos.right === null && op.insert.slice(-1) === '\\n') ? op.insert.slice(0, -1) : op.insert\n            if (typeof ins !== 'string' || ins.length > 0) {\n              insertText(transaction, this, currPos, ins, op.attributes || {})\n            }\n          } else if (op.retain !== undefined) {\n            formatText(transaction, this, currPos, op.retain, op.attributes || {})\n          } else if (op.delete !== undefined) {\n            deleteText(transaction, currPos, op.delete)\n          }\n        }\n      })\n    } else {\n      /** @type {Array<function>} */ (this._pending).push(() => this.applyDelta(delta))\n    }\n  }\n\n  /**\n   * Returns the Delta representation of this YText type.\n   *\n   * @param {Snapshot} [snapshot]\n   * @param {Snapshot} [prevSnapshot]\n   * @param {function('removed' | 'added', ID):any} [computeYChange]\n   * @return {any} The Delta representation of this type.\n   *\n   * @public\n   */\n  toDelta (snapshot, prevSnapshot, computeYChange) {\n    /**\n     * @type{Array<any>}\n     */\n    const ops = []\n    const currentAttributes = new Map()\n    const doc = /** @type {Doc} */ (this.doc)\n    let str = ''\n    let n = this._start\n    function packStr () {\n      if (str.length > 0) {\n        // pack str with attributes to ops\n        /**\n         * @type {Object<string,any>}\n         */\n        const attributes = {}\n        let addAttributes = false\n        currentAttributes.forEach((value, key) => {\n          addAttributes = true\n          attributes[key] = value\n        })\n        /**\n         * @type {Object<string,any>}\n         */\n        const op = { insert: str }\n        if (addAttributes) {\n          op.attributes = attributes\n        }\n        ops.push(op)\n        str = ''\n      }\n    }\n    // snapshots are merged again after the transaction, so we need to keep the\n    // transalive until we are done\n    transact(doc, transaction => {\n      if (snapshot) {\n        splitSnapshotAffectedStructs(transaction, snapshot)\n      }\n      if (prevSnapshot) {\n        splitSnapshotAffectedStructs(transaction, prevSnapshot)\n      }\n      while (n !== null) {\n        if (isVisible(n, snapshot) || (prevSnapshot !== undefined && isVisible(n, prevSnapshot))) {\n          switch (n.content.constructor) {\n            case ContentString: {\n              const cur = currentAttributes.get('ychange')\n              if (snapshot !== undefined && !isVisible(n, snapshot)) {\n                if (cur === undefined || cur.user !== n.id.client || cur.state !== 'removed') {\n                  packStr()\n                  currentAttributes.set('ychange', computeYChange ? computeYChange('removed', n.id) : { type: 'removed' })\n                }\n              } else if (prevSnapshot !== undefined && !isVisible(n, prevSnapshot)) {\n                if (cur === undefined || cur.user !== n.id.client || cur.state !== 'added') {\n                  packStr()\n                  currentAttributes.set('ychange', computeYChange ? computeYChange('added', n.id) : { type: 'added' })\n                }\n              } else if (cur !== undefined) {\n                packStr()\n                currentAttributes.delete('ychange')\n              }\n              str += /** @type {ContentString} */ (n.content).str\n              break\n            }\n            case ContentEmbed: {\n              packStr()\n              /**\n               * @type {Object<string,any>}\n               */\n              const op = {\n                insert: /** @type {ContentEmbed} */ (n.content).embed\n              }\n              if (currentAttributes.size > 0) {\n                const attrs = /** @type {Object<string,any>} */ ({})\n                op.attributes = attrs\n                currentAttributes.forEach((value, key) => {\n                  attrs[key] = value\n                })\n              }\n              ops.push(op)\n              break\n            }\n            case ContentFormat:\n              if (isVisible(n, snapshot)) {\n                packStr()\n                updateCurrentAttributes(currentAttributes, /** @type {ContentFormat} */ (n.content))\n              }\n              break\n          }\n        }\n        n = n.right\n      }\n      packStr()\n    }, splitSnapshotAffectedStructs)\n    return ops\n  }\n\n  /**\n   * Insert text at a given index.\n   *\n   * @param {number} index The index at which to start inserting.\n   * @param {String} text The text to insert at the specified position.\n   * @param {TextAttributes} [attributes] Optionally define some formatting\n   *                                    information to apply on the inserted\n   *                                    Text.\n   * @public\n   */\n  insert (index, text, attributes) {\n    if (text.length <= 0) {\n      return\n    }\n    const y = this.doc\n    if (y !== null) {\n      transact(y, transaction => {\n        const pos = findPosition(transaction, this, index)\n        if (!attributes) {\n          attributes = {}\n          // @ts-ignore\n          pos.currentAttributes.forEach((v, k) => { attributes[k] = v })\n        }\n        insertText(transaction, this, pos, text, attributes)\n      })\n    } else {\n      /** @type {Array<function>} */ (this._pending).push(() => this.insert(index, text, attributes))\n    }\n  }\n\n  /**\n   * Inserts an embed at a index.\n   *\n   * @param {number} index The index to insert the embed at.\n   * @param {Object} embed The Object that represents the embed.\n   * @param {TextAttributes} attributes Attribute information to apply on the\n   *                                    embed\n   *\n   * @public\n   */\n  insertEmbed (index, embed, attributes = {}) {\n    if (embed.constructor !== Object) {\n      throw new Error('Embed must be an Object')\n    }\n    const y = this.doc\n    if (y !== null) {\n      transact(y, transaction => {\n        const pos = findPosition(transaction, this, index)\n        insertText(transaction, this, pos, embed, attributes)\n      })\n    } else {\n      /** @type {Array<function>} */ (this._pending).push(() => this.insertEmbed(index, embed, attributes))\n    }\n  }\n\n  /**\n   * Deletes text starting from an index.\n   *\n   * @param {number} index Index at which to start deleting.\n   * @param {number} length The number of characters to remove. Defaults to 1.\n   *\n   * @public\n   */\n  delete (index, length) {\n    if (length === 0) {\n      return\n    }\n    const y = this.doc\n    if (y !== null) {\n      transact(y, transaction => {\n        deleteText(transaction, findPosition(transaction, this, index), length)\n      })\n    } else {\n      /** @type {Array<function>} */ (this._pending).push(() => this.delete(index, length))\n    }\n  }\n\n  /**\n   * Assigns properties to a range of text.\n   *\n   * @param {number} index The position where to start formatting.\n   * @param {number} length The amount of characters to assign properties to.\n   * @param {TextAttributes} attributes Attribute information to apply on the\n   *                                    text.\n   *\n   * @public\n   */\n  format (index, length, attributes) {\n    if (length === 0) {\n      return\n    }\n    const y = this.doc\n    if (y !== null) {\n      transact(y, transaction => {\n        const pos = findPosition(transaction, this, index)\n        if (pos.right === null) {\n          return\n        }\n        formatText(transaction, this, pos, length, attributes)\n      })\n    } else {\n      /** @type {Array<function>} */ (this._pending).push(() => this.format(index, length, attributes))\n    }\n  }\n\n  /**\n   * Removes an attribute.\n   *\n   * @note Xml-Text nodes don't have attributes. You can use this feature to assign properties to complete text-blocks.\n   *\n   * @param {String} attributeName The attribute name that is to be removed.\n   *\n   * @public\n   */\n  removeAttribute (attributeName) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeMapDelete(transaction, this, attributeName)\n      })\n    } else {\n      /** @type {Array<function>} */ (this._pending).push(() => this.removeAttribute(attributeName))\n    }\n  }\n\n  /**\n   * Sets or updates an attribute.\n   *\n   * @note Xml-Text nodes don't have attributes. You can use this feature to assign properties to complete text-blocks.\n   *\n   * @param {String} attributeName The attribute name that is to be set.\n   * @param {any} attributeValue The attribute value that is to be set.\n   *\n   * @public\n   */\n  setAttribute (attributeName, attributeValue) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeMapSet(transaction, this, attributeName, attributeValue)\n      })\n    } else {\n      /** @type {Array<function>} */ (this._pending).push(() => this.setAttribute(attributeName, attributeValue))\n    }\n  }\n\n  /**\n   * Returns an attribute value that belongs to the attribute name.\n   *\n   * @note Xml-Text nodes don't have attributes. You can use this feature to assign properties to complete text-blocks.\n   *\n   * @param {String} attributeName The attribute name that identifies the\n   *                               queried value.\n   * @return {any} The queried attribute value.\n   *\n   * @public\n   */\n  getAttribute (attributeName) {\n    return /** @type {any} */ (typeMapGet(this, attributeName))\n  }\n\n  /**\n   * Returns all attribute name/value pairs in a JSON Object.\n   *\n   * @note Xml-Text nodes don't have attributes. You can use this feature to assign properties to complete text-blocks.\n   *\n   * @param {Snapshot} [snapshot]\n   * @return {Object<string, any>} A JSON Object that describes the attributes.\n   *\n   * @public\n   */\n  getAttributes (snapshot) {\n    return typeMapGetAll(this)\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   */\n  _write (encoder) {\n    encoder.writeTypeRef(YTextRefID)\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {YText}\n *\n * @private\n * @function\n */\nexport const readYText = decoder => new YText()\n","/**\n * @module YXml\n */\n\nimport {\n  YXmlEvent,\n  YXmlElement,\n  AbstractType,\n  typeListMap,\n  typeListForEach,\n  typeListInsertGenerics,\n  typeListInsertGenericsAfter,\n  typeListDelete,\n  typeListToArray,\n  YXmlFragmentRefID,\n  callTypeObservers,\n  transact,\n  typeListGet,\n  typeListSlice,\n  UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2, Doc, ContentType, Transaction, Item, YXmlText, YXmlHook, Snapshot // eslint-disable-line\n} from '../internals.js'\n\nimport * as error from 'lib0/error'\n\n/**\n * Define the elements to which a set of CSS queries apply.\n * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors|CSS_Selectors}\n *\n * @example\n *   query = '.classSelector'\n *   query = 'nodeSelector'\n *   query = '#idSelector'\n *\n * @typedef {string} CSS_Selector\n */\n\n/**\n * Dom filter function.\n *\n * @callback domFilter\n * @param {string} nodeName The nodeName of the element\n * @param {Map} attributes The map of attributes.\n * @return {boolean} Whether to include the Dom node in the YXmlElement.\n */\n\n/**\n * Represents a subset of the nodes of a YXmlElement / YXmlFragment and a\n * position within them.\n *\n * Can be created with {@link YXmlFragment#createTreeWalker}\n *\n * @public\n * @implements {Iterable<YXmlElement|YXmlText|YXmlElement|YXmlHook>}\n */\nexport class YXmlTreeWalker {\n  /**\n   * @param {YXmlFragment | YXmlElement} root\n   * @param {function(AbstractType<any>):boolean} [f]\n   */\n  constructor (root, f = () => true) {\n    this._filter = f\n    this._root = root\n    /**\n     * @type {Item}\n     */\n    this._currentNode = /** @type {Item} */ (root._start)\n    this._firstCall = true\n  }\n\n  [Symbol.iterator] () {\n    return this\n  }\n\n  /**\n   * Get the next node.\n   *\n   * @return {IteratorResult<YXmlElement|YXmlText|YXmlHook>} The next node.\n   *\n   * @public\n   */\n  next () {\n    /**\n     * @type {Item|null}\n     */\n    let n = this._currentNode\n    let type = n && n.content && /** @type {any} */ (n.content).type\n    if (n !== null && (!this._firstCall || n.deleted || !this._filter(type))) { // if first call, we check if we can use the first item\n      do {\n        type = /** @type {any} */ (n.content).type\n        if (!n.deleted && (type.constructor === YXmlElement || type.constructor === YXmlFragment) && type._start !== null) {\n          // walk down in the tree\n          n = type._start\n        } else {\n          // walk right or up in the tree\n          while (n !== null) {\n            if (n.right !== null) {\n              n = n.right\n              break\n            } else if (n.parent === this._root) {\n              n = null\n            } else {\n              n = /** @type {AbstractType<any>} */ (n.parent)._item\n            }\n          }\n        }\n      } while (n !== null && (n.deleted || !this._filter(/** @type {ContentType} */ (n.content).type)))\n    }\n    this._firstCall = false\n    if (n === null) {\n      // @ts-ignore\n      return { value: undefined, done: true }\n    }\n    this._currentNode = n\n    return { value: /** @type {any} */ (n.content).type, done: false }\n  }\n}\n\n/**\n * Represents a list of {@link YXmlElement}.and {@link YXmlText} types.\n * A YxmlFragment is similar to a {@link YXmlElement}, but it does not have a\n * nodeName and it does not have attributes. Though it can be bound to a DOM\n * element - in this case the attributes and the nodeName are not shared.\n *\n * @public\n * @extends AbstractType<YXmlEvent>\n */\nexport class YXmlFragment extends AbstractType {\n  constructor () {\n    super()\n    /**\n     * @type {Array<any>|null}\n     */\n    this._prelimContent = []\n  }\n\n  /**\n   * @type {YXmlElement|YXmlText|null}\n   */\n  get firstChild () {\n    const first = this._first\n    return first ? first.content.getContent()[0] : null\n  }\n\n  /**\n   * Integrate this type into the Yjs instance.\n   *\n   * * Save this struct in the os\n   * * This type is sent to other client\n   * * Observer functions are fired\n   *\n   * @param {Doc} y The Yjs instance\n   * @param {Item} item\n   */\n  _integrate (y, item) {\n    super._integrate(y, item)\n    this.insert(0, /** @type {Array<any>} */ (this._prelimContent))\n    this._prelimContent = null\n  }\n\n  _copy () {\n    return new YXmlFragment()\n  }\n\n  /**\n   * @return {YXmlFragment}\n   */\n  clone () {\n    const el = new YXmlFragment()\n    // @ts-ignore\n    el.insert(0, el.toArray().map(item => item instanceof AbstractType ? item.clone() : item))\n    return el\n  }\n\n  get length () {\n    return this._prelimContent === null ? this._length : this._prelimContent.length\n  }\n\n  /**\n   * Create a subtree of childNodes.\n   *\n   * @example\n   * const walker = elem.createTreeWalker(dom => dom.nodeName === 'div')\n   * for (let node in walker) {\n   *   // `node` is a div node\n   *   nop(node)\n   * }\n   *\n   * @param {function(AbstractType<any>):boolean} filter Function that is called on each child element and\n   *                          returns a Boolean indicating whether the child\n   *                          is to be included in the subtree.\n   * @return {YXmlTreeWalker} A subtree and a position within it.\n   *\n   * @public\n   */\n  createTreeWalker (filter) {\n    return new YXmlTreeWalker(this, filter)\n  }\n\n  /**\n   * Returns the first YXmlElement that matches the query.\n   * Similar to DOM's {@link querySelector}.\n   *\n   * Query support:\n   *   - tagname\n   * TODO:\n   *   - id\n   *   - attribute\n   *\n   * @param {CSS_Selector} query The query on the children.\n   * @return {YXmlElement|YXmlText|YXmlHook|null} The first element that matches the query or null.\n   *\n   * @public\n   */\n  querySelector (query) {\n    query = query.toUpperCase()\n    // @ts-ignore\n    const iterator = new YXmlTreeWalker(this, element => element.nodeName && element.nodeName.toUpperCase() === query)\n    const next = iterator.next()\n    if (next.done) {\n      return null\n    } else {\n      return next.value\n    }\n  }\n\n  /**\n   * Returns all YXmlElements that match the query.\n   * Similar to Dom's {@link querySelectorAll}.\n   *\n   * @todo Does not yet support all queries. Currently only query by tagName.\n   *\n   * @param {CSS_Selector} query The query on the children\n   * @return {Array<YXmlElement|YXmlText|YXmlHook|null>} The elements that match this query.\n   *\n   * @public\n   */\n  querySelectorAll (query) {\n    query = query.toUpperCase()\n    // @ts-ignore\n    return Array.from(new YXmlTreeWalker(this, element => element.nodeName && element.nodeName.toUpperCase() === query))\n  }\n\n  /**\n   * Creates YXmlEvent and calls observers.\n   *\n   * @param {Transaction} transaction\n   * @param {Set<null|string>} parentSubs Keys changed on this type. `null` if list was modified.\n   */\n  _callObserver (transaction, parentSubs) {\n    callTypeObservers(this, transaction, new YXmlEvent(this, parentSubs, transaction))\n  }\n\n  /**\n   * Get the string representation of all the children of this YXmlFragment.\n   *\n   * @return {string} The string representation of all children.\n   */\n  toString () {\n    return typeListMap(this, xml => xml.toString()).join('')\n  }\n\n  /**\n   * @return {string}\n   */\n  toJSON () {\n    return this.toString()\n  }\n\n  /**\n   * Creates a Dom Element that mirrors this YXmlElement.\n   *\n   * @param {Document} [_document=document] The document object (you must define\n   *                                        this when calling this method in\n   *                                        nodejs)\n   * @param {Object<string, any>} [hooks={}] Optional property to customize how hooks\n   *                                             are presented in the DOM\n   * @param {any} [binding] You should not set this property. This is\n   *                               used if DomBinding wants to create a\n   *                               association to the created DOM type.\n   * @return {Node} The {@link https://developer.mozilla.org/en-US/docs/Web/API/Element|Dom Element}\n   *\n   * @public\n   */\n  toDOM (_document = document, hooks = {}, binding) {\n    const fragment = _document.createDocumentFragment()\n    if (binding !== undefined) {\n      binding._createAssociation(fragment, this)\n    }\n    typeListForEach(this, xmlType => {\n      fragment.insertBefore(xmlType.toDOM(_document, hooks, binding), null)\n    })\n    return fragment\n  }\n\n  /**\n   * Inserts new content at an index.\n   *\n   * @example\n   *  // Insert character 'a' at position 0\n   *  xml.insert(0, [new Y.XmlText('text')])\n   *\n   * @param {number} index The index to insert content at\n   * @param {Array<YXmlElement|YXmlText>} content The array of content\n   */\n  insert (index, content) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeListInsertGenerics(transaction, this, index, content)\n      })\n    } else {\n      // @ts-ignore _prelimContent is defined because this is not yet integrated\n      this._prelimContent.splice(index, 0, ...content)\n    }\n  }\n\n  /**\n   * Inserts new content at an index.\n   *\n   * @example\n   *  // Insert character 'a' at position 0\n   *  xml.insert(0, [new Y.XmlText('text')])\n   *\n   * @param {null|Item|YXmlElement|YXmlText} ref The index to insert content at\n   * @param {Array<YXmlElement|YXmlText>} content The array of content\n   */\n  insertAfter (ref, content) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        const refItem = (ref && ref instanceof AbstractType) ? ref._item : ref\n        typeListInsertGenericsAfter(transaction, this, refItem, content)\n      })\n    } else {\n      const pc = /** @type {Array<any>} */ (this._prelimContent)\n      const index = ref === null ? 0 : pc.findIndex(el => el === ref) + 1\n      if (index === 0 && ref !== null) {\n        throw error.create('Reference item not found')\n      }\n      pc.splice(index, 0, ...content)\n    }\n  }\n\n  /**\n   * Deletes elements starting from an index.\n   *\n   * @param {number} index Index at which to start deleting elements\n   * @param {number} [length=1] The number of elements to remove. Defaults to 1.\n   */\n  delete (index, length = 1) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeListDelete(transaction, this, index, length)\n      })\n    } else {\n      // @ts-ignore _prelimContent is defined because this is not yet integrated\n      this._prelimContent.splice(index, length)\n    }\n  }\n\n  /**\n   * Transforms this YArray to a JavaScript Array.\n   *\n   * @return {Array<YXmlElement|YXmlText|YXmlHook>}\n   */\n  toArray () {\n    return typeListToArray(this)\n  }\n\n  /**\n   * Appends content to this YArray.\n   *\n   * @param {Array<YXmlElement|YXmlText>} content Array of content to append.\n   */\n  push (content) {\n    this.insert(this.length, content)\n  }\n\n  /**\n   * Preppends content to this YArray.\n   *\n   * @param {Array<YXmlElement|YXmlText>} content Array of content to preppend.\n   */\n  unshift (content) {\n    this.insert(0, content)\n  }\n\n  /**\n   * Returns the i-th element from a YArray.\n   *\n   * @param {number} index The index of the element to return from the YArray\n   * @return {YXmlElement|YXmlText}\n   */\n  get (index) {\n    return typeListGet(this, index)\n  }\n\n  /**\n   * Transforms this YArray to a JavaScript Array.\n   *\n   * @param {number} [start]\n   * @param {number} [end]\n   * @return {Array<YXmlElement|YXmlText>}\n   */\n  slice (start = 0, end = this.length) {\n    return typeListSlice(this, start, end)\n  }\n\n  /**\n   * Transform the properties of this type to binary and write it to an\n   * BinaryEncoder.\n   *\n   * This is called when this Item is sent to a remote peer.\n   *\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder The encoder to write data to.\n   */\n  _write (encoder) {\n    encoder.writeTypeRef(YXmlFragmentRefID)\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {YXmlFragment}\n *\n * @private\n * @function\n */\nexport const readYXmlFragment = decoder => new YXmlFragment()\n","\nimport {\n  YXmlFragment,\n  transact,\n  typeMapDelete,\n  typeMapSet,\n  typeMapGet,\n  typeMapGetAll,\n  typeListForEach,\n  YXmlElementRefID,\n  YXmlText, ContentType, AbstractType, UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2, Snapshot, Doc, Item // eslint-disable-line\n} from '../internals.js'\n\n/**\n * An YXmlElement imitates the behavior of a\n * {@link https://developer.mozilla.org/en-US/docs/Web/API/Element|Dom Element}.\n *\n * * An YXmlElement has attributes (key value pairs)\n * * An YXmlElement has childElements that must inherit from YXmlElement\n */\nexport class YXmlElement extends YXmlFragment {\n  constructor (nodeName = 'UNDEFINED') {\n    super()\n    this.nodeName = nodeName\n    /**\n     * @type {Map<string, any>|null}\n     */\n    this._prelimAttrs = new Map()\n  }\n\n  /**\n   * @type {YXmlElement|YXmlText|null}\n   */\n  get nextSibling () {\n    const n = this._item ? this._item.next : null\n    return n ? /** @type {YXmlElement|YXmlText} */ (/** @type {ContentType} */ (n.content).type) : null\n  }\n\n  /**\n   * @type {YXmlElement|YXmlText|null}\n   */\n  get prevSibling () {\n    const n = this._item ? this._item.prev : null\n    return n ? /** @type {YXmlElement|YXmlText} */ (/** @type {ContentType} */ (n.content).type) : null\n  }\n\n  /**\n   * Integrate this type into the Yjs instance.\n   *\n   * * Save this struct in the os\n   * * This type is sent to other client\n   * * Observer functions are fired\n   *\n   * @param {Doc} y The Yjs instance\n   * @param {Item} item\n   */\n  _integrate (y, item) {\n    super._integrate(y, item)\n    ;(/** @type {Map<string, any>} */ (this._prelimAttrs)).forEach((value, key) => {\n      this.setAttribute(key, value)\n    })\n    this._prelimAttrs = null\n  }\n\n  /**\n   * Creates an Item with the same effect as this Item (without position effect)\n   *\n   * @return {YXmlElement}\n   */\n  _copy () {\n    return new YXmlElement(this.nodeName)\n  }\n\n  /**\n   * @return {YXmlElement}\n   */\n  clone () {\n    const el = new YXmlElement(this.nodeName)\n    const attrs = this.getAttributes()\n    for (const key in attrs) {\n      el.setAttribute(key, attrs[key])\n    }\n    // @ts-ignore\n    el.insert(0, el.toArray().map(item => item instanceof AbstractType ? item.clone() : item))\n    return el\n  }\n\n  /**\n   * Returns the XML serialization of this YXmlElement.\n   * The attributes are ordered by attribute-name, so you can easily use this\n   * method to compare YXmlElements\n   *\n   * @return {string} The string representation of this type.\n   *\n   * @public\n   */\n  toString () {\n    const attrs = this.getAttributes()\n    const stringBuilder = []\n    const keys = []\n    for (const key in attrs) {\n      keys.push(key)\n    }\n    keys.sort()\n    const keysLen = keys.length\n    for (let i = 0; i < keysLen; i++) {\n      const key = keys[i]\n      stringBuilder.push(key + '=\"' + attrs[key] + '\"')\n    }\n    const nodeName = this.nodeName.toLocaleLowerCase()\n    const attrsString = stringBuilder.length > 0 ? ' ' + stringBuilder.join(' ') : ''\n    return `<${nodeName}${attrsString}>${super.toString()}</${nodeName}>`\n  }\n\n  /**\n   * Removes an attribute from this YXmlElement.\n   *\n   * @param {String} attributeName The attribute name that is to be removed.\n   *\n   * @public\n   */\n  removeAttribute (attributeName) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeMapDelete(transaction, this, attributeName)\n      })\n    } else {\n      /** @type {Map<string,any>} */ (this._prelimAttrs).delete(attributeName)\n    }\n  }\n\n  /**\n   * Sets or updates an attribute.\n   *\n   * @param {String} attributeName The attribute name that is to be set.\n   * @param {String} attributeValue The attribute value that is to be set.\n   *\n   * @public\n   */\n  setAttribute (attributeName, attributeValue) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeMapSet(transaction, this, attributeName, attributeValue)\n      })\n    } else {\n      /** @type {Map<string, any>} */ (this._prelimAttrs).set(attributeName, attributeValue)\n    }\n  }\n\n  /**\n   * Returns an attribute value that belongs to the attribute name.\n   *\n   * @param {String} attributeName The attribute name that identifies the\n   *                               queried value.\n   * @return {String} The queried attribute value.\n   *\n   * @public\n   */\n  getAttribute (attributeName) {\n    return /** @type {any} */ (typeMapGet(this, attributeName))\n  }\n\n  /**\n   * Returns all attribute name/value pairs in a JSON Object.\n   *\n   * @param {Snapshot} [snapshot]\n   * @return {Object<string, any>} A JSON Object that describes the attributes.\n   *\n   * @public\n   */\n  getAttributes (snapshot) {\n    return typeMapGetAll(this)\n  }\n\n  /**\n   * Creates a Dom Element that mirrors this YXmlElement.\n   *\n   * @param {Document} [_document=document] The document object (you must define\n   *                                        this when calling this method in\n   *                                        nodejs)\n   * @param {Object<string, any>} [hooks={}] Optional property to customize how hooks\n   *                                             are presented in the DOM\n   * @param {any} [binding] You should not set this property. This is\n   *                               used if DomBinding wants to create a\n   *                               association to the created DOM type.\n   * @return {Node} The {@link https://developer.mozilla.org/en-US/docs/Web/API/Element|Dom Element}\n   *\n   * @public\n   */\n  toDOM (_document = document, hooks = {}, binding) {\n    const dom = _document.createElement(this.nodeName)\n    const attrs = this.getAttributes()\n    for (const key in attrs) {\n      dom.setAttribute(key, attrs[key])\n    }\n    typeListForEach(this, yxml => {\n      dom.appendChild(yxml.toDOM(_document, hooks, binding))\n    })\n    if (binding !== undefined) {\n      binding._createAssociation(dom, this)\n    }\n    return dom\n  }\n\n  /**\n   * Transform the properties of this type to binary and write it to an\n   * BinaryEncoder.\n   *\n   * This is called when this Item is sent to a remote peer.\n   *\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder The encoder to write data to.\n   */\n  _write (encoder) {\n    encoder.writeTypeRef(YXmlElementRefID)\n    encoder.writeKey(this.nodeName)\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {YXmlElement}\n *\n * @function\n */\nexport const readYXmlElement = decoder => new YXmlElement(decoder.readKey())\n","\nimport {\n  YEvent,\n  YXmlText, YXmlElement, YXmlFragment, Transaction // eslint-disable-line\n} from '../internals.js'\n\n/**\n * An Event that describes changes on a YXml Element or Yxml Fragment\n */\nexport class YXmlEvent extends YEvent {\n  /**\n   * @param {YXmlElement|YXmlText|YXmlFragment} target The target on which the event is created.\n   * @param {Set<string|null>} subs The set of changed attributes. `null` is included if the\n   *                   child list changed.\n   * @param {Transaction} transaction The transaction instance with wich the\n   *                                  change was created.\n   */\n  constructor (target, subs, transaction) {\n    super(target, transaction)\n    /**\n     * Whether the children changed.\n     * @type {Boolean}\n     * @private\n     */\n    this.childListChanged = false\n    /**\n     * Set of all changed attributes.\n     * @type {Set<string>}\n     */\n    this.attributesChanged = new Set()\n    subs.forEach((sub) => {\n      if (sub === null) {\n        this.childListChanged = true\n      } else {\n        this.attributesChanged.add(sub)\n      }\n    })\n  }\n}\n","\nimport {\n  YMap,\n  YXmlHookRefID,\n  UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2 // eslint-disable-line\n} from '../internals.js'\n\n/**\n * You can manage binding to a custom type with YXmlHook.\n *\n * @extends {YMap<any>}\n */\nexport class YXmlHook extends YMap {\n  /**\n   * @param {string} hookName nodeName of the Dom Node.\n   */\n  constructor (hookName) {\n    super()\n    /**\n     * @type {string}\n     */\n    this.hookName = hookName\n  }\n\n  /**\n   * Creates an Item with the same effect as this Item (without position effect)\n   */\n  _copy () {\n    return new YXmlHook(this.hookName)\n  }\n\n  /**\n   * @return {YXmlHook}\n   */\n  clone () {\n    const el = new YXmlHook(this.hookName)\n    this.forEach((value, key) => {\n      el.set(key, value)\n    })\n    return el\n  }\n\n  /**\n   * Creates a Dom Element that mirrors this YXmlElement.\n   *\n   * @param {Document} [_document=document] The document object (you must define\n   *                                        this when calling this method in\n   *                                        nodejs)\n   * @param {Object.<string, any>} [hooks] Optional property to customize how hooks\n   *                                             are presented in the DOM\n   * @param {any} [binding] You should not set this property. This is\n   *                               used if DomBinding wants to create a\n   *                               association to the created DOM type\n   * @return {Element} The {@link https://developer.mozilla.org/en-US/docs/Web/API/Element|Dom Element}\n   *\n   * @public\n   */\n  toDOM (_document = document, hooks = {}, binding) {\n    const hook = hooks[this.hookName]\n    let dom\n    if (hook !== undefined) {\n      dom = hook.createDom(this)\n    } else {\n      dom = document.createElement(this.hookName)\n    }\n    dom.setAttribute('data-yjs-hook', this.hookName)\n    if (binding !== undefined) {\n      binding._createAssociation(dom, this)\n    }\n    return dom\n  }\n\n  /**\n   * Transform the properties of this type to binary and write it to an\n   * BinaryEncoder.\n   *\n   * This is called when this Item is sent to a remote peer.\n   *\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder The encoder to write data to.\n   */\n  _write (encoder) {\n    encoder.writeTypeRef(YXmlHookRefID)\n    encoder.writeKey(this.hookName)\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {YXmlHook}\n *\n * @private\n * @function\n */\nexport const readYXmlHook = decoder =>\n  new YXmlHook(decoder.readKey())\n","\nimport {\n  YText,\n  YXmlTextRefID,\n  ContentType, YXmlElement, UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2, // eslint-disable-line\n} from '../internals.js'\n\n/**\n * Represents text in a Dom Element. In the future this type will also handle\n * simple formatting information like bold and italic.\n */\nexport class YXmlText extends YText {\n  /**\n   * @type {YXmlElement|YXmlText|null}\n   */\n  get nextSibling () {\n    const n = this._item ? this._item.next : null\n    return n ? /** @type {YXmlElement|YXmlText} */ (/** @type {ContentType} */ (n.content).type) : null\n  }\n\n  /**\n   * @type {YXmlElement|YXmlText|null}\n   */\n  get prevSibling () {\n    const n = this._item ? this._item.prev : null\n    return n ? /** @type {YXmlElement|YXmlText} */ (/** @type {ContentType} */ (n.content).type) : null\n  }\n\n  _copy () {\n    return new YXmlText()\n  }\n\n  /**\n   * @return {YXmlText}\n   */\n  clone () {\n    const text = new YXmlText()\n    text.applyDelta(this.toDelta())\n    return text\n  }\n\n  /**\n   * Creates a Dom Element that mirrors this YXmlText.\n   *\n   * @param {Document} [_document=document] The document object (you must define\n   *                                        this when calling this method in\n   *                                        nodejs)\n   * @param {Object<string, any>} [hooks] Optional property to customize how hooks\n   *                                             are presented in the DOM\n   * @param {any} [binding] You should not set this property. This is\n   *                               used if DomBinding wants to create a\n   *                               association to the created DOM type.\n   * @return {Text} The {@link https://developer.mozilla.org/en-US/docs/Web/API/Element|Dom Element}\n   *\n   * @public\n   */\n  toDOM (_document = document, hooks, binding) {\n    const dom = _document.createTextNode(this.toString())\n    if (binding !== undefined) {\n      binding._createAssociation(dom, this)\n    }\n    return dom\n  }\n\n  toString () {\n    // @ts-ignore\n    return this.toDelta().map(delta => {\n      const nestedNodes = []\n      for (const nodeName in delta.attributes) {\n        const attrs = []\n        for (const key in delta.attributes[nodeName]) {\n          attrs.push({ key, value: delta.attributes[nodeName][key] })\n        }\n        // sort attributes to get a unique order\n        attrs.sort((a, b) => a.key < b.key ? -1 : 1)\n        nestedNodes.push({ nodeName, attrs })\n      }\n      // sort node order to get a unique order\n      nestedNodes.sort((a, b) => a.nodeName < b.nodeName ? -1 : 1)\n      // now convert to dom string\n      let str = ''\n      for (let i = 0; i < nestedNodes.length; i++) {\n        const node = nestedNodes[i]\n        str += `<${node.nodeName}`\n        for (let j = 0; j < node.attrs.length; j++) {\n          const attr = node.attrs[j]\n          str += ` ${attr.key}=\"${attr.value}\"`\n        }\n        str += '>'\n      }\n      str += delta.insert\n      for (let i = nestedNodes.length - 1; i >= 0; i--) {\n        str += `</${nestedNodes[i].nodeName}>`\n      }\n      return str\n    }).join('')\n  }\n\n  /**\n   * @return {string}\n   */\n  toJSON () {\n    return this.toString()\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   */\n  _write (encoder) {\n    encoder.writeTypeRef(YXmlTextRefID)\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {YXmlText}\n *\n * @private\n * @function\n */\nexport const readYXmlText = decoder => new YXmlText()\n","\nimport {\n  UpdateEncoderV1, UpdateEncoderV2, ID, Transaction // eslint-disable-line\n} from '../internals.js'\n\nimport * as error from 'lib0/error'\n\nexport class AbstractStruct {\n  /**\n   * @param {ID} id\n   * @param {number} length\n   */\n  constructor (id, length) {\n    this.id = id\n    this.length = length\n  }\n\n  /**\n   * @type {boolean}\n   */\n  get deleted () {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * Merge this struct with the item to the right.\n   * This method is already assuming that `this.id.clock + this.length === this.id.clock`.\n   * Also this method does *not* remove right from StructStore!\n   * @param {AbstractStruct} right\n   * @return {boolean} wether this merged with right\n   */\n  mergeWith (right) {\n    return false\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder The encoder to write data to.\n   * @param {number} offset\n   * @param {number} encodingRef\n   */\n  write (encoder, offset, encodingRef) {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {number} offset\n   */\n  integrate (transaction, offset) {\n    throw error.methodUnimplemented()\n  }\n}\n","\nimport {\n  AbstractStruct,\n  addStruct,\n  UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2, StructStore, Transaction, ID // eslint-disable-line\n} from '../internals.js'\n\nexport const structGCRefNumber = 0\n\n/**\n * @private\n */\nexport class GC extends AbstractStruct {\n  get deleted () {\n    return true\n  }\n\n  delete () {}\n\n  /**\n   * @param {GC} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    if (this.constructor !== right.constructor) {\n      return false\n    }\n    this.length += right.length\n    return true\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {number} offset\n   */\n  integrate (transaction, offset) {\n    if (offset > 0) {\n      this.id.clock += offset\n      this.length -= offset\n    }\n    addStruct(transaction.doc.store, this)\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    encoder.writeInfo(structGCRefNumber)\n    encoder.writeLen(this.length - offset)\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {StructStore} store\n   * @return {null | number}\n   */\n  getMissing (transaction, store) {\n    return null\n  }\n}\n","import {\n  UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2, StructStore, Item, Transaction // eslint-disable-line\n} from '../internals.js'\n\nimport * as error from 'lib0/error'\n\nexport class ContentBinary {\n  /**\n   * @param {Uint8Array} content\n   */\n  constructor (content) {\n    this.content = content\n  }\n\n  /**\n   * @return {number}\n   */\n  getLength () {\n    return 1\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    return [this.content]\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCountable () {\n    return true\n  }\n\n  /**\n   * @return {ContentBinary}\n   */\n  copy () {\n    return new ContentBinary(this.content)\n  }\n\n  /**\n   * @param {number} offset\n   * @return {ContentBinary}\n   */\n  splice (offset) {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {ContentBinary} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    return false\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {Item} item\n   */\n  integrate (transaction, item) {}\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {}\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) {}\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    encoder.writeBuf(this.content)\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    return 3\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2 } decoder\n * @return {ContentBinary}\n */\nexport const readContentBinary = decoder => new ContentBinary(decoder.readBuf())\n","\nimport {\n  addToDeleteSet,\n  UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2, StructStore, Item, Transaction // eslint-disable-line\n} from '../internals.js'\n\nexport class ContentDeleted {\n  /**\n   * @param {number} len\n   */\n  constructor (len) {\n    this.len = len\n  }\n\n  /**\n   * @return {number}\n   */\n  getLength () {\n    return this.len\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    return []\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCountable () {\n    return false\n  }\n\n  /**\n   * @return {ContentDeleted}\n   */\n  copy () {\n    return new ContentDeleted(this.len)\n  }\n\n  /**\n   * @param {number} offset\n   * @return {ContentDeleted}\n   */\n  splice (offset) {\n    const right = new ContentDeleted(this.len - offset)\n    this.len = offset\n    return right\n  }\n\n  /**\n   * @param {ContentDeleted} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    this.len += right.len\n    return true\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {Item} item\n   */\n  integrate (transaction, item) {\n    addToDeleteSet(transaction.deleteSet, item.id.client, item.id.clock, this.len)\n    item.markDeleted()\n  }\n\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {}\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) {}\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    encoder.writeLen(this.len - offset)\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    return 1\n  }\n}\n\n/**\n * @private\n *\n * @param {UpdateDecoderV1 | UpdateDecoderV2 } decoder\n * @return {ContentDeleted}\n */\nexport const readContentDeleted = decoder => new ContentDeleted(decoder.readLen())\n","\nimport {\n  Doc, UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2, StructStore, Transaction, Item // eslint-disable-line\n} from '../internals.js'\n\nimport * as error from 'lib0/error'\n\n/**\n * @private\n */\nexport class ContentDoc {\n  /**\n   * @param {Doc} doc\n   */\n  constructor (doc) {\n    if (doc._item) {\n      console.error('This document was already integrated as a sub-document. You should create a second instance instead with the same guid.')\n    }\n    /**\n     * @type {Doc}\n     */\n    this.doc = doc\n    /**\n     * @type {any}\n     */\n    const opts = {}\n    this.opts = opts\n    if (!doc.gc) {\n      opts.gc = false\n    }\n    if (doc.autoLoad) {\n      opts.autoLoad = true\n    }\n    if (doc.meta !== null) {\n      opts.meta = doc.meta\n    }\n  }\n\n  /**\n   * @return {number}\n   */\n  getLength () {\n    return 1\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    return [this.doc]\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCountable () {\n    return true\n  }\n\n  /**\n   * @return {ContentDoc}\n   */\n  copy () {\n    return new ContentDoc(this.doc)\n  }\n\n  /**\n   * @param {number} offset\n   * @return {ContentDoc}\n   */\n  splice (offset) {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {ContentDoc} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    return false\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {Item} item\n   */\n  integrate (transaction, item) {\n    // this needs to be reflected in doc.destroy as well\n    this.doc._item = item\n    transaction.subdocsAdded.add(this.doc)\n    if (this.doc.shouldLoad) {\n      transaction.subdocsLoaded.add(this.doc)\n    }\n  }\n\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {\n    if (transaction.subdocsAdded.has(this.doc)) {\n      transaction.subdocsAdded.delete(this.doc)\n    } else {\n      transaction.subdocsRemoved.add(this.doc)\n    }\n  }\n\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) { }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    encoder.writeString(this.doc.guid)\n    encoder.writeAny(this.opts)\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    return 9\n  }\n}\n\n/**\n * @private\n *\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {ContentDoc}\n */\nexport const readContentDoc = decoder => new ContentDoc(new Doc({ guid: decoder.readString(), ...decoder.readAny() }))\n","\nimport {\n  UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2, StructStore, Item, Transaction // eslint-disable-line\n} from '../internals.js'\n\nimport * as error from 'lib0/error'\n\n/**\n * @private\n */\nexport class ContentEmbed {\n  /**\n   * @param {Object} embed\n   */\n  constructor (embed) {\n    this.embed = embed\n  }\n\n  /**\n   * @return {number}\n   */\n  getLength () {\n    return 1\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    return [this.embed]\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCountable () {\n    return true\n  }\n\n  /**\n   * @return {ContentEmbed}\n   */\n  copy () {\n    return new ContentEmbed(this.embed)\n  }\n\n  /**\n   * @param {number} offset\n   * @return {ContentEmbed}\n   */\n  splice (offset) {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {ContentEmbed} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    return false\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {Item} item\n   */\n  integrate (transaction, item) {}\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {}\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) {}\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    encoder.writeJSON(this.embed)\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    return 5\n  }\n}\n\n/**\n * @private\n *\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {ContentEmbed}\n */\nexport const readContentEmbed = decoder => new ContentEmbed(decoder.readJSON())\n","\nimport {\n  AbstractType, UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2, Item, StructStore, Transaction // eslint-disable-line\n} from '../internals.js'\n\nimport * as error from 'lib0/error'\n\n/**\n * @private\n */\nexport class ContentFormat {\n  /**\n   * @param {string} key\n   * @param {Object} value\n   */\n  constructor (key, value) {\n    this.key = key\n    this.value = value\n  }\n\n  /**\n   * @return {number}\n   */\n  getLength () {\n    return 1\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    return []\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCountable () {\n    return false\n  }\n\n  /**\n   * @return {ContentFormat}\n   */\n  copy () {\n    return new ContentFormat(this.key, this.value)\n  }\n\n  /**\n   * @param {number} offset\n   * @return {ContentFormat}\n   */\n  splice (offset) {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {ContentFormat} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    return false\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {Item} item\n   */\n  integrate (transaction, item) {\n    // @todo searchmarker are currently unsupported for rich text documents\n    /** @type {AbstractType<any>} */ (item.parent)._searchMarker = null\n  }\n\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {}\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) {}\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    encoder.writeKey(this.key)\n    encoder.writeJSON(this.value)\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    return 6\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {ContentFormat}\n */\nexport const readContentFormat = decoder => new ContentFormat(decoder.readString(), decoder.readJSON())\n","import {\n  UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2, Transaction, Item, StructStore // eslint-disable-line\n} from '../internals.js'\n\n/**\n * @private\n */\nexport class ContentJSON {\n  /**\n   * @param {Array<any>} arr\n   */\n  constructor (arr) {\n    /**\n     * @type {Array<any>}\n     */\n    this.arr = arr\n  }\n\n  /**\n   * @return {number}\n   */\n  getLength () {\n    return this.arr.length\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    return this.arr\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCountable () {\n    return true\n  }\n\n  /**\n   * @return {ContentJSON}\n   */\n  copy () {\n    return new ContentJSON(this.arr)\n  }\n\n  /**\n   * @param {number} offset\n   * @return {ContentJSON}\n   */\n  splice (offset) {\n    const right = new ContentJSON(this.arr.slice(offset))\n    this.arr = this.arr.slice(0, offset)\n    return right\n  }\n\n  /**\n   * @param {ContentJSON} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    this.arr = this.arr.concat(right.arr)\n    return true\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {Item} item\n   */\n  integrate (transaction, item) {}\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {}\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) {}\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    const len = this.arr.length\n    encoder.writeLen(len - offset)\n    for (let i = offset; i < len; i++) {\n      const c = this.arr[i]\n      encoder.writeString(c === undefined ? 'undefined' : JSON.stringify(c))\n    }\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    return 2\n  }\n}\n\n/**\n * @private\n *\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {ContentJSON}\n */\nexport const readContentJSON = decoder => {\n  const len = decoder.readLen()\n  const cs = []\n  for (let i = 0; i < len; i++) {\n    const c = decoder.readString()\n    if (c === 'undefined') {\n      cs.push(undefined)\n    } else {\n      cs.push(JSON.parse(c))\n    }\n  }\n  return new ContentJSON(cs)\n}\n","import {\n  UpdateEncoderV1, UpdateEncoderV2, UpdateDecoderV1, UpdateDecoderV2, Transaction, Item, StructStore // eslint-disable-line\n} from '../internals.js'\n\nexport class ContentAny {\n  /**\n   * @param {Array<any>} arr\n   */\n  constructor (arr) {\n    /**\n     * @type {Array<any>}\n     */\n    this.arr = arr\n  }\n\n  /**\n   * @return {number}\n   */\n  getLength () {\n    return this.arr.length\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    return this.arr\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCountable () {\n    return true\n  }\n\n  /**\n   * @return {ContentAny}\n   */\n  copy () {\n    return new ContentAny(this.arr)\n  }\n\n  /**\n   * @param {number} offset\n   * @return {ContentAny}\n   */\n  splice (offset) {\n    const right = new ContentAny(this.arr.slice(offset))\n    this.arr = this.arr.slice(0, offset)\n    return right\n  }\n\n  /**\n   * @param {ContentAny} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    this.arr = this.arr.concat(right.arr)\n    return true\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {Item} item\n   */\n  integrate (transaction, item) {}\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {}\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) {}\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    const len = this.arr.length\n    encoder.writeLen(len - offset)\n    for (let i = offset; i < len; i++) {\n      const c = this.arr[i]\n      encoder.writeAny(c)\n    }\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    return 8\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {ContentAny}\n */\nexport const readContentAny = decoder => {\n  const len = decoder.readLen()\n  const cs = []\n  for (let i = 0; i < len; i++) {\n    cs.push(decoder.readAny())\n  }\n  return new ContentAny(cs)\n}\n","import {\n  UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2, Transaction, Item, StructStore // eslint-disable-line\n} from '../internals.js'\n\n/**\n * @private\n */\nexport class ContentString {\n  /**\n   * @param {string} str\n   */\n  constructor (str) {\n    /**\n     * @type {string}\n     */\n    this.str = str\n  }\n\n  /**\n   * @return {number}\n   */\n  getLength () {\n    return this.str.length\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    return this.str.split('')\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCountable () {\n    return true\n  }\n\n  /**\n   * @return {ContentString}\n   */\n  copy () {\n    return new ContentString(this.str)\n  }\n\n  /**\n   * @param {number} offset\n   * @return {ContentString}\n   */\n  splice (offset) {\n    const right = new ContentString(this.str.slice(offset))\n    this.str = this.str.slice(0, offset)\n\n    // Prevent encoding invalid documents because of splitting of surrogate pairs: https://github.com/yjs/yjs/issues/248\n    const firstCharCode = this.str.charCodeAt(offset - 1)\n    if (firstCharCode >= 0xD800 && firstCharCode <= 0xDBFF) {\n      // Last character of the left split is the start of a surrogate utf16/ucs2 pair.\n      // We don't support splitting of surrogate pairs because this may lead to invalid documents.\n      // Replace the invalid character with a unicode replacement character ( / U+FFFD)\n      this.str = this.str.slice(0, offset - 1) + ''\n      // replace right as well\n      right.str = '' + right.str.slice(1)\n    }\n    return right\n  }\n\n  /**\n   * @param {ContentString} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    this.str += right.str\n    return true\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {Item} item\n   */\n  integrate (transaction, item) {}\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {}\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) {}\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    encoder.writeString(offset === 0 ? this.str : this.str.slice(offset))\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    return 4\n  }\n}\n\n/**\n * @private\n *\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {ContentString}\n */\nexport const readContentString = decoder => new ContentString(decoder.readString())\n","\nimport {\n  readYArray,\n  readYMap,\n  readYText,\n  readYXmlElement,\n  readYXmlFragment,\n  readYXmlHook,\n  readYXmlText,\n  UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2, StructStore, Transaction, Item, YEvent, AbstractType // eslint-disable-line\n} from '../internals.js'\n\nimport * as error from 'lib0/error'\n\n/**\n * @type {Array<function(UpdateDecoderV1 | UpdateDecoderV2):AbstractType<any>>}\n * @private\n */\nexport const typeRefs = [\n  readYArray,\n  readYMap,\n  readYText,\n  readYXmlElement,\n  readYXmlFragment,\n  readYXmlHook,\n  readYXmlText\n]\n\nexport const YArrayRefID = 0\nexport const YMapRefID = 1\nexport const YTextRefID = 2\nexport const YXmlElementRefID = 3\nexport const YXmlFragmentRefID = 4\nexport const YXmlHookRefID = 5\nexport const YXmlTextRefID = 6\n\n/**\n * @private\n */\nexport class ContentType {\n  /**\n   * @param {AbstractType<YEvent>} type\n   */\n  constructor (type) {\n    /**\n     * @type {AbstractType<any>}\n     */\n    this.type = type\n  }\n\n  /**\n   * @return {number}\n   */\n  getLength () {\n    return 1\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    return [this.type]\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCountable () {\n    return true\n  }\n\n  /**\n   * @return {ContentType}\n   */\n  copy () {\n    return new ContentType(this.type._copy())\n  }\n\n  /**\n   * @param {number} offset\n   * @return {ContentType}\n   */\n  splice (offset) {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {ContentType} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    return false\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {Item} item\n   */\n  integrate (transaction, item) {\n    this.type._integrate(transaction.doc, item)\n  }\n\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {\n    let item = this.type._start\n    while (item !== null) {\n      if (!item.deleted) {\n        item.delete(transaction)\n      } else {\n        // Whis will be gc'd later and we want to merge it if possible\n        // We try to merge all deleted items after each transaction,\n        // but we have no knowledge about that this needs to be merged\n        // since it is not in transaction.ds. Hence we add it to transaction._mergeStructs\n        transaction._mergeStructs.push(item)\n      }\n      item = item.right\n    }\n    this.type._map.forEach(item => {\n      if (!item.deleted) {\n        item.delete(transaction)\n      } else {\n        // same as above\n        transaction._mergeStructs.push(item)\n      }\n    })\n    transaction.changed.delete(this.type)\n  }\n\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) {\n    let item = this.type._start\n    while (item !== null) {\n      item.gc(store, true)\n      item = item.right\n    }\n    this.type._start = null\n    this.type._map.forEach(/** @param {Item | null} item */ (item) => {\n      while (item !== null) {\n        item.gc(store, true)\n        item = item.left\n      }\n    })\n    this.type._map = new Map()\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    this.type._write(encoder)\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    return 7\n  }\n}\n\n/**\n * @private\n *\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {ContentType}\n */\nexport const readContentType = decoder => new ContentType(typeRefs[decoder.readTypeRef()](decoder))\n","\nimport {\n  GC,\n  getState,\n  AbstractStruct,\n  replaceStruct,\n  addStruct,\n  addToDeleteSet,\n  findRootTypeKey,\n  compareIDs,\n  getItem,\n  getItemCleanEnd,\n  getItemCleanStart,\n  readContentDeleted,\n  readContentBinary,\n  readContentJSON,\n  readContentAny,\n  readContentString,\n  readContentEmbed,\n  readContentDoc,\n  createID,\n  readContentFormat,\n  readContentType,\n  addChangedTypeToTransaction,\n  UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2, ContentType, ContentDeleted, StructStore, ID, AbstractType, Transaction // eslint-disable-line\n} from '../internals.js'\n\nimport * as error from 'lib0/error'\nimport * as binary from 'lib0/binary'\n\n/**\n * @todo This should return several items\n *\n * @param {StructStore} store\n * @param {ID} id\n * @return {{item:Item, diff:number}}\n */\nexport const followRedone = (store, id) => {\n  /**\n   * @type {ID|null}\n   */\n  let nextID = id\n  let diff = 0\n  let item\n  do {\n    if (diff > 0) {\n      nextID = createID(nextID.client, nextID.clock + diff)\n    }\n    item = getItem(store, nextID)\n    diff = nextID.clock - item.id.clock\n    nextID = item.redone\n  } while (nextID !== null && item instanceof Item)\n  return {\n    item, diff\n  }\n}\n\n/**\n * Make sure that neither item nor any of its parents is ever deleted.\n *\n * This property does not persist when storing it into a database or when\n * sending it to other peers\n *\n * @param {Item|null} item\n * @param {boolean} keep\n */\nexport const keepItem = (item, keep) => {\n  while (item !== null && item.keep !== keep) {\n    item.keep = keep\n    item = /** @type {AbstractType<any>} */ (item.parent)._item\n  }\n}\n\n/**\n * Split leftItem into two items\n * @param {Transaction} transaction\n * @param {Item} leftItem\n * @param {number} diff\n * @return {Item}\n *\n * @function\n * @private\n */\nexport const splitItem = (transaction, leftItem, diff) => {\n  // create rightItem\n  const { client, clock } = leftItem.id\n  const rightItem = new Item(\n    createID(client, clock + diff),\n    leftItem,\n    createID(client, clock + diff - 1),\n    leftItem.right,\n    leftItem.rightOrigin,\n    leftItem.parent,\n    leftItem.parentSub,\n    leftItem.content.splice(diff)\n  )\n  if (leftItem.deleted) {\n    rightItem.markDeleted()\n  }\n  if (leftItem.keep) {\n    rightItem.keep = true\n  }\n  if (leftItem.redone !== null) {\n    rightItem.redone = createID(leftItem.redone.client, leftItem.redone.clock + diff)\n  }\n  // update left (do not set leftItem.rightOrigin as it will lead to problems when syncing)\n  leftItem.right = rightItem\n  // update right\n  if (rightItem.right !== null) {\n    rightItem.right.left = rightItem\n  }\n  // right is more specific.\n  transaction._mergeStructs.push(rightItem)\n  // update parent._map\n  if (rightItem.parentSub !== null && rightItem.right === null) {\n    /** @type {AbstractType<any>} */ (rightItem.parent)._map.set(rightItem.parentSub, rightItem)\n  }\n  leftItem.length = diff\n  return rightItem\n}\n\n/**\n * Redoes the effect of this operation.\n *\n * @param {Transaction} transaction The Yjs instance.\n * @param {Item} item\n * @param {Set<Item>} redoitems\n *\n * @return {Item|null}\n *\n * @private\n */\nexport const redoItem = (transaction, item, redoitems) => {\n  const doc = transaction.doc\n  const store = doc.store\n  const ownClientID = doc.clientID\n  const redone = item.redone\n  if (redone !== null) {\n    return getItemCleanStart(transaction, redone)\n  }\n  let parentItem = /** @type {AbstractType<any>} */ (item.parent)._item\n  /**\n   * @type {Item|null}\n   */\n  let left\n  /**\n   * @type {Item|null}\n   */\n  let right\n  if (item.parentSub === null) {\n    // Is an array item. Insert at the old position\n    left = item.left\n    right = item\n  } else {\n    // Is a map item. Insert as current value\n    left = item\n    while (left.right !== null) {\n      left = left.right\n      if (left.id.client !== ownClientID) {\n        // It is not possible to redo this item because it conflicts with a\n        // change from another client\n        return null\n      }\n    }\n    if (left.right !== null) {\n      left = /** @type {Item} */ (/** @type {AbstractType<any>} */ (item.parent)._map.get(item.parentSub))\n    }\n    right = null\n  }\n  // make sure that parent is redone\n  if (parentItem !== null && parentItem.deleted === true && parentItem.redone === null) {\n    // try to undo parent if it will be undone anyway\n    if (!redoitems.has(parentItem) || redoItem(transaction, parentItem, redoitems) === null) {\n      return null\n    }\n  }\n  if (parentItem !== null && parentItem.redone !== null) {\n    while (parentItem.redone !== null) {\n      parentItem = getItemCleanStart(transaction, parentItem.redone)\n    }\n    // find next cloned_redo items\n    while (left !== null) {\n      /**\n       * @type {Item|null}\n       */\n      let leftTrace = left\n      // trace redone until parent matches\n      while (leftTrace !== null && /** @type {AbstractType<any>} */ (leftTrace.parent)._item !== parentItem) {\n        leftTrace = leftTrace.redone === null ? null : getItemCleanStart(transaction, leftTrace.redone)\n      }\n      if (leftTrace !== null && /** @type {AbstractType<any>} */ (leftTrace.parent)._item === parentItem) {\n        left = leftTrace\n        break\n      }\n      left = left.left\n    }\n    while (right !== null) {\n      /**\n       * @type {Item|null}\n       */\n      let rightTrace = right\n      // trace redone until parent matches\n      while (rightTrace !== null && /** @type {AbstractType<any>} */ (rightTrace.parent)._item !== parentItem) {\n        rightTrace = rightTrace.redone === null ? null : getItemCleanStart(transaction, rightTrace.redone)\n      }\n      if (rightTrace !== null && /** @type {AbstractType<any>} */ (rightTrace.parent)._item === parentItem) {\n        right = rightTrace\n        break\n      }\n      right = right.right\n    }\n  }\n  const nextClock = getState(store, ownClientID)\n  const nextId = createID(ownClientID, nextClock)\n  const redoneItem = new Item(\n    nextId,\n    left, left && left.lastId,\n    right, right && right.id,\n    parentItem === null ? item.parent : /** @type {ContentType} */ (parentItem.content).type,\n    item.parentSub,\n    item.content.copy()\n  )\n  item.redone = nextId\n  keepItem(redoneItem, true)\n  redoneItem.integrate(transaction, 0)\n  return redoneItem\n}\n\n/**\n * Abstract class that represents any content.\n */\nexport class Item extends AbstractStruct {\n  /**\n   * @param {ID} id\n   * @param {Item | null} left\n   * @param {ID | null} origin\n   * @param {Item | null} right\n   * @param {ID | null} rightOrigin\n   * @param {AbstractType<any>|ID|null} parent Is a type if integrated, is null if it is possible to copy parent from left or right, is ID before integration to search for it.\n   * @param {string | null} parentSub\n   * @param {AbstractContent} content\n   */\n  constructor (id, left, origin, right, rightOrigin, parent, parentSub, content) {\n    super(id, content.getLength())\n    /**\n     * The item that was originally to the left of this item.\n     * @type {ID | null}\n     */\n    this.origin = origin\n    /**\n     * The item that is currently to the left of this item.\n     * @type {Item | null}\n     */\n    this.left = left\n    /**\n     * The item that is currently to the right of this item.\n     * @type {Item | null}\n     */\n    this.right = right\n    /**\n     * The item that was originally to the right of this item.\n     * @type {ID | null}\n     */\n    this.rightOrigin = rightOrigin\n    /**\n     * @type {AbstractType<any>|ID|null}\n     */\n    this.parent = parent\n    /**\n     * If the parent refers to this item with some kind of key (e.g. YMap, the\n     * key is specified here. The key is then used to refer to the list in which\n     * to insert this item. If `parentSub = null` type._start is the list in\n     * which to insert to. Otherwise it is `parent._map`.\n     * @type {String | null}\n     */\n    this.parentSub = parentSub\n    /**\n     * If this type's effect is reundone this type refers to the type that undid\n     * this operation.\n     * @type {ID | null}\n     */\n    this.redone = null\n    /**\n     * @type {AbstractContent}\n     */\n    this.content = content\n    /**\n     * bit1: keep\n     * bit2: countable\n     * bit3: deleted\n     * bit4: mark - mark node as fast-search-marker\n     * @type {number} byte\n     */\n    this.info = this.content.isCountable() ? binary.BIT2 : 0\n  }\n\n  /**\n   * This is used to mark the item as an indexed fast-search marker\n   *\n   * @type {boolean}\n   */\n  set marker (isMarked) {\n    if (((this.info & binary.BIT4) > 0) !== isMarked) {\n      this.info ^= binary.BIT4\n    }\n  }\n\n  get marker () {\n    return (this.info & binary.BIT4) > 0\n  }\n\n  /**\n   * If true, do not garbage collect this Item.\n   */\n  get keep () {\n    return (this.info & binary.BIT1) > 0\n  }\n\n  set keep (doKeep) {\n    if (this.keep !== doKeep) {\n      this.info ^= binary.BIT1\n    }\n  }\n\n  get countable () {\n    return (this.info & binary.BIT2) > 0\n  }\n\n  /**\n   * Whether this item was deleted or not.\n   * @type {Boolean}\n   */\n  get deleted () {\n    return (this.info & binary.BIT3) > 0\n  }\n\n  set deleted (doDelete) {\n    if (this.deleted !== doDelete) {\n      this.info ^= binary.BIT3\n    }\n  }\n\n  markDeleted () {\n    this.info |= binary.BIT3\n  }\n\n  /**\n   * Return the creator clientID of the missing op or define missing items and return null.\n   *\n   * @param {Transaction} transaction\n   * @param {StructStore} store\n   * @return {null | number}\n   */\n  getMissing (transaction, store) {\n    if (this.origin && this.origin.client !== this.id.client && this.origin.clock >= getState(store, this.origin.client)) {\n      return this.origin.client\n    }\n    if (this.rightOrigin && this.rightOrigin.client !== this.id.client && this.rightOrigin.clock >= getState(store, this.rightOrigin.client)) {\n      return this.rightOrigin.client\n    }\n    if (this.parent && this.parent.constructor === ID && this.id.client !== this.parent.client && this.parent.clock >= getState(store, this.parent.client)) {\n      return this.parent.client\n    }\n\n    // We have all missing ids, now find the items\n\n    if (this.origin) {\n      this.left = getItemCleanEnd(transaction, store, this.origin)\n      this.origin = this.left.lastId\n    }\n    if (this.rightOrigin) {\n      this.right = getItemCleanStart(transaction, this.rightOrigin)\n      this.rightOrigin = this.right.id\n    }\n    if ((this.left && this.left.constructor === GC) || (this.right && this.right.constructor === GC)) {\n      this.parent = null\n    }\n    // only set parent if this shouldn't be garbage collected\n    if (!this.parent) {\n      if (this.left && this.left.constructor === Item) {\n        this.parent = this.left.parent\n        this.parentSub = this.left.parentSub\n      }\n      if (this.right && this.right.constructor === Item) {\n        this.parent = this.right.parent\n        this.parentSub = this.right.parentSub\n      }\n    } else if (this.parent.constructor === ID) {\n      const parentItem = getItem(store, this.parent)\n      if (parentItem.constructor === GC) {\n        this.parent = null\n      } else {\n        this.parent = /** @type {ContentType} */ (parentItem.content).type\n      }\n    }\n    return null\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {number} offset\n   */\n  integrate (transaction, offset) {\n    if (offset > 0) {\n      this.id.clock += offset\n      this.left = getItemCleanEnd(transaction, transaction.doc.store, createID(this.id.client, this.id.clock - 1))\n      this.origin = this.left.lastId\n      this.content = this.content.splice(offset)\n      this.length -= offset\n    }\n\n    if (this.parent) {\n      if ((!this.left && (!this.right || this.right.left !== null)) || (this.left && this.left.right !== this.right)) {\n        /**\n         * @type {Item|null}\n         */\n        let left = this.left\n\n        /**\n         * @type {Item|null}\n         */\n        let o\n        // set o to the first conflicting item\n        if (left !== null) {\n          o = left.right\n        } else if (this.parentSub !== null) {\n          o = /** @type {AbstractType<any>} */ (this.parent)._map.get(this.parentSub) || null\n          while (o !== null && o.left !== null) {\n            o = o.left\n          }\n        } else {\n          o = /** @type {AbstractType<any>} */ (this.parent)._start\n        }\n        // TODO: use something like DeleteSet here (a tree implementation would be best)\n        // @todo use global set definitions\n        /**\n         * @type {Set<Item>}\n         */\n        const conflictingItems = new Set()\n        /**\n         * @type {Set<Item>}\n         */\n        const itemsBeforeOrigin = new Set()\n        // Let c in conflictingItems, b in itemsBeforeOrigin\n        // ***{origin}bbbb{this}{c,b}{c,b}{o}***\n        // Note that conflictingItems is a subset of itemsBeforeOrigin\n        while (o !== null && o !== this.right) {\n          itemsBeforeOrigin.add(o)\n          conflictingItems.add(o)\n          if (compareIDs(this.origin, o.origin)) {\n            // case 1\n            if (o.id.client < this.id.client) {\n              left = o\n              conflictingItems.clear()\n            } else if (compareIDs(this.rightOrigin, o.rightOrigin)) {\n              // this and o are conflicting and point to the same integration points. The id decides which item comes first.\n              // Since this is to the left of o, we can break here\n              break\n            } // else, o might be integrated before an item that this conflicts with. If so, we will find it in the next iterations\n          } else if (o.origin !== null && itemsBeforeOrigin.has(getItem(transaction.doc.store, o.origin))) { // use getItem instead of getItemCleanEnd because we don't want / need to split items.\n            // case 2\n            if (!conflictingItems.has(getItem(transaction.doc.store, o.origin))) {\n              left = o\n              conflictingItems.clear()\n            }\n          } else {\n            break\n          }\n          o = o.right\n        }\n        this.left = left\n      }\n      // reconnect left/right + update parent map/start if necessary\n      if (this.left !== null) {\n        const right = this.left.right\n        this.right = right\n        this.left.right = this\n      } else {\n        let r\n        if (this.parentSub !== null) {\n          r = /** @type {AbstractType<any>} */ (this.parent)._map.get(this.parentSub) || null\n          while (r !== null && r.left !== null) {\n            r = r.left\n          }\n        } else {\n          r = /** @type {AbstractType<any>} */ (this.parent)._start\n          ;/** @type {AbstractType<any>} */ (this.parent)._start = this\n        }\n        this.right = r\n      }\n      if (this.right !== null) {\n        this.right.left = this\n      } else if (this.parentSub !== null) {\n        // set as current parent value if right === null and this is parentSub\n        /** @type {AbstractType<any>} */ (this.parent)._map.set(this.parentSub, this)\n        if (this.left !== null) {\n          // this is the current attribute value of parent. delete right\n          this.left.delete(transaction)\n        }\n      }\n      // adjust length of parent\n      if (this.parentSub === null && this.countable && !this.deleted) {\n        /** @type {AbstractType<any>} */ (this.parent)._length += this.length\n      }\n      addStruct(transaction.doc.store, this)\n      this.content.integrate(transaction, this)\n      // add parent to transaction.changed\n      addChangedTypeToTransaction(transaction, /** @type {AbstractType<any>} */ (this.parent), this.parentSub)\n      if ((/** @type {AbstractType<any>} */ (this.parent)._item !== null && /** @type {AbstractType<any>} */ (this.parent)._item.deleted) || (this.parentSub !== null && this.right !== null)) {\n        // delete if parent is deleted or if this is not the current attribute value of parent\n        this.delete(transaction)\n      }\n    } else {\n      // parent is not defined. Integrate GC struct instead\n      new GC(this.id, this.length).integrate(transaction, 0)\n    }\n  }\n\n  /**\n   * Returns the next non-deleted item\n   */\n  get next () {\n    let n = this.right\n    while (n !== null && n.deleted) {\n      n = n.right\n    }\n    return n\n  }\n\n  /**\n   * Returns the previous non-deleted item\n   */\n  get prev () {\n    let n = this.left\n    while (n !== null && n.deleted) {\n      n = n.left\n    }\n    return n\n  }\n\n  /**\n   * Computes the last content address of this Item.\n   */\n  get lastId () {\n    // allocating ids is pretty costly because of the amount of ids created, so we try to reuse whenever possible\n    return this.length === 1 ? this.id : createID(this.id.client, this.id.clock + this.length - 1)\n  }\n\n  /**\n   * Try to merge two items\n   *\n   * @param {Item} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    if (\n      this.constructor === right.constructor &&\n      compareIDs(right.origin, this.lastId) &&\n      this.right === right &&\n      compareIDs(this.rightOrigin, right.rightOrigin) &&\n      this.id.client === right.id.client &&\n      this.id.clock + this.length === right.id.clock &&\n      this.deleted === right.deleted &&\n      this.redone === null &&\n      right.redone === null &&\n      this.content.constructor === right.content.constructor &&\n      this.content.mergeWith(right.content)\n    ) {\n      const searchMarker = /** @type {AbstractType<any>} */ (this.parent)._searchMarker\n      if (searchMarker) {\n        searchMarker.forEach(marker => {\n          if (marker.p === right) {\n            // right is going to be \"forgotten\" so we need to update the marker\n            marker.p = this\n            // adjust marker index\n            if (!this.deleted && this.countable) {\n              marker.index -= this.length\n            }\n          }\n        })\n      }\n      if (right.keep) {\n        this.keep = true\n      }\n      this.right = right.right\n      if (this.right !== null) {\n        this.right.left = this\n      }\n      this.length += right.length\n      return true\n    }\n    return false\n  }\n\n  /**\n   * Mark this Item as deleted.\n   *\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {\n    if (!this.deleted) {\n      const parent = /** @type {AbstractType<any>} */ (this.parent)\n      // adjust the length of parent\n      if (this.countable && this.parentSub === null) {\n        parent._length -= this.length\n      }\n      this.markDeleted()\n      addToDeleteSet(transaction.deleteSet, this.id.client, this.id.clock, this.length)\n      addChangedTypeToTransaction(transaction, parent, this.parentSub)\n      this.content.delete(transaction)\n    }\n  }\n\n  /**\n   * @param {StructStore} store\n   * @param {boolean} parentGCd\n   */\n  gc (store, parentGCd) {\n    if (!this.deleted) {\n      throw error.unexpectedCase()\n    }\n    this.content.gc(store)\n    if (parentGCd) {\n      replaceStruct(store, this, new GC(this.id, this.length))\n    } else {\n      this.content = new ContentDeleted(this.length)\n    }\n  }\n\n  /**\n   * Transform the properties of this type to binary and write it to an\n   * BinaryEncoder.\n   *\n   * This is called when this Item is sent to a remote peer.\n   *\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder The encoder to write data to.\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    const origin = offset > 0 ? createID(this.id.client, this.id.clock + offset - 1) : this.origin\n    const rightOrigin = this.rightOrigin\n    const parentSub = this.parentSub\n    const info = (this.content.getRef() & binary.BITS5) |\n      (origin === null ? 0 : binary.BIT8) | // origin is defined\n      (rightOrigin === null ? 0 : binary.BIT7) | // right origin is defined\n      (parentSub === null ? 0 : binary.BIT6) // parentSub is non-null\n    encoder.writeInfo(info)\n    if (origin !== null) {\n      encoder.writeLeftID(origin)\n    }\n    if (rightOrigin !== null) {\n      encoder.writeRightID(rightOrigin)\n    }\n    if (origin === null && rightOrigin === null) {\n      const parent = /** @type {AbstractType<any>} */ (this.parent)\n      if (parent._item !== undefined) {\n        const parentItem = parent._item\n        if (parentItem === null) {\n          // parent type on y._map\n          // find the correct key\n          const ykey = findRootTypeKey(parent)\n          encoder.writeParentInfo(true) // write parentYKey\n          encoder.writeString(ykey)\n        } else {\n          encoder.writeParentInfo(false) // write parent id\n          encoder.writeLeftID(parentItem.id)\n        }\n      } else if (parent.constructor === String) { // this edge case was added by differential updates\n        encoder.writeParentInfo(true) // write parentYKey\n        encoder.writeString(parent)\n      } else if (parent.constructor === ID) {\n        encoder.writeParentInfo(false) // write parent id\n        encoder.writeLeftID(parent)\n      } else {\n        error.unexpectedCase()\n      }\n      if (parentSub !== null) {\n        encoder.writeString(parentSub)\n      }\n    }\n    this.content.write(encoder, offset)\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @param {number} info\n */\nexport const readItemContent = (decoder, info) => contentRefs[info & binary.BITS5](decoder)\n\n/**\n * A lookup map for reading Item content.\n *\n * @type {Array<function(UpdateDecoderV1 | UpdateDecoderV2):AbstractContent>}\n */\nexport const contentRefs = [\n  () => { error.unexpectedCase() }, // GC is not ItemContent\n  readContentDeleted, // 1\n  readContentJSON, // 2\n  readContentBinary, // 3\n  readContentString, // 4\n  readContentEmbed, // 5\n  readContentFormat, // 6\n  readContentType, // 7\n  readContentAny, // 8\n  readContentDoc, // 9\n  () => { error.unexpectedCase() } // 10 - Skip is not ItemContent\n]\n\n/**\n * Do not implement this class!\n */\nexport class AbstractContent {\n  /**\n   * @return {number}\n   */\n  getLength () {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * Should return false if this Item is some kind of meta information\n   * (e.g. format information).\n   *\n   * * Whether this Item should be addressable via `yarray.get(i)`\n   * * Whether this Item should be counted when computing yarray.length\n   *\n   * @return {boolean}\n   */\n  isCountable () {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @return {AbstractContent}\n   */\n  copy () {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {number} offset\n   * @return {AbstractContent}\n   */\n  splice (offset) {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {AbstractContent} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {Item} item\n   */\n  integrate (transaction, item) {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    throw error.methodUnimplemented()\n  }\n}\n","\nimport {\n  AbstractStruct,\n  UpdateEncoderV1, UpdateEncoderV2, StructStore, Transaction, ID // eslint-disable-line\n} from '../internals.js'\nimport * as error from 'lib0/error'\nimport * as encoding from 'lib0/encoding'\n\nexport const structSkipRefNumber = 10\n\n/**\n * @private\n */\nexport class Skip extends AbstractStruct {\n  get deleted () {\n    return true\n  }\n\n  delete () {}\n\n  /**\n   * @param {Skip} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    if (this.constructor !== right.constructor) {\n      return false\n    }\n    this.length += right.length\n    return true\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {number} offset\n   */\n  integrate (transaction, offset) {\n    // skip structs cannot be integrated\n    error.unexpectedCase()\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    encoder.writeInfo(structSkipRefNumber)\n    // write as VarUint because Skips can't make use of predictable length-encoding\n    encoding.writeVarUint(encoder.restEncoder, this.length - offset)\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {StructStore} store\n   * @return {null | number}\n   */\n  getMissing (transaction, store) {\n    return null\n  }\n}\n","/**\n * Utility helpers for working with numbers.\n *\n * @module number\n */\n\nimport * as math from './math.js'\nimport * as binary from './binary.js'\n\nexport const MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER\nexport const MIN_SAFE_INTEGER = Number.MIN_SAFE_INTEGER\n\nexport const LOWEST_INT32 = 1 << 31\n/**\n * @type {number}\n */\nexport const HIGHEST_INT32 = binary.BITS31\n\n/**\n * @module number\n */\n\n/* istanbul ignore next */\nexport const isInteger = Number.isInteger || (num => typeof num === 'number' && isFinite(num) && math.floor(num) === num)\nexport const isNaN = Number.isNaN\n","/**\n * Efficient schema-less binary encoding with support for variable length encoding.\n *\n * Use [lib0/encoding] with [lib0/decoding]. Every encoding function has a corresponding decoding function.\n *\n * Encodes numbers in little-endian order (least to most significant byte order)\n * and is compatible with Golang's binary encoding (https://golang.org/pkg/encoding/binary/)\n * which is also used in Protocol Buffers.\n *\n * ```js\n * // encoding step\n * const encoder = new encoding.createEncoder()\n * encoding.writeVarUint(encoder, 256)\n * encoding.writeVarString(encoder, 'Hello world!')\n * const buf = encoding.toUint8Array(encoder)\n * ```\n *\n * ```js\n * // decoding step\n * const decoder = new decoding.createDecoder(buf)\n * decoding.readVarUint(decoder) // => 256\n * decoding.readVarString(decoder) // => 'Hello world!'\n * decoding.hasContent(decoder) // => false - all data is read\n * ```\n *\n * @module encoding\n */\n\nimport * as buffer from './buffer.js'\nimport * as math from './math.js'\nimport * as number from './number.js'\nimport * as binary from './binary.js'\n\n/**\n * A BinaryEncoder handles the encoding to an Uint8Array.\n */\nexport class Encoder {\n  constructor () {\n    this.cpos = 0\n    this.cbuf = new Uint8Array(100)\n    /**\n     * @type {Array<Uint8Array>}\n     */\n    this.bufs = []\n  }\n}\n\n/**\n * @function\n * @return {Encoder}\n */\nexport const createEncoder = () => new Encoder()\n\n/**\n * The current length of the encoded data.\n *\n * @function\n * @param {Encoder} encoder\n * @return {number}\n */\nexport const length = encoder => {\n  let len = encoder.cpos\n  for (let i = 0; i < encoder.bufs.length; i++) {\n    len += encoder.bufs[i].length\n  }\n  return len\n}\n\n/**\n * Transform to Uint8Array.\n *\n * @function\n * @param {Encoder} encoder\n * @return {Uint8Array} The created ArrayBuffer.\n */\nexport const toUint8Array = encoder => {\n  const uint8arr = new Uint8Array(length(encoder))\n  let curPos = 0\n  for (let i = 0; i < encoder.bufs.length; i++) {\n    const d = encoder.bufs[i]\n    uint8arr.set(d, curPos)\n    curPos += d.length\n  }\n  uint8arr.set(buffer.createUint8ArrayViewFromArrayBuffer(encoder.cbuf.buffer, 0, encoder.cpos), curPos)\n  return uint8arr\n}\n\n/**\n * Verify that it is possible to write `len` bytes wtihout checking. If\n * necessary, a new Buffer with the required length is attached.\n *\n * @param {Encoder} encoder\n * @param {number} len\n */\nconst verifyLen = (encoder, len) => {\n  const bufferLen = encoder.cbuf.length\n  if (bufferLen - encoder.cpos < len) {\n    encoder.bufs.push(buffer.createUint8ArrayViewFromArrayBuffer(encoder.cbuf.buffer, 0, encoder.cpos))\n    encoder.cbuf = new Uint8Array(math.max(bufferLen, len) * 2)\n    encoder.cpos = 0\n  }\n}\n\n/**\n * Write one byte to the encoder.\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} num The byte that is to be encoded.\n */\nexport const write = (encoder, num) => {\n  const bufferLen = encoder.cbuf.length\n  if (encoder.cpos === bufferLen) {\n    encoder.bufs.push(encoder.cbuf)\n    encoder.cbuf = new Uint8Array(bufferLen * 2)\n    encoder.cpos = 0\n  }\n  encoder.cbuf[encoder.cpos++] = num\n}\n\n/**\n * Write one byte at a specific position.\n * Position must already be written (i.e. encoder.length > pos)\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} pos Position to which to write data\n * @param {number} num Unsigned 8-bit integer\n */\nexport const set = (encoder, pos, num) => {\n  let buffer = null\n  // iterate all buffers and adjust position\n  for (let i = 0; i < encoder.bufs.length && buffer === null; i++) {\n    const b = encoder.bufs[i]\n    if (pos < b.length) {\n      buffer = b // found buffer\n    } else {\n      pos -= b.length\n    }\n  }\n  if (buffer === null) {\n    // use current buffer\n    buffer = encoder.cbuf\n  }\n  buffer[pos] = num\n}\n\n/**\n * Write one byte as an unsigned integer.\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} num The number that is to be encoded.\n */\nexport const writeUint8 = write\n\n/**\n * Write one byte as an unsigned Integer at a specific location.\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} pos The location where the data will be written.\n * @param {number} num The number that is to be encoded.\n */\nexport const setUint8 = set\n\n/**\n * Write two bytes as an unsigned integer.\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} num The number that is to be encoded.\n */\nexport const writeUint16 = (encoder, num) => {\n  write(encoder, num & binary.BITS8)\n  write(encoder, (num >>> 8) & binary.BITS8)\n}\n/**\n * Write two bytes as an unsigned integer at a specific location.\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} pos The location where the data will be written.\n * @param {number} num The number that is to be encoded.\n */\nexport const setUint16 = (encoder, pos, num) => {\n  set(encoder, pos, num & binary.BITS8)\n  set(encoder, pos + 1, (num >>> 8) & binary.BITS8)\n}\n\n/**\n * Write two bytes as an unsigned integer\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} num The number that is to be encoded.\n */\nexport const writeUint32 = (encoder, num) => {\n  for (let i = 0; i < 4; i++) {\n    write(encoder, num & binary.BITS8)\n    num >>>= 8\n  }\n}\n\n/**\n * Write two bytes as an unsigned integer in big endian order.\n * (most significant byte first)\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} num The number that is to be encoded.\n */\nexport const writeUint32BigEndian = (encoder, num) => {\n  for (let i = 3; i >= 0; i--) {\n    write(encoder, (num >>> (8 * i)) & binary.BITS8)\n  }\n}\n\n/**\n * Write two bytes as an unsigned integer at a specific location.\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} pos The location where the data will be written.\n * @param {number} num The number that is to be encoded.\n */\nexport const setUint32 = (encoder, pos, num) => {\n  for (let i = 0; i < 4; i++) {\n    set(encoder, pos + i, num & binary.BITS8)\n    num >>>= 8\n  }\n}\n\n/**\n * Write a variable length unsigned integer.\n *\n * Encodes integers in the range from [0, 4294967295] / [0, 0xffffffff]. (max 32 bit unsigned integer)\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} num The number that is to be encoded.\n */\nexport const writeVarUint = (encoder, num) => {\n  while (num > binary.BITS7) {\n    write(encoder, binary.BIT8 | (binary.BITS7 & num))\n    num >>>= 7\n  }\n  write(encoder, binary.BITS7 & num)\n}\n\n/**\n * Write a variable length integer.\n *\n * Encodes integers in the range from [-2147483648, -2147483647].\n *\n * We don't use zig-zag encoding because we want to keep the option open\n * to use the same function for BigInt and 53bit integers (doubles).\n *\n * We use the 7th bit instead for signaling that this is a negative number.\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} num The number that is to be encoded.\n */\nexport const writeVarInt = (encoder, num) => {\n  const isNegative = math.isNegativeZero(num)\n  if (isNegative) {\n    num = -num\n  }\n  //             |- whether to continue reading         |- whether is negative     |- number\n  write(encoder, (num > binary.BITS6 ? binary.BIT8 : 0) | (isNegative ? binary.BIT7 : 0) | (binary.BITS6 & num))\n  num >>>= 6\n  // We don't need to consider the case of num === 0 so we can use a different\n  // pattern here than above.\n  while (num > 0) {\n    write(encoder, (num > binary.BITS7 ? binary.BIT8 : 0) | (binary.BITS7 & num))\n    num >>>= 7\n  }\n}\n\n/**\n * Write a variable length string.\n *\n * @function\n * @param {Encoder} encoder\n * @param {String} str The string that is to be encoded.\n */\nexport const writeVarString = (encoder, str) => {\n  const encodedString = unescape(encodeURIComponent(str))\n  const len = encodedString.length\n  writeVarUint(encoder, len)\n  for (let i = 0; i < len; i++) {\n    write(encoder, /** @type {number} */ (encodedString.codePointAt(i)))\n  }\n}\n\n/**\n * Write the content of another Encoder.\n *\n * @TODO: can be improved!\n *        - Note: Should consider that when appending a lot of small Encoders, we should rather clone than referencing the old structure.\n *                Encoders start with a rather big initial buffer.\n *\n * @function\n * @param {Encoder} encoder The enUint8Arr\n * @param {Encoder} append The BinaryEncoder to be written.\n */\nexport const writeBinaryEncoder = (encoder, append) => writeUint8Array(encoder, toUint8Array(append))\n\n/**\n * Append fixed-length Uint8Array to the encoder.\n *\n * @function\n * @param {Encoder} encoder\n * @param {Uint8Array} uint8Array\n */\nexport const writeUint8Array = (encoder, uint8Array) => {\n  const bufferLen = encoder.cbuf.length\n  const cpos = encoder.cpos\n  const leftCopyLen = math.min(bufferLen - cpos, uint8Array.length)\n  const rightCopyLen = uint8Array.length - leftCopyLen\n  encoder.cbuf.set(uint8Array.subarray(0, leftCopyLen), cpos)\n  encoder.cpos += leftCopyLen\n  if (rightCopyLen > 0) {\n    // Still something to write, write right half..\n    // Append new buffer\n    encoder.bufs.push(encoder.cbuf)\n    // must have at least size of remaining buffer\n    encoder.cbuf = new Uint8Array(math.max(bufferLen * 2, rightCopyLen))\n    // copy array\n    encoder.cbuf.set(uint8Array.subarray(leftCopyLen))\n    encoder.cpos = rightCopyLen\n  }\n}\n\n/**\n * Append an Uint8Array to Encoder.\n *\n * @function\n * @param {Encoder} encoder\n * @param {Uint8Array} uint8Array\n */\nexport const writeVarUint8Array = (encoder, uint8Array) => {\n  writeVarUint(encoder, uint8Array.byteLength)\n  writeUint8Array(encoder, uint8Array)\n}\n\n/**\n * Create an DataView of the next `len` bytes. Use it to write data after\n * calling this function.\n *\n * ```js\n * // write float32 using DataView\n * const dv = writeOnDataView(encoder, 4)\n * dv.setFloat32(0, 1.1)\n * // read float32 using DataView\n * const dv = readFromDataView(encoder, 4)\n * dv.getFloat32(0) // => 1.100000023841858 (leaving it to the reader to find out why this is the correct result)\n * ```\n *\n * @param {Encoder} encoder\n * @param {number} len\n * @return {DataView}\n */\nexport const writeOnDataView = (encoder, len) => {\n  verifyLen(encoder, len)\n  const dview = new DataView(encoder.cbuf.buffer, encoder.cpos, len)\n  encoder.cpos += len\n  return dview\n}\n\n/**\n * @param {Encoder} encoder\n * @param {number} num\n */\nexport const writeFloat32 = (encoder, num) => writeOnDataView(encoder, 4).setFloat32(0, num, false)\n\n/**\n * @param {Encoder} encoder\n * @param {number} num\n */\nexport const writeFloat64 = (encoder, num) => writeOnDataView(encoder, 8).setFloat64(0, num, false)\n\n/**\n * @param {Encoder} encoder\n * @param {bigint} num\n */\nexport const writeBigInt64 = (encoder, num) => /** @type {any} */ (writeOnDataView(encoder, 8)).setBigInt64(0, num, false)\n\n/**\n * @param {Encoder} encoder\n * @param {bigint} num\n */\nexport const writeBigUint64 = (encoder, num) => /** @type {any} */ (writeOnDataView(encoder, 8)).setBigUint64(0, num, false)\n\nconst floatTestBed = new DataView(new ArrayBuffer(4))\n/**\n * Check if a number can be encoded as a 32 bit float.\n *\n * @param {number} num\n * @return {boolean}\n */\nconst isFloat32 = num => {\n  floatTestBed.setFloat32(0, num)\n  return floatTestBed.getFloat32(0) === num\n}\n\n/**\n * Encode data with efficient binary format.\n *\n * Differences to JSON:\n *  Transforms data to a binary format (not to a string)\n *  Encodes undefined, NaN, and ArrayBuffer (these can't be represented in JSON)\n *  Numbers are efficiently encoded either as a variable length integer, as a\n *   32 bit float, as a 64 bit float, or as a 64 bit bigint.\n *\n * Encoding table:\n *\n * | Data Type           | Prefix   | Encoding Method    | Comment |\n * | ------------------- | -------- | ------------------ | ------- |\n * | undefined           | 127      |                    | Functions, symbol, and everything that cannot be identified is encoded as undefined |\n * | null                | 126      |                    | |\n * | integer             | 125      | writeVarInt        | Only encodes 32 bit signed integers |\n * | float32             | 124      | writeFloat32       | |\n * | float64             | 123      | writeFloat64       | |\n * | bigint              | 122      | writeBigInt64      | |\n * | boolean (false)     | 121      |                    | True and false are different data types so we save the following byte |\n * | boolean (true)      | 120      |                    | - 0b01111000 so the last bit determines whether true or false |\n * | string              | 119      | writeVarString     | |\n * | object<string,any>  | 118      | custom             | Writes {length} then {length} key-value pairs |\n * | array<any>          | 117      | custom             | Writes {length} then {length} json values |\n * | Uint8Array          | 116      | writeVarUint8Array | We use Uint8Array for any kind of binary data |\n *\n * Reasons for the decreasing prefix:\n * We need the first bit for extendability (later we may want to encode the\n * prefix with writeVarUint). The remaining 7 bits are divided as follows:\n * [0-30]   the beginning of the data range is used for custom purposes\n *          (defined by the function that uses this library)\n * [31-127] the end of the data range is used for data encoding by\n *          lib0/encoding.js\n *\n * @param {Encoder} encoder\n * @param {undefined|null|number|bigint|boolean|string|Object<string,any>|Array<any>|Uint8Array} data\n */\nexport const writeAny = (encoder, data) => {\n  switch (typeof data) {\n    case 'string':\n      // TYPE 119: STRING\n      write(encoder, 119)\n      writeVarString(encoder, data)\n      break\n    case 'number':\n      if (number.isInteger(data) && data <= binary.BITS31) {\n        // TYPE 125: INTEGER\n        write(encoder, 125)\n        writeVarInt(encoder, data)\n      } else if (isFloat32(data)) {\n        // TYPE 124: FLOAT32\n        write(encoder, 124)\n        writeFloat32(encoder, data)\n      } else {\n        // TYPE 123: FLOAT64\n        write(encoder, 123)\n        writeFloat64(encoder, data)\n      }\n      break\n    case 'bigint':\n      // TYPE 122: BigInt\n      write(encoder, 122)\n      writeBigInt64(encoder, data)\n      break\n    case 'object':\n      if (data === null) {\n        // TYPE 126: null\n        write(encoder, 126)\n      } else if (data instanceof Array) {\n        // TYPE 117: Array\n        write(encoder, 117)\n        writeVarUint(encoder, data.length)\n        for (let i = 0; i < data.length; i++) {\n          writeAny(encoder, data[i])\n        }\n      } else if (data instanceof Uint8Array) {\n        // TYPE 116: ArrayBuffer\n        write(encoder, 116)\n        writeVarUint8Array(encoder, data)\n      } else {\n        // TYPE 118: Object\n        write(encoder, 118)\n        const keys = Object.keys(data)\n        writeVarUint(encoder, keys.length)\n        for (let i = 0; i < keys.length; i++) {\n          const key = keys[i]\n          writeVarString(encoder, key)\n          writeAny(encoder, data[key])\n        }\n      }\n      break\n    case 'boolean':\n      // TYPE 120/121: boolean (true/false)\n      write(encoder, data ? 120 : 121)\n      break\n    default:\n      // TYPE 127: undefined\n      write(encoder, 127)\n  }\n}\n\n/**\n * Now come a few stateful encoder that have their own classes.\n */\n\n/**\n * Basic Run Length Encoder - a basic compression implementation.\n *\n * Encodes [1,1,1,7] to [1,3,7,1] (3 times 1, 1 time 7). This encoder might do more harm than good if there are a lot of values that are not repeated.\n *\n * It was originally used for image compression. Cool .. article http://csbruce.com/cbm/transactor/pdfs/trans_v7_i06.pdf\n *\n * @note T must not be null!\n *\n * @template T\n */\nexport class RleEncoder extends Encoder {\n  /**\n   * @param {function(Encoder, T):void} writer\n   */\n  constructor (writer) {\n    super()\n    /**\n     * The writer\n     */\n    this.w = writer\n    /**\n     * Current state\n     * @type {T|null}\n     */\n    this.s = null\n    this.count = 0\n  }\n\n  /**\n   * @param {T} v\n   */\n  write (v) {\n    if (this.s === v) {\n      this.count++\n    } else {\n      if (this.count > 0) {\n        // flush counter, unless this is the first value (count = 0)\n        writeVarUint(this, this.count - 1) // since count is always > 0, we can decrement by one. non-standard encoding ftw\n      }\n      this.count = 1\n      // write first value\n      this.w(this, v)\n      this.s = v\n    }\n  }\n}\n\n/**\n * Basic diff decoder using variable length encoding.\n *\n * Encodes the values [3, 1100, 1101, 1050, 0] to [3, 1097, 1, -51, -1050] using writeVarInt.\n */\nexport class IntDiffEncoder extends Encoder {\n  /**\n   * @param {number} start\n   */\n  constructor (start) {\n    super()\n    /**\n     * Current state\n     * @type {number}\n     */\n    this.s = start\n  }\n\n  /**\n   * @param {number} v\n   */\n  write (v) {\n    writeVarInt(this, v - this.s)\n    this.s = v\n  }\n}\n\n/**\n * A combination of IntDiffEncoder and RleEncoder.\n *\n * Basically first writes the IntDiffEncoder and then counts duplicate diffs using RleEncoding.\n *\n * Encodes the values [1,1,1,2,3,4,5,6] as [1,1,0,2,1,5] (RLE([1,0,0,1,1,1,1,1])  RleIntDiff[1,1,0,2,1,5])\n */\nexport class RleIntDiffEncoder extends Encoder {\n  /**\n   * @param {number} start\n   */\n  constructor (start) {\n    super()\n    /**\n     * Current state\n     * @type {number}\n     */\n    this.s = start\n    this.count = 0\n  }\n\n  /**\n   * @param {number} v\n   */\n  write (v) {\n    if (this.s === v && this.count > 0) {\n      this.count++\n    } else {\n      if (this.count > 0) {\n        // flush counter, unless this is the first value (count = 0)\n        writeVarUint(this, this.count - 1) // since count is always > 0, we can decrement by one. non-standard encoding ftw\n      }\n      this.count = 1\n      // write first value\n      writeVarInt(this, v - this.s)\n      this.s = v\n    }\n  }\n}\n\n/**\n * @param {UintOptRleEncoder} encoder\n */\nconst flushUintOptRleEncoder = encoder => {\n  /* istanbul ignore else */\n  if (encoder.count > 0) {\n    // flush counter, unless this is the first value (count = 0)\n    // case 1: just a single value. set sign to positive\n    // case 2: write several values. set sign to negative to indicate that there is a length coming\n    writeVarInt(encoder.encoder, encoder.count === 1 ? encoder.s : -encoder.s)\n    if (encoder.count > 1) {\n      writeVarUint(encoder.encoder, encoder.count - 2) // since count is always > 1, we can decrement by one. non-standard encoding ftw\n    }\n  }\n}\n\n/**\n * Optimized Rle encoder that does not suffer from the mentioned problem of the basic Rle encoder.\n *\n * Internally uses VarInt encoder to write unsigned integers. If the input occurs multiple times, we write\n * write it as a negative number. The UintOptRleDecoder then understands that it needs to read a count.\n *\n * Encodes [1,2,3,3,3] as [1,2,-3,3] (once 1, once 2, three times 3)\n */\nexport class UintOptRleEncoder {\n  constructor () {\n    this.encoder = new Encoder()\n    /**\n     * @type {number}\n     */\n    this.s = 0\n    this.count = 0\n  }\n\n  /**\n   * @param {number} v\n   */\n  write (v) {\n    if (this.s === v) {\n      this.count++\n    } else {\n      flushUintOptRleEncoder(this)\n      this.count = 1\n      this.s = v\n    }\n  }\n\n  toUint8Array () {\n    flushUintOptRleEncoder(this)\n    return toUint8Array(this.encoder)\n  }\n}\n\n/**\n * Increasing Uint Optimized RLE Encoder\n *\n * The RLE encoder counts the number of same occurences of the same value.\n * The IncUintOptRle encoder counts if the value increases.\n * I.e. 7, 8, 9, 10 will be encoded as [-7, 4]. 1, 3, 5 will be encoded\n * as [1, 3, 5].\n */\nexport class IncUintOptRleEncoder {\n  constructor () {\n    this.encoder = new Encoder()\n    /**\n     * @type {number}\n     */\n    this.s = 0\n    this.count = 0\n  }\n\n  /**\n   * @param {number} v\n   */\n  write (v) {\n    if (this.s + this.count === v) {\n      this.count++\n    } else {\n      flushUintOptRleEncoder(this)\n      this.count = 1\n      this.s = v\n    }\n  }\n\n  toUint8Array () {\n    flushUintOptRleEncoder(this)\n    return toUint8Array(this.encoder)\n  }\n}\n\n/**\n * @param {IntDiffOptRleEncoder} encoder\n */\nconst flushIntDiffOptRleEncoder = encoder => {\n  if (encoder.count > 0) {\n    //          31 bit making up the diff | wether to write the counter\n    const encodedDiff = encoder.diff << 1 | (encoder.count === 1 ? 0 : 1)\n    // flush counter, unless this is the first value (count = 0)\n    // case 1: just a single value. set first bit to positive\n    // case 2: write several values. set first bit to negative to indicate that there is a length coming\n    writeVarInt(encoder.encoder, encodedDiff)\n    if (encoder.count > 1) {\n      writeVarUint(encoder.encoder, encoder.count - 2) // since count is always > 1, we can decrement by one. non-standard encoding ftw\n    }\n  }\n}\n\n/**\n * A combination of the IntDiffEncoder and the UintOptRleEncoder.\n *\n * The count approach is similar to the UintDiffOptRleEncoder, but instead of using the negative bitflag, it encodes\n * in the LSB whether a count is to be read. Therefore this Encoder only supports 31 bit integers!\n *\n * Encodes [1, 2, 3, 2] as [3, 1, 6, -1] (more specifically [(1 << 1) | 1, (3 << 0) | 0, -1])\n *\n * Internally uses variable length encoding. Contrary to normal UintVar encoding, the first byte contains:\n * * 1 bit that denotes whether the next value is a count (LSB)\n * * 1 bit that denotes whether this value is negative (MSB - 1)\n * * 1 bit that denotes whether to continue reading the variable length integer (MSB)\n *\n * Therefore, only five bits remain to encode diff ranges.\n *\n * Use this Encoder only when appropriate. In most cases, this is probably a bad idea.\n */\nexport class IntDiffOptRleEncoder {\n  constructor () {\n    this.encoder = new Encoder()\n    /**\n     * @type {number}\n     */\n    this.s = 0\n    this.count = 0\n    this.diff = 0\n  }\n\n  /**\n   * @param {number} v\n   */\n  write (v) {\n    if (this.diff === v - this.s) {\n      this.s = v\n      this.count++\n    } else {\n      flushIntDiffOptRleEncoder(this)\n      this.count = 1\n      this.diff = v - this.s\n      this.s = v\n    }\n  }\n\n  toUint8Array () {\n    flushIntDiffOptRleEncoder(this)\n    return toUint8Array(this.encoder)\n  }\n}\n\n/**\n * Optimized String Encoder.\n *\n * Encoding many small strings in a simple Encoder is not very efficient. The function call to decode a string takes some time and creates references that must be eventually deleted.\n * In practice, when decoding several million small strings, the GC will kick in more and more often to collect orphaned string objects (or maybe there is another reason?).\n *\n * This string encoder solves the above problem. All strings are concatenated and written as a single string using a single encoding call.\n *\n * The lengths are encoded using a UintOptRleEncoder.\n */\nexport class StringEncoder {\n  constructor () {\n    /**\n     * @type {Array<string>}\n     */\n    this.sarr = []\n    this.s = ''\n    this.lensE = new UintOptRleEncoder()\n  }\n\n  /**\n   * @param {string} string\n   */\n  write (string) {\n    this.s += string\n    if (this.s.length > 19) {\n      this.sarr.push(this.s)\n      this.s = ''\n    }\n    this.lensE.write(string.length)\n  }\n\n  toUint8Array () {\n    const encoder = new Encoder()\n    this.sarr.push(this.s)\n    this.s = ''\n    writeVarString(encoder, this.sarr.join(''))\n    writeUint8Array(encoder, this.lensE.toUint8Array())\n    return toUint8Array(encoder)\n  }\n}\n","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nmodule.exports = _interopRequireWildcard;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.createSvgIcon;\n  }\n});\n\nvar _utils = require(\"@material-ui/core/utils\");","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","import style from './style';\nimport compose from './compose';\n\nfunction getBorder(value) {\n  if (typeof value !== 'number') {\n    return value;\n  }\n\n  return \"\".concat(value, \"px solid\");\n}\n\nexport var border = style({\n  prop: 'border',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderTop = style({\n  prop: 'borderTop',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderRight = style({\n  prop: 'borderRight',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderBottom = style({\n  prop: 'borderBottom',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderLeft = style({\n  prop: 'borderLeft',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderColor = style({\n  prop: 'borderColor',\n  themeKey: 'palette'\n});\nexport var borderRadius = style({\n  prop: 'borderRadius',\n  themeKey: 'shape'\n});\nvar borders = compose(border, borderTop, borderRight, borderBottom, borderLeft, borderColor, borderRadius);\nexport default borders;","import style from './style';\nimport compose from './compose';\nexport var flexBasis = style({\n  prop: 'flexBasis'\n});\nexport var flexDirection = style({\n  prop: 'flexDirection'\n});\nexport var flexWrap = style({\n  prop: 'flexWrap'\n});\nexport var justifyContent = style({\n  prop: 'justifyContent'\n});\nexport var alignItems = style({\n  prop: 'alignItems'\n});\nexport var alignContent = style({\n  prop: 'alignContent'\n});\nexport var order = style({\n  prop: 'order'\n});\nexport var flex = style({\n  prop: 'flex'\n});\nexport var flexGrow = style({\n  prop: 'flexGrow'\n});\nexport var flexShrink = style({\n  prop: 'flexShrink'\n});\nexport var alignSelf = style({\n  prop: 'alignSelf'\n});\nexport var justifyItems = style({\n  prop: 'justifyItems'\n});\nexport var justifySelf = style({\n  prop: 'justifySelf'\n});\nvar flexbox = compose(flexBasis, flexDirection, flexWrap, justifyContent, alignItems, alignContent, order, flex, flexGrow, flexShrink, alignSelf, justifyItems, justifySelf);\nexport default flexbox;","import style from './style';\nimport compose from './compose';\nexport var gridGap = style({\n  prop: 'gridGap'\n});\nexport var gridColumnGap = style({\n  prop: 'gridColumnGap'\n});\nexport var gridRowGap = style({\n  prop: 'gridRowGap'\n});\nexport var gridColumn = style({\n  prop: 'gridColumn'\n});\nexport var gridRow = style({\n  prop: 'gridRow'\n});\nexport var gridAutoFlow = style({\n  prop: 'gridAutoFlow'\n});\nexport var gridAutoColumns = style({\n  prop: 'gridAutoColumns'\n});\nexport var gridAutoRows = style({\n  prop: 'gridAutoRows'\n});\nexport var gridTemplateColumns = style({\n  prop: 'gridTemplateColumns'\n});\nexport var gridTemplateRows = style({\n  prop: 'gridTemplateRows'\n});\nexport var gridTemplateAreas = style({\n  prop: 'gridTemplateAreas'\n});\nexport var gridArea = style({\n  prop: 'gridArea'\n});\nvar grid = compose(gridGap, gridColumnGap, gridRowGap, gridColumn, gridRow, gridAutoFlow, gridAutoColumns, gridAutoRows, gridTemplateColumns, gridTemplateRows, gridTemplateAreas, gridArea);\nexport default grid;","import style from './style';\nimport compose from './compose';\nexport var position = style({\n  prop: 'position'\n});\nexport var zIndex = style({\n  prop: 'zIndex',\n  themeKey: 'zIndex'\n});\nexport var top = style({\n  prop: 'top'\n});\nexport var right = style({\n  prop: 'right'\n});\nexport var bottom = style({\n  prop: 'bottom'\n});\nexport var left = style({\n  prop: 'left'\n});\nexport default compose(position, zIndex, top, right, bottom, left);","import style from './style';\nimport compose from './compose';\nexport var color = style({\n  prop: 'color',\n  themeKey: 'palette'\n});\nexport var bgcolor = style({\n  prop: 'bgcolor',\n  cssProperty: 'backgroundColor',\n  themeKey: 'palette'\n});\nvar palette = compose(color, bgcolor);\nexport default palette;","import style from './style';\nimport compose from './compose';\n\nfunction transform(value) {\n  return value <= 1 ? \"\".concat(value * 100, \"%\") : value;\n}\n\nexport var width = style({\n  prop: 'width',\n  transform: transform\n});\nexport var maxWidth = style({\n  prop: 'maxWidth',\n  transform: transform\n});\nexport var minWidth = style({\n  prop: 'minWidth',\n  transform: transform\n});\nexport var height = style({\n  prop: 'height',\n  transform: transform\n});\nexport var maxHeight = style({\n  prop: 'maxHeight',\n  transform: transform\n});\nexport var minHeight = style({\n  prop: 'minHeight',\n  transform: transform\n});\nexport var sizeWidth = style({\n  prop: 'size',\n  cssProperty: 'width',\n  transform: transform\n});\nexport var sizeHeight = style({\n  prop: 'size',\n  cssProperty: 'height',\n  transform: transform\n});\nexport var boxSizing = style({\n  prop: 'boxSizing'\n});\nvar sizing = compose(width, maxWidth, minWidth, height, maxHeight, minHeight, boxSizing);\nexport default sizing;","import style from './style';\nimport compose from './compose';\nexport var fontFamily = style({\n  prop: 'fontFamily',\n  themeKey: 'typography'\n});\nexport var fontSize = style({\n  prop: 'fontSize',\n  themeKey: 'typography'\n});\nexport var fontStyle = style({\n  prop: 'fontStyle',\n  themeKey: 'typography'\n});\nexport var fontWeight = style({\n  prop: 'fontWeight',\n  themeKey: 'typography'\n});\nexport var letterSpacing = style({\n  prop: 'letterSpacing'\n});\nexport var lineHeight = style({\n  prop: 'lineHeight'\n});\nexport var textAlign = style({\n  prop: 'textAlign'\n});\nvar typography = compose(fontFamily, fontSize, fontStyle, fontWeight, letterSpacing, lineHeight, textAlign);\nexport default typography;","export default function unsupportedProp(props, propName, componentName, location, propFullName) {\n  if (process.env.NODE_ENV === 'production') {\n    return null;\n  }\n\n  var propFullNameSafe = propFullName || propName;\n\n  if (typeof props[propName] !== 'undefined') {\n    return new Error(\"The prop `\".concat(propFullNameSafe, \"` is not supported. Please remove it.\"));\n  }\n\n  return null;\n}","/**\n * Utility functions to work with buffers (Uint8Array).\n *\n * @module buffer\n */\n\nimport * as string from './string.js'\nimport * as env from './environment.js'\nimport * as encoding from './encoding.js'\nimport * as decoding from './decoding.js'\n\n/**\n * @param {number} len\n */\nexport const createUint8ArrayFromLen = len => new Uint8Array(len)\n\n/**\n * Create Uint8Array with initial content from buffer\n *\n * @param {ArrayBuffer} buffer\n * @param {number} byteOffset\n * @param {number} length\n */\nexport const createUint8ArrayViewFromArrayBuffer = (buffer, byteOffset, length) => new Uint8Array(buffer, byteOffset, length)\n\n/**\n * Create Uint8Array with initial content from buffer\n *\n * @param {ArrayBuffer} buffer\n */\nexport const createUint8ArrayFromArrayBuffer = buffer => new Uint8Array(buffer)\n\n/* istanbul ignore next */\n/**\n * @param {Uint8Array} bytes\n * @return {string}\n */\nconst toBase64Browser = bytes => {\n  let s = ''\n  for (let i = 0; i < bytes.byteLength; i++) {\n    s += string.fromCharCode(bytes[i])\n  }\n  // eslint-disable-next-line no-undef\n  return btoa(s)\n}\n\n/**\n * @param {Uint8Array} bytes\n * @return {string}\n */\nconst toBase64Node = bytes => Buffer.from(bytes.buffer, bytes.byteOffset, bytes.byteLength).toString('base64')\n\n/* istanbul ignore next */\n/**\n * @param {string} s\n * @return {Uint8Array}\n */\nconst fromBase64Browser = s => {\n  // eslint-disable-next-line no-undef\n  const a = atob(s)\n  const bytes = createUint8ArrayFromLen(a.length)\n  for (let i = 0; i < a.length; i++) {\n    bytes[i] = a.charCodeAt(i)\n  }\n  return bytes\n}\n\n/**\n * @param {string} s\n */\nconst fromBase64Node = s => {\n  const buf = Buffer.from(s, 'base64')\n  return new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength)\n}\n\n/* istanbul ignore next */\nexport const toBase64 = env.isBrowser ? toBase64Browser : toBase64Node\n\n/* istanbul ignore next */\nexport const fromBase64 = env.isBrowser ? fromBase64Browser : fromBase64Node\n\n/**\n * Copy the content of an Uint8Array view to a new ArrayBuffer.\n *\n * @param {Uint8Array} uint8Array\n * @return {Uint8Array}\n */\nexport const copyUint8Array = uint8Array => {\n  const newBuf = createUint8ArrayFromLen(uint8Array.byteLength)\n  newBuf.set(uint8Array)\n  return newBuf\n}\n\n/**\n * Encode anything as a UInt8Array. It's a pun on typescripts's `any` type.\n * See encoding.writeAny for more information.\n *\n * @param {any} data\n * @return {Uint8Array}\n */\nexport const encodeAny = data => {\n  const encoder = encoding.createEncoder()\n  encoding.writeAny(encoder, data)\n  return encoding.toUint8Array(encoder)\n}\n\n/**\n * Decode an any-encoded value.\n *\n * @param {Uint8Array} buf\n * @return {any}\n */\nexport const decodeAny = buf => decoding.readAny(decoding.createDecoder(buf))\n","/* eslint-env browser */\n\n/**\n * Binary data constants.\n *\n * @module binary\n */\n\n/**\n * n-th bit activated.\n *\n * @type {number}\n */\nexport const BIT1 = 1\nexport const BIT2 = 2\nexport const BIT3 = 4\nexport const BIT4 = 8\nexport const BIT5 = 16\nexport const BIT6 = 32\nexport const BIT7 = 64\nexport const BIT8 = 128\nexport const BIT9 = 256\nexport const BIT10 = 512\nexport const BIT11 = 1024\nexport const BIT12 = 2048\nexport const BIT13 = 4096\nexport const BIT14 = 8192\nexport const BIT15 = 16384\nexport const BIT16 = 32768\nexport const BIT17 = 65536\nexport const BIT18 = 1 << 17\nexport const BIT19 = 1 << 18\nexport const BIT20 = 1 << 19\nexport const BIT21 = 1 << 20\nexport const BIT22 = 1 << 21\nexport const BIT23 = 1 << 22\nexport const BIT24 = 1 << 23\nexport const BIT25 = 1 << 24\nexport const BIT26 = 1 << 25\nexport const BIT27 = 1 << 26\nexport const BIT28 = 1 << 27\nexport const BIT29 = 1 << 28\nexport const BIT30 = 1 << 29\nexport const BIT31 = 1 << 30\nexport const BIT32 = 1 << 31\n\n/**\n * First n bits activated.\n *\n * @type {number}\n */\nexport const BITS0 = 0\nexport const BITS1 = 1\nexport const BITS2 = 3\nexport const BITS3 = 7\nexport const BITS4 = 15\nexport const BITS5 = 31\nexport const BITS6 = 63\nexport const BITS7 = 127\nexport const BITS8 = 255\nexport const BITS9 = 511\nexport const BITS10 = 1023\nexport const BITS11 = 2047\nexport const BITS12 = 4095\nexport const BITS13 = 8191\nexport const BITS14 = 16383\nexport const BITS15 = 32767\nexport const BITS16 = 65535\nexport const BITS17 = BIT18 - 1\nexport const BITS18 = BIT19 - 1\nexport const BITS19 = BIT20 - 1\nexport const BITS20 = BIT21 - 1\nexport const BITS21 = BIT22 - 1\nexport const BITS22 = BIT23 - 1\nexport const BITS23 = BIT24 - 1\nexport const BITS24 = BIT25 - 1\nexport const BITS25 = BIT26 - 1\nexport const BITS26 = BIT27 - 1\nexport const BITS27 = BIT28 - 1\nexport const BITS28 = BIT29 - 1\nexport const BITS29 = BIT30 - 1\nexport const BITS30 = BIT31 - 1\n/**\n * @type {number}\n */\nexport const BITS31 = 0x7FFFFFFF\n/**\n * @type {number}\n */\nexport const BITS32 = 0xFFFFFFFF\n","/**\n * Utility module to convert metric values.\n *\n * @module metric\n */\n\nimport * as math from './math.js'\n\nexport const yotta = 1e24\nexport const zetta = 1e21\nexport const exa = 1e18\nexport const peta = 1e15\nexport const tera = 1e12\nexport const giga = 1e9\nexport const mega = 1e6\nexport const kilo = 1e3\nexport const hecto = 1e2\nexport const deca = 10\nexport const deci = 0.1\nexport const centi = 0.01\nexport const milli = 1e-3\nexport const micro = 1e-6\nexport const nano = 1e-9\nexport const pico = 1e-12\nexport const femto = 1e-15\nexport const atto = 1e-18\nexport const zepto = 1e-21\nexport const yocto = 1e-24\n\nconst prefixUp = ['', 'k', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y']\nconst prefixDown = ['', 'm', '', 'n', 'p', 'f', 'a', 'z', 'y']\n\n/**\n * Calculate the metric prefix for a number. Assumes E.g. `prefix(1000) = { n: 1, prefix: 'k' }`\n *\n * @param {number} n\n * @param {number} [baseMultiplier] Multiplier of the base (10^(3*baseMultiplier)). E.g. `convert(time, -3)` if time is already in milli seconds\n * @return {{n:number,prefix:string}}\n */\nexport const prefix = (n, baseMultiplier = 0) => {\n  const nPow = n === 0 ? 0 : math.log10(n)\n  let mult = 0\n  while (nPow < mult * 3 && baseMultiplier > -8) {\n    baseMultiplier--\n    mult--\n  }\n  while (nPow >= 3 + mult * 3 && baseMultiplier < 8) {\n    baseMultiplier++\n    mult++\n  }\n  const prefix = baseMultiplier < 0 ? prefixDown[-baseMultiplier] : prefixUp[baseMultiplier]\n  return {\n    n: math.round((mult > 0 ? n / math.exp10(mult * 3) : n * math.exp10(mult * -3)) * 1e12) / 1e12,\n    prefix\n  }\n}\n","/**\n * Utility module to work with time.\n *\n * @module time\n */\n\nimport * as metric from './metric.js'\nimport * as math from './math.js'\n\n/**\n * Return current time.\n *\n * @return {Date}\n */\nexport const getDate = () => new Date()\n\n/**\n * Return current unix time.\n *\n * @return {number}\n */\nexport const getUnixTime = Date.now\n\n/**\n * Transform time (in ms) to a human readable format. E.g. 1100 => 1.1s. 60s => 1min. .001 => 10s.\n *\n * @param {number} d duration in milliseconds\n * @return {string} humanized approximation of time\n */\nexport const humanizeDuration = d => {\n  if (d < 60000) {\n    const p = metric.prefix(d, -1)\n    return math.round(p.n * 100) / 100 + p.prefix + 's'\n  }\n  d = math.floor(d / 1000)\n  const seconds = d % 60\n  const minutes = math.floor(d / 60) % 60\n  const hours = math.floor(d / 3600) % 24\n  const days = math.floor(d / 86400)\n  if (days > 0) {\n    return days + 'd' + ((hours > 0 || minutes > 30) ? ' ' + (minutes > 30 ? hours + 1 : hours) + 'h' : '')\n  }\n  if (hours > 0) {\n    /* istanbul ignore next */\n    return hours + 'h' + ((minutes > 0 || seconds > 30) ? ' ' + (seconds > 30 ? minutes + 1 : minutes) + 'min' : '')\n  }\n  return minutes + 'min' + (seconds > 0 ? ' ' + seconds + 's' : '')\n}\n","export default function requirePropFactory(componentNameInError) {\n  if (process.env.NODE_ENV === 'production') {\n    return function () {\n      return null;\n    };\n  }\n\n  var requireProp = function requireProp(requiredProp) {\n    return function (props, propName, componentName, location, propFullName) {\n      var propFullNameSafe = propFullName || propName;\n\n      if (typeof props[propName] !== 'undefined' && !props[requiredProp]) {\n        return new Error(\"The prop `\".concat(propFullNameSafe, \"` of \") + \"`\".concat(componentNameInError, \"` must be used on `\").concat(requiredProp, \"`.\"));\n      }\n\n      return null;\n    };\n  };\n\n  return requireProp;\n}","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","/**\n * Utility module to work with Arrays.\n *\n * @module array\n */\n\n/**\n * Return the last element of an array. The element must exist\n *\n * @template L\n * @param {Array<L>} arr\n * @return {L}\n */\nexport const last = arr => arr[arr.length - 1]\n\n/**\n * @template C\n * @return {Array<C>}\n */\nexport const create = () => /** @type {Array<C>} */ ([])\n\n/**\n * @template D\n * @param {Array<D>} a\n * @return {Array<D>}\n */\nexport const copy = a => /** @type {Array<D>} */ (a.slice())\n\n/**\n * Append elements from src to dest\n *\n * @template M\n * @param {Array<M>} dest\n * @param {Array<M>} src\n */\nexport const appendTo = (dest, src) => {\n  for (let i = 0; i < src.length; i++) {\n    dest.push(src[i])\n  }\n}\n\n/**\n * Transforms something array-like to an actual Array.\n *\n * @function\n * @template T\n * @param {ArrayLike<T>|Iterable<T>} arraylike\n * @return {T}\n */\nexport const from = Array.from\n\n/**\n * True iff condition holds on every element in the Array.\n *\n * @function\n * @template ITEM\n *\n * @param {Array<ITEM>} arr\n * @param {function(ITEM, number, Array<ITEM>):boolean} f\n * @return {boolean}\n */\nexport const every = (arr, f) => arr.every(f)\n\n/**\n * True iff condition holds on some element in the Array.\n *\n * @function\n * @template S\n * @param {Array<S>} arr\n * @param {function(S, number, Array<S>):boolean} f\n * @return {boolean}\n */\nexport const some = (arr, f) => arr.some(f)\n\n/**\n * @template ELEM\n *\n * @param {Array<ELEM>} a\n * @param {Array<ELEM>} b\n * @return {boolean}\n */\nexport const equalFlat = (a, b) => a.length === b.length && every(a, (item, index) => item === b[index])\n\n/**\n * @template ELEM\n * @param {Array<Array<ELEM>>} arr\n * @return {Array<ELEM>}\n */\nexport const flatten = arr => arr.reduce((acc, val) => acc.concat(val), [])\n","/**\n * Utility functions for working with EcmaScript objects.\n *\n * @module object\n */\n\n/**\n * @return {Object<string,any>} obj\n */\nexport const create = () => Object.create(null)\n\n/**\n * Object.assign\n */\nexport const assign = Object.assign\n\n/**\n * @param {Object<string,any>} obj\n */\nexport const keys = Object.keys\n\n/**\n * @param {Object<string,any>} obj\n * @param {function(any,string):any} f\n */\nexport const forEach = (obj, f) => {\n  for (const key in obj) {\n    f(obj[key], key)\n  }\n}\n\n/**\n * @template R\n * @param {Object<string,any>} obj\n * @param {function(any,string):R} f\n * @return {Array<R>}\n */\nexport const map = (obj, f) => {\n  const results = []\n  for (const key in obj) {\n    results.push(f(obj[key], key))\n  }\n  return results\n}\n\n/**\n * @param {Object<string,any>} obj\n * @return {number}\n */\nexport const length = obj => keys(obj).length\n\n/**\n * @param {Object<string,any>} obj\n * @param {function(any,string):boolean} f\n * @return {boolean}\n */\nexport const some = (obj, f) => {\n  for (const key in obj) {\n    if (f(obj[key], key)) {\n      return true\n    }\n  }\n  return false\n}\n\n/**\n * @param {Object<string,any>} obj\n * @param {function(any,string):boolean} f\n * @return {boolean}\n */\nexport const every = (obj, f) => {\n  for (const key in obj) {\n    if (!f(obj[key], key)) {\n      return false\n    }\n  }\n  return true\n}\n\n/**\n * Calls `Object.prototype.hasOwnProperty`.\n *\n * @param {any} obj\n * @param {string|symbol} key\n * @return {boolean}\n */\nexport const hasProperty = (obj, key) => Object.prototype.hasOwnProperty.call(obj, key)\n\n/**\n * @param {Object<string,any>} a\n * @param {Object<string,any>} b\n * @return {boolean}\n */\nexport const equalFlat = (a, b) => a === b || (length(a) === length(b) && every(a, (val, key) => (val !== undefined || hasProperty(b, key)) && b[key] === val))\n","/**\n * Observable class prototype.\n *\n * @module observable\n */\n\nimport * as map from './map.js'\nimport * as set from './set.js'\nimport * as array from './array.js'\n\n/**\n * Handles named events.\n *\n * @template N\n */\nexport class Observable {\n  constructor () {\n    /**\n     * Some desc.\n     * @type {Map<N, any>}\n     */\n    this._observers = map.create()\n  }\n\n  /**\n   * @param {N} name\n   * @param {function} f\n   */\n  on (name, f) {\n    map.setIfUndefined(this._observers, name, set.create).add(f)\n  }\n\n  /**\n   * @param {N} name\n   * @param {function} f\n   */\n  once (name, f) {\n    /**\n     * @param  {...any} args\n     */\n    const _f = (...args) => {\n      this.off(name, _f)\n      f(...args)\n    }\n    this.on(name, _f)\n  }\n\n  /**\n   * @param {N} name\n   * @param {function} f\n   */\n  off (name, f) {\n    const observers = this._observers.get(name)\n    if (observers !== undefined) {\n      observers.delete(f)\n      if (observers.size === 0) {\n        this._observers.delete(name)\n      }\n    }\n  }\n\n  /**\n   * Emit a named event. All registered event listeners that listen to the\n   * specified name will receive the event.\n   *\n   * @todo This should catch exceptions\n   *\n   * @param {N} name The event name.\n   * @param {Array<any>} args The arguments that are applied to the event listener.\n   */\n  emit (name, args) {\n    // copy all listeners to an array first to make sure that no event is emitted to listeners that are subscribed while the event handler is called.\n    return array.from((this._observers.get(name) || map.create()).values()).forEach(f => f(...args))\n  }\n\n  destroy () {\n    this._observers = map.create()\n  }\n}\n","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport PropTypes from 'prop-types';\nimport merge from './merge';\n\nfunction omit(input, fields) {\n  var output = {};\n  Object.keys(input).forEach(function (prop) {\n    if (fields.indexOf(prop) === -1) {\n      output[prop] = input[prop];\n    }\n  });\n  return output;\n}\n\nfunction css(styleFunction) {\n  var newStyleFunction = function newStyleFunction(props) {\n    var output = styleFunction(props);\n\n    if (props.css) {\n      return _extends({}, merge(output, styleFunction(_extends({\n        theme: props.theme\n      }, props.css))), omit(props.css, [styleFunction.filterProps]));\n    }\n\n    return output;\n  };\n\n  newStyleFunction.propTypes = process.env.NODE_ENV !== 'production' ? _extends({}, styleFunction.propTypes, {\n    css: PropTypes.object\n  }) : {};\n  newStyleFunction.filterProps = ['css'].concat(_toConsumableArray(styleFunction.filterProps));\n  return newStyleFunction;\n}\n\nexport default css;","import style from './style';\nimport compose from './compose';\nexport var displayPrint = style({\n  prop: 'displayPrint',\n  cssProperty: false,\n  transform: function transform(value) {\n    return {\n      '@media print': {\n        display: value\n      }\n    };\n  }\n});\nexport var displayRaw = style({\n  prop: 'display'\n});\nexport var overflow = style({\n  prop: 'overflow'\n});\nexport var textOverflow = style({\n  prop: 'textOverflow'\n});\nexport var visibility = style({\n  prop: 'visibility'\n});\nexport var whiteSpace = style({\n  prop: 'whiteSpace'\n});\nexport default compose(displayPrint, displayRaw, overflow, textOverflow, visibility, whiteSpace);","import style from './style';\nvar boxShadow = style({\n  prop: 'boxShadow',\n  themeKey: 'shadows'\n});\nexport default boxShadow;","/**\n * Utility module to work with sets.\n *\n * @module set\n */\n\nexport const create = () => new Set()\n\n/**\n * @template T\n * @param {Set<T>} set\n * @return {Array<T>}\n */\nexport const toArray = set => Array.from(set)\n","/**\n * Utility module to work with strings.\n *\n * @module string\n */\n\nexport const fromCharCode = String.fromCharCode\nexport const fromCodePoint = String.fromCodePoint\n\n/**\n * @param {string} s\n * @return {string}\n */\nconst toLowerCase = s => s.toLowerCase()\n\nconst trimLeftRegex = /^\\s*/g\n\n/**\n * @param {string} s\n * @return {string}\n */\nexport const trimLeft = s => s.replace(trimLeftRegex, '')\n\nconst fromCamelCaseRegex = /([A-Z])/g\n\n/**\n * @param {string} s\n * @param {string} separator\n * @return {string}\n */\nexport const fromCamelCase = (s, separator) => trimLeft(s.replace(fromCamelCaseRegex, match => `${separator}${toLowerCase(match)}`))\n\n/**\n * Compute the utf8ByteLength\n * @param {string} str\n * @return {number}\n */\nexport const utf8ByteLength = str => unescape(encodeURIComponent(str)).length\n\n/**\n * @param {string} str\n * @return {Uint8Array}\n */\nexport const _encodeUtf8Polyfill = str => {\n  const encodedString = unescape(encodeURIComponent(str))\n  const len = encodedString.length\n  const buf = new Uint8Array(len)\n  for (let i = 0; i < len; i++) {\n    buf[i] = /** @type {number} */ (encodedString.codePointAt(i))\n  }\n  return buf\n}\n\n/* istanbul ignore next */\nexport const utf8TextEncoder = /** @type {TextEncoder} */ (typeof TextEncoder !== 'undefined' ? new TextEncoder() : null)\n\n/**\n * @param {string} str\n * @return {Uint8Array}\n */\nexport const _encodeUtf8Native = str => utf8TextEncoder.encode(str)\n\n/**\n * @param {string} str\n * @return {Uint8Array}\n */\n/* istanbul ignore next */\nexport const encodeUtf8 = utf8TextEncoder ? _encodeUtf8Native : _encodeUtf8Polyfill\n\n/**\n * @param {Uint8Array} buf\n * @return {string}\n */\nexport const _decodeUtf8Polyfill = buf => {\n  let remainingLen = buf.length\n  let encodedString = ''\n  let bufPos = 0\n  while (remainingLen > 0) {\n    const nextLen = remainingLen < 10000 ? remainingLen : 10000\n    const bytes = buf.subarray(bufPos, bufPos + nextLen)\n    bufPos += nextLen\n    // Starting with ES5.1 we can supply a generic array-like object as arguments\n    encodedString += String.fromCodePoint.apply(null, /** @type {any} */ (bytes))\n    remainingLen -= nextLen\n  }\n  return decodeURIComponent(escape(encodedString))\n}\n\n/* istanbul ignore next */\nexport let utf8TextDecoder = typeof TextDecoder === 'undefined' ? null : new TextDecoder('utf-8', { fatal: true, ignoreBOM: true })\n\n/* istanbul ignore next */\nif (utf8TextDecoder && utf8TextDecoder.decode(new Uint8Array()).length === 1) {\n  // Safari doesn't handle BOM correctly.\n  // This fixes a bug in Safari 13.0.5 where it produces a BOM the first time it is called.\n  // utf8TextDecoder.decode(new Uint8Array()).length === 1 on the first call and\n  // utf8TextDecoder.decode(new Uint8Array()).length === 1 on the second call\n  // Another issue is that from then on no BOM chars are recognized anymore\n  /* istanbul ignore next */\n  utf8TextDecoder = null\n}\n\n/**\n * @param {Uint8Array} buf\n * @return {string}\n */\nexport const _decodeUtf8Native = buf => /** @type {TextDecoder} */ (utf8TextDecoder).decode(buf)\n\n/**\n * @param {Uint8Array} buf\n * @return {string}\n */\n/* istanbul ignore next */\nexport const decodeUtf8 = utf8TextDecoder ? _decodeUtf8Native : _decodeUtf8Polyfill\n","/**\n * Isomorphic module to work access the environment (query params, env variables).\n *\n * @module map\n */\n\nimport * as map from './map.js'\nimport * as string from './string.js'\nimport * as conditions from './conditions.js'\nimport * as storage from './storage.js'\n\n/* istanbul ignore next */\n// @ts-ignore\nexport const isNode = typeof process !== 'undefined' && process.release && /node|io\\.js/.test(process.release.name)\n/* istanbul ignore next */\nexport const isBrowser = typeof window !== 'undefined' && !isNode\n/* istanbul ignore next */\nexport const isMac = typeof navigator !== 'undefined' ? /Mac/.test(navigator.platform) : false\n\n/**\n * @type {Map<string,string>}\n */\nlet params\nconst args = []\n\n/* istanbul ignore next */\nconst computeParams = () => {\n  if (params === undefined) {\n    if (isNode) {\n      params = map.create()\n      const pargs = process.argv\n      let currParamName = null\n      /* istanbul ignore next */\n      for (let i = 0; i < pargs.length; i++) {\n        const parg = pargs[i]\n        if (parg[0] === '-') {\n          if (currParamName !== null) {\n            params.set(currParamName, '')\n          }\n          currParamName = parg\n        } else {\n          if (currParamName !== null) {\n            params.set(currParamName, parg)\n            currParamName = null\n          } else {\n            args.push(parg)\n          }\n        }\n      }\n      if (currParamName !== null) {\n        params.set(currParamName, '')\n      }\n    // in ReactNative for example this would not be true (unless connected to the Remote Debugger)\n    } else if (typeof location === 'object') {\n      params = map.create()\n      // eslint-disable-next-line no-undef\n      ;(location.search || '?').slice(1).split('&').forEach(kv => {\n        if (kv.length !== 0) {\n          const [key, value] = kv.split('=')\n          params.set(`--${string.fromCamelCase(key, '-')}`, value)\n          params.set(`-${string.fromCamelCase(key, '-')}`, value)\n        }\n      })\n    } else {\n      params = map.create()\n    }\n  }\n  return params\n}\n\n/**\n * @param {string} name\n * @return {boolean}\n */\n/* istanbul ignore next */\nexport const hasParam = name => computeParams().has(name)\n\n/**\n * @param {string} name\n * @param {string} defaultVal\n * @return {string}\n */\n/* istanbul ignore next */\nexport const getParam = (name, defaultVal) => computeParams().get(name) || defaultVal\n// export const getArgs = name => computeParams() && args\n\n/**\n * @param {string} name\n * @return {string|null}\n */\n/* istanbul ignore next */\nexport const getVariable = name => isNode ? conditions.undefinedToNull(process.env[name.toUpperCase()]) : conditions.undefinedToNull(storage.varStorage.getItem(name))\n\n/**\n * @param {string} name\n * @return {string|null}\n */\nexport const getConf = name => computeParams().get('--' + name) || getVariable(name)\n\n/**\n * @param {string} name\n * @return {boolean}\n */\n/* istanbul ignore next */\nexport const hasConf = name => hasParam('--' + name) || getVariable(name) !== null\n\n/* istanbul ignore next */\nexport const production = hasConf('production')\n","/* global localStorage, addEventListener */\n\n/**\n * Isomorphic variable storage.\n *\n * Uses LocalStorage in the browser and falls back to in-memory storage.\n *\n * @module storage\n */\n\n/* istanbul ignore next */\nclass VarStoragePolyfill {\n  constructor () {\n    this.map = new Map()\n  }\n\n  /**\n   * @param {string} key\n   * @param {any} newValue\n   */\n  setItem (key, newValue) {\n    this.map.set(key, newValue)\n  }\n\n  /**\n   * @param {string} key\n   */\n  getItem (key) {\n    return this.map.get(key)\n  }\n}\n\n/* istanbul ignore next */\n/**\n * @type {any}\n */\nlet _localStorage = new VarStoragePolyfill()\nlet usePolyfill = true\n\ntry {\n  // if the same-origin rule is violated, accessing localStorage might thrown an error\n  /* istanbul ignore next */\n  if (typeof localStorage !== 'undefined') {\n    _localStorage = localStorage\n    usePolyfill = false\n  }\n} catch (e) { }\n\n/* istanbul ignore next */\n/**\n * This is basically localStorage in browser, or a polyfill in nodejs\n */\nexport const varStorage = _localStorage\n\n/* istanbul ignore next */\n/**\n * A polyfill for `addEventListener('storage', event => {..})` that does nothing if the polyfill is being used.\n *\n * @param {function({ key: string, newValue: string, oldValue: string }): void} eventHandler\n * @function\n */\nexport const onChange = eventHandler => usePolyfill || addEventListener('storage', /** @type {any} */ (eventHandler))\n","/* global requestIdleCallback, requestAnimationFrame, cancelIdleCallback, cancelAnimationFrame */\n\n/**\n * Utility module to work with EcmaScript's event loop.\n *\n * @module eventloop\n */\n\n/**\n * @type {Array<function>}\n */\nlet queue = []\n\nconst _runQueue = () => {\n  for (let i = 0; i < queue.length; i++) {\n    queue[i]()\n  }\n  queue = []\n}\n\n/**\n * @param {function():void} f\n */\nexport const enqueue = f => {\n  queue.push(f)\n  if (queue.length === 1) {\n    setTimeout(_runQueue, 0)\n  }\n}\n\n/**\n * @typedef {Object} TimeoutObject\n * @property {function} TimeoutObject.destroy\n */\n\n/**\n * @param {function(number):void} clearFunction\n */\nconst createTimeoutClass = clearFunction => class TT {\n  /**\n   * @param {number} timeoutId\n   */\n  constructor (timeoutId) {\n    this._ = timeoutId\n  }\n\n  destroy () {\n    clearFunction(this._)\n  }\n}\n\nconst Timeout = createTimeoutClass(clearTimeout)\n\n/**\n * @param {number} timeout\n * @param {function} callback\n * @return {TimeoutObject}\n */\nexport const timeout = (timeout, callback) => new Timeout(setTimeout(callback, timeout))\n\nconst Interval = createTimeoutClass(clearInterval)\n\n/**\n * @param {number} timeout\n * @param {function} callback\n * @return {TimeoutObject}\n */\nexport const interval = (timeout, callback) => new Interval(setInterval(callback, timeout))\n\n/* istanbul ignore next */\nexport const Animation = createTimeoutClass(arg => typeof requestAnimationFrame !== 'undefined' && cancelAnimationFrame(arg))\n\n/* istanbul ignore next */\n/**\n * @param {function(number):void} cb\n * @return {TimeoutObject}\n */\nexport const animationFrame = cb => typeof requestAnimationFrame === 'undefined' ? timeout(0, cb) : new Animation(requestAnimationFrame(cb))\n\n/* istanbul ignore next */\n// @ts-ignore\nconst Idle = createTimeoutClass(arg => typeof cancelIdleCallback !== 'undefined' && cancelIdleCallback(arg))\n\n/* istanbul ignore next */\n/**\n * Note: this is experimental and is probably only useful in browsers.\n *\n * @param {function} cb\n * @return {TimeoutObject}\n */\n// @ts-ignore\nexport const idleCallback = cb => typeof requestIdleCallback !== 'undefined' ? new Idle(requestIdleCallback(cb)) : timeout(1000, cb)\n\n/**\n * @param {number} timeout Timeout of the debounce action\n * @return {function(function():void):void}\n */\nexport const createDebouncer = timeout => {\n  let timer = -1\n  return f => {\n    clearTimeout(timer)\n    if (f) {\n      timer = /** @type {any} */ (setTimeout(f, timeout))\n    }\n  }\n}\n","/**\n * Mutual exclude for JavaScript.\n *\n * @module mutex\n */\n\n/**\n * @callback mutex\n * @param {function():void} cb Only executed when this mutex is not in the current stack\n * @param {function():void} [elseCb] Executed when this mutex is in the current stack\n */\n\n/**\n * Creates a mutual exclude function with the following property:\n *\n * ```js\n * const mutex = createMutex()\n * mutex(() => {\n *   // This function is immediately executed\n *   mutex(() => {\n *     // This function is not executed, as the mutex is already active.\n *   })\n * })\n * ```\n *\n * @return {mutex} A mutual exclude function\n * @public\n */\nexport const createMutex = () => {\n  let token = true\n  return (f, g) => {\n    if (token) {\n      token = false\n      try {\n        f()\n      } finally {\n        token = true\n      }\n    } else if (g !== undefined) {\n      g()\n    }\n  }\n}\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nfunction Context(indented, column, type, info, align, prev) {\n  this.indented = indented;\n  this.column = column;\n  this.type = type;\n  this.info = info;\n  this.align = align;\n  this.prev = prev;\n}\nfunction pushContext(state, col, type, info) {\n  var indent = state.indented;\n  if (state.context && state.context.type == \"statement\" && type != \"statement\")\n    indent = state.context.indented;\n  return state.context = new Context(indent, col, type, info, null, state.context);\n}\nfunction popContext(state) {\n  var t = state.context.type;\n  if (t == \")\" || t == \"]\" || t == \"}\")\n    state.indented = state.context.indented;\n  return state.context = state.context.prev;\n}\n\nfunction typeBefore(stream, state, pos) {\n  if (state.prevToken == \"variable\" || state.prevToken == \"type\") return true;\n  if (/\\S(?:[^- ]>|[*\\]])\\s*$|\\*$/.test(stream.string.slice(0, pos))) return true;\n  if (state.typeAtEndOfLine && stream.column() == stream.indentation()) return true;\n}\n\nfunction isTopScope(context) {\n  for (;;) {\n    if (!context || context.type == \"top\") return true;\n    if (context.type == \"}\" && context.prev.info != \"namespace\") return false;\n    context = context.prev;\n  }\n}\n\nCodeMirror.defineMode(\"clike\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit,\n      statementIndentUnit = parserConfig.statementIndentUnit || indentUnit,\n      dontAlignCalls = parserConfig.dontAlignCalls,\n      keywords = parserConfig.keywords || {},\n      types = parserConfig.types || {},\n      builtin = parserConfig.builtin || {},\n      blockKeywords = parserConfig.blockKeywords || {},\n      defKeywords = parserConfig.defKeywords || {},\n      atoms = parserConfig.atoms || {},\n      hooks = parserConfig.hooks || {},\n      multiLineStrings = parserConfig.multiLineStrings,\n      indentStatements = parserConfig.indentStatements !== false,\n      indentSwitch = parserConfig.indentSwitch !== false,\n      namespaceSeparator = parserConfig.namespaceSeparator,\n      isPunctuationChar = parserConfig.isPunctuationChar || /[\\[\\]{}\\(\\),;\\:\\.]/,\n      numberStart = parserConfig.numberStart || /[\\d\\.]/,\n      number = parserConfig.number || /^(?:0x[a-f\\d]+|0b[01]+|(?:\\d+\\.?\\d*|\\.\\d+)(?:e[-+]?\\d+)?)(u|ll?|l|f)?/i,\n      isOperatorChar = parserConfig.isOperatorChar || /[+\\-*&%=<>!?|\\/]/,\n      isIdentifierChar = parserConfig.isIdentifierChar || /[\\w\\$_\\xa1-\\uffff]/,\n      // An optional function that takes a {string} token and returns true if it\n      // should be treated as a builtin.\n      isReservedIdentifier = parserConfig.isReservedIdentifier || false;\n\n  var curPunc, isDefKeyword;\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (hooks[ch]) {\n      var result = hooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    }\n    if (numberStart.test(ch)) {\n      stream.backUp(1)\n      if (stream.match(number)) return \"number\"\n      stream.next()\n    }\n    if (isPunctuationChar.test(ch)) {\n      curPunc = ch;\n      return null;\n    }\n    if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      }\n      if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return \"comment\";\n      }\n    }\n    if (isOperatorChar.test(ch)) {\n      while (!stream.match(/^\\/[\\/*]/, false) && stream.eat(isOperatorChar)) {}\n      return \"operator\";\n    }\n    stream.eatWhile(isIdentifierChar);\n    if (namespaceSeparator) while (stream.match(namespaceSeparator))\n      stream.eatWhile(isIdentifierChar);\n\n    var cur = stream.current();\n    if (contains(keywords, cur)) {\n      if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n      if (contains(defKeywords, cur)) isDefKeyword = true;\n      return \"keyword\";\n    }\n    if (contains(types, cur)) return \"type\";\n    if (contains(builtin, cur)\n        || (isReservedIdentifier && isReservedIdentifier(cur))) {\n      if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n      return \"builtin\";\n    }\n    if (contains(atoms, cur)) return \"atom\";\n    return \"variable\";\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) {end = true; break;}\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (end || !(escaped || multiLineStrings))\n        state.tokenize = null;\n      return \"string\";\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return \"comment\";\n  }\n\n  function maybeEOL(stream, state) {\n    if (parserConfig.typeFirstDefinitions && stream.eol() && isTopScope(state.context))\n      state.typeAtEndOfLine = typeBefore(stream, state, stream.pos)\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      return {\n        tokenize: null,\n        context: new Context((basecolumn || 0) - indentUnit, 0, \"top\", null, false),\n        indented: 0,\n        startOfLine: true,\n        prevToken: null\n      };\n    },\n\n    token: function(stream, state) {\n      var ctx = state.context;\n      if (stream.sol()) {\n        if (ctx.align == null) ctx.align = false;\n        state.indented = stream.indentation();\n        state.startOfLine = true;\n      }\n      if (stream.eatSpace()) { maybeEOL(stream, state); return null; }\n      curPunc = isDefKeyword = null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style == \"comment\" || style == \"meta\") return style;\n      if (ctx.align == null) ctx.align = true;\n\n      if (curPunc == \";\" || curPunc == \":\" || (curPunc == \",\" && stream.match(/^\\s*(?:\\/\\/.*)?$/, false)))\n        while (state.context.type == \"statement\") popContext(state);\n      else if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\n      else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\n      else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\n      else if (curPunc == \"}\") {\n        while (ctx.type == \"statement\") ctx = popContext(state);\n        if (ctx.type == \"}\") ctx = popContext(state);\n        while (ctx.type == \"statement\") ctx = popContext(state);\n      }\n      else if (curPunc == ctx.type) popContext(state);\n      else if (indentStatements &&\n               (((ctx.type == \"}\" || ctx.type == \"top\") && curPunc != \";\") ||\n                (ctx.type == \"statement\" && curPunc == \"newstatement\"))) {\n        pushContext(state, stream.column(), \"statement\", stream.current());\n      }\n\n      if (style == \"variable\" &&\n          ((state.prevToken == \"def\" ||\n            (parserConfig.typeFirstDefinitions && typeBefore(stream, state, stream.start) &&\n             isTopScope(state.context) && stream.match(/^\\s*\\(/, false)))))\n        style = \"def\";\n\n      if (hooks.token) {\n        var result = hooks.token(stream, state, style);\n        if (result !== undefined) style = result;\n      }\n\n      if (style == \"def\" && parserConfig.styleDefs === false) style = \"variable\";\n\n      state.startOfLine = false;\n      state.prevToken = isDefKeyword ? \"def\" : style || curPunc;\n      maybeEOL(stream, state);\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize != tokenBase && state.tokenize != null || state.typeAtEndOfLine) return CodeMirror.Pass;\n      var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);\n      var closing = firstChar == ctx.type;\n      if (ctx.type == \"statement\" && firstChar == \"}\") ctx = ctx.prev;\n      if (parserConfig.dontIndentStatements)\n        while (ctx.type == \"statement\" && parserConfig.dontIndentStatements.test(ctx.info))\n          ctx = ctx.prev\n      if (hooks.indent) {\n        var hook = hooks.indent(state, ctx, textAfter, indentUnit);\n        if (typeof hook == \"number\") return hook\n      }\n      var switchBlock = ctx.prev && ctx.prev.info == \"switch\";\n      if (parserConfig.allmanIndentation && /[{(]/.test(firstChar)) {\n        while (ctx.type != \"top\" && ctx.type != \"}\") ctx = ctx.prev\n        return ctx.indented\n      }\n      if (ctx.type == \"statement\")\n        return ctx.indented + (firstChar == \"{\" ? 0 : statementIndentUnit);\n      if (ctx.align && (!dontAlignCalls || ctx.type != \")\"))\n        return ctx.column + (closing ? 0 : 1);\n      if (ctx.type == \")\" && !closing)\n        return ctx.indented + statementIndentUnit;\n\n      return ctx.indented + (closing ? 0 : indentUnit) +\n        (!closing && switchBlock && !/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 0);\n    },\n\n    electricInput: indentSwitch ? /^\\s*(?:case .*?:|default:|\\{\\}?|\\})$/ : /^\\s*[{}]$/,\n    blockCommentStart: \"/*\",\n    blockCommentEnd: \"*/\",\n    blockCommentContinue: \" * \",\n    lineComment: \"//\",\n    fold: \"brace\"\n  };\n});\n\n  function words(str) {\n    var obj = {}, words = str.split(\" \");\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n    return obj;\n  }\n  function contains(words, word) {\n    if (typeof words === \"function\") {\n      return words(word);\n    } else {\n      return words.propertyIsEnumerable(word);\n    }\n  }\n  var cKeywords = \"auto if break case register continue return default do sizeof \" +\n    \"static else struct switch extern typedef union for goto while enum const \" +\n    \"volatile inline restrict asm fortran\";\n\n  // Keywords from https://en.cppreference.com/w/cpp/keyword includes C++20.\n  var cppKeywords = \"alignas alignof and and_eq audit axiom bitand bitor catch \" +\n  \"class compl concept constexpr const_cast decltype delete dynamic_cast \" +\n  \"explicit export final friend import module mutable namespace new noexcept \" +\n  \"not not_eq operator or or_eq override private protected public \" +\n  \"reinterpret_cast requires static_assert static_cast template this \" +\n  \"thread_local throw try typeid typename using virtual xor xor_eq\";\n\n  var objCKeywords = \"bycopy byref in inout oneway out self super atomic nonatomic retain copy \" +\n  \"readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd \" +\n  \"@interface @implementation @end @protocol @encode @property @synthesize @dynamic @class \" +\n  \"@public @package @private @protected @required @optional @try @catch @finally @import \" +\n  \"@selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available\";\n\n  var objCBuiltins = \"FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION \" +\n  \" NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER \" +\n  \"NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION \" +\n  \"NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT\"\n\n  // Do not use this. Use the cTypes function below. This is global just to avoid\n  // excessive calls when cTypes is being called multiple times during a parse.\n  var basicCTypes = words(\"int long char short double float unsigned signed \" +\n    \"void bool\");\n\n  // Do not use this. Use the objCTypes function below. This is global just to avoid\n  // excessive calls when objCTypes is being called multiple times during a parse.\n  var basicObjCTypes = words(\"SEL instancetype id Class Protocol BOOL\");\n\n  // Returns true if identifier is a \"C\" type.\n  // C type is defined as those that are reserved by the compiler (basicTypes),\n  // and those that end in _t (Reserved by POSIX for types)\n  // http://www.gnu.org/software/libc/manual/html_node/Reserved-Names.html\n  function cTypes(identifier) {\n    return contains(basicCTypes, identifier) || /.+_t$/.test(identifier);\n  }\n\n  // Returns true if identifier is a \"Objective C\" type.\n  function objCTypes(identifier) {\n    return cTypes(identifier) || contains(basicObjCTypes, identifier);\n  }\n\n  var cBlockKeywords = \"case do else for if switch while struct enum union\";\n  var cDefKeywords = \"struct enum union\";\n\n  function cppHook(stream, state) {\n    if (!state.startOfLine) return false\n    for (var ch, next = null; ch = stream.peek();) {\n      if (ch == \"\\\\\" && stream.match(/^.$/)) {\n        next = cppHook\n        break\n      } else if (ch == \"/\" && stream.match(/^\\/[\\/\\*]/, false)) {\n        break\n      }\n      stream.next()\n    }\n    state.tokenize = next\n    return \"meta\"\n  }\n\n  function pointerHook(_stream, state) {\n    if (state.prevToken == \"type\") return \"type\";\n    return false;\n  }\n\n  // For C and C++ (and ObjC): identifiers starting with __\n  // or _ followed by a capital letter are reserved for the compiler.\n  function cIsReservedIdentifier(token) {\n    if (!token || token.length < 2) return false;\n    if (token[0] != '_') return false;\n    return (token[1] == '_') || (token[1] !== token[1].toLowerCase());\n  }\n\n  function cpp14Literal(stream) {\n    stream.eatWhile(/[\\w\\.']/);\n    return \"number\";\n  }\n\n  function cpp11StringHook(stream, state) {\n    stream.backUp(1);\n    // Raw strings.\n    if (stream.match(/^(?:R|u8R|uR|UR|LR)/)) {\n      var match = stream.match(/^\"([^\\s\\\\()]{0,16})\\(/);\n      if (!match) {\n        return false;\n      }\n      state.cpp11RawStringDelim = match[1];\n      state.tokenize = tokenRawString;\n      return tokenRawString(stream, state);\n    }\n    // Unicode strings/chars.\n    if (stream.match(/^(?:u8|u|U|L)/)) {\n      if (stream.match(/^[\"']/, /* eat */ false)) {\n        return \"string\";\n      }\n      return false;\n    }\n    // Ignore this hook.\n    stream.next();\n    return false;\n  }\n\n  function cppLooksLikeConstructor(word) {\n    var lastTwo = /(\\w+)::~?(\\w+)$/.exec(word);\n    return lastTwo && lastTwo[1] == lastTwo[2];\n  }\n\n  // C#-style strings where \"\" escapes a quote.\n  function tokenAtString(stream, state) {\n    var next;\n    while ((next = stream.next()) != null) {\n      if (next == '\"' && !stream.eat('\"')) {\n        state.tokenize = null;\n        break;\n      }\n    }\n    return \"string\";\n  }\n\n  // C++11 raw string literal is <prefix>\"<delim>( anything )<delim>\", where\n  // <delim> can be a string up to 16 characters long.\n  function tokenRawString(stream, state) {\n    // Escape characters that have special regex meanings.\n    var delim = state.cpp11RawStringDelim.replace(/[^\\w\\s]/g, '\\\\$&');\n    var match = stream.match(new RegExp(\".*?\\\\)\" + delim + '\"'));\n    if (match)\n      state.tokenize = null;\n    else\n      stream.skipToEnd();\n    return \"string\";\n  }\n\n  function def(mimes, mode) {\n    if (typeof mimes == \"string\") mimes = [mimes];\n    var words = [];\n    function add(obj) {\n      if (obj) for (var prop in obj) if (obj.hasOwnProperty(prop))\n        words.push(prop);\n    }\n    add(mode.keywords);\n    add(mode.types);\n    add(mode.builtin);\n    add(mode.atoms);\n    if (words.length) {\n      mode.helperType = mimes[0];\n      CodeMirror.registerHelper(\"hintWords\", mimes[0], words);\n    }\n\n    for (var i = 0; i < mimes.length; ++i)\n      CodeMirror.defineMIME(mimes[i], mode);\n  }\n\n  def([\"text/x-csrc\", \"text/x-c\", \"text/x-chdr\"], {\n    name: \"clike\",\n    keywords: words(cKeywords),\n    types: cTypes,\n    blockKeywords: words(cBlockKeywords),\n    defKeywords: words(cDefKeywords),\n    typeFirstDefinitions: true,\n    atoms: words(\"NULL true false\"),\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n    },\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def([\"text/x-c++src\", \"text/x-c++hdr\"], {\n    name: \"clike\",\n    keywords: words(cKeywords + \" \" + cppKeywords),\n    types: cTypes,\n    blockKeywords: words(cBlockKeywords + \" class try catch\"),\n    defKeywords: words(cDefKeywords + \" class namespace\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false NULL nullptr\"),\n    dontIndentStatements: /^template$/,\n    isIdentifierChar: /[\\w\\$_~\\xa1-\\uffff]/,\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n      \"u\": cpp11StringHook,\n      \"U\": cpp11StringHook,\n      \"L\": cpp11StringHook,\n      \"R\": cpp11StringHook,\n      \"0\": cpp14Literal,\n      \"1\": cpp14Literal,\n      \"2\": cpp14Literal,\n      \"3\": cpp14Literal,\n      \"4\": cpp14Literal,\n      \"5\": cpp14Literal,\n      \"6\": cpp14Literal,\n      \"7\": cpp14Literal,\n      \"8\": cpp14Literal,\n      \"9\": cpp14Literal,\n      token: function(stream, state, style) {\n        if (style == \"variable\" && stream.peek() == \"(\" &&\n            (state.prevToken == \";\" || state.prevToken == null ||\n             state.prevToken == \"}\") &&\n            cppLooksLikeConstructor(stream.current()))\n          return \"def\";\n      }\n    },\n    namespaceSeparator: \"::\",\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-java\", {\n    name: \"clike\",\n    keywords: words(\"abstract assert break case catch class const continue default \" +\n                    \"do else enum extends final finally for goto if implements import \" +\n                    \"instanceof interface native new package private protected public \" +\n                    \"return static strictfp super switch synchronized this throw throws transient \" +\n                    \"try volatile while @interface\"),\n    types: words(\"byte short int long float double boolean char void Boolean Byte Character Double Float \" +\n                 \"Integer Long Number Object Short String StringBuffer StringBuilder Void\"),\n    blockKeywords: words(\"catch class do else finally for if switch try while\"),\n    defKeywords: words(\"class interface enum @interface\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    number: /^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+\\.?\\d*|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?/i,\n    hooks: {\n      \"@\": function(stream) {\n        // Don't match the @interface keyword.\n        if (stream.match('interface', false)) return false;\n\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      }\n    },\n    modeProps: {fold: [\"brace\", \"import\"]}\n  });\n\n  def(\"text/x-csharp\", {\n    name: \"clike\",\n    keywords: words(\"abstract as async await base break case catch checked class const continue\" +\n                    \" default delegate do else enum event explicit extern finally fixed for\" +\n                    \" foreach goto if implicit in interface internal is lock namespace new\" +\n                    \" operator out override params private protected public readonly ref return sealed\" +\n                    \" sizeof stackalloc static struct switch this throw try typeof unchecked\" +\n                    \" unsafe using virtual void volatile while add alias ascending descending dynamic from get\" +\n                    \" global group into join let orderby partial remove select set value var yield\"),\n    types: words(\"Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func\" +\n                 \" Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32\" +\n                 \" UInt64 bool byte char decimal double short int long object\"  +\n                 \" sbyte float string ushort uint ulong\"),\n    blockKeywords: words(\"catch class do else finally for foreach if struct switch try while\"),\n    defKeywords: words(\"class interface namespace struct var\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    hooks: {\n      \"@\": function(stream, state) {\n        if (stream.eat('\"')) {\n          state.tokenize = tokenAtString;\n          return tokenAtString(stream, state);\n        }\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      }\n    }\n  });\n\n  function tokenTripleString(stream, state) {\n    var escaped = false;\n    while (!stream.eol()) {\n      if (!escaped && stream.match('\"\"\"')) {\n        state.tokenize = null;\n        break;\n      }\n      escaped = stream.next() == \"\\\\\" && !escaped;\n    }\n    return \"string\";\n  }\n\n  function tokenNestedComment(depth) {\n    return function (stream, state) {\n      var ch\n      while (ch = stream.next()) {\n        if (ch == \"*\" && stream.eat(\"/\")) {\n          if (depth == 1) {\n            state.tokenize = null\n            break\n          } else {\n            state.tokenize = tokenNestedComment(depth - 1)\n            return state.tokenize(stream, state)\n          }\n        } else if (ch == \"/\" && stream.eat(\"*\")) {\n          state.tokenize = tokenNestedComment(depth + 1)\n          return state.tokenize(stream, state)\n        }\n      }\n      return \"comment\"\n    }\n  }\n\n  def(\"text/x-scala\", {\n    name: \"clike\",\n    keywords: words(\n      /* scala */\n      \"abstract case catch class def do else extends final finally for forSome if \" +\n      \"implicit import lazy match new null object override package private protected return \" +\n      \"sealed super this throw trait try type val var while with yield _ \" +\n\n      /* package scala */\n      \"assert assume require print println printf readLine readBoolean readByte readShort \" +\n      \"readChar readInt readLong readFloat readDouble\"\n    ),\n    types: words(\n      \"AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either \" +\n      \"Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable \" +\n      \"Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering \" +\n      \"Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder \" +\n      \"StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector \" +\n\n      /* package java.lang */\n      \"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable \" +\n      \"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process \" +\n      \"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String \" +\n      \"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void\"\n    ),\n    multiLineStrings: true,\n    blockKeywords: words(\"catch class enum do else finally for forSome if match switch try while\"),\n    defKeywords: words(\"class enum def object package trait type val var\"),\n    atoms: words(\"true false null\"),\n    indentStatements: false,\n    indentSwitch: false,\n    isOperatorChar: /[+\\-*&%=<>!?|\\/#:@]/,\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n        if (!stream.match('\"\"')) return false;\n        state.tokenize = tokenTripleString;\n        return state.tokenize(stream, state);\n      },\n      \"'\": function(stream) {\n        stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n        return \"atom\";\n      },\n      \"=\": function(stream, state) {\n        var cx = state.context\n        if (cx.type == \"}\" && cx.align && stream.eat(\">\")) {\n          state.context = new Context(cx.indented, cx.column, cx.type, cx.info, null, cx.prev)\n          return \"operator\"\n        } else {\n          return false\n        }\n      },\n\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false\n        state.tokenize = tokenNestedComment(1)\n        return state.tokenize(stream, state)\n      }\n    },\n    modeProps: {closeBrackets: {pairs: '()[]{}\"\"', triples: '\"'}}\n  });\n\n  function tokenKotlinString(tripleString){\n    return function (stream, state) {\n      var escaped = false, next, end = false;\n      while (!stream.eol()) {\n        if (!tripleString && !escaped && stream.match('\"') ) {end = true; break;}\n        if (tripleString && stream.match('\"\"\"')) {end = true; break;}\n        next = stream.next();\n        if(!escaped && next == \"$\" && stream.match('{'))\n          stream.skipTo(\"}\");\n        escaped = !escaped && next == \"\\\\\" && !tripleString;\n      }\n      if (end || !tripleString)\n        state.tokenize = null;\n      return \"string\";\n    }\n  }\n\n  def(\"text/x-kotlin\", {\n    name: \"clike\",\n    keywords: words(\n      /*keywords*/\n      \"package as typealias class interface this super val operator \" +\n      \"var fun for is in This throw return annotation \" +\n      \"break continue object if else while do try when !in !is as? \" +\n\n      /*soft keywords*/\n      \"file import where by get set abstract enum open inner override private public internal \" +\n      \"protected catch finally out final vararg reified dynamic companion constructor init \" +\n      \"sealed field property receiver param sparam lateinit data inline noinline tailrec \" +\n      \"external annotation crossinline const operator infix suspend actual expect setparam value\"\n    ),\n    types: words(\n      /* package java.lang */\n      \"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable \" +\n      \"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process \" +\n      \"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String \" +\n      \"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray \" +\n      \"ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy \" +\n      \"LazyThreadSafetyMode LongArray Nothing ShortArray Unit\"\n    ),\n    intendSwitch: false,\n    indentStatements: false,\n    multiLineStrings: true,\n    number: /^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+(\\.\\d+)?|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?/i,\n    blockKeywords: words(\"catch class do else finally for if where try while enum\"),\n    defKeywords: words(\"class val var object interface fun\"),\n    atoms: words(\"true false null this\"),\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '*': function(_stream, state) {\n        return state.prevToken == '.' ? 'variable' : 'operator';\n      },\n      '\"': function(stream, state) {\n        state.tokenize = tokenKotlinString(stream.match('\"\"'));\n        return state.tokenize(stream, state);\n      },\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenNestedComment(1);\n        return state.tokenize(stream, state)\n      },\n      indent: function(state, ctx, textAfter, indentUnit) {\n        var firstChar = textAfter && textAfter.charAt(0);\n        if ((state.prevToken == \"}\" || state.prevToken == \")\") && textAfter == \"\")\n          return state.indented;\n        if ((state.prevToken == \"operator\" && textAfter != \"}\" && state.context.type != \"}\") ||\n          state.prevToken == \"variable\" && firstChar == \".\" ||\n          (state.prevToken == \"}\" || state.prevToken == \")\") && firstChar == \".\")\n          return indentUnit * 2 + ctx.indented;\n        if (ctx.align && ctx.type == \"}\")\n          return ctx.indented + (state.context.type == (textAfter || \"\").charAt(0) ? 0 : indentUnit);\n      }\n    },\n    modeProps: {closeBrackets: {triples: '\"'}}\n  });\n\n  def([\"x-shader/x-vertex\", \"x-shader/x-fragment\"], {\n    name: \"clike\",\n    keywords: words(\"sampler1D sampler2D sampler3D samplerCube \" +\n                    \"sampler1DShadow sampler2DShadow \" +\n                    \"const attribute uniform varying \" +\n                    \"break continue discard return \" +\n                    \"for while do if else struct \" +\n                    \"in out inout\"),\n    types: words(\"float int bool void \" +\n                 \"vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 \" +\n                 \"mat2 mat3 mat4\"),\n    blockKeywords: words(\"for while do if else struct\"),\n    builtin: words(\"radians degrees sin cos tan asin acos atan \" +\n                    \"pow exp log exp2 sqrt inversesqrt \" +\n                    \"abs sign floor ceil fract mod min max clamp mix step smoothstep \" +\n                    \"length distance dot cross normalize ftransform faceforward \" +\n                    \"reflect refract matrixCompMult \" +\n                    \"lessThan lessThanEqual greaterThan greaterThanEqual \" +\n                    \"equal notEqual any all not \" +\n                    \"texture1D texture1DProj texture1DLod texture1DProjLod \" +\n                    \"texture2D texture2DProj texture2DLod texture2DProjLod \" +\n                    \"texture3D texture3DProj texture3DLod texture3DProjLod \" +\n                    \"textureCube textureCubeLod \" +\n                    \"shadow1D shadow2D shadow1DProj shadow2DProj \" +\n                    \"shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod \" +\n                    \"dFdx dFdy fwidth \" +\n                    \"noise1 noise2 noise3 noise4\"),\n    atoms: words(\"true false \" +\n                \"gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex \" +\n                \"gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 \" +\n                \"gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 \" +\n                \"gl_FogCoord gl_PointCoord \" +\n                \"gl_Position gl_PointSize gl_ClipVertex \" +\n                \"gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor \" +\n                \"gl_TexCoord gl_FogFragCoord \" +\n                \"gl_FragCoord gl_FrontFacing \" +\n                \"gl_FragData gl_FragDepth \" +\n                \"gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix \" +\n                \"gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse \" +\n                \"gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse \" +\n                \"gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose \" +\n                \"gl_ProjectionMatrixInverseTranspose \" +\n                \"gl_ModelViewProjectionMatrixInverseTranspose \" +\n                \"gl_TextureMatrixInverseTranspose \" +\n                \"gl_NormalScale gl_DepthRange gl_ClipPlane \" +\n                \"gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel \" +\n                \"gl_FrontLightModelProduct gl_BackLightModelProduct \" +\n                \"gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ \" +\n                \"gl_FogParameters \" +\n                \"gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords \" +\n                \"gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats \" +\n                \"gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits \" +\n                \"gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits \" +\n                \"gl_MaxDrawBuffers\"),\n    indentSwitch: false,\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-nesc\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \" as atomic async call command component components configuration event generic \" +\n                    \"implementation includes interface module new norace nx_struct nx_union post provides \" +\n                    \"signal task uses abstract extends\"),\n    types: cTypes,\n    blockKeywords: words(cBlockKeywords),\n    atoms: words(\"null true false\"),\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-objectivec\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \" \" + objCKeywords),\n    types: objCTypes,\n    builtin: words(objCBuiltins),\n    blockKeywords: words(cBlockKeywords + \" @synthesize @try @catch @finally @autoreleasepool @synchronized\"),\n    defKeywords: words(cDefKeywords + \" @interface @implementation @protocol @class\"),\n    dontIndentStatements: /^@.*$/,\n    typeFirstDefinitions: true,\n    atoms: words(\"YES NO NULL Nil nil true false nullptr\"),\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n    },\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-objectivec++\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \" \" + objCKeywords + \" \" + cppKeywords),\n    types: objCTypes,\n    builtin: words(objCBuiltins),\n    blockKeywords: words(cBlockKeywords + \" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch\"),\n    defKeywords: words(cDefKeywords + \" @interface @implementation @protocol @class class namespace\"),\n    dontIndentStatements: /^@.*$|^template$/,\n    typeFirstDefinitions: true,\n    atoms: words(\"YES NO NULL Nil nil true false nullptr\"),\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n      \"u\": cpp11StringHook,\n      \"U\": cpp11StringHook,\n      \"L\": cpp11StringHook,\n      \"R\": cpp11StringHook,\n      \"0\": cpp14Literal,\n      \"1\": cpp14Literal,\n      \"2\": cpp14Literal,\n      \"3\": cpp14Literal,\n      \"4\": cpp14Literal,\n      \"5\": cpp14Literal,\n      \"6\": cpp14Literal,\n      \"7\": cpp14Literal,\n      \"8\": cpp14Literal,\n      \"9\": cpp14Literal,\n      token: function(stream, state, style) {\n        if (style == \"variable\" && stream.peek() == \"(\" &&\n            (state.prevToken == \";\" || state.prevToken == null ||\n             state.prevToken == \"}\") &&\n            cppLooksLikeConstructor(stream.current()))\n          return \"def\";\n      }\n    },\n    namespaceSeparator: \"::\",\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-squirrel\", {\n    name: \"clike\",\n    keywords: words(\"base break clone continue const default delete enum extends function in class\" +\n                    \" foreach local resume return this throw typeof yield constructor instanceof static\"),\n    types: cTypes,\n    blockKeywords: words(\"case catch class else for foreach if switch try while\"),\n    defKeywords: words(\"function local class\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  // Ceylon Strings need to deal with interpolation\n  var stringTokenizer = null;\n  function tokenCeylonString(type) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while (!stream.eol()) {\n        if (!escaped && stream.match('\"') &&\n              (type == \"single\" || stream.match('\"\"'))) {\n          end = true;\n          break;\n        }\n        if (!escaped && stream.match('``')) {\n          stringTokenizer = tokenCeylonString(type);\n          end = true;\n          break;\n        }\n        next = stream.next();\n        escaped = type == \"single\" && !escaped && next == \"\\\\\";\n      }\n      if (end)\n          state.tokenize = null;\n      return \"string\";\n    }\n  }\n\n  def(\"text/x-ceylon\", {\n    name: \"clike\",\n    keywords: words(\"abstracts alias assembly assert assign break case catch class continue dynamic else\" +\n                    \" exists extends finally for function given if import in interface is let module new\" +\n                    \" nonempty object of out outer package return satisfies super switch then this throw\" +\n                    \" try value void while\"),\n    types: function(word) {\n        // In Ceylon all identifiers that start with an uppercase are types\n        var first = word.charAt(0);\n        return (first === first.toUpperCase() && first !== first.toLowerCase());\n    },\n    blockKeywords: words(\"case catch class dynamic else finally for function if interface module new object switch try while\"),\n    defKeywords: words(\"class dynamic function interface module object package value\"),\n    builtin: words(\"abstract actual aliased annotation by default deprecated doc final formal late license\" +\n                   \" native optional sealed see serializable shared suppressWarnings tagged throws variable\"),\n    isPunctuationChar: /[\\[\\]{}\\(\\),;\\:\\.`]/,\n    isOperatorChar: /[+\\-*&%=<>!?|^~:\\/]/,\n    numberStart: /[\\d#$]/,\n    number: /^(?:#[\\da-fA-F_]+|\\$[01_]+|[\\d_]+[kMGTPmunpf]?|[\\d_]+\\.[\\d_]+(?:[eE][-+]?\\d+|[kMGTPmunpf]|)|)/i,\n    multiLineStrings: true,\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null larger smaller equal empty finished\"),\n    indentSwitch: false,\n    styleDefs: false,\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n          state.tokenize = tokenCeylonString(stream.match('\"\"') ? \"triple\" : \"single\");\n          return state.tokenize(stream, state);\n        },\n      '`': function(stream, state) {\n          if (!stringTokenizer || !stream.match('`')) return false;\n          state.tokenize = stringTokenizer;\n          stringTokenizer = null;\n          return state.tokenize(stream, state);\n        },\n      \"'\": function(stream) {\n        stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n        return \"atom\";\n      },\n      token: function(_stream, state, style) {\n          if ((style == \"variable\" || style == \"type\") &&\n              state.prevToken == \".\") {\n            return \"variable-2\";\n          }\n        }\n    },\n    modeProps: {\n        fold: [\"brace\", \"import\"],\n        closeBrackets: {triples: '\"'}\n    }\n  });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"javascript\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n  var statementIndent = parserConfig.statementIndent;\n  var jsonldMode = parserConfig.jsonld;\n  var jsonMode = parserConfig.json || jsonldMode;\n  var trackScope = parserConfig.trackScope !== false\n  var isTS = parserConfig.typescript;\n  var wordRE = parserConfig.wordCharacters || /[\\w$\\xa1-\\uffff]/;\n\n  // Tokenizer\n\n  var keywords = function(){\n    function kw(type) {return {type: type, style: \"keyword\"};}\n    var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\"), D = kw(\"keyword d\");\n    var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\n\n    return {\n      \"if\": kw(\"if\"), \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\n      \"return\": D, \"break\": D, \"continue\": D, \"new\": kw(\"new\"), \"delete\": C, \"void\": C, \"throw\": C,\n      \"debugger\": kw(\"debugger\"), \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\n      \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\n      \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\n      \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\n      \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom,\n      \"this\": kw(\"this\"), \"class\": kw(\"class\"), \"super\": kw(\"atom\"),\n      \"yield\": C, \"export\": kw(\"export\"), \"import\": kw(\"import\"), \"extends\": C,\n      \"await\": C\n    };\n  }();\n\n  var isOperatorChar = /[+\\-*&%=<>!?|~^@]/;\n  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;\n\n  function readRegexp(stream) {\n    var escaped = false, next, inSet = false;\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (next == \"/\" && !inSet) return;\n        if (next == \"[\") inSet = true;\n        else if (inSet && next == \"]\") inSet = false;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n  }\n\n  // Used as scratch variables to communicate multiple values without\n  // consing up tons of objects.\n  var type, content;\n  function ret(tp, style, cont) {\n    type = tp; content = cont;\n    return style;\n  }\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\" && stream.match(/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?/)) {\n      return ret(\"number\", \"number\");\n    } else if (ch == \".\" && stream.match(\"..\")) {\n      return ret(\"spread\", \"meta\");\n    } else if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n      return ret(ch);\n    } else if (ch == \"=\" && stream.eat(\">\")) {\n      return ret(\"=>\", \"operator\");\n    } else if (ch == \"0\" && stream.match(/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/)) {\n      return ret(\"number\", \"number\");\n    } else if (/\\d/.test(ch)) {\n      stream.match(/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?/);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      } else if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return ret(\"comment\", \"comment\");\n      } else if (expressionAllowed(stream, state, 1)) {\n        readRegexp(stream);\n        stream.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/);\n        return ret(\"regexp\", \"string-2\");\n      } else {\n        stream.eat(\"=\");\n        return ret(\"operator\", \"operator\", stream.current());\n      }\n    } else if (ch == \"`\") {\n      state.tokenize = tokenQuasi;\n      return tokenQuasi(stream, state);\n    } else if (ch == \"#\" && stream.peek() == \"!\") {\n      stream.skipToEnd();\n      return ret(\"meta\", \"meta\");\n    } else if (ch == \"#\" && stream.eatWhile(wordRE)) {\n      return ret(\"variable\", \"property\")\n    } else if (ch == \"<\" && stream.match(\"!--\") ||\n               (ch == \"-\" && stream.match(\"->\") && !/\\S/.test(stream.string.slice(0, stream.start)))) {\n      stream.skipToEnd()\n      return ret(\"comment\", \"comment\")\n    } else if (isOperatorChar.test(ch)) {\n      if (ch != \">\" || !state.lexical || state.lexical.type != \">\") {\n        if (stream.eat(\"=\")) {\n          if (ch == \"!\" || ch == \"=\") stream.eat(\"=\")\n        } else if (/[<>*+\\-|&?]/.test(ch)) {\n          stream.eat(ch)\n          if (ch == \">\") stream.eat(ch)\n        }\n      }\n      if (ch == \"?\" && stream.eat(\".\")) return ret(\".\")\n      return ret(\"operator\", \"operator\", stream.current());\n    } else if (wordRE.test(ch)) {\n      stream.eatWhile(wordRE);\n      var word = stream.current()\n      if (state.lastType != \".\") {\n        if (keywords.propertyIsEnumerable(word)) {\n          var kw = keywords[word]\n          return ret(kw.type, kw.style, word)\n        }\n        if (word == \"async\" && stream.match(/^(\\s|\\/\\*([^*]|\\*(?!\\/))*?\\*\\/)*[\\[\\(\\w]/, false))\n          return ret(\"async\", \"keyword\", word)\n      }\n      return ret(\"variable\", \"variable\", word)\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next;\n      if (jsonldMode && stream.peek() == \"@\" && stream.match(isJsonldKeyword)){\n        state.tokenize = tokenBase;\n        return ret(\"jsonld-keyword\", \"meta\");\n      }\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) break;\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (!escaped) state.tokenize = tokenBase;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return ret(\"comment\", \"comment\");\n  }\n\n  function tokenQuasi(stream, state) {\n    var escaped = false, next;\n    while ((next = stream.next()) != null) {\n      if (!escaped && (next == \"`\" || next == \"$\" && stream.eat(\"{\"))) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return ret(\"quasi\", \"string-2\", stream.current());\n  }\n\n  var brackets = \"([{}])\";\n  // This is a crude lookahead trick to try and notice that we're\n  // parsing the argument patterns for a fat-arrow function before we\n  // actually hit the arrow token. It only works if the arrow is on\n  // the same line as the arguments and there's no strange noise\n  // (comments) in between. Fallback is to only notice when we hit the\n  // arrow, and not declare the arguments as locals for the arrow\n  // body.\n  function findFatArrow(stream, state) {\n    if (state.fatArrowAt) state.fatArrowAt = null;\n    var arrow = stream.string.indexOf(\"=>\", stream.start);\n    if (arrow < 0) return;\n\n    if (isTS) { // Try to skip TypeScript return type declarations after the arguments\n      var m = /:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(stream.string.slice(stream.start, arrow))\n      if (m) arrow = m.index\n    }\n\n    var depth = 0, sawSomething = false;\n    for (var pos = arrow - 1; pos >= 0; --pos) {\n      var ch = stream.string.charAt(pos);\n      var bracket = brackets.indexOf(ch);\n      if (bracket >= 0 && bracket < 3) {\n        if (!depth) { ++pos; break; }\n        if (--depth == 0) { if (ch == \"(\") sawSomething = true; break; }\n      } else if (bracket >= 3 && bracket < 6) {\n        ++depth;\n      } else if (wordRE.test(ch)) {\n        sawSomething = true;\n      } else if (/[\"'\\/`]/.test(ch)) {\n        for (;; --pos) {\n          if (pos == 0) return\n          var next = stream.string.charAt(pos - 1)\n          if (next == ch && stream.string.charAt(pos - 2) != \"\\\\\") { pos--; break }\n        }\n      } else if (sawSomething && !depth) {\n        ++pos;\n        break;\n      }\n    }\n    if (sawSomething && !depth) state.fatArrowAt = pos;\n  }\n\n  // Parser\n\n  var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true,\n                     \"regexp\": true, \"this\": true, \"import\": true, \"jsonld-keyword\": true};\n\n  function JSLexical(indented, column, type, align, prev, info) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.prev = prev;\n    this.info = info;\n    if (align != null) this.align = align;\n  }\n\n  function inScope(state, varname) {\n    if (!trackScope) return false\n    for (var v = state.localVars; v; v = v.next)\n      if (v.name == varname) return true;\n    for (var cx = state.context; cx; cx = cx.prev) {\n      for (var v = cx.vars; v; v = v.next)\n        if (v.name == varname) return true;\n    }\n  }\n\n  function parseJS(state, style, type, content, stream) {\n    var cc = state.cc;\n    // Communicate our context to the combinators.\n    // (Less wasteful than consing up a hundred closures on every call.)\n    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;\n\n    if (!state.lexical.hasOwnProperty(\"align\"))\n      state.lexical.align = true;\n\n    while(true) {\n      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\n      if (combinator(type, content)) {\n        while(cc.length && cc[cc.length - 1].lex)\n          cc.pop()();\n        if (cx.marked) return cx.marked;\n        if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\n        return style;\n      }\n    }\n  }\n\n  // Combinator utils\n\n  var cx = {state: null, column: null, marked: null, cc: null};\n  function pass() {\n    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\n  }\n  function cont() {\n    pass.apply(null, arguments);\n    return true;\n  }\n  function inList(name, list) {\n    for (var v = list; v; v = v.next) if (v.name == name) return true\n    return false;\n  }\n  function register(varname) {\n    var state = cx.state;\n    cx.marked = \"def\";\n    if (!trackScope) return\n    if (state.context) {\n      if (state.lexical.info == \"var\" && state.context && state.context.block) {\n        // FIXME function decls are also not block scoped\n        var newContext = registerVarScoped(varname, state.context)\n        if (newContext != null) {\n          state.context = newContext\n          return\n        }\n      } else if (!inList(varname, state.localVars)) {\n        state.localVars = new Var(varname, state.localVars)\n        return\n      }\n    }\n    // Fall through means this is global\n    if (parserConfig.globalVars && !inList(varname, state.globalVars))\n      state.globalVars = new Var(varname, state.globalVars)\n  }\n  function registerVarScoped(varname, context) {\n    if (!context) {\n      return null\n    } else if (context.block) {\n      var inner = registerVarScoped(varname, context.prev)\n      if (!inner) return null\n      if (inner == context.prev) return context\n      return new Context(inner, context.vars, true)\n    } else if (inList(varname, context.vars)) {\n      return context\n    } else {\n      return new Context(context.prev, new Var(varname, context.vars), false)\n    }\n  }\n\n  function isModifier(name) {\n    return name == \"public\" || name == \"private\" || name == \"protected\" || name == \"abstract\" || name == \"readonly\"\n  }\n\n  // Combinators\n\n  function Context(prev, vars, block) { this.prev = prev; this.vars = vars; this.block = block }\n  function Var(name, next) { this.name = name; this.next = next }\n\n  var defaultVars = new Var(\"this\", new Var(\"arguments\", null))\n  function pushcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, false)\n    cx.state.localVars = defaultVars\n  }\n  function pushblockcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, true)\n    cx.state.localVars = null\n  }\n  function popcontext() {\n    cx.state.localVars = cx.state.context.vars\n    cx.state.context = cx.state.context.prev\n  }\n  popcontext.lex = true\n  function pushlex(type, info) {\n    var result = function() {\n      var state = cx.state, indent = state.indented;\n      if (state.lexical.type == \"stat\") indent = state.lexical.indented;\n      else for (var outer = state.lexical; outer && outer.type == \")\" && outer.align; outer = outer.prev)\n        indent = outer.indented;\n      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);\n    };\n    result.lex = true;\n    return result;\n  }\n  function poplex() {\n    var state = cx.state;\n    if (state.lexical.prev) {\n      if (state.lexical.type == \")\")\n        state.indented = state.lexical.indented;\n      state.lexical = state.lexical.prev;\n    }\n  }\n  poplex.lex = true;\n\n  function expect(wanted) {\n    function exp(type) {\n      if (type == wanted) return cont();\n      else if (wanted == \";\" || type == \"}\" || type == \")\" || type == \"]\") return pass();\n      else return cont(exp);\n    };\n    return exp;\n  }\n\n  function statement(type, value) {\n    if (type == \"var\") return cont(pushlex(\"vardef\", value), vardef, expect(\";\"), poplex);\n    if (type == \"keyword a\") return cont(pushlex(\"form\"), parenExpr, statement, poplex);\n    if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\n    if (type == \"keyword d\") return cx.stream.match(/^\\s*$/, false) ? cont() : cont(pushlex(\"stat\"), maybeexpression, expect(\";\"), poplex);\n    if (type == \"debugger\") return cont(expect(\";\"));\n    if (type == \"{\") return cont(pushlex(\"}\"), pushblockcontext, block, poplex, popcontext);\n    if (type == \";\") return cont();\n    if (type == \"if\") {\n      if (cx.state.lexical.info == \"else\" && cx.state.cc[cx.state.cc.length - 1] == poplex)\n        cx.state.cc.pop()();\n      return cont(pushlex(\"form\"), parenExpr, statement, poplex, maybeelse);\n    }\n    if (type == \"function\") return cont(functiondef);\n    if (type == \"for\") return cont(pushlex(\"form\"), pushblockcontext, forspec, statement, popcontext, poplex);\n    if (type == \"class\" || (isTS && value == \"interface\")) {\n      cx.marked = \"keyword\"\n      return cont(pushlex(\"form\", type == \"class\" ? type : value), className, poplex)\n    }\n    if (type == \"variable\") {\n      if (isTS && value == \"declare\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else if (isTS && (value == \"module\" || value == \"enum\" || value == \"type\") && cx.stream.match(/^\\s*\\w/, false)) {\n        cx.marked = \"keyword\"\n        if (value == \"enum\") return cont(enumdef);\n        else if (value == \"type\") return cont(typename, expect(\"operator\"), typeexpr, expect(\";\"));\n        else return cont(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), block, poplex, poplex)\n      } else if (isTS && value == \"namespace\") {\n        cx.marked = \"keyword\"\n        return cont(pushlex(\"form\"), expression, statement, poplex)\n      } else if (isTS && value == \"abstract\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else {\n        return cont(pushlex(\"stat\"), maybelabel);\n      }\n    }\n    if (type == \"switch\") return cont(pushlex(\"form\"), parenExpr, expect(\"{\"), pushlex(\"}\", \"switch\"), pushblockcontext,\n                                      block, poplex, poplex, popcontext);\n    if (type == \"case\") return cont(expression, expect(\":\"));\n    if (type == \"default\") return cont(expect(\":\"));\n    if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, maybeCatchBinding, statement, poplex, popcontext);\n    if (type == \"export\") return cont(pushlex(\"stat\"), afterExport, poplex);\n    if (type == \"import\") return cont(pushlex(\"stat\"), afterImport, poplex);\n    if (type == \"async\") return cont(statement)\n    if (value == \"@\") return cont(expression, statement)\n    return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\n  }\n  function maybeCatchBinding(type) {\n    if (type == \"(\") return cont(funarg, expect(\")\"))\n  }\n  function expression(type, value) {\n    return expressionInner(type, value, false);\n  }\n  function expressionNoComma(type, value) {\n    return expressionInner(type, value, true);\n  }\n  function parenExpr(type) {\n    if (type != \"(\") return pass()\n    return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex)\n  }\n  function expressionInner(type, value, noComma) {\n    if (cx.state.fatArrowAt == cx.stream.start) {\n      var body = noComma ? arrowBodyNoComma : arrowBody;\n      if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, expect(\"=>\"), body, popcontext);\n      else if (type == \"variable\") return pass(pushcontext, pattern, expect(\"=>\"), body, popcontext);\n    }\n\n    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;\n    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);\n    if (type == \"function\") return cont(functiondef, maybeop);\n    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), classExpression, poplex); }\n    if (type == \"keyword c\" || type == \"async\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"(\") return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex, maybeop);\n    if (type == \"operator\" || type == \"spread\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"[\") return cont(pushlex(\"]\"), arrayLiteral, poplex, maybeop);\n    if (type == \"{\") return contCommasep(objprop, \"}\", null, maybeop);\n    if (type == \"quasi\") return pass(quasi, maybeop);\n    if (type == \"new\") return cont(maybeTarget(noComma));\n    return cont();\n  }\n  function maybeexpression(type) {\n    if (type.match(/[;\\}\\)\\],]/)) return pass();\n    return pass(expression);\n  }\n\n  function maybeoperatorComma(type, value) {\n    if (type == \",\") return cont(maybeexpression);\n    return maybeoperatorNoComma(type, value, false);\n  }\n  function maybeoperatorNoComma(type, value, noComma) {\n    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;\n    var expr = noComma == false ? expression : expressionNoComma;\n    if (type == \"=>\") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);\n    if (type == \"operator\") {\n      if (/\\+\\+|--/.test(value) || isTS && value == \"!\") return cont(me);\n      if (isTS && value == \"<\" && cx.stream.match(/^([^<>]|<[^<>]*>)*>\\s*\\(/, false))\n        return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, me);\n      if (value == \"?\") return cont(expression, expect(\":\"), expr);\n      return cont(expr);\n    }\n    if (type == \"quasi\") { return pass(quasi, me); }\n    if (type == \";\") return;\n    if (type == \"(\") return contCommasep(expressionNoComma, \")\", \"call\", me);\n    if (type == \".\") return cont(property, me);\n    if (type == \"[\") return cont(pushlex(\"]\"), maybeexpression, expect(\"]\"), poplex, me);\n    if (isTS && value == \"as\") { cx.marked = \"keyword\"; return cont(typeexpr, me) }\n    if (type == \"regexp\") {\n      cx.state.lastType = cx.marked = \"operator\"\n      cx.stream.backUp(cx.stream.pos - cx.stream.start - 1)\n      return cont(expr)\n    }\n  }\n  function quasi(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasi);\n    return cont(expression, continueQuasi);\n  }\n  function continueQuasi(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasi);\n    }\n  }\n  function arrowBody(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expression);\n  }\n  function arrowBodyNoComma(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expressionNoComma);\n  }\n  function maybeTarget(noComma) {\n    return function(type) {\n      if (type == \".\") return cont(noComma ? targetNoComma : target);\n      else if (type == \"variable\" && isTS) return cont(maybeTypeArgs, noComma ? maybeoperatorNoComma : maybeoperatorComma)\n      else return pass(noComma ? expressionNoComma : expression);\n    };\n  }\n  function target(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorComma); }\n  }\n  function targetNoComma(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorNoComma); }\n  }\n  function maybelabel(type) {\n    if (type == \":\") return cont(poplex, statement);\n    return pass(maybeoperatorComma, expect(\";\"), poplex);\n  }\n  function property(type) {\n    if (type == \"variable\") {cx.marked = \"property\"; return cont();}\n  }\n  function objprop(type, value) {\n    if (type == \"async\") {\n      cx.marked = \"property\";\n      return cont(objprop);\n    } else if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      if (value == \"get\" || value == \"set\") return cont(getterSetter);\n      var m // Work around fat-arrow-detection complication for detecting typescript typed arrow params\n      if (isTS && cx.state.fatArrowAt == cx.stream.start && (m = cx.stream.match(/^\\s*:\\s*/, false)))\n        cx.state.fatArrowAt = cx.stream.pos + m[0].length\n      return cont(afterprop);\n    } else if (type == \"number\" || type == \"string\") {\n      cx.marked = jsonldMode ? \"property\" : (cx.style + \" property\");\n      return cont(afterprop);\n    } else if (type == \"jsonld-keyword\") {\n      return cont(afterprop);\n    } else if (isTS && isModifier(value)) {\n      cx.marked = \"keyword\"\n      return cont(objprop)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), afterprop);\n    } else if (type == \"spread\") {\n      return cont(expressionNoComma, afterprop);\n    } else if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(objprop);\n    } else if (type == \":\") {\n      return pass(afterprop)\n    }\n  }\n  function getterSetter(type) {\n    if (type != \"variable\") return pass(afterprop);\n    cx.marked = \"property\";\n    return cont(functiondef);\n  }\n  function afterprop(type) {\n    if (type == \":\") return cont(expressionNoComma);\n    if (type == \"(\") return pass(functiondef);\n  }\n  function commasep(what, end, sep) {\n    function proceed(type, value) {\n      if (sep ? sep.indexOf(type) > -1 : type == \",\") {\n        var lex = cx.state.lexical;\n        if (lex.info == \"call\") lex.pos = (lex.pos || 0) + 1;\n        return cont(function(type, value) {\n          if (type == end || value == end) return pass()\n          return pass(what)\n        }, proceed);\n      }\n      if (type == end || value == end) return cont();\n      if (sep && sep.indexOf(\";\") > -1) return pass(what)\n      return cont(expect(end));\n    }\n    return function(type, value) {\n      if (type == end || value == end) return cont();\n      return pass(what, proceed);\n    };\n  }\n  function contCommasep(what, end, info) {\n    for (var i = 3; i < arguments.length; i++)\n      cx.cc.push(arguments[i]);\n    return cont(pushlex(end, info), commasep(what, end), poplex);\n  }\n  function block(type) {\n    if (type == \"}\") return cont();\n    return pass(statement, block);\n  }\n  function maybetype(type, value) {\n    if (isTS) {\n      if (type == \":\") return cont(typeexpr);\n      if (value == \"?\") return cont(maybetype);\n    }\n  }\n  function maybetypeOrIn(type, value) {\n    if (isTS && (type == \":\" || value == \"in\")) return cont(typeexpr)\n  }\n  function mayberettype(type) {\n    if (isTS && type == \":\") {\n      if (cx.stream.match(/^\\s*\\w+\\s+is\\b/, false)) return cont(expression, isKW, typeexpr)\n      else return cont(typeexpr)\n    }\n  }\n  function isKW(_, value) {\n    if (value == \"is\") {\n      cx.marked = \"keyword\"\n      return cont()\n    }\n  }\n  function typeexpr(type, value) {\n    if (value == \"keyof\" || value == \"typeof\" || value == \"infer\" || value == \"readonly\") {\n      cx.marked = \"keyword\"\n      return cont(value == \"typeof\" ? expressionNoComma : typeexpr)\n    }\n    if (type == \"variable\" || value == \"void\") {\n      cx.marked = \"type\"\n      return cont(afterType)\n    }\n    if (value == \"|\" || value == \"&\") return cont(typeexpr)\n    if (type == \"string\" || type == \"number\" || type == \"atom\") return cont(afterType);\n    if (type == \"[\") return cont(pushlex(\"]\"), commasep(typeexpr, \"]\", \",\"), poplex, afterType)\n    if (type == \"{\") return cont(pushlex(\"}\"), typeprops, poplex, afterType)\n    if (type == \"(\") return cont(commasep(typearg, \")\"), maybeReturnType, afterType)\n    if (type == \"<\") return cont(commasep(typeexpr, \">\"), typeexpr)\n    if (type == \"quasi\") { return pass(quasiType, afterType); }\n  }\n  function maybeReturnType(type) {\n    if (type == \"=>\") return cont(typeexpr)\n  }\n  function typeprops(type) {\n    if (type.match(/[\\}\\)\\]]/)) return cont()\n    if (type == \",\" || type == \";\") return cont(typeprops)\n    return pass(typeprop, typeprops)\n  }\n  function typeprop(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\"\n      return cont(typeprop)\n    } else if (value == \"?\" || type == \"number\" || type == \"string\") {\n      return cont(typeprop)\n    } else if (type == \":\") {\n      return cont(typeexpr)\n    } else if (type == \"[\") {\n      return cont(expect(\"variable\"), maybetypeOrIn, expect(\"]\"), typeprop)\n    } else if (type == \"(\") {\n      return pass(functiondecl, typeprop)\n    } else if (!type.match(/[;\\}\\)\\],]/)) {\n      return cont()\n    }\n  }\n  function quasiType(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasiType);\n    return cont(typeexpr, continueQuasiType);\n  }\n  function continueQuasiType(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasiType);\n    }\n  }\n  function typearg(type, value) {\n    if (type == \"variable\" && cx.stream.match(/^\\s*[?:]/, false) || value == \"?\") return cont(typearg)\n    if (type == \":\") return cont(typeexpr)\n    if (type == \"spread\") return cont(typearg)\n    return pass(typeexpr)\n  }\n  function afterType(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n    if (value == \"|\" || type == \".\" || value == \"&\") return cont(typeexpr)\n    if (type == \"[\") return cont(typeexpr, expect(\"]\"), afterType)\n    if (value == \"extends\" || value == \"implements\") { cx.marked = \"keyword\"; return cont(typeexpr) }\n    if (value == \"?\") return cont(typeexpr, expect(\":\"), typeexpr)\n  }\n  function maybeTypeArgs(_, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n  }\n  function typeparam() {\n    return pass(typeexpr, maybeTypeDefault)\n  }\n  function maybeTypeDefault(_, value) {\n    if (value == \"=\") return cont(typeexpr)\n  }\n  function vardef(_, value) {\n    if (value == \"enum\") {cx.marked = \"keyword\"; return cont(enumdef)}\n    return pass(pattern, maybetype, maybeAssign, vardefCont);\n  }\n  function pattern(type, value) {\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(pattern) }\n    if (type == \"variable\") { register(value); return cont(); }\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"[\") return contCommasep(eltpattern, \"]\");\n    if (type == \"{\") return contCommasep(proppattern, \"}\");\n  }\n  function proppattern(type, value) {\n    if (type == \"variable\" && !cx.stream.match(/^\\s*:/, false)) {\n      register(value);\n      return cont(maybeAssign);\n    }\n    if (type == \"variable\") cx.marked = \"property\";\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"}\") return pass();\n    if (type == \"[\") return cont(expression, expect(']'), expect(':'), proppattern);\n    return cont(expect(\":\"), pattern, maybeAssign);\n  }\n  function eltpattern() {\n    return pass(pattern, maybeAssign)\n  }\n  function maybeAssign(_type, value) {\n    if (value == \"=\") return cont(expressionNoComma);\n  }\n  function vardefCont(type) {\n    if (type == \",\") return cont(vardef);\n  }\n  function maybeelse(type, value) {\n    if (type == \"keyword b\" && value == \"else\") return cont(pushlex(\"form\", \"else\"), statement, poplex);\n  }\n  function forspec(type, value) {\n    if (value == \"await\") return cont(forspec);\n    if (type == \"(\") return cont(pushlex(\")\"), forspec1, poplex);\n  }\n  function forspec1(type) {\n    if (type == \"var\") return cont(vardef, forspec2);\n    if (type == \"variable\") return cont(forspec2);\n    return pass(forspec2)\n  }\n  function forspec2(type, value) {\n    if (type == \")\") return cont()\n    if (type == \";\") return cont(forspec2)\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression, forspec2) }\n    return pass(expression, forspec2)\n  }\n  function functiondef(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondef);}\n    if (type == \"variable\") {register(value); return cont(functiondef);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, statement, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondef)\n  }\n  function functiondecl(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondecl);}\n    if (type == \"variable\") {register(value); return cont(functiondecl);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondecl)\n  }\n  function typename(type, value) {\n    if (type == \"keyword\" || type == \"variable\") {\n      cx.marked = \"type\"\n      return cont(typename)\n    } else if (value == \"<\") {\n      return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex)\n    }\n  }\n  function funarg(type, value) {\n    if (value == \"@\") cont(expression, funarg)\n    if (type == \"spread\") return cont(funarg);\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(funarg); }\n    if (isTS && type == \"this\") return cont(maybetype, maybeAssign)\n    return pass(pattern, maybetype, maybeAssign);\n  }\n  function classExpression(type, value) {\n    // Class expressions may have an optional name.\n    if (type == \"variable\") return className(type, value);\n    return classNameAfter(type, value);\n  }\n  function className(type, value) {\n    if (type == \"variable\") {register(value); return cont(classNameAfter);}\n  }\n  function classNameAfter(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, classNameAfter)\n    if (value == \"extends\" || value == \"implements\" || (isTS && type == \",\")) {\n      if (value == \"implements\") cx.marked = \"keyword\";\n      return cont(isTS ? typeexpr : expression, classNameAfter);\n    }\n    if (type == \"{\") return cont(pushlex(\"}\"), classBody, poplex);\n  }\n  function classBody(type, value) {\n    if (type == \"async\" ||\n        (type == \"variable\" &&\n         (value == \"static\" || value == \"get\" || value == \"set\" || (isTS && isModifier(value))) &&\n         cx.stream.match(/^\\s+[\\w$\\xa1-\\uffff]/, false))) {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      return cont(classfield, classBody);\n    }\n    if (type == \"number\" || type == \"string\") return cont(classfield, classBody);\n    if (type == \"[\")\n      return cont(expression, maybetype, expect(\"]\"), classfield, classBody)\n    if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (isTS && type == \"(\") return pass(functiondecl, classBody)\n    if (type == \";\" || type == \",\") return cont(classBody);\n    if (type == \"}\") return cont();\n    if (value == \"@\") return cont(expression, classBody)\n  }\n  function classfield(type, value) {\n    if (value == \"!\") return cont(classfield)\n    if (value == \"?\") return cont(classfield)\n    if (type == \":\") return cont(typeexpr, maybeAssign)\n    if (value == \"=\") return cont(expressionNoComma)\n    var context = cx.state.lexical.prev, isInterface = context && context.info == \"interface\"\n    return pass(isInterface ? functiondecl : functiondef)\n  }\n  function afterExport(type, value) {\n    if (value == \"*\") { cx.marked = \"keyword\"; return cont(maybeFrom, expect(\";\")); }\n    if (value == \"default\") { cx.marked = \"keyword\"; return cont(expression, expect(\";\")); }\n    if (type == \"{\") return cont(commasep(exportField, \"}\"), maybeFrom, expect(\";\"));\n    return pass(statement);\n  }\n  function exportField(type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(expect(\"variable\")); }\n    if (type == \"variable\") return pass(expressionNoComma, exportField);\n  }\n  function afterImport(type) {\n    if (type == \"string\") return cont();\n    if (type == \"(\") return pass(expression);\n    if (type == \".\") return pass(maybeoperatorComma);\n    return pass(importSpec, maybeMoreImports, maybeFrom);\n  }\n  function importSpec(type, value) {\n    if (type == \"{\") return contCommasep(importSpec, \"}\");\n    if (type == \"variable\") register(value);\n    if (value == \"*\") cx.marked = \"keyword\";\n    return cont(maybeAs);\n  }\n  function maybeMoreImports(type) {\n    if (type == \",\") return cont(importSpec, maybeMoreImports)\n  }\n  function maybeAs(_type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(importSpec); }\n  }\n  function maybeFrom(_type, value) {\n    if (value == \"from\") { cx.marked = \"keyword\"; return cont(expression); }\n  }\n  function arrayLiteral(type) {\n    if (type == \"]\") return cont();\n    return pass(commasep(expressionNoComma, \"]\"));\n  }\n  function enumdef() {\n    return pass(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), commasep(enummember, \"}\"), poplex, poplex)\n  }\n  function enummember() {\n    return pass(pattern, maybeAssign);\n  }\n\n  function isContinuedStatement(state, textAfter) {\n    return state.lastType == \"operator\" || state.lastType == \",\" ||\n      isOperatorChar.test(textAfter.charAt(0)) ||\n      /[,.]/.test(textAfter.charAt(0));\n  }\n\n  function expressionAllowed(stream, state, backUp) {\n    return state.tokenize == tokenBase &&\n      /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(state.lastType) ||\n      (state.lastType == \"quasi\" && /\\{\\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0))))\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      var state = {\n        tokenize: tokenBase,\n        lastType: \"sof\",\n        cc: [],\n        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\n        localVars: parserConfig.localVars,\n        context: parserConfig.localVars && new Context(null, null, false),\n        indented: basecolumn || 0\n      };\n      if (parserConfig.globalVars && typeof parserConfig.globalVars == \"object\")\n        state.globalVars = parserConfig.globalVars;\n      return state;\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (!state.lexical.hasOwnProperty(\"align\"))\n          state.lexical.align = false;\n        state.indented = stream.indentation();\n        findFatArrow(stream, state);\n      }\n      if (state.tokenize != tokenComment && stream.eatSpace()) return null;\n      var style = state.tokenize(stream, state);\n      if (type == \"comment\") return style;\n      state.lastType = type == \"operator\" && (content == \"++\" || content == \"--\") ? \"incdec\" : type;\n      return parseJS(state, style, type, content, stream);\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize == tokenComment || state.tokenize == tokenQuasi) return CodeMirror.Pass;\n      if (state.tokenize != tokenBase) return 0;\n      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical, top\n      // Kludge to prevent 'maybelse' from blocking lexical scope pops\n      if (!/^\\s*else\\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {\n        var c = state.cc[i];\n        if (c == poplex) lexical = lexical.prev;\n        else if (c != maybeelse && c != popcontext) break;\n      }\n      while ((lexical.type == \"stat\" || lexical.type == \"form\") &&\n             (firstChar == \"}\" || ((top = state.cc[state.cc.length - 1]) &&\n                                   (top == maybeoperatorComma || top == maybeoperatorNoComma) &&\n                                   !/^[,\\.=+\\-*:?[\\(]/.test(textAfter))))\n        lexical = lexical.prev;\n      if (statementIndent && lexical.type == \")\" && lexical.prev.type == \"stat\")\n        lexical = lexical.prev;\n      var type = lexical.type, closing = firstChar == type;\n\n      if (type == \"vardef\") return lexical.indented + (state.lastType == \"operator\" || state.lastType == \",\" ? lexical.info.length + 1 : 0);\n      else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\n      else if (type == \"form\") return lexical.indented + indentUnit;\n      else if (type == \"stat\")\n        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);\n      else if (lexical.info == \"switch\" && !closing && parserConfig.doubleIndentSwitch != false)\n        return lexical.indented + (/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 2 * indentUnit);\n      else if (lexical.align) return lexical.column + (closing ? 0 : 1);\n      else return lexical.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricInput: /^\\s*(?:case .*?:|default:|\\{|\\})$/,\n    blockCommentStart: jsonMode ? null : \"/*\",\n    blockCommentEnd: jsonMode ? null : \"*/\",\n    blockCommentContinue: jsonMode ? null : \" * \",\n    lineComment: jsonMode ? null : \"//\",\n    fold: \"brace\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n\n    helperType: jsonMode ? \"json\" : \"javascript\",\n    jsonldMode: jsonldMode,\n    jsonMode: jsonMode,\n\n    expressionAllowed: expressionAllowed,\n\n    skipExpression: function(state) {\n      parseJS(state, \"atom\", \"atom\", \"true\", new CodeMirror.StringStream(\"\", 2, null))\n    }\n  };\n});\n\nCodeMirror.registerHelper(\"wordChars\", \"javascript\", /[\\w$]/);\n\nCodeMirror.defineMIME(\"text/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"text/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/x-javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/json\", { name: \"javascript\", json: true });\nCodeMirror.defineMIME(\"application/x-json\", { name: \"javascript\", json: true });\nCodeMirror.defineMIME(\"application/manifest+json\", { name: \"javascript\", json: true })\nCodeMirror.defineMIME(\"application/ld+json\", { name: \"javascript\", jsonld: true });\nCodeMirror.defineMIME(\"text/typescript\", { name: \"javascript\", typescript: true });\nCodeMirror.defineMIME(\"application/typescript\", { name: \"javascript\", typescript: true });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function doFold(cm, pos, options, force) {\n    if (options && options.call) {\n      var finder = options;\n      options = null;\n    } else {\n      var finder = getOption(cm, options, \"rangeFinder\");\n    }\n    if (typeof pos == \"number\") pos = CodeMirror.Pos(pos, 0);\n    var minSize = getOption(cm, options, \"minFoldSize\");\n\n    function getRange(allowFolded) {\n      var range = finder(cm, pos);\n      if (!range || range.to.line - range.from.line < minSize) return null;\n      var marks = cm.findMarksAt(range.from);\n      for (var i = 0; i < marks.length; ++i) {\n        if (marks[i].__isFold && force !== \"fold\") {\n          if (!allowFolded) return null;\n          range.cleared = true;\n          marks[i].clear();\n        }\n      }\n      return range;\n    }\n\n    var range = getRange(true);\n    if (getOption(cm, options, \"scanUp\")) while (!range && pos.line > cm.firstLine()) {\n      pos = CodeMirror.Pos(pos.line - 1, 0);\n      range = getRange(false);\n    }\n    if (!range || range.cleared || force === \"unfold\") return;\n\n    var myWidget = makeWidget(cm, options, range);\n    CodeMirror.on(myWidget, \"mousedown\", function(e) {\n      myRange.clear();\n      CodeMirror.e_preventDefault(e);\n    });\n    var myRange = cm.markText(range.from, range.to, {\n      replacedWith: myWidget,\n      clearOnEnter: getOption(cm, options, \"clearOnEnter\"),\n      __isFold: true\n    });\n    myRange.on(\"clear\", function(from, to) {\n      CodeMirror.signal(cm, \"unfold\", cm, from, to);\n    });\n    CodeMirror.signal(cm, \"fold\", cm, range.from, range.to);\n  }\n\n  function makeWidget(cm, options, range) {\n    var widget = getOption(cm, options, \"widget\");\n\n    if (typeof widget == \"function\") {\n      widget = widget(range.from, range.to);\n    }\n\n    if (typeof widget == \"string\") {\n      var text = document.createTextNode(widget);\n      widget = document.createElement(\"span\");\n      widget.appendChild(text);\n      widget.className = \"CodeMirror-foldmarker\";\n    } else if (widget) {\n      widget = widget.cloneNode(true)\n    }\n    return widget;\n  }\n\n  // Clumsy backwards-compatible interface\n  CodeMirror.newFoldFunction = function(rangeFinder, widget) {\n    return function(cm, pos) { doFold(cm, pos, {rangeFinder: rangeFinder, widget: widget}); };\n  };\n\n  // New-style interface\n  CodeMirror.defineExtension(\"foldCode\", function(pos, options, force) {\n    doFold(this, pos, options, force);\n  });\n\n  CodeMirror.defineExtension(\"isFolded\", function(pos) {\n    var marks = this.findMarksAt(pos);\n    for (var i = 0; i < marks.length; ++i)\n      if (marks[i].__isFold) return true;\n  });\n\n  CodeMirror.commands.toggleFold = function(cm) {\n    cm.foldCode(cm.getCursor());\n  };\n  CodeMirror.commands.fold = function(cm) {\n    cm.foldCode(cm.getCursor(), null, \"fold\");\n  };\n  CodeMirror.commands.unfold = function(cm) {\n    cm.foldCode(cm.getCursor(), null, \"unfold\");\n  };\n  CodeMirror.commands.foldAll = function(cm) {\n    cm.operation(function() {\n      for (var i = cm.firstLine(), e = cm.lastLine(); i <= e; i++)\n        cm.foldCode(CodeMirror.Pos(i, 0), null, \"fold\");\n    });\n  };\n  CodeMirror.commands.unfoldAll = function(cm) {\n    cm.operation(function() {\n      for (var i = cm.firstLine(), e = cm.lastLine(); i <= e; i++)\n        cm.foldCode(CodeMirror.Pos(i, 0), null, \"unfold\");\n    });\n  };\n\n  CodeMirror.registerHelper(\"fold\", \"combine\", function() {\n    var funcs = Array.prototype.slice.call(arguments, 0);\n    return function(cm, start) {\n      for (var i = 0; i < funcs.length; ++i) {\n        var found = funcs[i](cm, start);\n        if (found) return found;\n      }\n    };\n  });\n\n  CodeMirror.registerHelper(\"fold\", \"auto\", function(cm, start) {\n    var helpers = cm.getHelpers(start, \"fold\");\n    for (var i = 0; i < helpers.length; i++) {\n      var cur = helpers[i](cm, start);\n      if (cur) return cur;\n    }\n  });\n\n  var defaultOptions = {\n    rangeFinder: CodeMirror.fold.auto,\n    widget: \"\\u2194\",\n    minFoldSize: 0,\n    scanUp: false,\n    clearOnEnter: true\n  };\n\n  CodeMirror.defineOption(\"foldOptions\", null);\n\n  function getOption(cm, options, name) {\n    if (options && options[name] !== undefined)\n      return options[name];\n    var editorOptions = cm.options.foldOptions;\n    if (editorOptions && editorOptions[name] !== undefined)\n      return editorOptions[name];\n    return defaultOptions[name];\n  }\n\n  CodeMirror.defineExtension(\"foldOption\", function(options, name) {\n    return getOption(this, options, name);\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"))\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod)\n  else // Plain browser env\n    mod(CodeMirror)\n})(function(CodeMirror) {\n  \"use strict\"\n  var Pos = CodeMirror.Pos\n\n  function regexpFlags(regexp) {\n    var flags = regexp.flags\n    return flags != null ? flags : (regexp.ignoreCase ? \"i\" : \"\")\n      + (regexp.global ? \"g\" : \"\")\n      + (regexp.multiline ? \"m\" : \"\")\n  }\n\n  function ensureFlags(regexp, flags) {\n    var current = regexpFlags(regexp), target = current\n    for (var i = 0; i < flags.length; i++) if (target.indexOf(flags.charAt(i)) == -1)\n      target += flags.charAt(i)\n    return current == target ? regexp : new RegExp(regexp.source, target)\n  }\n\n  function maybeMultiline(regexp) {\n    return /\\\\s|\\\\n|\\n|\\\\W|\\\\D|\\[\\^/.test(regexp.source)\n  }\n\n  function searchRegexpForward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, last = doc.lastLine(); line <= last; line++, ch = 0) {\n      regexp.lastIndex = ch\n      var string = doc.getLine(line), match = regexp.exec(string)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpForwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpForward(doc, regexp, start)\n\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunk = 1\n    for (var line = start.line, last = doc.lastLine(); line <= last;) {\n      // This grows the search buffer in exponentially-sized chunks\n      // between matches, so that nearby matches are fast and don't\n      // require concatenating the whole document (in case we're\n      // searching for something that has tons of matches), but at the\n      // same time, the amount of retries is limited.\n      for (var i = 0; i < chunk; i++) {\n        if (line > last) break\n        var curLine = doc.getLine(line++)\n        string = string == null ? curLine : string + \"\\n\" + curLine\n      }\n      chunk = chunk * 2\n      regexp.lastIndex = start.ch\n      var match = regexp.exec(string)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = start.line + before.length - 1, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  function lastMatchIn(string, regexp, endMargin) {\n    var match, from = 0\n    while (from <= string.length) {\n      regexp.lastIndex = from\n      var newMatch = regexp.exec(string)\n      if (!newMatch) break\n      var end = newMatch.index + newMatch[0].length\n      if (end > string.length - endMargin) break\n      if (!match || end > match.index + match[0].length)\n        match = newMatch\n      from = newMatch.index + 1\n    }\n    return match\n  }\n\n  function searchRegexpBackward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, first = doc.firstLine(); line >= first; line--, ch = -1) {\n      var string = doc.getLine(line)\n      var match = lastMatchIn(string, regexp, ch < 0 ? 0 : string.length - ch)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpBackwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpBackward(doc, regexp, start)\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunkSize = 1, endMargin = doc.getLine(start.line).length - start.ch\n    for (var line = start.line, first = doc.firstLine(); line >= first;) {\n      for (var i = 0; i < chunkSize && line >= first; i++) {\n        var curLine = doc.getLine(line--)\n        string = string == null ? curLine : curLine + \"\\n\" + string\n      }\n      chunkSize *= 2\n\n      var match = lastMatchIn(string, regexp, endMargin)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = line + before.length, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  var doFold, noFold\n  if (String.prototype.normalize) {\n    doFold = function(str) { return str.normalize(\"NFD\").toLowerCase() }\n    noFold = function(str) { return str.normalize(\"NFD\") }\n  } else {\n    doFold = function(str) { return str.toLowerCase() }\n    noFold = function(str) { return str }\n  }\n\n  // Maps a position in a case-folded line back to a position in the original line\n  // (compensating for codepoints increasing in number during folding)\n  function adjustPos(orig, folded, pos, foldFunc) {\n    if (orig.length == folded.length) return pos\n    for (var min = 0, max = pos + Math.max(0, orig.length - folded.length);;) {\n      if (min == max) return min\n      var mid = (min + max) >> 1\n      var len = foldFunc(orig.slice(0, mid)).length\n      if (len == pos) return mid\n      else if (len > pos) max = mid\n      else min = mid + 1\n    }\n  }\n\n  function searchStringForward(doc, query, start, caseFold) {\n    // Empty string would match anything and never progress, so we\n    // define it to match nothing instead.\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, last = doc.lastLine() + 1 - lines.length; line <= last; line++, ch = 0) {\n      var orig = doc.getLine(line).slice(ch), string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.indexOf(lines[0])\n        if (found == -1) continue search\n        var start = adjustPos(orig, string, found, fold) + ch\n        return {from: Pos(line, adjustPos(orig, string, found, fold) + ch),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold) + ch)}\n      } else {\n        var cutFrom = string.length - lines[0].length\n        if (string.slice(cutFrom) != lines[0]) continue search\n        for (var i = 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(line + i)) != lines[i]) continue search\n        var end = doc.getLine(line + lines.length - 1), endString = fold(end), lastLine = lines[lines.length - 1]\n        if (endString.slice(0, lastLine.length) != lastLine) continue search\n        return {from: Pos(line, adjustPos(orig, string, cutFrom, fold) + ch),\n                to: Pos(line + lines.length - 1, adjustPos(end, endString, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function searchStringBackward(doc, query, start, caseFold) {\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, first = doc.firstLine() - 1 + lines.length; line >= first; line--, ch = -1) {\n      var orig = doc.getLine(line)\n      if (ch > -1) orig = orig.slice(0, ch)\n      var string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.lastIndexOf(lines[0])\n        if (found == -1) continue search\n        return {from: Pos(line, adjustPos(orig, string, found, fold)),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold))}\n      } else {\n        var lastLine = lines[lines.length - 1]\n        if (string.slice(0, lastLine.length) != lastLine) continue search\n        for (var i = 1, start = line - lines.length + 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(start + i)) != lines[i]) continue search\n        var top = doc.getLine(line + 1 - lines.length), topString = fold(top)\n        if (topString.slice(topString.length - lines[0].length) != lines[0]) continue search\n        return {from: Pos(line + 1 - lines.length, adjustPos(top, topString, top.length - lines[0].length, fold)),\n                to: Pos(line, adjustPos(orig, string, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function SearchCursor(doc, query, pos, options) {\n    this.atOccurrence = false\n    this.doc = doc\n    pos = pos ? doc.clipPos(pos) : Pos(0, 0)\n    this.pos = {from: pos, to: pos}\n\n    var caseFold\n    if (typeof options == \"object\") {\n      caseFold = options.caseFold\n    } else { // Backwards compat for when caseFold was the 4th argument\n      caseFold = options\n      options = null\n    }\n\n    if (typeof query == \"string\") {\n      if (caseFold == null) caseFold = false\n      this.matches = function(reverse, pos) {\n        return (reverse ? searchStringBackward : searchStringForward)(doc, query, pos, caseFold)\n      }\n    } else {\n      query = ensureFlags(query, \"gm\")\n      if (!options || options.multiline !== false)\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackwardMultiline : searchRegexpForwardMultiline)(doc, query, pos)\n        }\n      else\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackward : searchRegexpForward)(doc, query, pos)\n        }\n    }\n  }\n\n  SearchCursor.prototype = {\n    findNext: function() {return this.find(false)},\n    findPrevious: function() {return this.find(true)},\n\n    find: function(reverse) {\n      var result = this.matches(reverse, this.doc.clipPos(reverse ? this.pos.from : this.pos.to))\n\n      // Implements weird auto-growing behavior on null-matches for\n      // backwards-compatibility with the vim code (unfortunately)\n      while (result && CodeMirror.cmpPos(result.from, result.to) == 0) {\n        if (reverse) {\n          if (result.from.ch) result.from = Pos(result.from.line, result.from.ch - 1)\n          else if (result.from.line == this.doc.firstLine()) result = null\n          else result = this.matches(reverse, this.doc.clipPos(Pos(result.from.line - 1)))\n        } else {\n          if (result.to.ch < this.doc.getLine(result.to.line).length) result.to = Pos(result.to.line, result.to.ch + 1)\n          else if (result.to.line == this.doc.lastLine()) result = null\n          else result = this.matches(reverse, Pos(result.to.line + 1, 0))\n        }\n      }\n\n      if (result) {\n        this.pos = result\n        this.atOccurrence = true\n        return this.pos.match || true\n      } else {\n        var end = Pos(reverse ? this.doc.firstLine() : this.doc.lastLine() + 1, 0)\n        this.pos = {from: end, to: end}\n        return this.atOccurrence = false\n      }\n    },\n\n    from: function() {if (this.atOccurrence) return this.pos.from},\n    to: function() {if (this.atOccurrence) return this.pos.to},\n\n    replace: function(newText, origin) {\n      if (!this.atOccurrence) return\n      var lines = CodeMirror.splitLines(newText)\n      this.doc.replaceRange(lines, this.pos.from, this.pos.to, origin)\n      this.pos.to = Pos(this.pos.from.line + lines.length - 1,\n                        lines[lines.length - 1].length + (lines.length == 1 ? this.pos.from.ch : 0))\n    }\n  }\n\n  CodeMirror.defineExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this.doc, query, pos, caseFold)\n  })\n  CodeMirror.defineDocExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this, query, pos, caseFold)\n  })\n\n  CodeMirror.defineExtension(\"selectMatches\", function(query, caseFold) {\n    var ranges = []\n    var cur = this.getSearchCursor(query, this.getCursor(\"from\"), caseFold)\n    while (cur.findNext()) {\n      if (CodeMirror.cmpPos(cur.to(), this.getCursor(\"to\")) > 0) break\n      ranges.push({anchor: cur.from(), head: cur.to()})\n    }\n    if (ranges.length)\n      this.setSelections(ranges, 0)\n  })\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var ie_lt8 = /MSIE \\d/.test(navigator.userAgent) &&\n    (document.documentMode == null || document.documentMode < 8);\n\n  var Pos = CodeMirror.Pos;\n\n  var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\", \"<\": \">>\", \">\": \"<<\"};\n\n  function bracketRegex(config) {\n    return config && config.bracketRegex || /[(){}[\\]]/\n  }\n\n  function findMatchingBracket(cm, where, config) {\n    var line = cm.getLineHandle(where.line), pos = where.ch - 1;\n    var afterCursor = config && config.afterCursor\n    if (afterCursor == null)\n      afterCursor = /(^| )cm-fat-cursor($| )/.test(cm.getWrapperElement().className)\n    var re = bracketRegex(config)\n\n    // A cursor is defined as between two characters, but in in vim command mode\n    // (i.e. not insert mode), the cursor is visually represented as a\n    // highlighted box on top of the 2nd character. Otherwise, we allow matches\n    // from before or after the cursor.\n    var match = (!afterCursor && pos >= 0 && re.test(line.text.charAt(pos)) && matching[line.text.charAt(pos)]) ||\n        re.test(line.text.charAt(pos + 1)) && matching[line.text.charAt(++pos)];\n    if (!match) return null;\n    var dir = match.charAt(1) == \">\" ? 1 : -1;\n    if (config && config.strict && (dir > 0) != (pos == where.ch)) return null;\n    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));\n\n    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style, config);\n    if (found == null) return null;\n    return {from: Pos(where.line, pos), to: found && found.pos,\n            match: found && found.ch == match.charAt(0), forward: dir > 0};\n  }\n\n  // bracketRegex is used to specify which type of bracket to scan\n  // should be a regexp, e.g. /[[\\]]/\n  //\n  // Note: If \"where\" is on an open bracket, then this bracket is ignored.\n  //\n  // Returns false when no bracket was found, null when it reached\n  // maxScanLines and gave up\n  function scanForBracket(cm, where, dir, style, config) {\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\n    var maxScanLines = (config && config.maxScanLines) || 1000;\n\n    var stack = [];\n    var re = bracketRegex(config)\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\n                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\n      var line = cm.getLine(lineNo);\n      if (!line) continue;\n      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\n      if (line.length > maxScanLen) continue;\n      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);\n      for (; pos != end; pos += dir) {\n        var ch = line.charAt(pos);\n        if (re.test(ch) && (style === undefined ||\n                            (cm.getTokenTypeAt(Pos(lineNo, pos + 1)) || \"\") == (style || \"\"))) {\n          var match = matching[ch];\n          if (match && (match.charAt(1) == \">\") == (dir > 0)) stack.push(ch);\n          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};\n          else stack.pop();\n        }\n      }\n    }\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\n  }\n\n  function matchBrackets(cm, autoclear, config) {\n    // Disable brace matching in long lines, since it'll cause hugely slow updates\n    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000,\n      highlightNonMatching = config && config.highlightNonMatching;\n    var marks = [], ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, config);\n      if (match && (match.match || highlightNonMatching !== false) && cm.getLine(match.from.line).length <= maxHighlightLen) {\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\n        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));\n        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)\n          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));\n      }\n    }\n\n    if (marks.length) {\n      // Kludge to work around the IE bug from issue #1193, where text\n      // input stops going to the textarea whenever this fires.\n      if (ie_lt8 && cm.state.focused) cm.focus();\n\n      var clear = function() {\n        cm.operation(function() {\n          for (var i = 0; i < marks.length; i++) marks[i].clear();\n        });\n      };\n      if (autoclear) setTimeout(clear, 800);\n      else return clear;\n    }\n  }\n\n  function doMatchBrackets(cm) {\n    cm.operation(function() {\n      if (cm.state.matchBrackets.currentlyHighlighted) {\n        cm.state.matchBrackets.currentlyHighlighted();\n        cm.state.matchBrackets.currentlyHighlighted = null;\n      }\n      cm.state.matchBrackets.currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);\n    });\n  }\n\n  function clearHighlighted(cm) {\n    if (cm.state.matchBrackets && cm.state.matchBrackets.currentlyHighlighted) {\n      cm.state.matchBrackets.currentlyHighlighted();\n      cm.state.matchBrackets.currentlyHighlighted = null;\n    }\n  }\n\n  CodeMirror.defineOption(\"matchBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchBrackets);\n      cm.off(\"focus\", doMatchBrackets)\n      cm.off(\"blur\", clearHighlighted)\n      clearHighlighted(cm);\n    }\n    if (val) {\n      cm.state.matchBrackets = typeof val == \"object\" ? val : {};\n      cm.on(\"cursorActivity\", doMatchBrackets);\n      cm.on(\"focus\", doMatchBrackets)\n      cm.on(\"blur\", clearHighlighted)\n    }\n  });\n\n  CodeMirror.defineExtension(\"matchBrackets\", function() {matchBrackets(this, true);});\n  CodeMirror.defineExtension(\"findMatchingBracket\", function(pos, config, oldConfig){\n    // Backwards-compatibility kludge\n    if (oldConfig || typeof config == \"boolean\") {\n      if (!oldConfig) {\n        config = config ? {strict: true} : null\n      } else {\n        oldConfig.strict = config\n        config = oldConfig\n      }\n    }\n    return findMatchingBracket(this, pos, config)\n  });\n  CodeMirror.defineExtension(\"scanForBracket\", function(pos, dir, style, config){\n    return scanForBracket(this, pos, dir, style, config);\n  });\n});\n","import HTMLReactParser from './index.js';\n\nexport var domToReact = HTMLReactParser.domToReact;\nexport var htmlToDOM = HTMLReactParser.htmlToDOM;\nexport var attributesToProps = HTMLReactParser.attributesToProps;\n\nexport default HTMLReactParser;\n","var reactProperty = require('react-property');\nvar utilities = require('./utilities');\n\nvar setStyleProp = utilities.setStyleProp;\n\nvar htmlProperties = reactProperty.html;\nvar svgProperties = reactProperty.svg;\nvar isCustomAttribute = reactProperty.isCustomAttribute;\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Converts HTML/SVG DOM attributes to React props.\n *\n * @param  {object} [attributes={}] - HTML/SVG DOM attributes.\n * @return {object}                 - React props.\n */\nfunction attributesToProps(attributes) {\n  attributes = attributes || {};\n\n  var attributeName;\n  var attributeNameLowerCased;\n  var attributeValue;\n  var property;\n  var props = {};\n\n  for (attributeName in attributes) {\n    attributeValue = attributes[attributeName];\n\n    // ARIA (aria-*) or custom data (data-*) attribute\n    if (isCustomAttribute(attributeName)) {\n      props[attributeName] = attributeValue;\n      continue;\n    }\n\n    // convert HTML attribute to React prop\n    attributeNameLowerCased = attributeName.toLowerCase();\n    if (hasOwnProperty.call(htmlProperties, attributeNameLowerCased)) {\n      property = htmlProperties[attributeNameLowerCased];\n      props[property.propertyName] =\n        property.hasBooleanValue ||\n        (property.hasOverloadedBooleanValue && !attributeValue)\n          ? true\n          : attributeValue;\n      continue;\n    }\n\n    // convert SVG attribute to React prop\n    if (hasOwnProperty.call(svgProperties, attributeName)) {\n      property = svgProperties[attributeName];\n      props[property.propertyName] = attributeValue;\n      continue;\n    }\n\n    // preserve custom attribute if React >=16\n    if (utilities.PRESERVE_CUSTOM_ATTRIBUTES) {\n      props[attributeName] = attributeValue;\n    }\n  }\n\n  // transform inline style to object\n  setStyleProp(attributes.style, props);\n\n  return props;\n}\n\nmodule.exports = attributesToProps;\n","var React = require('react');\nvar styleToJS = require('style-to-js').default;\n\n/**\n * Swap key with value in an object.\n *\n * @param  {Object}   obj        - The object.\n * @param  {Function} [override] - The override method.\n * @return {Object}              - The inverted object.\n */\nfunction invertObject(obj, override) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('First argument must be an object');\n  }\n\n  var key;\n  var value;\n  var isOverridePresent = typeof override === 'function';\n  var overrides = {};\n  var result = {};\n\n  for (key in obj) {\n    value = obj[key];\n\n    if (isOverridePresent) {\n      overrides = override(key, value);\n      if (overrides && overrides.length === 2) {\n        result[overrides[0]] = overrides[1];\n        continue;\n      }\n    }\n\n    if (typeof value === 'string') {\n      result[value] = key;\n    }\n  }\n\n  return result;\n}\n\n/**\n * Check if a given tag is a custom component.\n *\n * @see {@link https://github.com/facebook/react/blob/v16.6.3/packages/react-dom/src/shared/isCustomComponent.js}\n *\n * @param {string} tagName - The name of the html tag.\n * @param {Object} props   - The props being passed to the element.\n * @return {boolean}\n */\nfunction isCustomComponent(tagName, props) {\n  if (tagName.indexOf('-') === -1) {\n    return props && typeof props.is === 'string';\n  }\n\n  switch (tagName) {\n    // These are reserved SVG and MathML elements.\n    // We don't mind this whitelist too much because we expect it to never grow.\n    // The alternative is to track the namespace in a few places which is convoluted.\n    // https://w3c.github.io/webcomponents/spec/custom/#custom-elements-core-concepts\n    case 'annotation-xml':\n    case 'color-profile':\n    case 'font-face':\n    case 'font-face-src':\n    case 'font-face-uri':\n    case 'font-face-format':\n    case 'font-face-name':\n    case 'missing-glyph':\n      return false;\n    default:\n      return true;\n  }\n}\n\nvar styleToJSOptions = { reactCompat: true };\n\n/**\n * Sets style prop.\n *\n * @param {null|undefined|string} style\n * @param {object} props\n */\nfunction setStyleProp(style, props) {\n  if (style === null || style === undefined) {\n    return;\n  }\n  props.style = styleToJS(style, styleToJSOptions);\n}\n\n/**\n * @constant {boolean}\n * @see {@link https://reactjs.org/blog/2017/09/08/dom-attributes-in-react-16.html}\n */\nvar PRESERVE_CUSTOM_ATTRIBUTES = React.version.split('.')[0] >= 16;\n\nmodule.exports = {\n  PRESERVE_CUSTOM_ATTRIBUTES: PRESERVE_CUSTOM_ATTRIBUTES,\n  invertObject: invertObject,\n  isCustomComponent: isCustomComponent,\n  setStyleProp: setStyleProp\n};\n","var constants = require('./constants');\nvar domhandler = require('domhandler/lib/node');\n\nvar CASE_SENSITIVE_TAG_NAMES = constants.CASE_SENSITIVE_TAG_NAMES;\n\nvar Comment = domhandler.Comment;\nvar Element = domhandler.Element;\nvar ProcessingInstruction = domhandler.ProcessingInstruction;\nvar Text = domhandler.Text;\n\nvar caseSensitiveTagNamesMap = {};\nvar tagName;\n\nfor (var i = 0, len = CASE_SENSITIVE_TAG_NAMES.length; i < len; i++) {\n  tagName = CASE_SENSITIVE_TAG_NAMES[i];\n  caseSensitiveTagNamesMap[tagName.toLowerCase()] = tagName;\n}\n\n/**\n * Gets case-sensitive tag name.\n *\n * @param  {string}           tagName - Tag name in lowercase.\n * @return {string|undefined}         - Case-sensitive tag name.\n */\nfunction getCaseSensitiveTagName(tagName) {\n  return caseSensitiveTagNamesMap[tagName];\n}\n\n/**\n * Formats DOM attributes to a hash map.\n *\n * @param  {NamedNodeMap} attributes - List of attributes.\n * @return {object}                  - Map of attribute name to value.\n */\nfunction formatAttributes(attributes) {\n  var result = {};\n  var attribute;\n  // `NamedNodeMap` is array-like\n  for (var i = 0, len = attributes.length; i < len; i++) {\n    attribute = attributes[i];\n    result[attribute.name] = attribute.value;\n  }\n  return result;\n}\n\n/**\n * Corrects the tag name if it is case-sensitive (SVG).\n * Otherwise, returns the lowercase tag name (HTML).\n *\n * @param  {string} tagName - Lowercase tag name.\n * @return {string}         - Formatted tag name.\n */\nfunction formatTagName(tagName) {\n  tagName = tagName.toLowerCase();\n  var caseSensitiveTagName = getCaseSensitiveTagName(tagName);\n  if (caseSensitiveTagName) {\n    return caseSensitiveTagName;\n  }\n  return tagName;\n}\n\n/**\n * Transforms DOM nodes to `domhandler` nodes.\n *\n * @param  {NodeList}     nodes         - DOM nodes.\n * @param  {Element|null} [parent=null] - Parent node.\n * @param  {string}       [directive]   - Directive.\n * @return {Array<Comment|Element|ProcessingInstruction|Text>}\n */\nfunction formatDOM(nodes, parent, directive) {\n  parent = parent || null;\n  var result = [];\n\n  for (var index = 0, len = nodes.length; index < len; index++) {\n    var node = nodes[index];\n    var current;\n\n    // set the node data given the type\n    switch (node.nodeType) {\n      case 1:\n        // script, style, or tag\n        current = new Element(\n          formatTagName(node.nodeName),\n          formatAttributes(node.attributes)\n        );\n        current.children = formatDOM(node.childNodes, current);\n        break;\n\n      case 3:\n        current = new Text(node.nodeValue);\n        break;\n\n      case 8:\n        current = new Comment(node.nodeValue);\n        break;\n\n      default:\n        continue;\n    }\n\n    // set previous node next\n    var prev = result[index - 1] || null;\n    if (prev) {\n      prev.next = current;\n    }\n\n    // set properties for current node\n    current.parent = parent;\n    current.prev = prev;\n    current.next = null;\n\n    result.push(current);\n  }\n\n  if (directive) {\n    current = new ProcessingInstruction(\n      directive.substring(0, directive.indexOf(' ')).toLowerCase(),\n      directive\n    );\n    current.next = result[0] || null;\n    current.parent = parent;\n    result.unshift(current);\n\n    if (result[1]) {\n      result[1].prev = result[0];\n    }\n  }\n\n  return result;\n}\n\n/**\n * Detects if browser is Internet Explorer.\n *\n * @return {boolean} - Whether IE is detected.\n */\nfunction isIE() {\n  return /(MSIE |Trident\\/|Edge\\/)/.test(navigator.userAgent);\n}\n\nmodule.exports = {\n  formatAttributes: formatAttributes,\n  formatDOM: formatDOM,\n  isIE: isIE\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.4 20.4l17.45-7.48c.81-.35.81-1.49 0-1.84L3.4 3.6c-.66-.29-1.39.2-1.39.91L2 9.12c0 .5.37.93.87.99L17 12 2.87 13.88c-.5.07-.87.5-.87 1l.01 4.61c0 .71.73 1.2 1.39.91z\"\n}), 'SendRounded');\n\nexports.default = _default;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","if (!Array.prototype.includes) {\n  Object.defineProperty(Array.prototype, 'includes', {\n    value: function (valueToFind, fromIndex) {\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      } // 1. Let O be ? ToObject(this value).\n\n\n      var o = Object(this); // 2. Let len be ? ToLength(? Get(O, \"length\")).\n\n      var len = o.length >>> 0; // 3. If len is 0, return false.\n\n      if (len === 0) {\n        return false;\n      } // 4. Let n be ? ToInteger(fromIndex).\n      //    (If fromIndex is undefined, this step produces the value 0.)\n\n\n      var n = fromIndex | 0; // 5. If n  0, then\n      //  a. Let k be n.\n      // 6. Else n < 0,\n      //  a. Let k be len + n.\n      //  b. If k < 0, let k be 0.\n\n      var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\n      function sameValueZero(x, y) {\n        return x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n      } // 7. Repeat, while k < len\n\n\n      while (k < len) {\n        // a. Let elementK be the result of ? Get(O, ! ToString(k)).\n        // b. If SameValueZero(valueToFind, elementK) is true, return true.\n        if (sameValueZero(o[k], valueToFind)) {\n          return true;\n        } // c. Increase k by 1. \n\n\n        k++;\n      } // 8. Return false\n\n\n      return false;\n    }\n  });\n}\n\nif (!Math.sign) {\n  Math.sign = function (x) {\n    return (x > 0) - (x < 0) || +x;\n  };\n}","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _styles = require(\"@material-ui/styles\");\n\nvar _defaultTheme = _interopRequireDefault(require(\"./defaultTheme\"));\n\nfunction withStyles(stylesOrCreator, options) {\n  return (0, _styles.withStyles)(stylesOrCreator, (0, _extends2.default)({\n    defaultTheme: _defaultTheme.default\n  }, options));\n}\n\nvar _default = withStyles;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createMuiTheme = _interopRequireDefault(require(\"./createMuiTheme\"));\n\nvar defaultTheme = (0, _createMuiTheme.default)();\nvar _default = defaultTheme;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _utils = require(\"@material-ui/utils\");\n\nvar _createBreakpoints = _interopRequireDefault(require(\"./createBreakpoints\"));\n\nvar _createMixins = _interopRequireDefault(require(\"./createMixins\"));\n\nvar _createPalette = _interopRequireDefault(require(\"./createPalette\"));\n\nvar _createTypography = _interopRequireDefault(require(\"./createTypography\"));\n\nvar _shadows = _interopRequireDefault(require(\"./shadows\"));\n\nvar _shape = _interopRequireDefault(require(\"./shape\"));\n\nvar _createSpacing = _interopRequireDefault(require(\"./createSpacing\"));\n\nvar _transitions = _interopRequireDefault(require(\"./transitions\"));\n\nvar _zIndex = _interopRequireDefault(require(\"./zIndex\"));\n\nfunction createMuiTheme() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$breakpoints = options.breakpoints,\n      breakpointsInput = _options$breakpoints === void 0 ? {} : _options$breakpoints,\n      _options$mixins = options.mixins,\n      mixinsInput = _options$mixins === void 0 ? {} : _options$mixins,\n      _options$palette = options.palette,\n      paletteInput = _options$palette === void 0 ? {} : _options$palette,\n      spacingInput = options.spacing,\n      _options$typography = options.typography,\n      typographyInput = _options$typography === void 0 ? {} : _options$typography,\n      other = (0, _objectWithoutProperties2.default)(options, [\"breakpoints\", \"mixins\", \"palette\", \"spacing\", \"typography\"]);\n  var palette = (0, _createPalette.default)(paletteInput);\n  var breakpoints = (0, _createBreakpoints.default)(breakpointsInput);\n  var spacing = (0, _createSpacing.default)(spacingInput);\n  var muiTheme = (0, _utils.deepmerge)({\n    breakpoints: breakpoints,\n    direction: 'ltr',\n    mixins: (0, _createMixins.default)(breakpoints, spacing, mixinsInput),\n    overrides: {},\n    // Inject custom styles\n    palette: palette,\n    props: {},\n    // Provide default props\n    shadows: _shadows.default,\n    typography: (0, _createTypography.default)(palette, typographyInput),\n    spacing: spacing,\n    shape: _shape.default,\n    transitions: _transitions.default,\n    zIndex: _zIndex.default\n  }, other);\n\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  muiTheme = args.reduce(function (acc, argument) {\n    return (0, _utils.deepmerge)(acc, argument);\n  }, muiTheme);\n\n  if (process.env.NODE_ENV !== 'production') {\n    var pseudoClasses = ['checked', 'disabled', 'error', 'focused', 'focusVisible', 'required', 'expanded', 'selected'];\n\n    var traverse = function traverse(node, parentKey) {\n      var depth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      var key; // eslint-disable-next-line guard-for-in, no-restricted-syntax\n\n      for (key in node) {\n        var child = node[key];\n\n        if (depth === 1) {\n          if (key.indexOf('Mui') === 0 && child) {\n            traverse(child, key, depth + 1);\n          }\n        } else if (pseudoClasses.indexOf(key) !== -1 && Object.keys(child).length > 0) {\n          if (process.env.NODE_ENV !== 'production') {\n            console.error([\"Material-UI: The `\".concat(parentKey, \"` component increases \") + \"the CSS specificity of the `\".concat(key, \"` internal state.\"), 'You can not override it like this: ', JSON.stringify(node, null, 2), '', 'Instead, you need to use the $ruleName syntax:', JSON.stringify({\n              root: (0, _defineProperty2.default)({}, \"&$\".concat(key), child)\n            }, null, 2), '', 'https://material-ui.com/r/pseudo-classes-guide'].join('\\n'));\n          } // Remove the style to prevent global conflicts.\n\n\n          node[key] = {};\n        }\n      }\n    };\n\n    traverse(muiTheme.overrides);\n  }\n\n  return muiTheme;\n}\n\nvar _default = createMuiTheme;\nexports.default = _default;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createBreakpoints;\nexports.keys = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\n// Sorted ASC by size. That's important.\n// It can't be configured as it's used statically for propTypes.\nvar keys = ['xs', 'sm', 'md', 'lg', 'xl']; // Keep in mind that @media is inclusive by the CSS specification.\n\nexports.keys = keys;\n\nfunction createBreakpoints(breakpoints) {\n  var _breakpoints$values = breakpoints.values,\n      values = _breakpoints$values === void 0 ? {\n    xs: 0,\n    sm: 600,\n    md: 960,\n    lg: 1280,\n    xl: 1920\n  } : _breakpoints$values,\n      _breakpoints$unit = breakpoints.unit,\n      unit = _breakpoints$unit === void 0 ? 'px' : _breakpoints$unit,\n      _breakpoints$step = breakpoints.step,\n      step = _breakpoints$step === void 0 ? 5 : _breakpoints$step,\n      other = (0, _objectWithoutProperties2.default)(breakpoints, [\"values\", \"unit\", \"step\"]);\n\n  function up(key) {\n    var value = typeof values[key] === 'number' ? values[key] : key;\n    return \"@media (min-width:\".concat(value).concat(unit, \")\");\n  }\n\n  function down(key) {\n    var endIndex = keys.indexOf(key) + 1;\n    var upperbound = values[keys[endIndex]];\n\n    if (endIndex === keys.length) {\n      // xl down applies to all sizes\n      return up('xs');\n    }\n\n    var value = typeof upperbound === 'number' && endIndex > 0 ? upperbound : key;\n    return \"@media (max-width:\".concat(value - step / 100).concat(unit, \")\");\n  }\n\n  function between(start, end) {\n    var endIndex = keys.indexOf(end);\n\n    if (endIndex === keys.length - 1) {\n      return up(start);\n    }\n\n    return \"@media (min-width:\".concat(typeof values[start] === 'number' ? values[start] : start).concat(unit, \") and \") + \"(max-width:\".concat((endIndex !== -1 && typeof values[keys[endIndex + 1]] === 'number' ? values[keys[endIndex + 1]] : end) - step / 100).concat(unit, \")\");\n  }\n\n  function only(key) {\n    return between(key, key);\n  }\n\n  function width(key) {\n    return values[key];\n  }\n\n  return (0, _extends2.default)({\n    keys: keys,\n    values: values,\n    up: up,\n    down: down,\n    between: between,\n    only: only,\n    width: width\n  }, other);\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createMixins;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends3 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nfunction createMixins(breakpoints, spacing, mixins) {\n  var _toolbar;\n\n  return (0, _extends3.default)({\n    gutters: function gutters() {\n      var styles = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      // To deprecate in v4.1\n      //       warning(\n      //         false,\n      //         [\n      //           'Material-UI: Theme.mixins.gutters() is deprecated.',\n      //           'You can use the source of the mixin directly:',\n      //           `\n      // paddingLeft: theme.spacing(2),\n      // paddingRight: theme.spacing(2),\n      // [theme.breakpoints.up('sm')]: {\n      //   paddingLeft: theme.spacing(3),\n      //   paddingRight: theme.spacing(3),\n      // },\n      // `,\n      //         ].join('\\n'),\n      //       );\n      return (0, _extends3.default)({\n        paddingLeft: spacing(2),\n        paddingRight: spacing(2)\n      }, styles, (0, _defineProperty2.default)({}, breakpoints.up('sm'), (0, _extends3.default)({\n        paddingLeft: spacing(3),\n        paddingRight: spacing(3)\n      }, styles[breakpoints.up('sm')])));\n    },\n    toolbar: (_toolbar = {\n      minHeight: 56\n    }, (0, _defineProperty2.default)(_toolbar, \"\".concat(breakpoints.up('xs'), \" and (orientation: landscape)\"), {\n      minHeight: 48\n    }), (0, _defineProperty2.default)(_toolbar, breakpoints.up('sm'), {\n      minHeight: 64\n    }), _toolbar)\n  }, mixins);\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createPalette;\nexports.dark = exports.light = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _utils = require(\"@material-ui/utils\");\n\nvar _common = _interopRequireDefault(require(\"../colors/common\"));\n\nvar _grey = _interopRequireDefault(require(\"../colors/grey\"));\n\nvar _indigo = _interopRequireDefault(require(\"../colors/indigo\"));\n\nvar _pink = _interopRequireDefault(require(\"../colors/pink\"));\n\nvar _red = _interopRequireDefault(require(\"../colors/red\"));\n\nvar _orange = _interopRequireDefault(require(\"../colors/orange\"));\n\nvar _blue = _interopRequireDefault(require(\"../colors/blue\"));\n\nvar _green = _interopRequireDefault(require(\"../colors/green\"));\n\nvar _colorManipulator = require(\"./colorManipulator\");\n\nvar light = {\n  // The colors used to style the text.\n  text: {\n    // The most important text.\n    primary: 'rgba(0, 0, 0, 0.87)',\n    // Secondary text.\n    secondary: 'rgba(0, 0, 0, 0.54)',\n    // Disabled text have even lower visual prominence.\n    disabled: 'rgba(0, 0, 0, 0.38)',\n    // Text hints.\n    hint: 'rgba(0, 0, 0, 0.38)'\n  },\n  // The color used to divide different elements.\n  divider: 'rgba(0, 0, 0, 0.12)',\n  // The background colors used to style the surfaces.\n  // Consistency between these values is important.\n  background: {\n    paper: _common.default.white,\n    default: _grey.default[50]\n  },\n  // The colors used to style the action elements.\n  action: {\n    // The color of an active action like an icon button.\n    active: 'rgba(0, 0, 0, 0.54)',\n    // The color of an hovered action.\n    hover: 'rgba(0, 0, 0, 0.04)',\n    hoverOpacity: 0.04,\n    // The color of a selected action.\n    selected: 'rgba(0, 0, 0, 0.08)',\n    selectedOpacity: 0.08,\n    // The color of a disabled action.\n    disabled: 'rgba(0, 0, 0, 0.26)',\n    // The background color of a disabled action.\n    disabledBackground: 'rgba(0, 0, 0, 0.12)',\n    disabledOpacity: 0.38,\n    focus: 'rgba(0, 0, 0, 0.12)',\n    focusOpacity: 0.12,\n    activatedOpacity: 0.12\n  }\n};\nexports.light = light;\nvar dark = {\n  text: {\n    primary: _common.default.white,\n    secondary: 'rgba(255, 255, 255, 0.7)',\n    disabled: 'rgba(255, 255, 255, 0.5)',\n    hint: 'rgba(255, 255, 255, 0.5)',\n    icon: 'rgba(255, 255, 255, 0.5)'\n  },\n  divider: 'rgba(255, 255, 255, 0.12)',\n  background: {\n    paper: _grey.default[800],\n    default: '#303030'\n  },\n  action: {\n    active: _common.default.white,\n    hover: 'rgba(255, 255, 255, 0.08)',\n    hoverOpacity: 0.08,\n    selected: 'rgba(255, 255, 255, 0.16)',\n    selectedOpacity: 0.16,\n    disabled: 'rgba(255, 255, 255, 0.3)',\n    disabledBackground: 'rgba(255, 255, 255, 0.12)',\n    disabledOpacity: 0.38,\n    focus: 'rgba(255, 255, 255, 0.12)',\n    focusOpacity: 0.12,\n    activatedOpacity: 0.24\n  }\n};\nexports.dark = dark;\n\nfunction addLightOrDark(intent, direction, shade, tonalOffset) {\n  var tonalOffsetLight = tonalOffset.light || tonalOffset;\n  var tonalOffsetDark = tonalOffset.dark || tonalOffset * 1.5;\n\n  if (!intent[direction]) {\n    if (intent.hasOwnProperty(shade)) {\n      intent[direction] = intent[shade];\n    } else if (direction === 'light') {\n      intent.light = (0, _colorManipulator.lighten)(intent.main, tonalOffsetLight);\n    } else if (direction === 'dark') {\n      intent.dark = (0, _colorManipulator.darken)(intent.main, tonalOffsetDark);\n    }\n  }\n}\n\nfunction createPalette(palette) {\n  var _palette$primary = palette.primary,\n      primary = _palette$primary === void 0 ? {\n    light: _indigo.default[300],\n    main: _indigo.default[500],\n    dark: _indigo.default[700]\n  } : _palette$primary,\n      _palette$secondary = palette.secondary,\n      secondary = _palette$secondary === void 0 ? {\n    light: _pink.default.A200,\n    main: _pink.default.A400,\n    dark: _pink.default.A700\n  } : _palette$secondary,\n      _palette$error = palette.error,\n      error = _palette$error === void 0 ? {\n    light: _red.default[300],\n    main: _red.default[500],\n    dark: _red.default[700]\n  } : _palette$error,\n      _palette$warning = palette.warning,\n      warning = _palette$warning === void 0 ? {\n    light: _orange.default[300],\n    main: _orange.default[500],\n    dark: _orange.default[700]\n  } : _palette$warning,\n      _palette$info = palette.info,\n      info = _palette$info === void 0 ? {\n    light: _blue.default[300],\n    main: _blue.default[500],\n    dark: _blue.default[700]\n  } : _palette$info,\n      _palette$success = palette.success,\n      success = _palette$success === void 0 ? {\n    light: _green.default[300],\n    main: _green.default[500],\n    dark: _green.default[700]\n  } : _palette$success,\n      _palette$type = palette.type,\n      type = _palette$type === void 0 ? 'light' : _palette$type,\n      _palette$contrastThre = palette.contrastThreshold,\n      contrastThreshold = _palette$contrastThre === void 0 ? 3 : _palette$contrastThre,\n      _palette$tonalOffset = palette.tonalOffset,\n      tonalOffset = _palette$tonalOffset === void 0 ? 0.2 : _palette$tonalOffset,\n      other = (0, _objectWithoutProperties2.default)(palette, [\"primary\", \"secondary\", \"error\", \"warning\", \"info\", \"success\", \"type\", \"contrastThreshold\", \"tonalOffset\"]); // Use the same logic as\n  // Bootstrap: https://github.com/twbs/bootstrap/blob/1d6e3710dd447de1a200f29e8fa521f8a0908f70/scss/_functions.scss#L59\n  // and material-components-web https://github.com/material-components/material-components-web/blob/ac46b8863c4dab9fc22c4c662dc6bd1b65dd652f/packages/mdc-theme/_functions.scss#L54\n\n  function getContrastText(background) {\n    var contrastText = (0, _colorManipulator.getContrastRatio)(background, dark.text.primary) >= contrastThreshold ? dark.text.primary : light.text.primary;\n\n    if (process.env.NODE_ENV !== 'production') {\n      var contrast = (0, _colorManipulator.getContrastRatio)(background, contrastText);\n\n      if (contrast < 3) {\n        console.error([\"Material-UI: The contrast ratio of \".concat(contrast, \":1 for \").concat(contrastText, \" on \").concat(background), 'falls below the WCAG recommended absolute minimum contrast ratio of 3:1.', 'https://www.w3.org/TR/2008/REC-WCAG20-20081211/#visual-audio-contrast-contrast'].join('\\n'));\n      }\n    }\n\n    return contrastText;\n  }\n\n  var augmentColor = function augmentColor(color) {\n    var mainShade = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n    var lightShade = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 300;\n    var darkShade = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 700;\n    color = (0, _extends2.default)({}, color);\n\n    if (!color.main && color[mainShade]) {\n      color.main = color[mainShade];\n    }\n\n    if (!color.main) {\n      throw new Error(process.env.NODE_ENV !== \"production\" ? \"Material-UI: The color provided to augmentColor(color) is invalid.\\nThe color object needs to have a `main` property or a `\".concat(mainShade, \"` property.\") : (0, _utils.formatMuiErrorMessage)(4, mainShade));\n    }\n\n    if (typeof color.main !== 'string') {\n      throw new Error(process.env.NODE_ENV !== \"production\" ? \"Material-UI: The color provided to augmentColor(color) is invalid.\\n`color.main` should be a string, but `\".concat(JSON.stringify(color.main), \"` was provided instead.\\n\\nDid you intend to use one of the following approaches?\\n\\nimport {\\xA0green } from \\\"@material-ui/core/colors\\\";\\n\\nconst theme1 = createMuiTheme({ palette: {\\n  primary: green,\\n} });\\n\\nconst theme2 = createMuiTheme({ palette: {\\n  primary: { main: green[500] },\\n} });\") : _formatMuiErrorMessage(5, JSON.stringify(color.main)));\n    }\n\n    addLightOrDark(color, 'light', lightShade, tonalOffset);\n    addLightOrDark(color, 'dark', darkShade, tonalOffset);\n\n    if (!color.contrastText) {\n      color.contrastText = getContrastText(color.main);\n    }\n\n    return color;\n  };\n\n  var types = {\n    dark: dark,\n    light: light\n  };\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (!types[type]) {\n      console.error(\"Material-UI: The palette type `\".concat(type, \"` is not supported.\"));\n    }\n  }\n\n  var paletteOutput = (0, _utils.deepmerge)((0, _extends2.default)({\n    // A collection of common colors.\n    common: _common.default,\n    // The palette type, can be light or dark.\n    type: type,\n    // The colors used to represent primary interface elements for a user.\n    primary: augmentColor(primary),\n    // The colors used to represent secondary interface elements for a user.\n    secondary: augmentColor(secondary, 'A400', 'A200', 'A700'),\n    // The colors used to represent interface elements that the user should be made aware of.\n    error: augmentColor(error),\n    // The colors used to represent potentially dangerous actions or important messages.\n    warning: augmentColor(warning),\n    // The colors used to present information to the user that is neutral and not necessarily important.\n    info: augmentColor(info),\n    // The colors used to indicate the successful completion of an action that user triggered.\n    success: augmentColor(success),\n    // The grey colors.\n    grey: _grey.default,\n    // Used by `getContrastText()` to maximize the contrast between\n    // the background and the text.\n    contrastThreshold: contrastThreshold,\n    // Takes a background color and returns the text color that maximizes the contrast.\n    getContrastText: getContrastText,\n    // Generate a rich color object.\n    augmentColor: augmentColor,\n    // Used by the functions below to shift a color's luminance by approximately\n    // two indexes within its tonal palette.\n    // E.g., shift from Red 500 to Red 300 or Red 700.\n    tonalOffset: tonalOffset\n  }, types[type]), other);\n  return paletteOutput;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar common = {\n  black: '#000',\n  white: '#fff'\n};\nvar _default = common;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar grey = {\n  50: '#fafafa',\n  100: '#f5f5f5',\n  200: '#eeeeee',\n  300: '#e0e0e0',\n  400: '#bdbdbd',\n  500: '#9e9e9e',\n  600: '#757575',\n  700: '#616161',\n  800: '#424242',\n  900: '#212121',\n  A100: '#d5d5d5',\n  A200: '#aaaaaa',\n  A400: '#303030',\n  A700: '#616161'\n};\nvar _default = grey;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar indigo = {\n  50: '#e8eaf6',\n  100: '#c5cae9',\n  200: '#9fa8da',\n  300: '#7986cb',\n  400: '#5c6bc0',\n  500: '#3f51b5',\n  600: '#3949ab',\n  700: '#303f9f',\n  800: '#283593',\n  900: '#1a237e',\n  A100: '#8c9eff',\n  A200: '#536dfe',\n  A400: '#3d5afe',\n  A700: '#304ffe'\n};\nvar _default = indigo;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar pink = {\n  50: '#fce4ec',\n  100: '#f8bbd0',\n  200: '#f48fb1',\n  300: '#f06292',\n  400: '#ec407a',\n  500: '#e91e63',\n  600: '#d81b60',\n  700: '#c2185b',\n  800: '#ad1457',\n  900: '#880e4f',\n  A100: '#ff80ab',\n  A200: '#ff4081',\n  A400: '#f50057',\n  A700: '#c51162'\n};\nvar _default = pink;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar red = {\n  50: '#ffebee',\n  100: '#ffcdd2',\n  200: '#ef9a9a',\n  300: '#e57373',\n  400: '#ef5350',\n  500: '#f44336',\n  600: '#e53935',\n  700: '#d32f2f',\n  800: '#c62828',\n  900: '#b71c1c',\n  A100: '#ff8a80',\n  A200: '#ff5252',\n  A400: '#ff1744',\n  A700: '#d50000'\n};\nvar _default = red;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar orange = {\n  50: '#fff3e0',\n  100: '#ffe0b2',\n  200: '#ffcc80',\n  300: '#ffb74d',\n  400: '#ffa726',\n  500: '#ff9800',\n  600: '#fb8c00',\n  700: '#f57c00',\n  800: '#ef6c00',\n  900: '#e65100',\n  A100: '#ffd180',\n  A200: '#ffab40',\n  A400: '#ff9100',\n  A700: '#ff6d00'\n};\nvar _default = orange;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar blue = {\n  50: '#e3f2fd',\n  100: '#bbdefb',\n  200: '#90caf9',\n  300: '#64b5f6',\n  400: '#42a5f5',\n  500: '#2196f3',\n  600: '#1e88e5',\n  700: '#1976d2',\n  800: '#1565c0',\n  900: '#0d47a1',\n  A100: '#82b1ff',\n  A200: '#448aff',\n  A400: '#2979ff',\n  A700: '#2962ff'\n};\nvar _default = blue;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar green = {\n  50: '#e8f5e9',\n  100: '#c8e6c9',\n  200: '#a5d6a7',\n  300: '#81c784',\n  400: '#66bb6a',\n  500: '#4caf50',\n  600: '#43a047',\n  700: '#388e3c',\n  800: '#2e7d32',\n  900: '#1b5e20',\n  A100: '#b9f6ca',\n  A200: '#69f0ae',\n  A400: '#00e676',\n  A700: '#00c853'\n};\nvar _default = green;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hexToRgb = hexToRgb;\nexports.rgbToHex = rgbToHex;\nexports.hslToRgb = hslToRgb;\nexports.decomposeColor = decomposeColor;\nexports.recomposeColor = recomposeColor;\nexports.getContrastRatio = getContrastRatio;\nexports.getLuminance = getLuminance;\nexports.emphasize = emphasize;\nexports.fade = fade;\nexports.darken = darken;\nexports.lighten = lighten;\n\nvar _utils = require(\"@material-ui/utils\");\n\n/* eslint-disable no-use-before-define */\n\n/**\n * Returns a number whose value is limited to the given range.\n *\n * @param {number} value The value to be clamped\n * @param {number} min The lower boundary of the output range\n * @param {number} max The upper boundary of the output range\n * @returns {number} A number in the range [min, max]\n */\nfunction clamp(value) {\n  var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (value < min || value > max) {\n      console.error(\"Material-UI: The value provided \".concat(value, \" is out of range [\").concat(min, \", \").concat(max, \"].\"));\n    }\n  }\n\n  return Math.min(Math.max(min, value), max);\n}\n/**\n * Converts a color from CSS hex format to CSS rgb format.\n *\n * @param {string} color - Hex color, i.e. #nnn or #nnnnnn\n * @returns {string} A CSS rgb color string\n */\n\n\nfunction hexToRgb(color) {\n  color = color.substr(1);\n  var re = new RegExp(\".{1,\".concat(color.length >= 6 ? 2 : 1, \"}\"), 'g');\n  var colors = color.match(re);\n\n  if (colors && colors[0].length === 1) {\n    colors = colors.map(function (n) {\n      return n + n;\n    });\n  }\n\n  return colors ? \"rgb\".concat(colors.length === 4 ? 'a' : '', \"(\").concat(colors.map(function (n, index) {\n    return index < 3 ? parseInt(n, 16) : Math.round(parseInt(n, 16) / 255 * 1000) / 1000;\n  }).join(', '), \")\") : '';\n}\n\nfunction intToHex(int) {\n  var hex = int.toString(16);\n  return hex.length === 1 ? \"0\".concat(hex) : hex;\n}\n/**\n * Converts a color from CSS rgb format to CSS hex format.\n *\n * @param {string} color - RGB color, i.e. rgb(n, n, n)\n * @returns {string} A CSS rgb color string, i.e. #nnnnnn\n */\n\n\nfunction rgbToHex(color) {\n  // Idempotent\n  if (color.indexOf('#') === 0) {\n    return color;\n  }\n\n  var _decomposeColor = decomposeColor(color),\n      values = _decomposeColor.values;\n\n  return \"#\".concat(values.map(function (n) {\n    return intToHex(n);\n  }).join(''));\n}\n/**\n * Converts a color from hsl format to rgb format.\n *\n * @param {string} color - HSL color values\n * @returns {string} rgb color values\n */\n\n\nfunction hslToRgb(color) {\n  color = decomposeColor(color);\n  var _color = color,\n      values = _color.values;\n  var h = values[0];\n  var s = values[1] / 100;\n  var l = values[2] / 100;\n  var a = s * Math.min(l, 1 - l);\n\n  var f = function f(n) {\n    var k = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (n + h / 30) % 12;\n    return l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  };\n\n  var type = 'rgb';\n  var rgb = [Math.round(f(0) * 255), Math.round(f(8) * 255), Math.round(f(4) * 255)];\n\n  if (color.type === 'hsla') {\n    type += 'a';\n    rgb.push(values[3]);\n  }\n\n  return recomposeColor({\n    type: type,\n    values: rgb\n  });\n}\n/**\n * Returns an object with the type and values of a color.\n *\n * Note: Does not support rgb % values.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @returns {object} - A MUI color object: {type: string, values: number[]}\n */\n\n\nfunction decomposeColor(color) {\n  // Idempotent\n  if (color.type) {\n    return color;\n  }\n\n  if (color.charAt(0) === '#') {\n    return decomposeColor(hexToRgb(color));\n  }\n\n  var marker = color.indexOf('(');\n  var type = color.substring(0, marker);\n\n  if (['rgb', 'rgba', 'hsl', 'hsla'].indexOf(type) === -1) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? \"Material-UI: Unsupported `\".concat(color, \"` color.\\nWe support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla().\") : (0, _utils.formatMuiErrorMessage)(3, color));\n  }\n\n  var values = color.substring(marker + 1, color.length - 1).split(',');\n  values = values.map(function (value) {\n    return parseFloat(value);\n  });\n  return {\n    type: type,\n    values: values\n  };\n}\n/**\n * Converts a color object with type and values to a string.\n *\n * @param {object} color - Decomposed color\n * @param {string} color.type - One of: 'rgb', 'rgba', 'hsl', 'hsla'\n * @param {array} color.values - [n,n,n] or [n,n,n,n]\n * @returns {string} A CSS color string\n */\n\n\nfunction recomposeColor(color) {\n  var type = color.type;\n  var values = color.values;\n\n  if (type.indexOf('rgb') !== -1) {\n    // Only convert the first 3 values to int (i.e. not alpha)\n    values = values.map(function (n, i) {\n      return i < 3 ? parseInt(n, 10) : n;\n    });\n  } else if (type.indexOf('hsl') !== -1) {\n    values[1] = \"\".concat(values[1], \"%\");\n    values[2] = \"\".concat(values[2], \"%\");\n  }\n\n  return \"\".concat(type, \"(\").concat(values.join(', '), \")\");\n}\n/**\n * Calculates the contrast ratio between two colors.\n *\n * Formula: https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-tests\n *\n * @param {string} foreground - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {string} background - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @returns {number} A contrast ratio value in the range 0 - 21.\n */\n\n\nfunction getContrastRatio(foreground, background) {\n  var lumA = getLuminance(foreground);\n  var lumB = getLuminance(background);\n  return (Math.max(lumA, lumB) + 0.05) / (Math.min(lumA, lumB) + 0.05);\n}\n/**\n * The relative brightness of any point in a color space,\n * normalized to 0 for darkest black and 1 for lightest white.\n *\n * Formula: https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-tests\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @returns {number} The relative brightness of the color in the range 0 - 1\n */\n\n\nfunction getLuminance(color) {\n  color = decomposeColor(color);\n  var rgb = color.type === 'hsl' ? decomposeColor(hslToRgb(color)).values : color.values;\n  rgb = rgb.map(function (val) {\n    val /= 255; // normalized\n\n    return val <= 0.03928 ? val / 12.92 : Math.pow((val + 0.055) / 1.055, 2.4);\n  }); // Truncate at 3 digits\n\n  return Number((0.2126 * rgb[0] + 0.7152 * rgb[1] + 0.0722 * rgb[2]).toFixed(3));\n}\n/**\n * Darken or lighten a color, depending on its luminance.\n * Light colors are darkened, dark colors are lightened.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} coefficient=0.15 - multiplier in the range 0 - 1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\n\n\nfunction emphasize(color) {\n  var coefficient = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.15;\n  return getLuminance(color) > 0.5 ? darken(color, coefficient) : lighten(color, coefficient);\n}\n/**\n * Set the absolute transparency of a color.\n * Any existing alpha values are overwritten.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} value - value to set the alpha channel to in the range 0 -1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\n\n\nfunction fade(color, value) {\n  color = decomposeColor(color);\n  value = clamp(value);\n\n  if (color.type === 'rgb' || color.type === 'hsl') {\n    color.type += 'a';\n  }\n\n  color.values[3] = value;\n  return recomposeColor(color);\n}\n/**\n * Darkens a color.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} coefficient - multiplier in the range 0 - 1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\n\n\nfunction darken(color, coefficient) {\n  color = decomposeColor(color);\n  coefficient = clamp(coefficient);\n\n  if (color.type.indexOf('hsl') !== -1) {\n    color.values[2] *= 1 - coefficient;\n  } else if (color.type.indexOf('rgb') !== -1) {\n    for (var i = 0; i < 3; i += 1) {\n      color.values[i] *= 1 - coefficient;\n    }\n  }\n\n  return recomposeColor(color);\n}\n/**\n * Lightens a color.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} coefficient - multiplier in the range 0 - 1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\n\n\nfunction lighten(color, coefficient) {\n  color = decomposeColor(color);\n  coefficient = clamp(coefficient);\n\n  if (color.type.indexOf('hsl') !== -1) {\n    color.values[2] += (100 - color.values[2]) * coefficient;\n  } else if (color.type.indexOf('rgb') !== -1) {\n    for (var i = 0; i < 3; i += 1) {\n      color.values[i] += (255 - color.values[i]) * coefficient;\n    }\n  }\n\n  return recomposeColor(color);\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createTypography;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _utils = require(\"@material-ui/utils\");\n\nfunction round(value) {\n  return Math.round(value * 1e5) / 1e5;\n}\n\nvar caseAllCaps = {\n  textTransform: 'uppercase'\n};\nvar defaultFontFamily = '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif';\n/**\n * @see @link{https://material.io/design/typography/the-type-system.html}\n * @see @link{https://material.io/design/typography/understanding-typography.html}\n */\n\nfunction createTypography(palette, typography) {\n  var _ref = typeof typography === 'function' ? typography(palette) : typography,\n      _ref$fontFamily = _ref.fontFamily,\n      fontFamily = _ref$fontFamily === void 0 ? defaultFontFamily : _ref$fontFamily,\n      _ref$fontSize = _ref.fontSize,\n      fontSize = _ref$fontSize === void 0 ? 14 : _ref$fontSize,\n      _ref$fontWeightLight = _ref.fontWeightLight,\n      fontWeightLight = _ref$fontWeightLight === void 0 ? 300 : _ref$fontWeightLight,\n      _ref$fontWeightRegula = _ref.fontWeightRegular,\n      fontWeightRegular = _ref$fontWeightRegula === void 0 ? 400 : _ref$fontWeightRegula,\n      _ref$fontWeightMedium = _ref.fontWeightMedium,\n      fontWeightMedium = _ref$fontWeightMedium === void 0 ? 500 : _ref$fontWeightMedium,\n      _ref$fontWeightBold = _ref.fontWeightBold,\n      fontWeightBold = _ref$fontWeightBold === void 0 ? 700 : _ref$fontWeightBold,\n      _ref$htmlFontSize = _ref.htmlFontSize,\n      htmlFontSize = _ref$htmlFontSize === void 0 ? 16 : _ref$htmlFontSize,\n      allVariants = _ref.allVariants,\n      pxToRem2 = _ref.pxToRem,\n      other = (0, _objectWithoutProperties2.default)(_ref, [\"fontFamily\", \"fontSize\", \"fontWeightLight\", \"fontWeightRegular\", \"fontWeightMedium\", \"fontWeightBold\", \"htmlFontSize\", \"allVariants\", \"pxToRem\"]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof fontSize !== 'number') {\n      console.error('Material-UI: `fontSize` is required to be a number.');\n    }\n\n    if (typeof htmlFontSize !== 'number') {\n      console.error('Material-UI: `htmlFontSize` is required to be a number.');\n    }\n  }\n\n  var coef = fontSize / 14;\n\n  var pxToRem = pxToRem2 || function (size) {\n    return \"\".concat(size / htmlFontSize * coef, \"rem\");\n  };\n\n  var buildVariant = function buildVariant(fontWeight, size, lineHeight, letterSpacing, casing) {\n    return (0, _extends2.default)({\n      fontFamily: fontFamily,\n      fontWeight: fontWeight,\n      fontSize: pxToRem(size),\n      // Unitless following https://meyerweb.com/eric/thoughts/2006/02/08/unitless-line-heights/\n      lineHeight: lineHeight\n    }, fontFamily === defaultFontFamily ? {\n      letterSpacing: \"\".concat(round(letterSpacing / size), \"em\")\n    } : {}, casing, allVariants);\n  };\n\n  var variants = {\n    h1: buildVariant(fontWeightLight, 96, 1.167, -1.5),\n    h2: buildVariant(fontWeightLight, 60, 1.2, -0.5),\n    h3: buildVariant(fontWeightRegular, 48, 1.167, 0),\n    h4: buildVariant(fontWeightRegular, 34, 1.235, 0.25),\n    h5: buildVariant(fontWeightRegular, 24, 1.334, 0),\n    h6: buildVariant(fontWeightMedium, 20, 1.6, 0.15),\n    subtitle1: buildVariant(fontWeightRegular, 16, 1.75, 0.15),\n    subtitle2: buildVariant(fontWeightMedium, 14, 1.57, 0.1),\n    body1: buildVariant(fontWeightRegular, 16, 1.5, 0.15),\n    body2: buildVariant(fontWeightRegular, 14, 1.43, 0.15),\n    button: buildVariant(fontWeightMedium, 14, 1.75, 0.4, caseAllCaps),\n    caption: buildVariant(fontWeightRegular, 12, 1.66, 0.4),\n    overline: buildVariant(fontWeightRegular, 12, 2.66, 1, caseAllCaps)\n  };\n  return (0, _utils.deepmerge)((0, _extends2.default)({\n    htmlFontSize: htmlFontSize,\n    pxToRem: pxToRem,\n    round: round,\n    // TODO v5: remove\n    fontFamily: fontFamily,\n    fontSize: fontSize,\n    fontWeightLight: fontWeightLight,\n    fontWeightRegular: fontWeightRegular,\n    fontWeightMedium: fontWeightMedium,\n    fontWeightBold: fontWeightBold\n  }, variants), other, {\n    clone: false // No need to clone deep\n\n  });\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar shadowKeyUmbraOpacity = 0.2;\nvar shadowKeyPenumbraOpacity = 0.14;\nvar shadowAmbientShadowOpacity = 0.12;\n\nfunction createShadow() {\n  return [\"\".concat(arguments.length <= 0 ? undefined : arguments[0], \"px \").concat(arguments.length <= 1 ? undefined : arguments[1], \"px \").concat(arguments.length <= 2 ? undefined : arguments[2], \"px \").concat(arguments.length <= 3 ? undefined : arguments[3], \"px rgba(0,0,0,\").concat(shadowKeyUmbraOpacity, \")\"), \"\".concat(arguments.length <= 4 ? undefined : arguments[4], \"px \").concat(arguments.length <= 5 ? undefined : arguments[5], \"px \").concat(arguments.length <= 6 ? undefined : arguments[6], \"px \").concat(arguments.length <= 7 ? undefined : arguments[7], \"px rgba(0,0,0,\").concat(shadowKeyPenumbraOpacity, \")\"), \"\".concat(arguments.length <= 8 ? undefined : arguments[8], \"px \").concat(arguments.length <= 9 ? undefined : arguments[9], \"px \").concat(arguments.length <= 10 ? undefined : arguments[10], \"px \").concat(arguments.length <= 11 ? undefined : arguments[11], \"px rgba(0,0,0,\").concat(shadowAmbientShadowOpacity, \")\")].join(',');\n} // Values from https://github.com/material-components/material-components-web/blob/be8747f94574669cb5e7add1a7c54fa41a89cec7/packages/mdc-elevation/_variables.scss\n\n\nvar shadows = ['none', createShadow(0, 2, 1, -1, 0, 1, 1, 0, 0, 1, 3, 0), createShadow(0, 3, 1, -2, 0, 2, 2, 0, 0, 1, 5, 0), createShadow(0, 3, 3, -2, 0, 3, 4, 0, 0, 1, 8, 0), createShadow(0, 2, 4, -1, 0, 4, 5, 0, 0, 1, 10, 0), createShadow(0, 3, 5, -1, 0, 5, 8, 0, 0, 1, 14, 0), createShadow(0, 3, 5, -1, 0, 6, 10, 0, 0, 1, 18, 0), createShadow(0, 4, 5, -2, 0, 7, 10, 1, 0, 2, 16, 1), createShadow(0, 5, 5, -3, 0, 8, 10, 1, 0, 3, 14, 2), createShadow(0, 5, 6, -3, 0, 9, 12, 1, 0, 3, 16, 2), createShadow(0, 6, 6, -3, 0, 10, 14, 1, 0, 4, 18, 3), createShadow(0, 6, 7, -4, 0, 11, 15, 1, 0, 4, 20, 3), createShadow(0, 7, 8, -4, 0, 12, 17, 2, 0, 5, 22, 4), createShadow(0, 7, 8, -4, 0, 13, 19, 2, 0, 5, 24, 4), createShadow(0, 7, 9, -4, 0, 14, 21, 2, 0, 5, 26, 4), createShadow(0, 8, 9, -5, 0, 15, 22, 2, 0, 6, 28, 5), createShadow(0, 8, 10, -5, 0, 16, 24, 2, 0, 6, 30, 5), createShadow(0, 8, 11, -5, 0, 17, 26, 2, 0, 6, 32, 5), createShadow(0, 9, 11, -5, 0, 18, 28, 2, 0, 7, 34, 6), createShadow(0, 9, 12, -6, 0, 19, 29, 2, 0, 7, 36, 6), createShadow(0, 10, 13, -6, 0, 20, 31, 3, 0, 8, 38, 7), createShadow(0, 10, 13, -6, 0, 21, 33, 3, 0, 8, 40, 7), createShadow(0, 10, 14, -6, 0, 22, 35, 3, 0, 8, 42, 7), createShadow(0, 11, 14, -7, 0, 23, 36, 3, 0, 9, 44, 8), createShadow(0, 11, 15, -7, 0, 24, 38, 3, 0, 9, 46, 8)];\nvar _default = shadows;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar shape = {\n  borderRadius: 4\n};\nvar _default = shape;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createSpacing;\n\nvar _system = require(\"@material-ui/system\");\n\nvar warnOnce;\n\nfunction createSpacing() {\n  var spacingInput = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 8;\n\n  // Already transformed.\n  if (spacingInput.mui) {\n    return spacingInput;\n  } // Material Design layouts are visually balanced. Most measurements align to an 8dp grid applied, which aligns both spacing and the overall layout.\n  // Smaller components, such as icons and type, can align to a 4dp grid.\n  // https://material.io/design/layout/understanding-layout.html#usage\n\n\n  var transform = (0, _system.createUnarySpacing)({\n    spacing: spacingInput\n  });\n\n  var spacing = function spacing() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!(args.length <= 4)) {\n        console.error(\"Material-UI: Too many arguments provided, expected between 0 and 4, got \".concat(args.length));\n      }\n    }\n\n    if (args.length === 0) {\n      return transform(1);\n    }\n\n    if (args.length === 1) {\n      return transform(args[0]);\n    }\n\n    return args.map(function (argument) {\n      if (typeof argument === 'string') {\n        return argument;\n      }\n\n      var output = transform(argument);\n      return typeof output === 'number' ? \"\".concat(output, \"px\") : output;\n    }).join(' ');\n  }; // Backward compatibility, to remove in v5.\n\n\n  Object.defineProperty(spacing, 'unit', {\n    get: function get() {\n      if (process.env.NODE_ENV !== 'production') {\n        if (!warnOnce || process.env.NODE_ENV === 'test') {\n          console.error(['Material-UI: theme.spacing.unit usage has been deprecated.', 'It will be removed in v5.', 'You can replace `theme.spacing.unit * y` with `theme.spacing(y)`.', '', 'You can use the `https://github.com/mui-org/material-ui/tree/master/packages/material-ui-codemod/README.md#theme-spacing-api` migration helper to make the process smoother.'].join('\\n'));\n        }\n\n        warnOnce = true;\n      }\n\n      return spacingInput;\n    }\n  });\n  spacing.mui = true;\n  return spacing;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.duration = exports.easing = void 0;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\n// Follow https://material.google.com/motion/duration-easing.html#duration-easing-natural-easing-curves\n// to learn the context in which each easing should be used.\nvar easing = {\n  // This is the most common easing curve.\n  easeInOut: 'cubic-bezier(0.4, 0, 0.2, 1)',\n  // Objects enter the screen at full velocity from off-screen and\n  // slowly decelerate to a resting point.\n  easeOut: 'cubic-bezier(0.0, 0, 0.2, 1)',\n  // Objects leave the screen at full velocity. They do not decelerate when off-screen.\n  easeIn: 'cubic-bezier(0.4, 0, 1, 1)',\n  // The sharp curve is used by objects that may return to the screen at any time.\n  sharp: 'cubic-bezier(0.4, 0, 0.6, 1)'\n}; // Follow https://material.io/guidelines/motion/duration-easing.html#duration-easing-common-durations\n// to learn when use what timing\n\nexports.easing = easing;\nvar duration = {\n  shortest: 150,\n  shorter: 200,\n  short: 250,\n  // most basic recommended timing\n  standard: 300,\n  // this is to be used in complex animations\n  complex: 375,\n  // recommended when something is entering screen\n  enteringScreen: 225,\n  // recommended when something is leaving screen\n  leavingScreen: 195\n};\nexports.duration = duration;\n\nfunction formatMs(milliseconds) {\n  return \"\".concat(Math.round(milliseconds), \"ms\");\n}\n/**\n * @param {string|Array} props\n * @param {object} param\n * @param {string} param.prop\n * @param {number} param.duration\n * @param {string} param.easing\n * @param {number} param.delay\n */\n\n\nvar _default = {\n  easing: easing,\n  duration: duration,\n  create: function create() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['all'];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _options$duration = options.duration,\n        durationOption = _options$duration === void 0 ? duration.standard : _options$duration,\n        _options$easing = options.easing,\n        easingOption = _options$easing === void 0 ? easing.easeInOut : _options$easing,\n        _options$delay = options.delay,\n        delay = _options$delay === void 0 ? 0 : _options$delay,\n        other = (0, _objectWithoutProperties2.default)(options, [\"duration\", \"easing\", \"delay\"]);\n\n    if (process.env.NODE_ENV !== 'production') {\n      var isString = function isString(value) {\n        return typeof value === 'string';\n      };\n\n      var isNumber = function isNumber(value) {\n        return !isNaN(parseFloat(value));\n      };\n\n      if (!isString(props) && !Array.isArray(props)) {\n        console.error('Material-UI: Argument \"props\" must be a string or Array.');\n      }\n\n      if (!isNumber(durationOption) && !isString(durationOption)) {\n        console.error(\"Material-UI: Argument \\\"duration\\\" must be a number or a string but found \".concat(durationOption, \".\"));\n      }\n\n      if (!isString(easingOption)) {\n        console.error('Material-UI: Argument \"easing\" must be a string.');\n      }\n\n      if (!isNumber(delay) && !isString(delay)) {\n        console.error('Material-UI: Argument \"delay\" must be a number or a string.');\n      }\n\n      if (Object.keys(other).length !== 0) {\n        console.error(\"Material-UI: Unrecognized argument(s) [\".concat(Object.keys(other).join(','), \"].\"));\n      }\n    }\n\n    return (Array.isArray(props) ? props : [props]).map(function (animatedProp) {\n      return \"\".concat(animatedProp, \" \").concat(typeof durationOption === 'string' ? durationOption : formatMs(durationOption), \" \").concat(easingOption, \" \").concat(typeof delay === 'string' ? delay : formatMs(delay));\n    }).join(',');\n  },\n  getAutoHeightDuration: function getAutoHeightDuration(height) {\n    if (!height) {\n      return 0;\n    }\n\n    var constant = height / 36; // https://www.wolframalpha.com/input/?i=(4+%2B+15+*+(x+%2F+36+)+**+0.25+%2B+(x+%2F+36)+%2F+5)+*+10\n\n    return Math.round((4 + 15 * Math.pow(constant, 0.25) + constant / 5) * 10);\n  }\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n// We need to centralize the zIndex definitions as they work\n// like global values in the browser.\nvar zIndex = {\n  mobileStepper: 1000,\n  speedDial: 1050,\n  appBar: 1100,\n  drawer: 1200,\n  modal: 1300,\n  snackbar: 1400,\n  tooltip: 1500\n};\nvar _default = zIndex;\nexports.default = _default;","/*! @license https://github.com/onury/invert-color */\n!function(r,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):r.invert=n()}(this,function(){\"use strict\";var t=Math.sqrt(1.05*.05)-.05,n=/^(?:[0-9a-f]{3}){1,2}$/i,i={black:\"#000000\",white:\"#ffffff\",threshold:t};function o(r){if(\"#\"===r.slice(0,1)&&(r=r.slice(1)),!n.test(r))throw new Error('Invalid HEX color: \"'+r+'\"');return 3===r.length&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]),[parseInt(r.slice(0,2),16),parseInt(r.slice(2,4),16),parseInt(r.slice(4,6),16)]}function f(r){if(!r)throw new Error(\"Invalid color value\");return Array.isArray(r)?r:\"string\"==typeof r?o(r):[r.r,r.g,r.b]}function u(r,n,t){var e=!0===n?i:Object.assign({},i,n);return function(r){var n,t,e=[];for(n=0;n<r.length;n++)t=r[n]/255,e[n]=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4);return.2126*e[0]+.7152*e[1]+.0722*e[2]}(r)>e.threshold?t?o(e.black):e.black:t?o(e.white):e.white}function r(r,n){return void 0===n&&(n=!1),r=f(r),n?u(r,n):\"#\"+r.map(function(r){return n=(255-r).toString(16),void 0===t&&(t=2),(new Array(t).join(\"0\")+n).slice(-t);var n,t}).join(\"\")}return function(r){function n(r,n){r=f(r);var t,e=n?u(r,n,!0):r.map(function(r){return 255-r});return{r:(t=e)[0],g:t[1],b:t[2]}}r.asRGB=n,r.asRgbArray=function(r,n){return r=f(r),n?u(r,n,!0):r.map(function(r){return 255-r})},r.defaultThreshold=t,r.asRgbObject=n}(r||(r={})),r});","/**\n * Efficient diffs.\n *\n * @module diff\n */\n\nimport { equalityStrict } from './function.js'\n\n/**\n * A SimpleDiff describes a change on a String.\n *\n * ```js\n * console.log(a) // the old value\n * console.log(b) // the updated value\n * // Apply changes of diff (pseudocode)\n * a.remove(diff.index, diff.remove) // Remove `diff.remove` characters\n * a.insert(diff.index, diff.insert) // Insert `diff.insert`\n * a === b // values match\n * ```\n *\n * @typedef {Object} SimpleDiff\n * @property {Number} index The index where changes were applied\n * @property {Number} remove The number of characters to delete starting\n *                                  at `index`.\n * @property {T} insert The new text to insert at `index` after applying\n *                           `delete`\n *\n * @template T\n */\n\n/**\n * Create a diff between two strings. This diff implementation is highly\n * efficient, but not very sophisticated.\n *\n * @function\n *\n * @param {string} a The old version of the string\n * @param {string} b The updated version of the string\n * @return {SimpleDiff<string>} The diff description.\n */\nexport const simpleDiffString = (a, b) => {\n  let left = 0 // number of same characters counting from left\n  let right = 0 // number of same characters counting from right\n  while (left < a.length && left < b.length && a[left] === b[left]) {\n    left++\n  }\n  if (left !== a.length || left !== b.length) {\n    // Only check right if a !== b\n    while (right + left < a.length && right + left < b.length && a[a.length - right - 1] === b[b.length - right - 1]) {\n      right++\n    }\n  }\n  return {\n    index: left,\n    remove: a.length - left - right,\n    insert: b.slice(left, b.length - right)\n  }\n}\n\n/**\n * @todo Remove in favor of simpleDiffString\n * @deprecated\n */\nexport const simpleDiff = simpleDiffString\n\n/**\n * Create a diff between two arrays. This diff implementation is highly\n * efficient, but not very sophisticated.\n *\n * Note: This is basically the same function as above. Another function was created so that the runtime\n * can better optimize these function calls.\n *\n * @function\n * @template T\n *\n * @param {Array<T>} a The old version of the array\n * @param {Array<T>} b The updated version of the array\n * @param {function(T, T):boolean} [compare]\n * @return {SimpleDiff<Array<T>>} The diff description.\n */\nexport const simpleDiffArray = (a, b, compare = equalityStrict) => {\n  let left = 0 // number of same characters counting from left\n  let right = 0 // number of same characters counting from right\n  while (left < a.length && left < b.length && compare(a[left], b[left])) {\n    left++\n  }\n  if (left !== a.length || left !== b.length) {\n    // Only check right if a !== b\n    while (right + left < a.length && right + left < b.length && compare(a[a.length - right - 1], b[b.length - right - 1])) {\n      right++\n    }\n  }\n  return {\n    index: left,\n    remove: a.length - left - right,\n    insert: b.slice(left, b.length - right)\n  }\n}\n","/**\n * Often used conditions.\n *\n * @module conditions\n */\n\n/**\n * @template T\n * @param {T|null|undefined} v\n * @return {T|null}\n */\n/* istanbul ignore next */\nexport const undefinedToNull = v => v === undefined ? null : v\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function wordRegexp(words) {\n    return new RegExp(\"^((\" + words.join(\")|(\") + \"))\\\\b\");\n  }\n\n  var wordOperators = wordRegexp([\"and\", \"or\", \"not\", \"is\"]);\n  var commonKeywords = [\"as\", \"assert\", \"break\", \"class\", \"continue\",\n                        \"def\", \"del\", \"elif\", \"else\", \"except\", \"finally\",\n                        \"for\", \"from\", \"global\", \"if\", \"import\",\n                        \"lambda\", \"pass\", \"raise\", \"return\",\n                        \"try\", \"while\", \"with\", \"yield\", \"in\"];\n  var commonBuiltins = [\"abs\", \"all\", \"any\", \"bin\", \"bool\", \"bytearray\", \"callable\", \"chr\",\n                        \"classmethod\", \"compile\", \"complex\", \"delattr\", \"dict\", \"dir\", \"divmod\",\n                        \"enumerate\", \"eval\", \"filter\", \"float\", \"format\", \"frozenset\",\n                        \"getattr\", \"globals\", \"hasattr\", \"hash\", \"help\", \"hex\", \"id\",\n                        \"input\", \"int\", \"isinstance\", \"issubclass\", \"iter\", \"len\",\n                        \"list\", \"locals\", \"map\", \"max\", \"memoryview\", \"min\", \"next\",\n                        \"object\", \"oct\", \"open\", \"ord\", \"pow\", \"property\", \"range\",\n                        \"repr\", \"reversed\", \"round\", \"set\", \"setattr\", \"slice\",\n                        \"sorted\", \"staticmethod\", \"str\", \"sum\", \"super\", \"tuple\",\n                        \"type\", \"vars\", \"zip\", \"__import__\", \"NotImplemented\",\n                        \"Ellipsis\", \"__debug__\"];\n  CodeMirror.registerHelper(\"hintWords\", \"python\", commonKeywords.concat(commonBuiltins));\n\n  function top(state) {\n    return state.scopes[state.scopes.length - 1];\n  }\n\n  CodeMirror.defineMode(\"python\", function(conf, parserConf) {\n    var ERRORCLASS = \"error\";\n\n    var delimiters = parserConf.delimiters || parserConf.singleDelimiters || /^[\\(\\)\\[\\]\\{\\}@,:`=;\\.\\\\]/;\n    //               (Backwards-compatibility with old, cumbersome config system)\n    var operators = [parserConf.singleOperators, parserConf.doubleOperators, parserConf.doubleDelimiters, parserConf.tripleDelimiters,\n                     parserConf.operators || /^([-+*/%\\/&|^]=?|[<>=]+|\\/\\/=?|\\*\\*=?|!=|[~!@]|\\.\\.\\.)/]\n    for (var i = 0; i < operators.length; i++) if (!operators[i]) operators.splice(i--, 1)\n\n    var hangingIndent = parserConf.hangingIndent || conf.indentUnit;\n\n    var myKeywords = commonKeywords, myBuiltins = commonBuiltins;\n    if (parserConf.extra_keywords != undefined)\n      myKeywords = myKeywords.concat(parserConf.extra_keywords);\n\n    if (parserConf.extra_builtins != undefined)\n      myBuiltins = myBuiltins.concat(parserConf.extra_builtins);\n\n    var py3 = !(parserConf.version && Number(parserConf.version) < 3)\n    if (py3) {\n      // since http://legacy.python.org/dev/peps/pep-0465/ @ is also an operator\n      var identifiers = parserConf.identifiers|| /^[_A-Za-z\\u00A1-\\uFFFF][_A-Za-z0-9\\u00A1-\\uFFFF]*/;\n      myKeywords = myKeywords.concat([\"nonlocal\", \"False\", \"True\", \"None\", \"async\", \"await\"]);\n      myBuiltins = myBuiltins.concat([\"ascii\", \"bytes\", \"exec\", \"print\"]);\n      var stringPrefixes = new RegExp(\"^(([rbuf]|(br)|(fr))?('{3}|\\\"{3}|['\\\"]))\", \"i\");\n    } else {\n      var identifiers = parserConf.identifiers|| /^[_A-Za-z][_A-Za-z0-9]*/;\n      myKeywords = myKeywords.concat([\"exec\", \"print\"]);\n      myBuiltins = myBuiltins.concat([\"apply\", \"basestring\", \"buffer\", \"cmp\", \"coerce\", \"execfile\",\n                                      \"file\", \"intern\", \"long\", \"raw_input\", \"reduce\", \"reload\",\n                                      \"unichr\", \"unicode\", \"xrange\", \"False\", \"True\", \"None\"]);\n      var stringPrefixes = new RegExp(\"^(([rubf]|(ur)|(br))?('{3}|\\\"{3}|['\\\"]))\", \"i\");\n    }\n    var keywords = wordRegexp(myKeywords);\n    var builtins = wordRegexp(myBuiltins);\n\n    // tokenizers\n    function tokenBase(stream, state) {\n      var sol = stream.sol() && state.lastToken != \"\\\\\"\n      if (sol) state.indent = stream.indentation()\n      // Handle scope changes\n      if (sol && top(state).type == \"py\") {\n        var scopeOffset = top(state).offset;\n        if (stream.eatSpace()) {\n          var lineOffset = stream.indentation();\n          if (lineOffset > scopeOffset)\n            pushPyScope(state);\n          else if (lineOffset < scopeOffset && dedent(stream, state) && stream.peek() != \"#\")\n            state.errorToken = true;\n          return null;\n        } else {\n          var style = tokenBaseInner(stream, state);\n          if (scopeOffset > 0 && dedent(stream, state))\n            style += \" \" + ERRORCLASS;\n          return style;\n        }\n      }\n      return tokenBaseInner(stream, state);\n    }\n\n    function tokenBaseInner(stream, state, inFormat) {\n      if (stream.eatSpace()) return null;\n\n      // Handle Comments\n      if (!inFormat && stream.match(/^#.*/)) return \"comment\";\n\n      // Handle Number Literals\n      if (stream.match(/^[0-9\\.]/, false)) {\n        var floatLiteral = false;\n        // Floats\n        if (stream.match(/^[\\d_]*\\.\\d+(e[\\+\\-]?\\d+)?/i)) { floatLiteral = true; }\n        if (stream.match(/^[\\d_]+\\.\\d*/)) { floatLiteral = true; }\n        if (stream.match(/^\\.\\d+/)) { floatLiteral = true; }\n        if (floatLiteral) {\n          // Float literals may be \"imaginary\"\n          stream.eat(/J/i);\n          return \"number\";\n        }\n        // Integers\n        var intLiteral = false;\n        // Hex\n        if (stream.match(/^0x[0-9a-f_]+/i)) intLiteral = true;\n        // Binary\n        if (stream.match(/^0b[01_]+/i)) intLiteral = true;\n        // Octal\n        if (stream.match(/^0o[0-7_]+/i)) intLiteral = true;\n        // Decimal\n        if (stream.match(/^[1-9][\\d_]*(e[\\+\\-]?[\\d_]+)?/)) {\n          // Decimal literals may be \"imaginary\"\n          stream.eat(/J/i);\n          // TODO - Can you have imaginary longs?\n          intLiteral = true;\n        }\n        // Zero by itself with no other piece of number.\n        if (stream.match(/^0(?![\\dx])/i)) intLiteral = true;\n        if (intLiteral) {\n          // Integer literals may be \"long\"\n          stream.eat(/L/i);\n          return \"number\";\n        }\n      }\n\n      // Handle Strings\n      if (stream.match(stringPrefixes)) {\n        var isFmtString = stream.current().toLowerCase().indexOf('f') !== -1;\n        if (!isFmtString) {\n          state.tokenize = tokenStringFactory(stream.current(), state.tokenize);\n          return state.tokenize(stream, state);\n        } else {\n          state.tokenize = formatStringFactory(stream.current(), state.tokenize);\n          return state.tokenize(stream, state);\n        }\n      }\n\n      for (var i = 0; i < operators.length; i++)\n        if (stream.match(operators[i])) return \"operator\"\n\n      if (stream.match(delimiters)) return \"punctuation\";\n\n      if (state.lastToken == \".\" && stream.match(identifiers))\n        return \"property\";\n\n      if (stream.match(keywords) || stream.match(wordOperators))\n        return \"keyword\";\n\n      if (stream.match(builtins))\n        return \"builtin\";\n\n      if (stream.match(/^(self|cls)\\b/))\n        return \"variable-2\";\n\n      if (stream.match(identifiers)) {\n        if (state.lastToken == \"def\" || state.lastToken == \"class\")\n          return \"def\";\n        return \"variable\";\n      }\n\n      // Handle non-detected items\n      stream.next();\n      return inFormat ? null :ERRORCLASS;\n    }\n\n    function formatStringFactory(delimiter, tokenOuter) {\n      while (\"rubf\".indexOf(delimiter.charAt(0).toLowerCase()) >= 0)\n        delimiter = delimiter.substr(1);\n\n      var singleline = delimiter.length == 1;\n      var OUTCLASS = \"string\";\n\n      function tokenNestedExpr(depth) {\n        return function(stream, state) {\n          var inner = tokenBaseInner(stream, state, true)\n          if (inner == \"punctuation\") {\n            if (stream.current() == \"{\") {\n              state.tokenize = tokenNestedExpr(depth + 1)\n            } else if (stream.current() == \"}\") {\n              if (depth > 1) state.tokenize = tokenNestedExpr(depth - 1)\n              else state.tokenize = tokenString\n            }\n          }\n          return inner\n        }\n      }\n\n      function tokenString(stream, state) {\n        while (!stream.eol()) {\n          stream.eatWhile(/[^'\"\\{\\}\\\\]/);\n          if (stream.eat(\"\\\\\")) {\n            stream.next();\n            if (singleline && stream.eol())\n              return OUTCLASS;\n          } else if (stream.match(delimiter)) {\n            state.tokenize = tokenOuter;\n            return OUTCLASS;\n          } else if (stream.match('{{')) {\n            // ignore {{ in f-str\n            return OUTCLASS;\n          } else if (stream.match('{', false)) {\n            // switch to nested mode\n            state.tokenize = tokenNestedExpr(0)\n            if (stream.current()) return OUTCLASS;\n            else return state.tokenize(stream, state)\n          } else if (stream.match('}}')) {\n            return OUTCLASS;\n          } else if (stream.match('}')) {\n            // single } in f-string is an error\n            return ERRORCLASS;\n          } else {\n            stream.eat(/['\"]/);\n          }\n        }\n        if (singleline) {\n          if (parserConf.singleLineStringErrors)\n            return ERRORCLASS;\n          else\n            state.tokenize = tokenOuter;\n        }\n        return OUTCLASS;\n      }\n      tokenString.isString = true;\n      return tokenString;\n    }\n\n    function tokenStringFactory(delimiter, tokenOuter) {\n      while (\"rubf\".indexOf(delimiter.charAt(0).toLowerCase()) >= 0)\n        delimiter = delimiter.substr(1);\n\n      var singleline = delimiter.length == 1;\n      var OUTCLASS = \"string\";\n\n      function tokenString(stream, state) {\n        while (!stream.eol()) {\n          stream.eatWhile(/[^'\"\\\\]/);\n          if (stream.eat(\"\\\\\")) {\n            stream.next();\n            if (singleline && stream.eol())\n              return OUTCLASS;\n          } else if (stream.match(delimiter)) {\n            state.tokenize = tokenOuter;\n            return OUTCLASS;\n          } else {\n            stream.eat(/['\"]/);\n          }\n        }\n        if (singleline) {\n          if (parserConf.singleLineStringErrors)\n            return ERRORCLASS;\n          else\n            state.tokenize = tokenOuter;\n        }\n        return OUTCLASS;\n      }\n      tokenString.isString = true;\n      return tokenString;\n    }\n\n    function pushPyScope(state) {\n      while (top(state).type != \"py\") state.scopes.pop()\n      state.scopes.push({offset: top(state).offset + conf.indentUnit,\n                         type: \"py\",\n                         align: null})\n    }\n\n    function pushBracketScope(stream, state, type) {\n      var align = stream.match(/^[\\s\\[\\{\\(]*(?:#|$)/, false) ? null : stream.column() + 1\n      state.scopes.push({offset: state.indent + hangingIndent,\n                         type: type,\n                         align: align})\n    }\n\n    function dedent(stream, state) {\n      var indented = stream.indentation();\n      while (state.scopes.length > 1 && top(state).offset > indented) {\n        if (top(state).type != \"py\") return true;\n        state.scopes.pop();\n      }\n      return top(state).offset != indented;\n    }\n\n    function tokenLexer(stream, state) {\n      if (stream.sol()) state.beginningOfLine = true;\n\n      var style = state.tokenize(stream, state);\n      var current = stream.current();\n\n      // Handle decorators\n      if (state.beginningOfLine && current == \"@\")\n        return stream.match(identifiers, false) ? \"meta\" : py3 ? \"operator\" : ERRORCLASS;\n\n      if (/\\S/.test(current)) state.beginningOfLine = false;\n\n      if ((style == \"variable\" || style == \"builtin\")\n          && state.lastToken == \"meta\")\n        style = \"meta\";\n\n      // Handle scope changes.\n      if (current == \"pass\" || current == \"return\")\n        state.dedent += 1;\n\n      if (current == \"lambda\") state.lambda = true;\n      if (current == \":\" && !state.lambda && top(state).type == \"py\" && stream.match(/^\\s*(?:#|$)/, false))\n        pushPyScope(state);\n\n      if (current.length == 1 && !/string|comment/.test(style)) {\n        var delimiter_index = \"[({\".indexOf(current);\n        if (delimiter_index != -1)\n          pushBracketScope(stream, state, \"])}\".slice(delimiter_index, delimiter_index+1));\n\n        delimiter_index = \"])}\".indexOf(current);\n        if (delimiter_index != -1) {\n          if (top(state).type == current) state.indent = state.scopes.pop().offset - hangingIndent\n          else return ERRORCLASS;\n        }\n      }\n      if (state.dedent > 0 && stream.eol() && top(state).type == \"py\") {\n        if (state.scopes.length > 1) state.scopes.pop();\n        state.dedent -= 1;\n      }\n\n      return style;\n    }\n\n    var external = {\n      startState: function(basecolumn) {\n        return {\n          tokenize: tokenBase,\n          scopes: [{offset: basecolumn || 0, type: \"py\", align: null}],\n          indent: basecolumn || 0,\n          lastToken: null,\n          lambda: false,\n          dedent: 0\n        };\n      },\n\n      token: function(stream, state) {\n        var addErr = state.errorToken;\n        if (addErr) state.errorToken = false;\n        var style = tokenLexer(stream, state);\n\n        if (style && style != \"comment\")\n          state.lastToken = (style == \"keyword\" || style == \"punctuation\") ? stream.current() : style;\n        if (style == \"punctuation\") style = null;\n\n        if (stream.eol() && state.lambda)\n          state.lambda = false;\n        return addErr ? style + \" \" + ERRORCLASS : style;\n      },\n\n      indent: function(state, textAfter) {\n        if (state.tokenize != tokenBase)\n          return state.tokenize.isString ? CodeMirror.Pass : 0;\n\n        var scope = top(state), closing = scope.type == textAfter.charAt(0)\n        if (scope.align != null)\n          return scope.align - (closing ? 1 : 0)\n        else\n          return scope.offset - (closing ? hangingIndent : 0)\n      },\n\n      electricInput: /^\\s*[\\}\\]\\)]$/,\n      closeBrackets: {triples: \"'\\\"\"},\n      lineComment: \"#\",\n      fold: \"indent\"\n    };\n    return external;\n  });\n\n  CodeMirror.defineMIME(\"text/x-python\", \"python\");\n\n  var words = function(str) { return str.split(\" \"); };\n\n  CodeMirror.defineMIME(\"text/x-cython\", {\n    name: \"python\",\n    extra_keywords: words(\"by cdef cimport cpdef ctypedef enum except \"+\n                          \"extern gil include nogil property public \"+\n                          \"readonly struct union DEF IF ELIF ELSE\")\n  });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"go\", function(config) {\n  var indentUnit = config.indentUnit;\n\n  var keywords = {\n    \"break\":true, \"case\":true, \"chan\":true, \"const\":true, \"continue\":true,\n    \"default\":true, \"defer\":true, \"else\":true, \"fallthrough\":true, \"for\":true,\n    \"func\":true, \"go\":true, \"goto\":true, \"if\":true, \"import\":true,\n    \"interface\":true, \"map\":true, \"package\":true, \"range\":true, \"return\":true,\n    \"select\":true, \"struct\":true, \"switch\":true, \"type\":true, \"var\":true,\n    \"bool\":true, \"byte\":true, \"complex64\":true, \"complex128\":true,\n    \"float32\":true, \"float64\":true, \"int8\":true, \"int16\":true, \"int32\":true,\n    \"int64\":true, \"string\":true, \"uint8\":true, \"uint16\":true, \"uint32\":true,\n    \"uint64\":true, \"int\":true, \"uint\":true, \"uintptr\":true, \"error\": true,\n    \"rune\":true\n  };\n\n  var atoms = {\n    \"true\":true, \"false\":true, \"iota\":true, \"nil\":true, \"append\":true,\n    \"cap\":true, \"close\":true, \"complex\":true, \"copy\":true, \"delete\":true, \"imag\":true,\n    \"len\":true, \"make\":true, \"new\":true, \"panic\":true, \"print\":true,\n    \"println\":true, \"real\":true, \"recover\":true\n  };\n\n  var isOperatorChar = /[+\\-*&^%:=<>!|\\/]/;\n\n  var curPunc;\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\" || ch == \"`\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    }\n    if (/[\\d\\.]/.test(ch)) {\n      if (ch == \".\") {\n        stream.match(/^[0-9]+([eE][\\-+]?[0-9]+)?/);\n      } else if (ch == \"0\") {\n        stream.match(/^[xX][0-9a-fA-F]+/) || stream.match(/^0[0-7]+/);\n      } else {\n        stream.match(/^[0-9]*\\.?[0-9]*([eE][\\-+]?[0-9]+)?/);\n      }\n      return \"number\";\n    }\n    if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n      curPunc = ch;\n      return null;\n    }\n    if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      }\n      if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return \"comment\";\n      }\n    }\n    if (isOperatorChar.test(ch)) {\n      stream.eatWhile(isOperatorChar);\n      return \"operator\";\n    }\n    stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n    var cur = stream.current();\n    if (keywords.propertyIsEnumerable(cur)) {\n      if (cur == \"case\" || cur == \"default\") curPunc = \"case\";\n      return \"keyword\";\n    }\n    if (atoms.propertyIsEnumerable(cur)) return \"atom\";\n    return \"variable\";\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) {end = true; break;}\n        escaped = !escaped && quote != \"`\" && next == \"\\\\\";\n      }\n      if (end || !(escaped || quote == \"`\"))\n        state.tokenize = tokenBase;\n      return \"string\";\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return \"comment\";\n  }\n\n  function Context(indented, column, type, align, prev) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.align = align;\n    this.prev = prev;\n  }\n  function pushContext(state, col, type) {\n    return state.context = new Context(state.indented, col, type, null, state.context);\n  }\n  function popContext(state) {\n    if (!state.context.prev) return;\n    var t = state.context.type;\n    if (t == \")\" || t == \"]\" || t == \"}\")\n      state.indented = state.context.indented;\n    return state.context = state.context.prev;\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      return {\n        tokenize: null,\n        context: new Context((basecolumn || 0) - indentUnit, 0, \"top\", false),\n        indented: 0,\n        startOfLine: true\n      };\n    },\n\n    token: function(stream, state) {\n      var ctx = state.context;\n      if (stream.sol()) {\n        if (ctx.align == null) ctx.align = false;\n        state.indented = stream.indentation();\n        state.startOfLine = true;\n        if (ctx.type == \"case\") ctx.type = \"}\";\n      }\n      if (stream.eatSpace()) return null;\n      curPunc = null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style == \"comment\") return style;\n      if (ctx.align == null) ctx.align = true;\n\n      if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\n      else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\n      else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\n      else if (curPunc == \"case\") ctx.type = \"case\";\n      else if (curPunc == \"}\" && ctx.type == \"}\") popContext(state);\n      else if (curPunc == ctx.type) popContext(state);\n      state.startOfLine = false;\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize != tokenBase && state.tokenize != null) return CodeMirror.Pass;\n      var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);\n      if (ctx.type == \"case\" && /^(?:case|default)\\b/.test(textAfter)) {\n        state.context.type = \"}\";\n        return ctx.indented;\n      }\n      var closing = firstChar == ctx.type;\n      if (ctx.align) return ctx.column + (closing ? 0 : 1);\n      else return ctx.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricChars: \"{}):\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n    fold: \"brace\",\n    blockCommentStart: \"/*\",\n    blockCommentEnd: \"*/\",\n    lineComment: \"//\"\n  };\n});\n\nCodeMirror.defineMIME(\"text/x-go\", \"go\");\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../../addon/mode/simple\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../../addon/mode/simple\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineSimpleMode(\"rust\",{\n  start: [\n    // string and byte string\n    {regex: /b?\"/, token: \"string\", next: \"string\"},\n    // raw string and raw byte string\n    {regex: /b?r\"/, token: \"string\", next: \"string_raw\"},\n    {regex: /b?r#+\"/, token: \"string\", next: \"string_raw_hash\"},\n    // character\n    {regex: /'(?:[^'\\\\]|\\\\(?:[nrt0'\"]|x[\\da-fA-F]{2}|u\\{[\\da-fA-F]{6}\\}))'/, token: \"string-2\"},\n    // byte\n    {regex: /b'(?:[^']|\\\\(?:['\\\\nrt0]|x[\\da-fA-F]{2}))'/, token: \"string-2\"},\n\n    {regex: /(?:(?:[0-9][0-9_]*)(?:(?:[Ee][+-]?[0-9_]+)|\\.[0-9_]+(?:[Ee][+-]?[0-9_]+)?)(?:f32|f64)?)|(?:0(?:b[01_]+|(?:o[0-7_]+)|(?:x[0-9a-fA-F_]+))|(?:[0-9][0-9_]*))(?:u8|u16|u32|u64|i8|i16|i32|i64|isize|usize)?/,\n     token: \"number\"},\n    {regex: /(let(?:\\s+mut)?|fn|enum|mod|struct|type|union)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)/, token: [\"keyword\", null, \"def\"]},\n    {regex: /(?:abstract|alignof|as|async|await|box|break|continue|const|crate|do|dyn|else|enum|extern|fn|for|final|if|impl|in|loop|macro|match|mod|move|offsetof|override|priv|proc|pub|pure|ref|return|self|sizeof|static|struct|super|trait|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\\b/, token: \"keyword\"},\n    {regex: /\\b(?:Self|isize|usize|char|bool|u8|u16|u32|u64|f16|f32|f64|i8|i16|i32|i64|str|Option)\\b/, token: \"atom\"},\n    {regex: /\\b(?:true|false|Some|None|Ok|Err)\\b/, token: \"builtin\"},\n    {regex: /\\b(fn)(\\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,\n     token: [\"keyword\", null ,\"def\"]},\n    {regex: /#!?\\[.*\\]/, token: \"meta\"},\n    {regex: /\\/\\/.*/, token: \"comment\"},\n    {regex: /\\/\\*/, token: \"comment\", next: \"comment\"},\n    {regex: /[-+\\/*=<>!]+/, token: \"operator\"},\n    {regex: /[a-zA-Z_]\\w*!/,token: \"variable-3\"},\n    {regex: /[a-zA-Z_]\\w*/, token: \"variable\"},\n    {regex: /[\\{\\[\\(]/, indent: true},\n    {regex: /[\\}\\]\\)]/, dedent: true}\n  ],\n  string: [\n    {regex: /\"/, token: \"string\", next: \"start\"},\n    {regex: /(?:[^\\\\\"]|\\\\(?:.|$))*/, token: \"string\"}\n  ],\n  string_raw: [\n    {regex: /\"/, token: \"string\", next: \"start\"},\n    {regex: /[^\"]*/, token: \"string\"}\n  ],\n  string_raw_hash: [\n    {regex: /\"#+/, token: \"string\", next: \"start\"},\n    {regex: /(?:[^\"]|\"(?!#))*/, token: \"string\"}\n  ],\n  comment: [\n    {regex: /.*?\\*\\//, token: \"comment\", next: \"start\"},\n    {regex: /.*/, token: \"comment\"}\n  ],\n  meta: {\n    dontIndentStates: [\"comment\"],\n    electricInput: /^\\s*\\}$/,\n    blockCommentStart: \"/*\",\n    blockCommentEnd: \"*/\",\n    lineComment: \"//\",\n    fold: \"brace\"\n  }\n});\n\n\nCodeMirror.defineMIME(\"text/x-rustsrc\", \"rust\");\nCodeMirror.defineMIME(\"text/rust\", \"rust\");\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineSimpleMode = function(name, states) {\n    CodeMirror.defineMode(name, function(config) {\n      return CodeMirror.simpleMode(config, states);\n    });\n  };\n\n  CodeMirror.simpleMode = function(config, states) {\n    ensureState(states, \"start\");\n    var states_ = {}, meta = states.meta || {}, hasIndentation = false;\n    for (var state in states) if (state != meta && states.hasOwnProperty(state)) {\n      var list = states_[state] = [], orig = states[state];\n      for (var i = 0; i < orig.length; i++) {\n        var data = orig[i];\n        list.push(new Rule(data, states));\n        if (data.indent || data.dedent) hasIndentation = true;\n      }\n    }\n    var mode = {\n      startState: function() {\n        return {state: \"start\", pending: null,\n                local: null, localState: null,\n                indent: hasIndentation ? [] : null};\n      },\n      copyState: function(state) {\n        var s = {state: state.state, pending: state.pending,\n                 local: state.local, localState: null,\n                 indent: state.indent && state.indent.slice(0)};\n        if (state.localState)\n          s.localState = CodeMirror.copyState(state.local.mode, state.localState);\n        if (state.stack)\n          s.stack = state.stack.slice(0);\n        for (var pers = state.persistentStates; pers; pers = pers.next)\n          s.persistentStates = {mode: pers.mode,\n                                spec: pers.spec,\n                                state: pers.state == state.localState ? s.localState : CodeMirror.copyState(pers.mode, pers.state),\n                                next: s.persistentStates};\n        return s;\n      },\n      token: tokenFunction(states_, config),\n      innerMode: function(state) { return state.local && {mode: state.local.mode, state: state.localState}; },\n      indent: indentFunction(states_, meta)\n    };\n    if (meta) for (var prop in meta) if (meta.hasOwnProperty(prop))\n      mode[prop] = meta[prop];\n    return mode;\n  };\n\n  function ensureState(states, name) {\n    if (!states.hasOwnProperty(name))\n      throw new Error(\"Undefined state \" + name + \" in simple mode\");\n  }\n\n  function toRegex(val, caret) {\n    if (!val) return /(?:)/;\n    var flags = \"\";\n    if (val instanceof RegExp) {\n      if (val.ignoreCase) flags = \"i\";\n      if (val.unicode) flags += \"u\"\n      val = val.source;\n    } else {\n      val = String(val);\n    }\n    return new RegExp((caret === false ? \"\" : \"^\") + \"(?:\" + val + \")\", flags);\n  }\n\n  function asToken(val) {\n    if (!val) return null;\n    if (val.apply) return val\n    if (typeof val == \"string\") return val.replace(/\\./g, \" \");\n    var result = [];\n    for (var i = 0; i < val.length; i++)\n      result.push(val[i] && val[i].replace(/\\./g, \" \"));\n    return result;\n  }\n\n  function Rule(data, states) {\n    if (data.next || data.push) ensureState(states, data.next || data.push);\n    this.regex = toRegex(data.regex);\n    this.token = asToken(data.token);\n    this.data = data;\n  }\n\n  function tokenFunction(states, config) {\n    return function(stream, state) {\n      if (state.pending) {\n        var pend = state.pending.shift();\n        if (state.pending.length == 0) state.pending = null;\n        stream.pos += pend.text.length;\n        return pend.token;\n      }\n\n      if (state.local) {\n        if (state.local.end && stream.match(state.local.end)) {\n          var tok = state.local.endToken || null;\n          state.local = state.localState = null;\n          return tok;\n        } else {\n          var tok = state.local.mode.token(stream, state.localState), m;\n          if (state.local.endScan && (m = state.local.endScan.exec(stream.current())))\n            stream.pos = stream.start + m.index;\n          return tok;\n        }\n      }\n\n      var curState = states[state.state];\n      for (var i = 0; i < curState.length; i++) {\n        var rule = curState[i];\n        var matches = (!rule.data.sol || stream.sol()) && stream.match(rule.regex);\n        if (matches) {\n          if (rule.data.next) {\n            state.state = rule.data.next;\n          } else if (rule.data.push) {\n            (state.stack || (state.stack = [])).push(state.state);\n            state.state = rule.data.push;\n          } else if (rule.data.pop && state.stack && state.stack.length) {\n            state.state = state.stack.pop();\n          }\n\n          if (rule.data.mode)\n            enterLocalMode(config, state, rule.data.mode, rule.token);\n          if (rule.data.indent)\n            state.indent.push(stream.indentation() + config.indentUnit);\n          if (rule.data.dedent)\n            state.indent.pop();\n          var token = rule.token\n          if (token && token.apply) token = token(matches)\n          if (matches.length > 2 && rule.token && typeof rule.token != \"string\") {\n            for (var j = 2; j < matches.length; j++)\n              if (matches[j])\n                (state.pending || (state.pending = [])).push({text: matches[j], token: rule.token[j - 1]});\n            stream.backUp(matches[0].length - (matches[1] ? matches[1].length : 0));\n            return token[0];\n          } else if (token && token.join) {\n            return token[0];\n          } else {\n            return token;\n          }\n        }\n      }\n      stream.next();\n      return null;\n    };\n  }\n\n  function cmp(a, b) {\n    if (a === b) return true;\n    if (!a || typeof a != \"object\" || !b || typeof b != \"object\") return false;\n    var props = 0;\n    for (var prop in a) if (a.hasOwnProperty(prop)) {\n      if (!b.hasOwnProperty(prop) || !cmp(a[prop], b[prop])) return false;\n      props++;\n    }\n    for (var prop in b) if (b.hasOwnProperty(prop)) props--;\n    return props == 0;\n  }\n\n  function enterLocalMode(config, state, spec, token) {\n    var pers;\n    if (spec.persistent) for (var p = state.persistentStates; p && !pers; p = p.next)\n      if (spec.spec ? cmp(spec.spec, p.spec) : spec.mode == p.mode) pers = p;\n    var mode = pers ? pers.mode : spec.mode || CodeMirror.getMode(config, spec.spec);\n    var lState = pers ? pers.state : CodeMirror.startState(mode);\n    if (spec.persistent && !pers)\n      state.persistentStates = {mode: mode, spec: spec.spec, state: lState, next: state.persistentStates};\n\n    state.localState = lState;\n    state.local = {mode: mode,\n                   end: spec.end && toRegex(spec.end),\n                   endScan: spec.end && spec.forceEnd !== false && toRegex(spec.end, false),\n                   endToken: token && token.join ? token[token.length - 1] : token};\n  }\n\n  function indexOf(val, arr) {\n    for (var i = 0; i < arr.length; i++) if (arr[i] === val) return true;\n  }\n\n  function indentFunction(states, meta) {\n    return function(state, textAfter, line) {\n      if (state.local && state.local.mode.indent)\n        return state.local.mode.indent(state.localState, textAfter, line);\n      if (state.indent == null || state.local || meta.dontIndentStates && indexOf(state.state, meta.dontIndentStates) > -1)\n        return CodeMirror.Pass;\n\n      var pos = state.indent.length - 1, rules = states[state.state];\n      scan: for (;;) {\n        for (var i = 0; i < rules.length; i++) {\n          var rule = rules[i];\n          if (rule.data.dedent && rule.data.dedentIfLineStart !== false) {\n            var m = rule.regex.exec(textAfter);\n            if (m && m[0]) {\n              pos--;\n              if (rule.next || rule.push) rules = states[rule.next || rule.push];\n              textAfter = textAfter.slice(m[0].length);\n              continue scan;\n            }\n          }\n        }\n        break;\n      }\n      return pos < 0 ? 0 : state.indent[pos];\n    };\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nfunction wordObj(words) {\n  var o = {};\n  for (var i = 0, e = words.length; i < e; ++i) o[words[i]] = true;\n  return o;\n}\n\nvar keywordList = [\n  \"alias\", \"and\", \"BEGIN\", \"begin\", \"break\", \"case\", \"class\", \"def\", \"defined?\", \"do\", \"else\",\n  \"elsif\", \"END\", \"end\", \"ensure\", \"false\", \"for\", \"if\", \"in\", \"module\", \"next\", \"not\", \"or\",\n  \"redo\", \"rescue\", \"retry\", \"return\", \"self\", \"super\", \"then\", \"true\", \"undef\", \"unless\",\n  \"until\", \"when\", \"while\", \"yield\", \"nil\", \"raise\", \"throw\", \"catch\", \"fail\", \"loop\", \"callcc\",\n  \"caller\", \"lambda\", \"proc\", \"public\", \"protected\", \"private\", \"require\", \"load\",\n  \"require_relative\", \"extend\", \"autoload\", \"__END__\", \"__FILE__\", \"__LINE__\", \"__dir__\"\n], keywords = wordObj(keywordList);\n\nvar indentWords = wordObj([\"def\", \"class\", \"case\", \"for\", \"while\", \"until\", \"module\", \"then\",\n                           \"catch\", \"loop\", \"proc\", \"begin\"]);\nvar dedentWords = wordObj([\"end\", \"until\"]);\nvar opening = {\"[\": \"]\", \"{\": \"}\", \"(\": \")\"};\nvar closing = {\"]\": \"[\", \"}\": \"{\", \")\": \"(\"};\n\nCodeMirror.defineMode(\"ruby\", function(config) {\n  var curPunc;\n\n  function chain(newtok, stream, state) {\n    state.tokenize.push(newtok);\n    return newtok(stream, state);\n  }\n\n  function tokenBase(stream, state) {\n    if (stream.sol() && stream.match(\"=begin\") && stream.eol()) {\n      state.tokenize.push(readBlockComment);\n      return \"comment\";\n    }\n    if (stream.eatSpace()) return null;\n    var ch = stream.next(), m;\n    if (ch == \"`\" || ch == \"'\" || ch == '\"') {\n      return chain(readQuoted(ch, \"string\", ch == '\"' || ch == \"`\"), stream, state);\n    } else if (ch == \"/\") {\n      if (regexpAhead(stream))\n        return chain(readQuoted(ch, \"string-2\", true), stream, state);\n      else\n        return \"operator\";\n    } else if (ch == \"%\") {\n      var style = \"string\", embed = true;\n      if (stream.eat(\"s\")) style = \"atom\";\n      else if (stream.eat(/[WQ]/)) style = \"string\";\n      else if (stream.eat(/[r]/)) style = \"string-2\";\n      else if (stream.eat(/[wxq]/)) { style = \"string\"; embed = false; }\n      var delim = stream.eat(/[^\\w\\s=]/);\n      if (!delim) return \"operator\";\n      if (opening.propertyIsEnumerable(delim)) delim = opening[delim];\n      return chain(readQuoted(delim, style, embed, true), stream, state);\n    } else if (ch == \"#\") {\n      stream.skipToEnd();\n      return \"comment\";\n    } else if (ch == \"<\" && (m = stream.match(/^<([-~])[\\`\\\"\\']?([a-zA-Z_?]\\w*)[\\`\\\"\\']?(?:;|$)/))) {\n      return chain(readHereDoc(m[2], m[1]), stream, state);\n    } else if (ch == \"0\") {\n      if (stream.eat(\"x\")) stream.eatWhile(/[\\da-fA-F]/);\n      else if (stream.eat(\"b\")) stream.eatWhile(/[01]/);\n      else stream.eatWhile(/[0-7]/);\n      return \"number\";\n    } else if (/\\d/.test(ch)) {\n      stream.match(/^[\\d_]*(?:\\.[\\d_]+)?(?:[eE][+\\-]?[\\d_]+)?/);\n      return \"number\";\n    } else if (ch == \"?\") {\n      while (stream.match(/^\\\\[CM]-/)) {}\n      if (stream.eat(\"\\\\\")) stream.eatWhile(/\\w/);\n      else stream.next();\n      return \"string\";\n    } else if (ch == \":\") {\n      if (stream.eat(\"'\")) return chain(readQuoted(\"'\", \"atom\", false), stream, state);\n      if (stream.eat('\"')) return chain(readQuoted('\"', \"atom\", true), stream, state);\n\n      // :> :>> :< :<< are valid symbols\n      if (stream.eat(/[\\<\\>]/)) {\n        stream.eat(/[\\<\\>]/);\n        return \"atom\";\n      }\n\n      // :+ :- :/ :* :| :& :! are valid symbols\n      if (stream.eat(/[\\+\\-\\*\\/\\&\\|\\:\\!]/)) {\n        return \"atom\";\n      }\n\n      // Symbols can't start by a digit\n      if (stream.eat(/[a-zA-Z$@_\\xa1-\\uffff]/)) {\n        stream.eatWhile(/[\\w$\\xa1-\\uffff]/);\n        // Only one ? ! = is allowed and only as the last character\n        stream.eat(/[\\?\\!\\=]/);\n        return \"atom\";\n      }\n      return \"operator\";\n    } else if (ch == \"@\" && stream.match(/^@?[a-zA-Z_\\xa1-\\uffff]/)) {\n      stream.eat(\"@\");\n      stream.eatWhile(/[\\w\\xa1-\\uffff]/);\n      return \"variable-2\";\n    } else if (ch == \"$\") {\n      if (stream.eat(/[a-zA-Z_]/)) {\n        stream.eatWhile(/[\\w]/);\n      } else if (stream.eat(/\\d/)) {\n        stream.eat(/\\d/);\n      } else {\n        stream.next(); // Must be a special global like $: or $!\n      }\n      return \"variable-3\";\n    } else if (/[a-zA-Z_\\xa1-\\uffff]/.test(ch)) {\n      stream.eatWhile(/[\\w\\xa1-\\uffff]/);\n      stream.eat(/[\\?\\!]/);\n      if (stream.eat(\":\")) return \"atom\";\n      return \"ident\";\n    } else if (ch == \"|\" && (state.varList || state.lastTok == \"{\" || state.lastTok == \"do\")) {\n      curPunc = \"|\";\n      return null;\n    } else if (/[\\(\\)\\[\\]{}\\\\;]/.test(ch)) {\n      curPunc = ch;\n      return null;\n    } else if (ch == \"-\" && stream.eat(\">\")) {\n      return \"arrow\";\n    } else if (/[=+\\-\\/*:\\.^%<>~|]/.test(ch)) {\n      var more = stream.eatWhile(/[=+\\-\\/*:\\.^%<>~|]/);\n      if (ch == \".\" && !more) curPunc = \".\";\n      return \"operator\";\n    } else {\n      return null;\n    }\n  }\n\n  function regexpAhead(stream) {\n    var start = stream.pos, depth = 0, next, found = false, escaped = false\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (\"[{(\".indexOf(next) > -1) {\n          depth++\n        } else if (\"]})\".indexOf(next) > -1) {\n          depth--\n          if (depth < 0) break\n        } else if (next == \"/\" && depth == 0) {\n          found = true\n          break\n        }\n        escaped = next == \"\\\\\"\n      } else {\n        escaped = false\n      }\n    }\n    stream.backUp(stream.pos - start)\n    return found\n  }\n\n  function tokenBaseUntilBrace(depth) {\n    if (!depth) depth = 1;\n    return function(stream, state) {\n      if (stream.peek() == \"}\") {\n        if (depth == 1) {\n          state.tokenize.pop();\n          return state.tokenize[state.tokenize.length-1](stream, state);\n        } else {\n          state.tokenize[state.tokenize.length - 1] = tokenBaseUntilBrace(depth - 1);\n        }\n      } else if (stream.peek() == \"{\") {\n        state.tokenize[state.tokenize.length - 1] = tokenBaseUntilBrace(depth + 1);\n      }\n      return tokenBase(stream, state);\n    };\n  }\n  function tokenBaseOnce() {\n    var alreadyCalled = false;\n    return function(stream, state) {\n      if (alreadyCalled) {\n        state.tokenize.pop();\n        return state.tokenize[state.tokenize.length-1](stream, state);\n      }\n      alreadyCalled = true;\n      return tokenBase(stream, state);\n    };\n  }\n  function readQuoted(quote, style, embed, unescaped) {\n    return function(stream, state) {\n      var escaped = false, ch;\n\n      if (state.context.type === 'read-quoted-paused') {\n        state.context = state.context.prev;\n        stream.eat(\"}\");\n      }\n\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && (unescaped || !escaped)) {\n          state.tokenize.pop();\n          break;\n        }\n        if (embed && ch == \"#\" && !escaped) {\n          if (stream.eat(\"{\")) {\n            if (quote == \"}\") {\n              state.context = {prev: state.context, type: 'read-quoted-paused'};\n            }\n            state.tokenize.push(tokenBaseUntilBrace());\n            break;\n          } else if (/[@\\$]/.test(stream.peek())) {\n            state.tokenize.push(tokenBaseOnce());\n            break;\n          }\n        }\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      return style;\n    };\n  }\n  function readHereDoc(phrase, mayIndent) {\n    return function(stream, state) {\n      if (mayIndent) stream.eatSpace()\n      if (stream.match(phrase)) state.tokenize.pop();\n      else stream.skipToEnd();\n      return \"string\";\n    };\n  }\n  function readBlockComment(stream, state) {\n    if (stream.sol() && stream.match(\"=end\") && stream.eol())\n      state.tokenize.pop();\n    stream.skipToEnd();\n    return \"comment\";\n  }\n\n  return {\n    startState: function() {\n      return {tokenize: [tokenBase],\n              indented: 0,\n              context: {type: \"top\", indented: -config.indentUnit},\n              continuedLine: false,\n              lastTok: null,\n              varList: false};\n    },\n\n    token: function(stream, state) {\n      curPunc = null;\n      if (stream.sol()) state.indented = stream.indentation();\n      var style = state.tokenize[state.tokenize.length-1](stream, state), kwtype;\n      var thisTok = curPunc;\n      if (style == \"ident\") {\n        var word = stream.current();\n        style = state.lastTok == \".\" ? \"property\"\n          : keywords.propertyIsEnumerable(stream.current()) ? \"keyword\"\n          : /^[A-Z]/.test(word) ? \"tag\"\n          : (state.lastTok == \"def\" || state.lastTok == \"class\" || state.varList) ? \"def\"\n          : \"variable\";\n        if (style == \"keyword\") {\n          thisTok = word;\n          if (indentWords.propertyIsEnumerable(word)) kwtype = \"indent\";\n          else if (dedentWords.propertyIsEnumerable(word)) kwtype = \"dedent\";\n          else if ((word == \"if\" || word == \"unless\") && stream.column() == stream.indentation())\n            kwtype = \"indent\";\n          else if (word == \"do\" && state.context.indented < state.indented)\n            kwtype = \"indent\";\n        }\n      }\n      if (curPunc || (style && style != \"comment\")) state.lastTok = thisTok;\n      if (curPunc == \"|\") state.varList = !state.varList;\n\n      if (kwtype == \"indent\" || /[\\(\\[\\{]/.test(curPunc))\n        state.context = {prev: state.context, type: curPunc || style, indented: state.indented};\n      else if ((kwtype == \"dedent\" || /[\\)\\]\\}]/.test(curPunc)) && state.context.prev)\n        state.context = state.context.prev;\n\n      if (stream.eol())\n        state.continuedLine = (curPunc == \"\\\\\" || style == \"operator\");\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize[state.tokenize.length-1] != tokenBase) return CodeMirror.Pass;\n      var firstChar = textAfter && textAfter.charAt(0);\n      var ct = state.context;\n      var closed = ct.type == closing[firstChar] ||\n        ct.type == \"keyword\" && /^(?:end|until|else|elsif|when|rescue)\\b/.test(textAfter);\n      return ct.indented + (closed ? 0 : config.indentUnit) +\n        (state.continuedLine ? config.indentUnit : 0);\n    },\n\n    electricInput: /^\\s*(?:end|rescue|elsif|else|\\})$/,\n    lineComment: \"#\",\n    fold: \"indent\"\n  };\n});\n\nCodeMirror.defineMIME(\"text/x-ruby\", \"ruby\");\n\nCodeMirror.registerHelper(\"hintWords\", \"ruby\", keywordList);\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../htmlmixed/htmlmixed\"), require(\"../clike/clike\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../htmlmixed/htmlmixed\", \"../clike/clike\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function keywords(str) {\n    var obj = {}, words = str.split(\" \");\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n    return obj;\n  }\n\n  // Helper for phpString\n  function matchSequence(list, end, escapes) {\n    if (list.length == 0) return phpString(end);\n    return function (stream, state) {\n      var patterns = list[0];\n      for (var i = 0; i < patterns.length; i++) if (stream.match(patterns[i][0])) {\n        state.tokenize = matchSequence(list.slice(1), end);\n        return patterns[i][1];\n      }\n      state.tokenize = phpString(end, escapes);\n      return \"string\";\n    };\n  }\n  function phpString(closing, escapes) {\n    return function(stream, state) { return phpString_(stream, state, closing, escapes); };\n  }\n  function phpString_(stream, state, closing, escapes) {\n    // \"Complex\" syntax\n    if (escapes !== false && stream.match(\"${\", false) || stream.match(\"{$\", false)) {\n      state.tokenize = null;\n      return \"string\";\n    }\n\n    // Simple syntax\n    if (escapes !== false && stream.match(/^\\$[a-zA-Z_][a-zA-Z0-9_]*/)) {\n      // After the variable name there may appear array or object operator.\n      if (stream.match(\"[\", false)) {\n        // Match array operator\n        state.tokenize = matchSequence([\n          [[\"[\", null]],\n          [[/\\d[\\w\\.]*/, \"number\"],\n           [/\\$[a-zA-Z_][a-zA-Z0-9_]*/, \"variable-2\"],\n           [/[\\w\\$]+/, \"variable\"]],\n          [[\"]\", null]]\n        ], closing, escapes);\n      }\n      if (stream.match(/^->\\w/, false)) {\n        // Match object operator\n        state.tokenize = matchSequence([\n          [[\"->\", null]],\n          [[/[\\w]+/, \"variable\"]]\n        ], closing, escapes);\n      }\n      return \"variable-2\";\n    }\n\n    var escaped = false;\n    // Normal string\n    while (!stream.eol() &&\n           (escaped || escapes === false ||\n            (!stream.match(\"{$\", false) &&\n             !stream.match(/^(\\$[a-zA-Z_][a-zA-Z0-9_]*|\\$\\{)/, false)))) {\n      if (!escaped && stream.match(closing)) {\n        state.tokenize = null;\n        state.tokStack.pop(); state.tokStack.pop();\n        break;\n      }\n      escaped = stream.next() == \"\\\\\" && !escaped;\n    }\n    return \"string\";\n  }\n\n  var phpKeywords = \"abstract and array as break case catch class clone const continue declare default \" +\n    \"do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final \" +\n    \"for foreach function global goto if implements interface instanceof namespace \" +\n    \"new or private protected public static switch throw trait try use var while xor \" +\n    \"die echo empty exit eval include include_once isset list require require_once return \" +\n    \"print unset __halt_compiler self static parent yield insteadof finally\";\n  var phpAtoms = \"true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__\";\n  var phpBuiltin = \"func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage memory_get_peak_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents file_put_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists array_intersect_key array_combine array_column pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once json_decode json_encode json_last_error json_last_error_msg curl_close curl_copy_handle curl_errno curl_error curl_escape curl_exec curl_file_create curl_getinfo curl_init curl_multi_add_handle curl_multi_close curl_multi_exec curl_multi_getcontent curl_multi_info_read curl_multi_init curl_multi_remove_handle curl_multi_select curl_multi_setopt curl_multi_strerror curl_pause curl_reset curl_setopt_array curl_setopt curl_share_close curl_share_init curl_share_setopt curl_strerror curl_unescape curl_version mysqli_affected_rows mysqli_autocommit mysqli_change_user mysqli_character_set_name mysqli_close mysqli_commit mysqli_connect_errno mysqli_connect_error mysqli_connect mysqli_data_seek mysqli_debug mysqli_dump_debug_info mysqli_errno mysqli_error_list mysqli_error mysqli_fetch_all mysqli_fetch_array mysqli_fetch_assoc mysqli_fetch_field_direct mysqli_fetch_field mysqli_fetch_fields mysqli_fetch_lengths mysqli_fetch_object mysqli_fetch_row mysqli_field_count mysqli_field_seek mysqli_field_tell mysqli_free_result mysqli_get_charset mysqli_get_client_info mysqli_get_client_stats mysqli_get_client_version mysqli_get_connection_stats mysqli_get_host_info mysqli_get_proto_info mysqli_get_server_info mysqli_get_server_version mysqli_info mysqli_init mysqli_insert_id mysqli_kill mysqli_more_results mysqli_multi_query mysqli_next_result mysqli_num_fields mysqli_num_rows mysqli_options mysqli_ping mysqli_prepare mysqli_query mysqli_real_connect mysqli_real_escape_string mysqli_real_query mysqli_reap_async_query mysqli_refresh mysqli_rollback mysqli_select_db mysqli_set_charset mysqli_set_local_infile_default mysqli_set_local_infile_handler mysqli_sqlstate mysqli_ssl_set mysqli_stat mysqli_stmt_init mysqli_store_result mysqli_thread_id mysqli_thread_safe mysqli_use_result mysqli_warning_count\";\n  CodeMirror.registerHelper(\"hintWords\", \"php\", [phpKeywords, phpAtoms, phpBuiltin].join(\" \").split(\" \"));\n  CodeMirror.registerHelper(\"wordChars\", \"php\", /[\\w$]/);\n\n  var phpConfig = {\n    name: \"clike\",\n    helperType: \"php\",\n    keywords: keywords(phpKeywords),\n    blockKeywords: keywords(\"catch do else elseif for foreach if switch try while finally\"),\n    defKeywords: keywords(\"class function interface namespace trait\"),\n    atoms: keywords(phpAtoms),\n    builtin: keywords(phpBuiltin),\n    multiLineStrings: true,\n    hooks: {\n      \"$\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"variable-2\";\n      },\n      \"<\": function(stream, state) {\n        var before;\n        if (before = stream.match(/^<<\\s*/)) {\n          var quoted = stream.eat(/['\"]/);\n          stream.eatWhile(/[\\w\\.]/);\n          var delim = stream.current().slice(before[0].length + (quoted ? 2 : 1));\n          if (quoted) stream.eat(quoted);\n          if (delim) {\n            (state.tokStack || (state.tokStack = [])).push(delim, 0);\n            state.tokenize = phpString(delim, quoted != \"'\");\n            return \"string\";\n          }\n        }\n        return false;\n      },\n      \"#\": function(stream) {\n        while (!stream.eol() && !stream.match(\"?>\", false)) stream.next();\n        return \"comment\";\n      },\n      \"/\": function(stream) {\n        if (stream.eat(\"/\")) {\n          while (!stream.eol() && !stream.match(\"?>\", false)) stream.next();\n          return \"comment\";\n        }\n        return false;\n      },\n      '\"': function(_stream, state) {\n        (state.tokStack || (state.tokStack = [])).push('\"', 0);\n        state.tokenize = phpString('\"');\n        return \"string\";\n      },\n      \"{\": function(_stream, state) {\n        if (state.tokStack && state.tokStack.length)\n          state.tokStack[state.tokStack.length - 1]++;\n        return false;\n      },\n      \"}\": function(_stream, state) {\n        if (state.tokStack && state.tokStack.length > 0 &&\n            !--state.tokStack[state.tokStack.length - 1]) {\n          state.tokenize = phpString(state.tokStack[state.tokStack.length - 2]);\n        }\n        return false;\n      }\n    }\n  };\n\n  CodeMirror.defineMode(\"php\", function(config, parserConfig) {\n    var htmlMode = CodeMirror.getMode(config, (parserConfig && parserConfig.htmlMode) || \"text/html\");\n    var phpMode = CodeMirror.getMode(config, phpConfig);\n\n    function dispatch(stream, state) {\n      var isPHP = state.curMode == phpMode;\n      if (stream.sol() && state.pending && state.pending != '\"' && state.pending != \"'\") state.pending = null;\n      if (!isPHP) {\n        if (stream.match(/^<\\?\\w*/)) {\n          state.curMode = phpMode;\n          if (!state.php) state.php = CodeMirror.startState(phpMode, htmlMode.indent(state.html, \"\", \"\"))\n          state.curState = state.php;\n          return \"meta\";\n        }\n        if (state.pending == '\"' || state.pending == \"'\") {\n          while (!stream.eol() && stream.next() != state.pending) {}\n          var style = \"string\";\n        } else if (state.pending && stream.pos < state.pending.end) {\n          stream.pos = state.pending.end;\n          var style = state.pending.style;\n        } else {\n          var style = htmlMode.token(stream, state.curState);\n        }\n        if (state.pending) state.pending = null;\n        var cur = stream.current(), openPHP = cur.search(/<\\?/), m;\n        if (openPHP != -1) {\n          if (style == \"string\" && (m = cur.match(/[\\'\\\"]$/)) && !/\\?>/.test(cur)) state.pending = m[0];\n          else state.pending = {end: stream.pos, style: style};\n          stream.backUp(cur.length - openPHP);\n        }\n        return style;\n      } else if (isPHP && state.php.tokenize == null && stream.match(\"?>\")) {\n        state.curMode = htmlMode;\n        state.curState = state.html;\n        if (!state.php.context.prev) state.php = null;\n        return \"meta\";\n      } else {\n        return phpMode.token(stream, state.curState);\n      }\n    }\n\n    return {\n      startState: function() {\n        var html = CodeMirror.startState(htmlMode)\n        var php = parserConfig.startOpen ? CodeMirror.startState(phpMode) : null\n        return {html: html,\n                php: php,\n                curMode: parserConfig.startOpen ? phpMode : htmlMode,\n                curState: parserConfig.startOpen ? php : html,\n                pending: null};\n      },\n\n      copyState: function(state) {\n        var html = state.html, htmlNew = CodeMirror.copyState(htmlMode, html),\n            php = state.php, phpNew = php && CodeMirror.copyState(phpMode, php), cur;\n        if (state.curMode == htmlMode) cur = htmlNew;\n        else cur = phpNew;\n        return {html: htmlNew, php: phpNew, curMode: state.curMode, curState: cur,\n                pending: state.pending};\n      },\n\n      token: dispatch,\n\n      indent: function(state, textAfter, line) {\n        if ((state.curMode != phpMode && /^\\s*<\\//.test(textAfter)) ||\n            (state.curMode == phpMode && /^\\?>/.test(textAfter)))\n          return htmlMode.indent(state.html, textAfter, line);\n        return state.curMode.indent(state.curState, textAfter, line);\n      },\n\n      blockCommentStart: \"/*\",\n      blockCommentEnd: \"*/\",\n      lineComment: \"//\",\n\n      innerMode: function(state) { return {state: state.curState, mode: state.curMode}; }\n    };\n  }, \"htmlmixed\", \"clike\");\n\n  CodeMirror.defineMIME(\"application/x-httpd-php\", \"php\");\n  CodeMirror.defineMIME(\"application/x-httpd-php-open\", {name: \"php\", startOpen: true});\n  CodeMirror.defineMIME(\"text/x-php\", phpConfig);\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../javascript/javascript\"), require(\"../css/css\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../javascript/javascript\", \"../css/css\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var defaultTags = {\n    script: [\n      [\"lang\", /(javascript|babel)/i, \"javascript\"],\n      [\"type\", /^(?:text|application)\\/(?:x-)?(?:java|ecma)script$|^module$|^$/i, \"javascript\"],\n      [\"type\", /./, \"text/plain\"],\n      [null, null, \"javascript\"]\n    ],\n    style:  [\n      [\"lang\", /^css$/i, \"css\"],\n      [\"type\", /^(text\\/)?(x-)?(stylesheet|css)$/i, \"css\"],\n      [\"type\", /./, \"text/plain\"],\n      [null, null, \"css\"]\n    ]\n  };\n\n  function maybeBackup(stream, pat, style) {\n    var cur = stream.current(), close = cur.search(pat);\n    if (close > -1) {\n      stream.backUp(cur.length - close);\n    } else if (cur.match(/<\\/?$/)) {\n      stream.backUp(cur.length);\n      if (!stream.match(pat, false)) stream.match(cur);\n    }\n    return style;\n  }\n\n  var attrRegexpCache = {};\n  function getAttrRegexp(attr) {\n    var regexp = attrRegexpCache[attr];\n    if (regexp) return regexp;\n    return attrRegexpCache[attr] = new RegExp(\"\\\\s+\" + attr + \"\\\\s*=\\\\s*('|\\\")?([^'\\\"]+)('|\\\")?\\\\s*\");\n  }\n\n  function getAttrValue(text, attr) {\n    var match = text.match(getAttrRegexp(attr))\n    return match ? /^\\s*(.*?)\\s*$/.exec(match[2])[1] : \"\"\n  }\n\n  function getTagRegexp(tagName, anchored) {\n    return new RegExp((anchored ? \"^\" : \"\") + \"<\\/\\s*\" + tagName + \"\\s*>\", \"i\");\n  }\n\n  function addTags(from, to) {\n    for (var tag in from) {\n      var dest = to[tag] || (to[tag] = []);\n      var source = from[tag];\n      for (var i = source.length - 1; i >= 0; i--)\n        dest.unshift(source[i])\n    }\n  }\n\n  function findMatchingMode(tagInfo, tagText) {\n    for (var i = 0; i < tagInfo.length; i++) {\n      var spec = tagInfo[i];\n      if (!spec[0] || spec[1].test(getAttrValue(tagText, spec[0]))) return spec[2];\n    }\n  }\n\n  CodeMirror.defineMode(\"htmlmixed\", function (config, parserConfig) {\n    var htmlMode = CodeMirror.getMode(config, {\n      name: \"xml\",\n      htmlMode: true,\n      multilineTagIndentFactor: parserConfig.multilineTagIndentFactor,\n      multilineTagIndentPastTag: parserConfig.multilineTagIndentPastTag,\n      allowMissingTagName: parserConfig.allowMissingTagName,\n    });\n\n    var tags = {};\n    var configTags = parserConfig && parserConfig.tags, configScript = parserConfig && parserConfig.scriptTypes;\n    addTags(defaultTags, tags);\n    if (configTags) addTags(configTags, tags);\n    if (configScript) for (var i = configScript.length - 1; i >= 0; i--)\n      tags.script.unshift([\"type\", configScript[i].matches, configScript[i].mode])\n\n    function html(stream, state) {\n      var style = htmlMode.token(stream, state.htmlState), tag = /\\btag\\b/.test(style), tagName\n      if (tag && !/[<>\\s\\/]/.test(stream.current()) &&\n          (tagName = state.htmlState.tagName && state.htmlState.tagName.toLowerCase()) &&\n          tags.hasOwnProperty(tagName)) {\n        state.inTag = tagName + \" \"\n      } else if (state.inTag && tag && />$/.test(stream.current())) {\n        var inTag = /^([\\S]+) (.*)/.exec(state.inTag)\n        state.inTag = null\n        var modeSpec = stream.current() == \">\" && findMatchingMode(tags[inTag[1]], inTag[2])\n        var mode = CodeMirror.getMode(config, modeSpec)\n        var endTagA = getTagRegexp(inTag[1], true), endTag = getTagRegexp(inTag[1], false);\n        state.token = function (stream, state) {\n          if (stream.match(endTagA, false)) {\n            state.token = html;\n            state.localState = state.localMode = null;\n            return null;\n          }\n          return maybeBackup(stream, endTag, state.localMode.token(stream, state.localState));\n        };\n        state.localMode = mode;\n        state.localState = CodeMirror.startState(mode, htmlMode.indent(state.htmlState, \"\", \"\"));\n      } else if (state.inTag) {\n        state.inTag += stream.current()\n        if (stream.eol()) state.inTag += \" \"\n      }\n      return style;\n    };\n\n    return {\n      startState: function () {\n        var state = CodeMirror.startState(htmlMode);\n        return {token: html, inTag: null, localMode: null, localState: null, htmlState: state};\n      },\n\n      copyState: function (state) {\n        var local;\n        if (state.localState) {\n          local = CodeMirror.copyState(state.localMode, state.localState);\n        }\n        return {token: state.token, inTag: state.inTag,\n                localMode: state.localMode, localState: local,\n                htmlState: CodeMirror.copyState(htmlMode, state.htmlState)};\n      },\n\n      token: function (stream, state) {\n        return state.token(stream, state);\n      },\n\n      indent: function (state, textAfter, line) {\n        if (!state.localMode || /^\\s*<\\//.test(textAfter))\n          return htmlMode.indent(state.htmlState, textAfter, line);\n        else if (state.localMode.indent)\n          return state.localMode.indent(state.localState, textAfter, line);\n        else\n          return CodeMirror.Pass;\n      },\n\n      innerMode: function (state) {\n        return {state: state.localState || state.htmlState, mode: state.localMode || htmlMode};\n      }\n    };\n  }, \"xml\", \"javascript\", \"css\");\n\n  CodeMirror.defineMIME(\"text/html\", \"htmlmixed\");\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName || \"\";\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(parentTagName) ||\n          !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(state.context.tagName))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(tagName)) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[context.tagName];\n          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    },\n\n    xmlCurrentTag: function(state) {\n      return state.tagName ? {name: state.tagName, close: state.type == \"closeTag\"} : null\n    },\n\n    xmlCurrentContext: function(state) {\n      var context = []\n      for (var cx = state.context; cx; cx = cx.prev)\n        context.push(cx.tagName)\n      return context.reverse()\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"css\", function(config, parserConfig) {\n  var inline = parserConfig.inline\n  if (!parserConfig.propertyKeywords) parserConfig = CodeMirror.resolveMode(\"text/css\");\n\n  var indentUnit = config.indentUnit,\n      tokenHooks = parserConfig.tokenHooks,\n      documentTypes = parserConfig.documentTypes || {},\n      mediaTypes = parserConfig.mediaTypes || {},\n      mediaFeatures = parserConfig.mediaFeatures || {},\n      mediaValueKeywords = parserConfig.mediaValueKeywords || {},\n      propertyKeywords = parserConfig.propertyKeywords || {},\n      nonStandardPropertyKeywords = parserConfig.nonStandardPropertyKeywords || {},\n      fontProperties = parserConfig.fontProperties || {},\n      counterDescriptors = parserConfig.counterDescriptors || {},\n      colorKeywords = parserConfig.colorKeywords || {},\n      valueKeywords = parserConfig.valueKeywords || {},\n      allowNested = parserConfig.allowNested,\n      lineComment = parserConfig.lineComment,\n      supportsAtComponent = parserConfig.supportsAtComponent === true,\n      highlightNonStandardPropertyKeywords = config.highlightNonStandardPropertyKeywords !== false;\n\n  var type, override;\n  function ret(style, tp) { type = tp; return style; }\n\n  // Tokenizers\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (tokenHooks[ch]) {\n      var result = tokenHooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == \"@\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"def\", stream.current());\n    } else if (ch == \"=\" || (ch == \"~\" || ch == \"|\") && stream.eat(\"=\")) {\n      return ret(null, \"compare\");\n    } else if (ch == \"\\\"\" || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \"#\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"atom\", \"hash\");\n    } else if (ch == \"!\") {\n      stream.match(/^\\s*\\w*/);\n      return ret(\"keyword\", \"important\");\n    } else if (/\\d/.test(ch) || ch == \".\" && stream.eat(/\\d/)) {\n      stream.eatWhile(/[\\w.%]/);\n      return ret(\"number\", \"unit\");\n    } else if (ch === \"-\") {\n      if (/[\\d.]/.test(stream.peek())) {\n        stream.eatWhile(/[\\w.%]/);\n        return ret(\"number\", \"unit\");\n      } else if (stream.match(/^-[\\w\\\\\\-]*/)) {\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return ret(\"variable-2\", \"variable-definition\");\n        return ret(\"variable-2\", \"variable\");\n      } else if (stream.match(/^\\w+-/)) {\n        return ret(\"meta\", \"meta\");\n      }\n    } else if (/[,+>*\\/]/.test(ch)) {\n      return ret(null, \"select-op\");\n    } else if (ch == \".\" && stream.match(/^-?[_a-z][_a-z0-9-]*/i)) {\n      return ret(\"qualifier\", \"qualifier\");\n    } else if (/[:;{}\\[\\]\\(\\)]/.test(ch)) {\n      return ret(null, ch);\n    } else if (stream.match(/^[\\w-.]+(?=\\()/)) {\n      if (/^(url(-prefix)?|domain|regexp)$/i.test(stream.current())) {\n        state.tokenize = tokenParenthesized;\n      }\n      return ret(\"variable callee\", \"variable\");\n    } else if (/[\\w\\\\\\-]/.test(ch)) {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"property\", \"word\");\n    } else {\n      return ret(null, null);\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && !escaped) {\n          if (quote == \")\") stream.backUp(1);\n          break;\n        }\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      if (ch == quote || !escaped && quote != \")\") state.tokenize = null;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenParenthesized(stream, state) {\n    stream.next(); // Must be '('\n    if (!stream.match(/^\\s*[\\\"\\')]/, false))\n      state.tokenize = tokenString(\")\");\n    else\n      state.tokenize = null;\n    return ret(null, \"(\");\n  }\n\n  // Context management\n\n  function Context(type, indent, prev) {\n    this.type = type;\n    this.indent = indent;\n    this.prev = prev;\n  }\n\n  function pushContext(state, stream, type, indent) {\n    state.context = new Context(type, stream.indentation() + (indent === false ? 0 : indentUnit), state.context);\n    return type;\n  }\n\n  function popContext(state) {\n    if (state.context.prev)\n      state.context = state.context.prev;\n    return state.context.type;\n  }\n\n  function pass(type, stream, state) {\n    return states[state.context.type](type, stream, state);\n  }\n  function popAndPass(type, stream, state, n) {\n    for (var i = n || 1; i > 0; i--)\n      state.context = state.context.prev;\n    return pass(type, stream, state);\n  }\n\n  // Parser\n\n  function wordAsValue(stream) {\n    var word = stream.current().toLowerCase();\n    if (valueKeywords.hasOwnProperty(word))\n      override = \"atom\";\n    else if (colorKeywords.hasOwnProperty(word))\n      override = \"keyword\";\n    else\n      override = \"variable\";\n  }\n\n  var states = {};\n\n  states.top = function(type, stream, state) {\n    if (type == \"{\") {\n      return pushContext(state, stream, \"block\");\n    } else if (type == \"}\" && state.context.prev) {\n      return popContext(state);\n    } else if (supportsAtComponent && /@component/i.test(type)) {\n      return pushContext(state, stream, \"atComponentBlock\");\n    } else if (/^@(-moz-)?document$/i.test(type)) {\n      return pushContext(state, stream, \"documentTypes\");\n    } else if (/^@(media|supports|(-moz-)?document|import)$/i.test(type)) {\n      return pushContext(state, stream, \"atBlock\");\n    } else if (/^@(font-face|counter-style)/i.test(type)) {\n      state.stateArg = type;\n      return \"restricted_atBlock_before\";\n    } else if (/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(type)) {\n      return \"keyframes\";\n    } else if (type && type.charAt(0) == \"@\") {\n      return pushContext(state, stream, \"at\");\n    } else if (type == \"hash\") {\n      override = \"builtin\";\n    } else if (type == \"word\") {\n      override = \"tag\";\n    } else if (type == \"variable-definition\") {\n      return \"maybeprop\";\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    } else if (type == \":\") {\n      return \"pseudo\";\n    } else if (allowNested && type == \"(\") {\n      return pushContext(state, stream, \"parens\");\n    }\n    return state.context.type;\n  };\n\n  states.block = function(type, stream, state) {\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (propertyKeywords.hasOwnProperty(word)) {\n        override = \"property\";\n        return \"maybeprop\";\n      } else if (nonStandardPropertyKeywords.hasOwnProperty(word)) {\n        override = highlightNonStandardPropertyKeywords ? \"string-2\" : \"property\";\n        return \"maybeprop\";\n      } else if (allowNested) {\n        override = stream.match(/^\\s*:(?:\\s|$)/, false) ? \"property\" : \"tag\";\n        return \"block\";\n      } else {\n        override += \" error\";\n        return \"maybeprop\";\n      }\n    } else if (type == \"meta\") {\n      return \"block\";\n    } else if (!allowNested && (type == \"hash\" || type == \"qualifier\")) {\n      override = \"error\";\n      return \"block\";\n    } else {\n      return states.top(type, stream, state);\n    }\n  };\n\n  states.maybeprop = function(type, stream, state) {\n    if (type == \":\") return pushContext(state, stream, \"prop\");\n    return pass(type, stream, state);\n  };\n\n  states.prop = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" && allowNested) return pushContext(state, stream, \"propBlock\");\n    if (type == \"}\" || type == \"{\") return popAndPass(type, stream, state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n\n    if (type == \"hash\" && !/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(stream.current())) {\n      override += \" error\";\n    } else if (type == \"word\") {\n      wordAsValue(stream);\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    }\n    return \"prop\";\n  };\n\n  states.propBlock = function(type, _stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"word\") { override = \"property\"; return \"maybeprop\"; }\n    return state.context.type;\n  };\n\n  states.parens = function(type, stream, state) {\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \")\") return popContext(state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n    if (type == \"word\") wordAsValue(stream);\n    return \"parens\";\n  };\n\n  states.pseudo = function(type, stream, state) {\n    if (type == \"meta\") return \"pseudo\";\n\n    if (type == \"word\") {\n      override = \"variable-3\";\n      return state.context.type;\n    }\n    return pass(type, stream, state);\n  };\n\n  states.documentTypes = function(type, stream, state) {\n    if (type == \"word\" && documentTypes.hasOwnProperty(stream.current())) {\n      override = \"tag\";\n      return state.context.type;\n    } else {\n      return states.atBlock(type, stream, state);\n    }\n  };\n\n  states.atBlock = function(type, stream, state) {\n    if (type == \"(\") return pushContext(state, stream, \"atBlock_parens\");\n    if (type == \"}\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"{\") return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\");\n\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (word == \"only\" || word == \"not\" || word == \"and\" || word == \"or\")\n        override = \"keyword\";\n      else if (mediaTypes.hasOwnProperty(word))\n        override = \"attribute\";\n      else if (mediaFeatures.hasOwnProperty(word))\n        override = \"property\";\n      else if (mediaValueKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else if (propertyKeywords.hasOwnProperty(word))\n        override = \"property\";\n      else if (nonStandardPropertyKeywords.hasOwnProperty(word))\n        override = highlightNonStandardPropertyKeywords ? \"string-2\" : \"property\";\n      else if (valueKeywords.hasOwnProperty(word))\n        override = \"atom\";\n      else if (colorKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else\n        override = \"error\";\n    }\n    return state.context.type;\n  };\n\n  states.atComponentBlock = function(type, stream, state) {\n    if (type == \"}\")\n      return popAndPass(type, stream, state);\n    if (type == \"{\")\n      return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\", false);\n    if (type == \"word\")\n      override = \"error\";\n    return state.context.type;\n  };\n\n  states.atBlock_parens = function(type, stream, state) {\n    if (type == \")\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state, 2);\n    return states.atBlock(type, stream, state);\n  };\n\n  states.restricted_atBlock_before = function(type, stream, state) {\n    if (type == \"{\")\n      return pushContext(state, stream, \"restricted_atBlock\");\n    if (type == \"word\" && state.stateArg == \"@counter-style\") {\n      override = \"variable\";\n      return \"restricted_atBlock_before\";\n    }\n    return pass(type, stream, state);\n  };\n\n  states.restricted_atBlock = function(type, stream, state) {\n    if (type == \"}\") {\n      state.stateArg = null;\n      return popContext(state);\n    }\n    if (type == \"word\") {\n      if ((state.stateArg == \"@font-face\" && !fontProperties.hasOwnProperty(stream.current().toLowerCase())) ||\n          (state.stateArg == \"@counter-style\" && !counterDescriptors.hasOwnProperty(stream.current().toLowerCase())))\n        override = \"error\";\n      else\n        override = \"property\";\n      return \"maybeprop\";\n    }\n    return \"restricted_atBlock\";\n  };\n\n  states.keyframes = function(type, stream, state) {\n    if (type == \"word\") { override = \"variable\"; return \"keyframes\"; }\n    if (type == \"{\") return pushContext(state, stream, \"top\");\n    return pass(type, stream, state);\n  };\n\n  states.at = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"tag\";\n    else if (type == \"hash\") override = \"builtin\";\n    return \"at\";\n  };\n\n  states.interpolation = function(type, stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"{\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"variable\";\n    else if (type != \"variable\" && type != \"(\" && type != \")\") override = \"error\";\n    return \"interpolation\";\n  };\n\n  return {\n    startState: function(base) {\n      return {tokenize: null,\n              state: inline ? \"block\" : \"top\",\n              stateArg: null,\n              context: new Context(inline ? \"block\" : \"top\", base || 0, null)};\n    },\n\n    token: function(stream, state) {\n      if (!state.tokenize && stream.eatSpace()) return null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style && typeof style == \"object\") {\n        type = style[1];\n        style = style[0];\n      }\n      override = style;\n      if (type != \"comment\")\n        state.state = states[state.state](type, stream, state);\n      return override;\n    },\n\n    indent: function(state, textAfter) {\n      var cx = state.context, ch = textAfter && textAfter.charAt(0);\n      var indent = cx.indent;\n      if (cx.type == \"prop\" && (ch == \"}\" || ch == \")\")) cx = cx.prev;\n      if (cx.prev) {\n        if (ch == \"}\" && (cx.type == \"block\" || cx.type == \"top\" ||\n                          cx.type == \"interpolation\" || cx.type == \"restricted_atBlock\")) {\n          // Resume indentation from parent context.\n          cx = cx.prev;\n          indent = cx.indent;\n        } else if (ch == \")\" && (cx.type == \"parens\" || cx.type == \"atBlock_parens\") ||\n            ch == \"{\" && (cx.type == \"at\" || cx.type == \"atBlock\")) {\n          // Dedent relative to current context.\n          indent = Math.max(0, cx.indent - indentUnit);\n        }\n      }\n      return indent;\n    },\n\n    electricChars: \"}\",\n    blockCommentStart: \"/*\",\n    blockCommentEnd: \"*/\",\n    blockCommentContinue: \" * \",\n    lineComment: lineComment,\n    fold: \"brace\"\n  };\n});\n\n  function keySet(array) {\n    var keys = {};\n    for (var i = 0; i < array.length; ++i) {\n      keys[array[i].toLowerCase()] = true;\n    }\n    return keys;\n  }\n\n  var documentTypes_ = [\n    \"domain\", \"regexp\", \"url\", \"url-prefix\"\n  ], documentTypes = keySet(documentTypes_);\n\n  var mediaTypes_ = [\n    \"all\", \"aural\", \"braille\", \"handheld\", \"print\", \"projection\", \"screen\",\n    \"tty\", \"tv\", \"embossed\"\n  ], mediaTypes = keySet(mediaTypes_);\n\n  var mediaFeatures_ = [\n    \"width\", \"min-width\", \"max-width\", \"height\", \"min-height\", \"max-height\",\n    \"device-width\", \"min-device-width\", \"max-device-width\", \"device-height\",\n    \"min-device-height\", \"max-device-height\", \"aspect-ratio\",\n    \"min-aspect-ratio\", \"max-aspect-ratio\", \"device-aspect-ratio\",\n    \"min-device-aspect-ratio\", \"max-device-aspect-ratio\", \"color\", \"min-color\",\n    \"max-color\", \"color-index\", \"min-color-index\", \"max-color-index\",\n    \"monochrome\", \"min-monochrome\", \"max-monochrome\", \"resolution\",\n    \"min-resolution\", \"max-resolution\", \"scan\", \"grid\", \"orientation\",\n    \"device-pixel-ratio\", \"min-device-pixel-ratio\", \"max-device-pixel-ratio\",\n    \"pointer\", \"any-pointer\", \"hover\", \"any-hover\", \"prefers-color-scheme\"\n  ], mediaFeatures = keySet(mediaFeatures_);\n\n  var mediaValueKeywords_ = [\n    \"landscape\", \"portrait\", \"none\", \"coarse\", \"fine\", \"on-demand\", \"hover\",\n    \"interlace\", \"progressive\",\n    \"dark\", \"light\"\n  ], mediaValueKeywords = keySet(mediaValueKeywords_);\n\n  var propertyKeywords_ = [\n    \"align-content\", \"align-items\", \"align-self\", \"alignment-adjust\",\n    \"alignment-baseline\", \"all\", \"anchor-point\", \"animation\", \"animation-delay\",\n    \"animation-direction\", \"animation-duration\", \"animation-fill-mode\",\n    \"animation-iteration-count\", \"animation-name\", \"animation-play-state\",\n    \"animation-timing-function\", \"appearance\", \"azimuth\", \"backdrop-filter\",\n    \"backface-visibility\", \"background\", \"background-attachment\",\n    \"background-blend-mode\", \"background-clip\", \"background-color\",\n    \"background-image\", \"background-origin\", \"background-position\",\n    \"background-position-x\", \"background-position-y\", \"background-repeat\",\n    \"background-size\", \"baseline-shift\", \"binding\", \"bleed\", \"block-size\",\n    \"bookmark-label\", \"bookmark-level\", \"bookmark-state\", \"bookmark-target\",\n    \"border\", \"border-bottom\", \"border-bottom-color\", \"border-bottom-left-radius\",\n    \"border-bottom-right-radius\", \"border-bottom-style\", \"border-bottom-width\",\n    \"border-collapse\", \"border-color\", \"border-image\", \"border-image-outset\",\n    \"border-image-repeat\", \"border-image-slice\", \"border-image-source\",\n    \"border-image-width\", \"border-left\", \"border-left-color\", \"border-left-style\",\n    \"border-left-width\", \"border-radius\", \"border-right\", \"border-right-color\",\n    \"border-right-style\", \"border-right-width\", \"border-spacing\", \"border-style\",\n    \"border-top\", \"border-top-color\", \"border-top-left-radius\",\n    \"border-top-right-radius\", \"border-top-style\", \"border-top-width\",\n    \"border-width\", \"bottom\", \"box-decoration-break\", \"box-shadow\", \"box-sizing\",\n    \"break-after\", \"break-before\", \"break-inside\", \"caption-side\", \"caret-color\",\n    \"clear\", \"clip\", \"color\", \"color-profile\", \"column-count\", \"column-fill\",\n    \"column-gap\", \"column-rule\", \"column-rule-color\", \"column-rule-style\",\n    \"column-rule-width\", \"column-span\", \"column-width\", \"columns\", \"contain\",\n    \"content\", \"counter-increment\", \"counter-reset\", \"crop\", \"cue\", \"cue-after\",\n    \"cue-before\", \"cursor\", \"direction\", \"display\", \"dominant-baseline\",\n    \"drop-initial-after-adjust\", \"drop-initial-after-align\",\n    \"drop-initial-before-adjust\", \"drop-initial-before-align\", \"drop-initial-size\",\n    \"drop-initial-value\", \"elevation\", \"empty-cells\", \"fit\", \"fit-position\",\n    \"flex\", \"flex-basis\", \"flex-direction\", \"flex-flow\", \"flex-grow\",\n    \"flex-shrink\", \"flex-wrap\", \"float\", \"float-offset\", \"flow-from\", \"flow-into\",\n    \"font\", \"font-family\", \"font-feature-settings\", \"font-kerning\",\n    \"font-language-override\", \"font-optical-sizing\", \"font-size\",\n    \"font-size-adjust\", \"font-stretch\", \"font-style\", \"font-synthesis\",\n    \"font-variant\", \"font-variant-alternates\", \"font-variant-caps\",\n    \"font-variant-east-asian\", \"font-variant-ligatures\", \"font-variant-numeric\",\n    \"font-variant-position\", \"font-variation-settings\", \"font-weight\", \"gap\",\n    \"grid\", \"grid-area\", \"grid-auto-columns\", \"grid-auto-flow\", \"grid-auto-rows\",\n    \"grid-column\", \"grid-column-end\", \"grid-column-gap\", \"grid-column-start\",\n    \"grid-gap\", \"grid-row\", \"grid-row-end\", \"grid-row-gap\", \"grid-row-start\",\n    \"grid-template\", \"grid-template-areas\", \"grid-template-columns\",\n    \"grid-template-rows\", \"hanging-punctuation\", \"height\", \"hyphens\", \"icon\",\n    \"image-orientation\", \"image-rendering\", \"image-resolution\", \"inline-box-align\",\n    \"inset\", \"inset-block\", \"inset-block-end\", \"inset-block-start\", \"inset-inline\",\n    \"inset-inline-end\", \"inset-inline-start\", \"isolation\", \"justify-content\",\n    \"justify-items\", \"justify-self\", \"left\", \"letter-spacing\", \"line-break\",\n    \"line-height\", \"line-height-step\", \"line-stacking\", \"line-stacking-ruby\",\n    \"line-stacking-shift\", \"line-stacking-strategy\", \"list-style\",\n    \"list-style-image\", \"list-style-position\", \"list-style-type\", \"margin\",\n    \"margin-bottom\", \"margin-left\", \"margin-right\", \"margin-top\", \"marks\",\n    \"marquee-direction\", \"marquee-loop\", \"marquee-play-count\", \"marquee-speed\",\n    \"marquee-style\", \"mask-clip\", \"mask-composite\", \"mask-image\", \"mask-mode\",\n    \"mask-origin\", \"mask-position\", \"mask-repeat\", \"mask-size\",\"mask-type\",\n    \"max-block-size\", \"max-height\", \"max-inline-size\",\n    \"max-width\", \"min-block-size\", \"min-height\", \"min-inline-size\", \"min-width\",\n    \"mix-blend-mode\", \"move-to\", \"nav-down\", \"nav-index\", \"nav-left\", \"nav-right\",\n    \"nav-up\", \"object-fit\", \"object-position\", \"offset\", \"offset-anchor\",\n    \"offset-distance\", \"offset-path\", \"offset-position\", \"offset-rotate\",\n    \"opacity\", \"order\", \"orphans\", \"outline\", \"outline-color\", \"outline-offset\",\n    \"outline-style\", \"outline-width\", \"overflow\", \"overflow-style\",\n    \"overflow-wrap\", \"overflow-x\", \"overflow-y\", \"padding\", \"padding-bottom\",\n    \"padding-left\", \"padding-right\", \"padding-top\", \"page\", \"page-break-after\",\n    \"page-break-before\", \"page-break-inside\", \"page-policy\", \"pause\",\n    \"pause-after\", \"pause-before\", \"perspective\", \"perspective-origin\", \"pitch\",\n    \"pitch-range\", \"place-content\", \"place-items\", \"place-self\", \"play-during\",\n    \"position\", \"presentation-level\", \"punctuation-trim\", \"quotes\",\n    \"region-break-after\", \"region-break-before\", \"region-break-inside\",\n    \"region-fragment\", \"rendering-intent\", \"resize\", \"rest\", \"rest-after\",\n    \"rest-before\", \"richness\", \"right\", \"rotate\", \"rotation\", \"rotation-point\",\n    \"row-gap\", \"ruby-align\", \"ruby-overhang\", \"ruby-position\", \"ruby-span\",\n    \"scale\", \"scroll-behavior\", \"scroll-margin\", \"scroll-margin-block\",\n    \"scroll-margin-block-end\", \"scroll-margin-block-start\", \"scroll-margin-bottom\",\n    \"scroll-margin-inline\", \"scroll-margin-inline-end\",\n    \"scroll-margin-inline-start\", \"scroll-margin-left\", \"scroll-margin-right\",\n    \"scroll-margin-top\", \"scroll-padding\", \"scroll-padding-block\",\n    \"scroll-padding-block-end\", \"scroll-padding-block-start\",\n    \"scroll-padding-bottom\", \"scroll-padding-inline\", \"scroll-padding-inline-end\",\n    \"scroll-padding-inline-start\", \"scroll-padding-left\", \"scroll-padding-right\",\n    \"scroll-padding-top\", \"scroll-snap-align\", \"scroll-snap-type\",\n    \"shape-image-threshold\", \"shape-inside\", \"shape-margin\", \"shape-outside\",\n    \"size\", \"speak\", \"speak-as\", \"speak-header\", \"speak-numeral\",\n    \"speak-punctuation\", \"speech-rate\", \"stress\", \"string-set\", \"tab-size\",\n    \"table-layout\", \"target\", \"target-name\", \"target-new\", \"target-position\",\n    \"text-align\", \"text-align-last\", \"text-combine-upright\", \"text-decoration\",\n    \"text-decoration-color\", \"text-decoration-line\", \"text-decoration-skip\",\n    \"text-decoration-skip-ink\", \"text-decoration-style\", \"text-emphasis\",\n    \"text-emphasis-color\", \"text-emphasis-position\", \"text-emphasis-style\",\n    \"text-height\", \"text-indent\", \"text-justify\", \"text-orientation\",\n    \"text-outline\", \"text-overflow\", \"text-rendering\", \"text-shadow\",\n    \"text-size-adjust\", \"text-space-collapse\", \"text-transform\",\n    \"text-underline-position\", \"text-wrap\", \"top\", \"touch-action\", \"transform\", \"transform-origin\",\n    \"transform-style\", \"transition\", \"transition-delay\", \"transition-duration\",\n    \"transition-property\", \"transition-timing-function\", \"translate\",\n    \"unicode-bidi\", \"user-select\", \"vertical-align\", \"visibility\", \"voice-balance\",\n    \"voice-duration\", \"voice-family\", \"voice-pitch\", \"voice-range\", \"voice-rate\",\n    \"voice-stress\", \"voice-volume\", \"volume\", \"white-space\", \"widows\", \"width\",\n    \"will-change\", \"word-break\", \"word-spacing\", \"word-wrap\", \"writing-mode\", \"z-index\",\n    // SVG-specific\n    \"clip-path\", \"clip-rule\", \"mask\", \"enable-background\", \"filter\", \"flood-color\",\n    \"flood-opacity\", \"lighting-color\", \"stop-color\", \"stop-opacity\", \"pointer-events\",\n    \"color-interpolation\", \"color-interpolation-filters\",\n    \"color-rendering\", \"fill\", \"fill-opacity\", \"fill-rule\", \"image-rendering\",\n    \"marker\", \"marker-end\", \"marker-mid\", \"marker-start\", \"paint-order\", \"shape-rendering\", \"stroke\",\n    \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-linejoin\",\n    \"stroke-miterlimit\", \"stroke-opacity\", \"stroke-width\", \"text-rendering\",\n    \"baseline-shift\", \"dominant-baseline\", \"glyph-orientation-horizontal\",\n    \"glyph-orientation-vertical\", \"text-anchor\", \"writing-mode\",\n  ], propertyKeywords = keySet(propertyKeywords_);\n\n  var nonStandardPropertyKeywords_ = [\n    \"border-block\", \"border-block-color\", \"border-block-end\",\n    \"border-block-end-color\", \"border-block-end-style\", \"border-block-end-width\",\n    \"border-block-start\", \"border-block-start-color\", \"border-block-start-style\",\n    \"border-block-start-width\", \"border-block-style\", \"border-block-width\",\n    \"border-inline\", \"border-inline-color\", \"border-inline-end\",\n    \"border-inline-end-color\", \"border-inline-end-style\",\n    \"border-inline-end-width\", \"border-inline-start\", \"border-inline-start-color\",\n    \"border-inline-start-style\", \"border-inline-start-width\",\n    \"border-inline-style\", \"border-inline-width\", \"margin-block\",\n    \"margin-block-end\", \"margin-block-start\", \"margin-inline\", \"margin-inline-end\",\n    \"margin-inline-start\", \"padding-block\", \"padding-block-end\",\n    \"padding-block-start\", \"padding-inline\", \"padding-inline-end\",\n    \"padding-inline-start\", \"scroll-snap-stop\", \"scrollbar-3d-light-color\",\n    \"scrollbar-arrow-color\", \"scrollbar-base-color\", \"scrollbar-dark-shadow-color\",\n    \"scrollbar-face-color\", \"scrollbar-highlight-color\", \"scrollbar-shadow-color\",\n    \"scrollbar-track-color\", \"searchfield-cancel-button\", \"searchfield-decoration\",\n    \"searchfield-results-button\", \"searchfield-results-decoration\", \"shape-inside\", \"zoom\"\n  ], nonStandardPropertyKeywords = keySet(nonStandardPropertyKeywords_);\n\n  var fontProperties_ = [\n    \"font-display\", \"font-family\", \"src\", \"unicode-range\", \"font-variant\",\n     \"font-feature-settings\", \"font-stretch\", \"font-weight\", \"font-style\"\n  ], fontProperties = keySet(fontProperties_);\n\n  var counterDescriptors_ = [\n    \"additive-symbols\", \"fallback\", \"negative\", \"pad\", \"prefix\", \"range\",\n    \"speak-as\", \"suffix\", \"symbols\", \"system\"\n  ], counterDescriptors = keySet(counterDescriptors_);\n\n  var colorKeywords_ = [\n    \"aliceblue\", \"antiquewhite\", \"aqua\", \"aquamarine\", \"azure\", \"beige\",\n    \"bisque\", \"black\", \"blanchedalmond\", \"blue\", \"blueviolet\", \"brown\",\n    \"burlywood\", \"cadetblue\", \"chartreuse\", \"chocolate\", \"coral\", \"cornflowerblue\",\n    \"cornsilk\", \"crimson\", \"cyan\", \"darkblue\", \"darkcyan\", \"darkgoldenrod\",\n    \"darkgray\", \"darkgreen\", \"darkkhaki\", \"darkmagenta\", \"darkolivegreen\",\n    \"darkorange\", \"darkorchid\", \"darkred\", \"darksalmon\", \"darkseagreen\",\n    \"darkslateblue\", \"darkslategray\", \"darkturquoise\", \"darkviolet\",\n    \"deeppink\", \"deepskyblue\", \"dimgray\", \"dodgerblue\", \"firebrick\",\n    \"floralwhite\", \"forestgreen\", \"fuchsia\", \"gainsboro\", \"ghostwhite\",\n    \"gold\", \"goldenrod\", \"gray\", \"grey\", \"green\", \"greenyellow\", \"honeydew\",\n    \"hotpink\", \"indianred\", \"indigo\", \"ivory\", \"khaki\", \"lavender\",\n    \"lavenderblush\", \"lawngreen\", \"lemonchiffon\", \"lightblue\", \"lightcoral\",\n    \"lightcyan\", \"lightgoldenrodyellow\", \"lightgray\", \"lightgreen\", \"lightpink\",\n    \"lightsalmon\", \"lightseagreen\", \"lightskyblue\", \"lightslategray\",\n    \"lightsteelblue\", \"lightyellow\", \"lime\", \"limegreen\", \"linen\", \"magenta\",\n    \"maroon\", \"mediumaquamarine\", \"mediumblue\", \"mediumorchid\", \"mediumpurple\",\n    \"mediumseagreen\", \"mediumslateblue\", \"mediumspringgreen\", \"mediumturquoise\",\n    \"mediumvioletred\", \"midnightblue\", \"mintcream\", \"mistyrose\", \"moccasin\",\n    \"navajowhite\", \"navy\", \"oldlace\", \"olive\", \"olivedrab\", \"orange\", \"orangered\",\n    \"orchid\", \"palegoldenrod\", \"palegreen\", \"paleturquoise\", \"palevioletred\",\n    \"papayawhip\", \"peachpuff\", \"peru\", \"pink\", \"plum\", \"powderblue\",\n    \"purple\", \"rebeccapurple\", \"red\", \"rosybrown\", \"royalblue\", \"saddlebrown\",\n    \"salmon\", \"sandybrown\", \"seagreen\", \"seashell\", \"sienna\", \"silver\", \"skyblue\",\n    \"slateblue\", \"slategray\", \"snow\", \"springgreen\", \"steelblue\", \"tan\",\n    \"teal\", \"thistle\", \"tomato\", \"turquoise\", \"violet\", \"wheat\", \"white\",\n    \"whitesmoke\", \"yellow\", \"yellowgreen\"\n  ], colorKeywords = keySet(colorKeywords_);\n\n  var valueKeywords_ = [\n    \"above\", \"absolute\", \"activeborder\", \"additive\", \"activecaption\", \"afar\",\n    \"after-white-space\", \"ahead\", \"alias\", \"all\", \"all-scroll\", \"alphabetic\", \"alternate\",\n    \"always\", \"amharic\", \"amharic-abegede\", \"antialiased\", \"appworkspace\",\n    \"arabic-indic\", \"armenian\", \"asterisks\", \"attr\", \"auto\", \"auto-flow\", \"avoid\", \"avoid-column\", \"avoid-page\",\n    \"avoid-region\", \"axis-pan\", \"background\", \"backwards\", \"baseline\", \"below\", \"bidi-override\", \"binary\",\n    \"bengali\", \"blink\", \"block\", \"block-axis\", \"bold\", \"bolder\", \"border\", \"border-box\",\n    \"both\", \"bottom\", \"break\", \"break-all\", \"break-word\", \"bullets\", \"button\", \"button-bevel\",\n    \"buttonface\", \"buttonhighlight\", \"buttonshadow\", \"buttontext\", \"calc\", \"cambodian\",\n    \"capitalize\", \"caps-lock-indicator\", \"caption\", \"captiontext\", \"caret\",\n    \"cell\", \"center\", \"checkbox\", \"circle\", \"cjk-decimal\", \"cjk-earthly-branch\",\n    \"cjk-heavenly-stem\", \"cjk-ideographic\", \"clear\", \"clip\", \"close-quote\",\n    \"col-resize\", \"collapse\", \"color\", \"color-burn\", \"color-dodge\", \"column\", \"column-reverse\",\n    \"compact\", \"condensed\", \"contain\", \"content\", \"contents\",\n    \"content-box\", \"context-menu\", \"continuous\", \"copy\", \"counter\", \"counters\", \"cover\", \"crop\",\n    \"cross\", \"crosshair\", \"currentcolor\", \"cursive\", \"cyclic\", \"darken\", \"dashed\", \"decimal\",\n    \"decimal-leading-zero\", \"default\", \"default-button\", \"dense\", \"destination-atop\",\n    \"destination-in\", \"destination-out\", \"destination-over\", \"devanagari\", \"difference\",\n    \"disc\", \"discard\", \"disclosure-closed\", \"disclosure-open\", \"document\",\n    \"dot-dash\", \"dot-dot-dash\",\n    \"dotted\", \"double\", \"down\", \"e-resize\", \"ease\", \"ease-in\", \"ease-in-out\", \"ease-out\",\n    \"element\", \"ellipse\", \"ellipsis\", \"embed\", \"end\", \"ethiopic\", \"ethiopic-abegede\",\n    \"ethiopic-abegede-am-et\", \"ethiopic-abegede-gez\", \"ethiopic-abegede-ti-er\",\n    \"ethiopic-abegede-ti-et\", \"ethiopic-halehame-aa-er\",\n    \"ethiopic-halehame-aa-et\", \"ethiopic-halehame-am-et\",\n    \"ethiopic-halehame-gez\", \"ethiopic-halehame-om-et\",\n    \"ethiopic-halehame-sid-et\", \"ethiopic-halehame-so-et\",\n    \"ethiopic-halehame-ti-er\", \"ethiopic-halehame-ti-et\", \"ethiopic-halehame-tig\",\n    \"ethiopic-numeric\", \"ew-resize\", \"exclusion\", \"expanded\", \"extends\", \"extra-condensed\",\n    \"extra-expanded\", \"fantasy\", \"fast\", \"fill\", \"fill-box\", \"fixed\", \"flat\", \"flex\", \"flex-end\", \"flex-start\", \"footnotes\",\n    \"forwards\", \"from\", \"geometricPrecision\", \"georgian\", \"graytext\", \"grid\", \"groove\",\n    \"gujarati\", \"gurmukhi\", \"hand\", \"hangul\", \"hangul-consonant\", \"hard-light\", \"hebrew\",\n    \"help\", \"hidden\", \"hide\", \"higher\", \"highlight\", \"highlighttext\",\n    \"hiragana\", \"hiragana-iroha\", \"horizontal\", \"hsl\", \"hsla\", \"hue\", \"icon\", \"ignore\",\n    \"inactiveborder\", \"inactivecaption\", \"inactivecaptiontext\", \"infinite\",\n    \"infobackground\", \"infotext\", \"inherit\", \"initial\", \"inline\", \"inline-axis\",\n    \"inline-block\", \"inline-flex\", \"inline-grid\", \"inline-table\", \"inset\", \"inside\", \"intrinsic\", \"invert\",\n    \"italic\", \"japanese-formal\", \"japanese-informal\", \"justify\", \"kannada\",\n    \"katakana\", \"katakana-iroha\", \"keep-all\", \"khmer\",\n    \"korean-hangul-formal\", \"korean-hanja-formal\", \"korean-hanja-informal\",\n    \"landscape\", \"lao\", \"large\", \"larger\", \"left\", \"level\", \"lighter\", \"lighten\",\n    \"line-through\", \"linear\", \"linear-gradient\", \"lines\", \"list-item\", \"listbox\", \"listitem\",\n    \"local\", \"logical\", \"loud\", \"lower\", \"lower-alpha\", \"lower-armenian\",\n    \"lower-greek\", \"lower-hexadecimal\", \"lower-latin\", \"lower-norwegian\",\n    \"lower-roman\", \"lowercase\", \"ltr\", \"luminosity\", \"malayalam\", \"manipulation\", \"match\", \"matrix\", \"matrix3d\",\n    \"media-controls-background\", \"media-current-time-display\",\n    \"media-fullscreen-button\", \"media-mute-button\", \"media-play-button\",\n    \"media-return-to-realtime-button\", \"media-rewind-button\",\n    \"media-seek-back-button\", \"media-seek-forward-button\", \"media-slider\",\n    \"media-sliderthumb\", \"media-time-remaining-display\", \"media-volume-slider\",\n    \"media-volume-slider-container\", \"media-volume-sliderthumb\", \"medium\",\n    \"menu\", \"menulist\", \"menulist-button\", \"menulist-text\",\n    \"menulist-textfield\", \"menutext\", \"message-box\", \"middle\", \"min-intrinsic\",\n    \"mix\", \"mongolian\", \"monospace\", \"move\", \"multiple\", \"multiple_mask_images\", \"multiply\", \"myanmar\", \"n-resize\",\n    \"narrower\", \"ne-resize\", \"nesw-resize\", \"no-close-quote\", \"no-drop\",\n    \"no-open-quote\", \"no-repeat\", \"none\", \"normal\", \"not-allowed\", \"nowrap\",\n    \"ns-resize\", \"numbers\", \"numeric\", \"nw-resize\", \"nwse-resize\", \"oblique\", \"octal\", \"opacity\", \"open-quote\",\n    \"optimizeLegibility\", \"optimizeSpeed\", \"oriya\", \"oromo\", \"outset\",\n    \"outside\", \"outside-shape\", \"overlay\", \"overline\", \"padding\", \"padding-box\",\n    \"painted\", \"page\", \"paused\", \"persian\", \"perspective\", \"pinch-zoom\", \"plus-darker\", \"plus-lighter\",\n    \"pointer\", \"polygon\", \"portrait\", \"pre\", \"pre-line\", \"pre-wrap\", \"preserve-3d\",\n    \"progress\", \"push-button\", \"radial-gradient\", \"radio\", \"read-only\",\n    \"read-write\", \"read-write-plaintext-only\", \"rectangle\", \"region\",\n    \"relative\", \"repeat\", \"repeating-linear-gradient\",\n    \"repeating-radial-gradient\", \"repeat-x\", \"repeat-y\", \"reset\", \"reverse\",\n    \"rgb\", \"rgba\", \"ridge\", \"right\", \"rotate\", \"rotate3d\", \"rotateX\", \"rotateY\",\n    \"rotateZ\", \"round\", \"row\", \"row-resize\", \"row-reverse\", \"rtl\", \"run-in\", \"running\",\n    \"s-resize\", \"sans-serif\", \"saturation\", \"scale\", \"scale3d\", \"scaleX\", \"scaleY\", \"scaleZ\", \"screen\",\n    \"scroll\", \"scrollbar\", \"scroll-position\", \"se-resize\", \"searchfield\",\n    \"searchfield-cancel-button\", \"searchfield-decoration\",\n    \"searchfield-results-button\", \"searchfield-results-decoration\", \"self-start\", \"self-end\",\n    \"semi-condensed\", \"semi-expanded\", \"separate\", \"serif\", \"show\", \"sidama\",\n    \"simp-chinese-formal\", \"simp-chinese-informal\", \"single\",\n    \"skew\", \"skewX\", \"skewY\", \"skip-white-space\", \"slide\", \"slider-horizontal\",\n    \"slider-vertical\", \"sliderthumb-horizontal\", \"sliderthumb-vertical\", \"slow\",\n    \"small\", \"small-caps\", \"small-caption\", \"smaller\", \"soft-light\", \"solid\", \"somali\",\n    \"source-atop\", \"source-in\", \"source-out\", \"source-over\", \"space\", \"space-around\", \"space-between\", \"space-evenly\", \"spell-out\", \"square\",\n    \"square-button\", \"start\", \"static\", \"status-bar\", \"stretch\", \"stroke\", \"stroke-box\", \"sub\",\n    \"subpixel-antialiased\", \"svg_masks\", \"super\", \"sw-resize\", \"symbolic\", \"symbols\", \"system-ui\", \"table\",\n    \"table-caption\", \"table-cell\", \"table-column\", \"table-column-group\",\n    \"table-footer-group\", \"table-header-group\", \"table-row\", \"table-row-group\",\n    \"tamil\",\n    \"telugu\", \"text\", \"text-bottom\", \"text-top\", \"textarea\", \"textfield\", \"thai\",\n    \"thick\", \"thin\", \"threeddarkshadow\", \"threedface\", \"threedhighlight\",\n    \"threedlightshadow\", \"threedshadow\", \"tibetan\", \"tigre\", \"tigrinya-er\",\n    \"tigrinya-er-abegede\", \"tigrinya-et\", \"tigrinya-et-abegede\", \"to\", \"top\",\n    \"trad-chinese-formal\", \"trad-chinese-informal\", \"transform\",\n    \"translate\", \"translate3d\", \"translateX\", \"translateY\", \"translateZ\",\n    \"transparent\", \"ultra-condensed\", \"ultra-expanded\", \"underline\", \"unidirectional-pan\", \"unset\", \"up\",\n    \"upper-alpha\", \"upper-armenian\", \"upper-greek\", \"upper-hexadecimal\",\n    \"upper-latin\", \"upper-norwegian\", \"upper-roman\", \"uppercase\", \"urdu\", \"url\",\n    \"var\", \"vertical\", \"vertical-text\", \"view-box\", \"visible\", \"visibleFill\", \"visiblePainted\",\n    \"visibleStroke\", \"visual\", \"w-resize\", \"wait\", \"wave\", \"wider\",\n    \"window\", \"windowframe\", \"windowtext\", \"words\", \"wrap\", \"wrap-reverse\", \"x-large\", \"x-small\", \"xor\",\n    \"xx-large\", \"xx-small\"\n  ], valueKeywords = keySet(valueKeywords_);\n\n  var allWords = documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_)\n    .concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_)\n    .concat(valueKeywords_);\n  CodeMirror.registerHelper(\"hintWords\", \"css\", allWords);\n\n  function tokenCComment(stream, state) {\n    var maybeEnd = false, ch;\n    while ((ch = stream.next()) != null) {\n      if (maybeEnd && ch == \"/\") {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return [\"comment\", \"comment\"];\n  }\n\n  CodeMirror.defineMIME(\"text/css\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-scss\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"//\",\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \":\": function(stream) {\n        if (stream.match(/^\\s*\\{/, false))\n          return [null, null]\n        return false;\n      },\n      \"$\": function(stream) {\n        stream.match(/^[\\w-]+/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"#\": function(stream) {\n        if (!stream.eat(\"{\")) return false;\n        return [null, \"interpolation\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"scss\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-less\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"//\",\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \"@\": function(stream) {\n        if (stream.eat(\"{\")) return [null, \"interpolation\"];\n        if (stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\\b/i, false)) return false;\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"&\": function() {\n        return [\"atom\", \"atom\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"less\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-gss\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    supportsAtComponent: true,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\",\n    helperType: \"gss\"\n  });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"haskell\", function(_config, modeConfig) {\n\n  function switchState(source, setState, f) {\n    setState(f);\n    return f(source, setState);\n  }\n\n  // These should all be Unicode extended, as per the Haskell 2010 report\n  var smallRE = /[a-z_]/;\n  var largeRE = /[A-Z]/;\n  var digitRE = /\\d/;\n  var hexitRE = /[0-9A-Fa-f]/;\n  var octitRE = /[0-7]/;\n  var idRE = /[a-z_A-Z0-9'\\xa1-\\uffff]/;\n  var symbolRE = /[-!#$%&*+.\\/<=>?@\\\\^|~:]/;\n  var specialRE = /[(),;[\\]`{}]/;\n  var whiteCharRE = /[ \\t\\v\\f]/; // newlines are handled in tokenizer\n\n  function normal(source, setState) {\n    if (source.eatWhile(whiteCharRE)) {\n      return null;\n    }\n\n    var ch = source.next();\n    if (specialRE.test(ch)) {\n      if (ch == '{' && source.eat('-')) {\n        var t = \"comment\";\n        if (source.eat('#')) {\n          t = \"meta\";\n        }\n        return switchState(source, setState, ncomment(t, 1));\n      }\n      return null;\n    }\n\n    if (ch == '\\'') {\n      if (source.eat('\\\\')) {\n        source.next();  // should handle other escapes here\n      }\n      else {\n        source.next();\n      }\n      if (source.eat('\\'')) {\n        return \"string\";\n      }\n      return \"string error\";\n    }\n\n    if (ch == '\"') {\n      return switchState(source, setState, stringLiteral);\n    }\n\n    if (largeRE.test(ch)) {\n      source.eatWhile(idRE);\n      if (source.eat('.')) {\n        return \"qualifier\";\n      }\n      return \"variable-2\";\n    }\n\n    if (smallRE.test(ch)) {\n      source.eatWhile(idRE);\n      return \"variable\";\n    }\n\n    if (digitRE.test(ch)) {\n      if (ch == '0') {\n        if (source.eat(/[xX]/)) {\n          source.eatWhile(hexitRE); // should require at least 1\n          return \"integer\";\n        }\n        if (source.eat(/[oO]/)) {\n          source.eatWhile(octitRE); // should require at least 1\n          return \"number\";\n        }\n      }\n      source.eatWhile(digitRE);\n      var t = \"number\";\n      if (source.match(/^\\.\\d+/)) {\n        t = \"number\";\n      }\n      if (source.eat(/[eE]/)) {\n        t = \"number\";\n        source.eat(/[-+]/);\n        source.eatWhile(digitRE); // should require at least 1\n      }\n      return t;\n    }\n\n    if (ch == \".\" && source.eat(\".\"))\n      return \"keyword\";\n\n    if (symbolRE.test(ch)) {\n      if (ch == '-' && source.eat(/-/)) {\n        source.eatWhile(/-/);\n        if (!source.eat(symbolRE)) {\n          source.skipToEnd();\n          return \"comment\";\n        }\n      }\n      var t = \"variable\";\n      if (ch == ':') {\n        t = \"variable-2\";\n      }\n      source.eatWhile(symbolRE);\n      return t;\n    }\n\n    return \"error\";\n  }\n\n  function ncomment(type, nest) {\n    if (nest == 0) {\n      return normal;\n    }\n    return function(source, setState) {\n      var currNest = nest;\n      while (!source.eol()) {\n        var ch = source.next();\n        if (ch == '{' && source.eat('-')) {\n          ++currNest;\n        }\n        else if (ch == '-' && source.eat('}')) {\n          --currNest;\n          if (currNest == 0) {\n            setState(normal);\n            return type;\n          }\n        }\n      }\n      setState(ncomment(type, currNest));\n      return type;\n    };\n  }\n\n  function stringLiteral(source, setState) {\n    while (!source.eol()) {\n      var ch = source.next();\n      if (ch == '\"') {\n        setState(normal);\n        return \"string\";\n      }\n      if (ch == '\\\\') {\n        if (source.eol() || source.eat(whiteCharRE)) {\n          setState(stringGap);\n          return \"string\";\n        }\n        if (source.eat('&')) {\n        }\n        else {\n          source.next(); // should handle other escapes here\n        }\n      }\n    }\n    setState(normal);\n    return \"string error\";\n  }\n\n  function stringGap(source, setState) {\n    if (source.eat('\\\\')) {\n      return switchState(source, setState, stringLiteral);\n    }\n    source.next();\n    setState(normal);\n    return \"error\";\n  }\n\n\n  var wellKnownWords = (function() {\n    var wkw = {};\n    function setType(t) {\n      return function () {\n        for (var i = 0; i < arguments.length; i++)\n          wkw[arguments[i]] = t;\n      };\n    }\n\n    setType(\"keyword\")(\n      \"case\", \"class\", \"data\", \"default\", \"deriving\", \"do\", \"else\", \"foreign\",\n      \"if\", \"import\", \"in\", \"infix\", \"infixl\", \"infixr\", \"instance\", \"let\",\n      \"module\", \"newtype\", \"of\", \"then\", \"type\", \"where\", \"_\");\n\n    setType(\"keyword\")(\n      \"\\.\\.\", \":\", \"::\", \"=\", \"\\\\\", \"<-\", \"->\", \"@\", \"~\", \"=>\");\n\n    setType(\"builtin\")(\n      \"!!\", \"$!\", \"$\", \"&&\", \"+\", \"++\", \"-\", \".\", \"/\", \"/=\", \"<\", \"<*\", \"<=\",\n      \"<$>\", \"<*>\", \"=<<\", \"==\", \">\", \">=\", \">>\", \">>=\", \"^\", \"^^\", \"||\", \"*\",\n      \"*>\", \"**\");\n\n    setType(\"builtin\")(\n      \"Applicative\", \"Bool\", \"Bounded\", \"Char\", \"Double\", \"EQ\", \"Either\", \"Enum\",\n      \"Eq\", \"False\", \"FilePath\", \"Float\", \"Floating\", \"Fractional\", \"Functor\",\n      \"GT\", \"IO\", \"IOError\", \"Int\", \"Integer\", \"Integral\", \"Just\", \"LT\", \"Left\",\n      \"Maybe\", \"Monad\", \"Nothing\", \"Num\", \"Ord\", \"Ordering\", \"Rational\", \"Read\",\n      \"ReadS\", \"Real\", \"RealFloat\", \"RealFrac\", \"Right\", \"Show\", \"ShowS\",\n      \"String\", \"True\");\n\n    setType(\"builtin\")(\n      \"abs\", \"acos\", \"acosh\", \"all\", \"and\", \"any\", \"appendFile\", \"asTypeOf\",\n      \"asin\", \"asinh\", \"atan\", \"atan2\", \"atanh\", \"break\", \"catch\", \"ceiling\",\n      \"compare\", \"concat\", \"concatMap\", \"const\", \"cos\", \"cosh\", \"curry\",\n      \"cycle\", \"decodeFloat\", \"div\", \"divMod\", \"drop\", \"dropWhile\", \"either\",\n      \"elem\", \"encodeFloat\", \"enumFrom\", \"enumFromThen\", \"enumFromThenTo\",\n      \"enumFromTo\", \"error\", \"even\", \"exp\", \"exponent\", \"fail\", \"filter\",\n      \"flip\", \"floatDigits\", \"floatRadix\", \"floatRange\", \"floor\", \"fmap\",\n      \"foldl\", \"foldl1\", \"foldr\", \"foldr1\", \"fromEnum\", \"fromInteger\",\n      \"fromIntegral\", \"fromRational\", \"fst\", \"gcd\", \"getChar\", \"getContents\",\n      \"getLine\", \"head\", \"id\", \"init\", \"interact\", \"ioError\", \"isDenormalized\",\n      \"isIEEE\", \"isInfinite\", \"isNaN\", \"isNegativeZero\", \"iterate\", \"last\",\n      \"lcm\", \"length\", \"lex\", \"lines\", \"log\", \"logBase\", \"lookup\", \"map\",\n      \"mapM\", \"mapM_\", \"max\", \"maxBound\", \"maximum\", \"maybe\", \"min\", \"minBound\",\n      \"minimum\", \"mod\", \"negate\", \"not\", \"notElem\", \"null\", \"odd\", \"or\",\n      \"otherwise\", \"pi\", \"pred\", \"print\", \"product\", \"properFraction\", \"pure\",\n      \"putChar\", \"putStr\", \"putStrLn\", \"quot\", \"quotRem\", \"read\", \"readFile\",\n      \"readIO\", \"readList\", \"readLn\", \"readParen\", \"reads\", \"readsPrec\",\n      \"realToFrac\", \"recip\", \"rem\", \"repeat\", \"replicate\", \"return\", \"reverse\",\n      \"round\", \"scaleFloat\", \"scanl\", \"scanl1\", \"scanr\", \"scanr1\", \"seq\",\n      \"sequence\", \"sequence_\", \"show\", \"showChar\", \"showList\", \"showParen\",\n      \"showString\", \"shows\", \"showsPrec\", \"significand\", \"signum\", \"sin\",\n      \"sinh\", \"snd\", \"span\", \"splitAt\", \"sqrt\", \"subtract\", \"succ\", \"sum\",\n      \"tail\", \"take\", \"takeWhile\", \"tan\", \"tanh\", \"toEnum\", \"toInteger\",\n      \"toRational\", \"truncate\", \"uncurry\", \"undefined\", \"unlines\", \"until\",\n      \"unwords\", \"unzip\", \"unzip3\", \"userError\", \"words\", \"writeFile\", \"zip\",\n      \"zip3\", \"zipWith\", \"zipWith3\");\n\n    var override = modeConfig.overrideKeywords;\n    if (override) for (var word in override) if (override.hasOwnProperty(word))\n      wkw[word] = override[word];\n\n    return wkw;\n  })();\n\n\n\n  return {\n    startState: function ()  { return { f: normal }; },\n    copyState:  function (s) { return { f: s.f }; },\n\n    token: function(stream, state) {\n      var t = state.f(stream, function(s) { state.f = s; });\n      var w = stream.current();\n      return wellKnownWords.hasOwnProperty(w) ? wellKnownWords[w] : t;\n    },\n\n    blockCommentStart: \"{-\",\n    blockCommentEnd: \"-}\",\n    lineComment: \"--\"\n  };\n\n});\n\nCodeMirror.defineMIME(\"text/x-haskell\", \"haskell\");\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var defaults = {\n    pairs: \"()[]{}''\\\"\\\"\",\n    closeBefore: \")]}'\\\":;>\",\n    triples: \"\",\n    explode: \"[]{}\"\n  };\n\n  var Pos = CodeMirror.Pos;\n\n  CodeMirror.defineOption(\"autoCloseBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.removeKeyMap(keyMap);\n      cm.state.closeBrackets = null;\n    }\n    if (val) {\n      ensureBound(getOption(val, \"pairs\"))\n      cm.state.closeBrackets = val;\n      cm.addKeyMap(keyMap);\n    }\n  });\n\n  function getOption(conf, name) {\n    if (name == \"pairs\" && typeof conf == \"string\") return conf;\n    if (typeof conf == \"object\" && conf[name] != null) return conf[name];\n    return defaults[name];\n  }\n\n  var keyMap = {Backspace: handleBackspace, Enter: handleEnter};\n  function ensureBound(chars) {\n    for (var i = 0; i < chars.length; i++) {\n      var ch = chars.charAt(i), key = \"'\" + ch + \"'\"\n      if (!keyMap[key]) keyMap[key] = handler(ch)\n    }\n  }\n  ensureBound(defaults.pairs + \"`\")\n\n  function handler(ch) {\n    return function(cm) { return handleChar(cm, ch); };\n  }\n\n  function getConfig(cm) {\n    var deflt = cm.state.closeBrackets;\n    if (!deflt || deflt.override) return deflt;\n    var mode = cm.getModeAt(cm.getCursor());\n    return mode.closeBrackets || deflt;\n  }\n\n  function handleBackspace(cm) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || pairs.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var cur = ranges[i].head;\n      cm.replaceRange(\"\", Pos(cur.line, cur.ch - 1), Pos(cur.line, cur.ch + 1), \"+delete\");\n    }\n  }\n\n  function handleEnter(cm) {\n    var conf = getConfig(cm);\n    var explode = conf && getOption(conf, \"explode\");\n    if (!explode || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || explode.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    cm.operation(function() {\n      var linesep = cm.lineSeparator() || \"\\n\";\n      cm.replaceSelection(linesep + linesep, null);\n      moveSel(cm, -1)\n      ranges = cm.listSelections();\n      for (var i = 0; i < ranges.length; i++) {\n        var line = ranges[i].head.line;\n        cm.indentLine(line, null, true);\n        cm.indentLine(line + 1, null, true);\n      }\n    });\n  }\n\n  function moveSel(cm, dir) {\n    var newRanges = [], ranges = cm.listSelections(), primary = 0\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i]\n      if (range.head == cm.getCursor()) primary = i\n      var pos = range.head.ch || dir > 0 ? {line: range.head.line, ch: range.head.ch + dir} : {line: range.head.line - 1}\n      newRanges.push({anchor: pos, head: pos})\n    }\n    cm.setSelections(newRanges, primary)\n  }\n\n  function contractSelection(sel) {\n    var inverted = CodeMirror.cmpPos(sel.anchor, sel.head) > 0;\n    return {anchor: new Pos(sel.anchor.line, sel.anchor.ch + (inverted ? -1 : 1)),\n            head: new Pos(sel.head.line, sel.head.ch + (inverted ? 1 : -1))};\n  }\n\n  function handleChar(cm, ch) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var pos = pairs.indexOf(ch);\n    if (pos == -1) return CodeMirror.Pass;\n\n    var closeBefore = getOption(conf,\"closeBefore\");\n\n    var triples = getOption(conf, \"triples\");\n\n    var identical = pairs.charAt(pos + 1) == ch;\n    var ranges = cm.listSelections();\n    var opening = pos % 2 == 0;\n\n    var type;\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], cur = range.head, curType;\n      var next = cm.getRange(cur, Pos(cur.line, cur.ch + 1));\n      if (opening && !range.empty()) {\n        curType = \"surround\";\n      } else if ((identical || !opening) && next == ch) {\n        if (identical && stringStartsAfter(cm, cur))\n          curType = \"both\";\n        else if (triples.indexOf(ch) >= 0 && cm.getRange(cur, Pos(cur.line, cur.ch + 3)) == ch + ch + ch)\n          curType = \"skipThree\";\n        else\n          curType = \"skip\";\n      } else if (identical && cur.ch > 1 && triples.indexOf(ch) >= 0 &&\n                 cm.getRange(Pos(cur.line, cur.ch - 2), cur) == ch + ch) {\n        if (cur.ch > 2 && /\\bstring/.test(cm.getTokenTypeAt(Pos(cur.line, cur.ch - 2)))) return CodeMirror.Pass;\n        curType = \"addFour\";\n      } else if (identical) {\n        var prev = cur.ch == 0 ? \" \" : cm.getRange(Pos(cur.line, cur.ch - 1), cur)\n        if (!CodeMirror.isWordChar(next) && prev != ch && !CodeMirror.isWordChar(prev)) curType = \"both\";\n        else return CodeMirror.Pass;\n      } else if (opening && (next.length === 0 || /\\s/.test(next) || closeBefore.indexOf(next) > -1)) {\n        curType = \"both\";\n      } else {\n        return CodeMirror.Pass;\n      }\n      if (!type) type = curType;\n      else if (type != curType) return CodeMirror.Pass;\n    }\n\n    var left = pos % 2 ? pairs.charAt(pos - 1) : ch;\n    var right = pos % 2 ? ch : pairs.charAt(pos + 1);\n    cm.operation(function() {\n      if (type == \"skip\") {\n        moveSel(cm, 1)\n      } else if (type == \"skipThree\") {\n        moveSel(cm, 3)\n      } else if (type == \"surround\") {\n        var sels = cm.getSelections();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = left + sels[i] + right;\n        cm.replaceSelections(sels, \"around\");\n        sels = cm.listSelections().slice();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = contractSelection(sels[i]);\n        cm.setSelections(sels);\n      } else if (type == \"both\") {\n        cm.replaceSelection(left + right, null);\n        cm.triggerElectric(left + right);\n        moveSel(cm, -1)\n      } else if (type == \"addFour\") {\n        cm.replaceSelection(left + left + left + left, \"before\");\n        moveSel(cm, 1)\n      }\n    });\n  }\n\n  function charsAround(cm, pos) {\n    var str = cm.getRange(Pos(pos.line, pos.ch - 1),\n                          Pos(pos.line, pos.ch + 1));\n    return str.length == 2 ? str : null;\n  }\n\n  function stringStartsAfter(cm, pos) {\n    var token = cm.getTokenAt(Pos(pos.line, pos.ch + 1))\n    return /\\bstring/.test(token.type) && token.start == pos.ch &&\n      (pos.ch == 0 || !/\\bstring/.test(cm.getTokenTypeAt(pos)))\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n/**\n * Tag-closer extension for CodeMirror.\n *\n * This extension adds an \"autoCloseTags\" option that can be set to\n * either true to get the default behavior, or an object to further\n * configure its behavior.\n *\n * These are supported options:\n *\n * `whenClosing` (default true)\n *   Whether to autoclose when the '/' of a closing tag is typed.\n * `whenOpening` (default true)\n *   Whether to autoclose the tag when the final '>' of an opening\n *   tag is typed.\n * `dontCloseTags` (default is empty tags for HTML, none for XML)\n *   An array of tag names that should not be autoclosed.\n * `indentTags` (default is block tags for HTML, none for XML)\n *   An array of tag names that should, when opened, cause a\n *   blank line to be added inside the tag, and the blank line and\n *   closing line to be indented.\n * `emptyTags` (default is none)\n *   An array of XML tag names that should be autoclosed with '/>'.\n *\n * See demos/closetag.html for a usage example.\n */\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../fold/xml-fold\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../fold/xml-fold\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  CodeMirror.defineOption(\"autoCloseTags\", false, function(cm, val, old) {\n    if (old != CodeMirror.Init && old)\n      cm.removeKeyMap(\"autoCloseTags\");\n    if (!val) return;\n    var map = {name: \"autoCloseTags\"};\n    if (typeof val != \"object\" || val.whenClosing !== false)\n      map[\"'/'\"] = function(cm) { return autoCloseSlash(cm); };\n    if (typeof val != \"object\" || val.whenOpening !== false)\n      map[\"'>'\"] = function(cm) { return autoCloseGT(cm); };\n    cm.addKeyMap(map);\n  });\n\n  var htmlDontClose = [\"area\", \"base\", \"br\", \"col\", \"command\", \"embed\", \"hr\", \"img\", \"input\", \"keygen\", \"link\", \"meta\", \"param\",\n                       \"source\", \"track\", \"wbr\"];\n  var htmlIndent = [\"applet\", \"blockquote\", \"body\", \"button\", \"div\", \"dl\", \"fieldset\", \"form\", \"frameset\", \"h1\", \"h2\", \"h3\", \"h4\",\n                    \"h5\", \"h6\", \"head\", \"html\", \"iframe\", \"layer\", \"legend\", \"object\", \"ol\", \"p\", \"select\", \"table\", \"ul\"];\n\n  function autoCloseGT(cm) {\n    if (cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n    var ranges = cm.listSelections(), replacements = [];\n    var opt = cm.getOption(\"autoCloseTags\");\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var pos = ranges[i].head, tok = cm.getTokenAt(pos);\n      var inner = CodeMirror.innerMode(cm.getMode(), tok.state), state = inner.state;\n      var tagInfo = inner.mode.xmlCurrentTag && inner.mode.xmlCurrentTag(state)\n      var tagName = tagInfo && tagInfo.name\n      if (!tagName) return CodeMirror.Pass\n\n      var html = inner.mode.configuration == \"html\";\n      var dontCloseTags = (typeof opt == \"object\" && opt.dontCloseTags) || (html && htmlDontClose);\n      var indentTags = (typeof opt == \"object\" && opt.indentTags) || (html && htmlIndent);\n\n      if (tok.end > pos.ch) tagName = tagName.slice(0, tagName.length - tok.end + pos.ch);\n      var lowerTagName = tagName.toLowerCase();\n      // Don't process the '>' at the end of an end-tag or self-closing tag\n      if (!tagName ||\n          tok.type == \"string\" && (tok.end != pos.ch || !/[\\\"\\']/.test(tok.string.charAt(tok.string.length - 1)) || tok.string.length == 1) ||\n          tok.type == \"tag\" && tagInfo.close ||\n          tok.string.indexOf(\"/\") == (pos.ch - tok.start - 1) || // match something like <someTagName />\n          dontCloseTags && indexOf(dontCloseTags, lowerTagName) > -1 ||\n          closingTagExists(cm, inner.mode.xmlCurrentContext && inner.mode.xmlCurrentContext(state) || [], tagName, pos, true))\n        return CodeMirror.Pass;\n\n      var emptyTags = typeof opt == \"object\" && opt.emptyTags;\n      if (emptyTags && indexOf(emptyTags, tagName) > -1) {\n        replacements[i] = { text: \"/>\", newPos: CodeMirror.Pos(pos.line, pos.ch + 2) };\n        continue;\n      }\n\n      var indent = indentTags && indexOf(indentTags, lowerTagName) > -1;\n      replacements[i] = {indent: indent,\n                         text: \">\" + (indent ? \"\\n\\n\" : \"\") + \"</\" + tagName + \">\",\n                         newPos: indent ? CodeMirror.Pos(pos.line + 1, 0) : CodeMirror.Pos(pos.line, pos.ch + 1)};\n    }\n\n    var dontIndentOnAutoClose = (typeof opt == \"object\" && opt.dontIndentOnAutoClose);\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var info = replacements[i];\n      cm.replaceRange(info.text, ranges[i].head, ranges[i].anchor, \"+insert\");\n      var sel = cm.listSelections().slice(0);\n      sel[i] = {head: info.newPos, anchor: info.newPos};\n      cm.setSelections(sel);\n      if (!dontIndentOnAutoClose && info.indent) {\n        cm.indentLine(info.newPos.line, null, true);\n        cm.indentLine(info.newPos.line + 1, null, true);\n      }\n    }\n  }\n\n  function autoCloseCurrent(cm, typingSlash) {\n    var ranges = cm.listSelections(), replacements = [];\n    var head = typingSlash ? \"/\" : \"</\";\n    var opt = cm.getOption(\"autoCloseTags\");\n    var dontIndentOnAutoClose = (typeof opt == \"object\" && opt.dontIndentOnSlash);\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var pos = ranges[i].head, tok = cm.getTokenAt(pos);\n      var inner = CodeMirror.innerMode(cm.getMode(), tok.state), state = inner.state;\n      if (typingSlash && (tok.type == \"string\" || tok.string.charAt(0) != \"<\" ||\n                          tok.start != pos.ch - 1))\n        return CodeMirror.Pass;\n      // Kludge to get around the fact that we are not in XML mode\n      // when completing in JS/CSS snippet in htmlmixed mode. Does not\n      // work for other XML embedded languages (there is no general\n      // way to go from a mixed mode to its current XML state).\n      var replacement, mixed = inner.mode.name != \"xml\" && cm.getMode().name == \"htmlmixed\"\n      if (mixed && inner.mode.name == \"javascript\") {\n        replacement = head + \"script\";\n      } else if (mixed && inner.mode.name == \"css\") {\n        replacement = head + \"style\";\n      } else {\n        var context = inner.mode.xmlCurrentContext && inner.mode.xmlCurrentContext(state)\n        var top = context.length ? context[context.length - 1] : \"\"\n        if (!context || (context.length && closingTagExists(cm, context, top, pos)))\n          return CodeMirror.Pass;\n        replacement = head + top\n      }\n      if (cm.getLine(pos.line).charAt(tok.end) != \">\") replacement += \">\";\n      replacements[i] = replacement;\n    }\n    cm.replaceSelections(replacements);\n    ranges = cm.listSelections();\n    if (!dontIndentOnAutoClose) {\n        for (var i = 0; i < ranges.length; i++)\n            if (i == ranges.length - 1 || ranges[i].head.line < ranges[i + 1].head.line)\n                cm.indentLine(ranges[i].head.line);\n    }\n  }\n\n  function autoCloseSlash(cm) {\n    if (cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n    return autoCloseCurrent(cm, true);\n  }\n\n  CodeMirror.commands.closeTag = function(cm) { return autoCloseCurrent(cm); };\n\n  function indexOf(collection, elt) {\n    if (collection.indexOf) return collection.indexOf(elt);\n    for (var i = 0, e = collection.length; i < e; ++i)\n      if (collection[i] == elt) return i;\n    return -1;\n  }\n\n  // If xml-fold is loaded, we use its functionality to try and verify\n  // whether a given tag is actually unclosed.\n  function closingTagExists(cm, context, tagName, pos, newTag) {\n    if (!CodeMirror.scanForClosingTag) return false;\n    var end = Math.min(cm.lastLine() + 1, pos.line + 500);\n    var nextClose = CodeMirror.scanForClosingTag(cm, pos, null, end);\n    if (!nextClose || nextClose.tag != tagName) return false;\n    // If the immediate wrapping context contains onCx instances of\n    // the same tag, a closing tag only exists if there are at least\n    // that many closing tags of that type following.\n    var onCx = newTag ? 1 : 0\n    for (var i = context.length - 1; i >= 0; i--) {\n      if (context[i] == tagName) ++onCx\n      else break\n    }\n    pos = nextClose.to;\n    for (var i = 1; i < onCx; i++) {\n      var next = CodeMirror.scanForClosingTag(cm, pos, null, end);\n      if (!next || next.tag != tagName) return false;\n      pos = next.to;\n    }\n    return true;\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var Pos = CodeMirror.Pos;\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch; }\n\n  var nameStartChar = \"A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\";\n  var nameChar = nameStartChar + \"\\-\\:\\.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040\";\n  var xmlTagStart = new RegExp(\"<(/?)([\" + nameStartChar + \"][\" + nameChar + \"]*)\", \"g\");\n\n  function Iter(cm, line, ch, range) {\n    this.line = line; this.ch = ch;\n    this.cm = cm; this.text = cm.getLine(line);\n    this.min = range ? Math.max(range.from, cm.firstLine()) : cm.firstLine();\n    this.max = range ? Math.min(range.to - 1, cm.lastLine()) : cm.lastLine();\n  }\n\n  function tagAt(iter, ch) {\n    var type = iter.cm.getTokenTypeAt(Pos(iter.line, ch));\n    return type && /\\btag\\b/.test(type);\n  }\n\n  function nextLine(iter) {\n    if (iter.line >= iter.max) return;\n    iter.ch = 0;\n    iter.text = iter.cm.getLine(++iter.line);\n    return true;\n  }\n  function prevLine(iter) {\n    if (iter.line <= iter.min) return;\n    iter.text = iter.cm.getLine(--iter.line);\n    iter.ch = iter.text.length;\n    return true;\n  }\n\n  function toTagEnd(iter) {\n    for (;;) {\n      var gt = iter.text.indexOf(\">\", iter.ch);\n      if (gt == -1) { if (nextLine(iter)) continue; else return; }\n      if (!tagAt(iter, gt + 1)) { iter.ch = gt + 1; continue; }\n      var lastSlash = iter.text.lastIndexOf(\"/\", gt);\n      var selfClose = lastSlash > -1 && !/\\S/.test(iter.text.slice(lastSlash + 1, gt));\n      iter.ch = gt + 1;\n      return selfClose ? \"selfClose\" : \"regular\";\n    }\n  }\n  function toTagStart(iter) {\n    for (;;) {\n      var lt = iter.ch ? iter.text.lastIndexOf(\"<\", iter.ch - 1) : -1;\n      if (lt == -1) { if (prevLine(iter)) continue; else return; }\n      if (!tagAt(iter, lt + 1)) { iter.ch = lt; continue; }\n      xmlTagStart.lastIndex = lt;\n      iter.ch = lt;\n      var match = xmlTagStart.exec(iter.text);\n      if (match && match.index == lt) return match;\n    }\n  }\n\n  function toNextTag(iter) {\n    for (;;) {\n      xmlTagStart.lastIndex = iter.ch;\n      var found = xmlTagStart.exec(iter.text);\n      if (!found) { if (nextLine(iter)) continue; else return; }\n      if (!tagAt(iter, found.index + 1)) { iter.ch = found.index + 1; continue; }\n      iter.ch = found.index + found[0].length;\n      return found;\n    }\n  }\n  function toPrevTag(iter) {\n    for (;;) {\n      var gt = iter.ch ? iter.text.lastIndexOf(\">\", iter.ch - 1) : -1;\n      if (gt == -1) { if (prevLine(iter)) continue; else return; }\n      if (!tagAt(iter, gt + 1)) { iter.ch = gt; continue; }\n      var lastSlash = iter.text.lastIndexOf(\"/\", gt);\n      var selfClose = lastSlash > -1 && !/\\S/.test(iter.text.slice(lastSlash + 1, gt));\n      iter.ch = gt + 1;\n      return selfClose ? \"selfClose\" : \"regular\";\n    }\n  }\n\n  function findMatchingClose(iter, tag) {\n    var stack = [];\n    for (;;) {\n      var next = toNextTag(iter), end, startLine = iter.line, startCh = iter.ch - (next ? next[0].length : 0);\n      if (!next || !(end = toTagEnd(iter))) return;\n      if (end == \"selfClose\") continue;\n      if (next[1]) { // closing tag\n        for (var i = stack.length - 1; i >= 0; --i) if (stack[i] == next[2]) {\n          stack.length = i;\n          break;\n        }\n        if (i < 0 && (!tag || tag == next[2])) return {\n          tag: next[2],\n          from: Pos(startLine, startCh),\n          to: Pos(iter.line, iter.ch)\n        };\n      } else { // opening tag\n        stack.push(next[2]);\n      }\n    }\n  }\n  function findMatchingOpen(iter, tag) {\n    var stack = [];\n    for (;;) {\n      var prev = toPrevTag(iter);\n      if (!prev) return;\n      if (prev == \"selfClose\") { toTagStart(iter); continue; }\n      var endLine = iter.line, endCh = iter.ch;\n      var start = toTagStart(iter);\n      if (!start) return;\n      if (start[1]) { // closing tag\n        stack.push(start[2]);\n      } else { // opening tag\n        for (var i = stack.length - 1; i >= 0; --i) if (stack[i] == start[2]) {\n          stack.length = i;\n          break;\n        }\n        if (i < 0 && (!tag || tag == start[2])) return {\n          tag: start[2],\n          from: Pos(iter.line, iter.ch),\n          to: Pos(endLine, endCh)\n        };\n      }\n    }\n  }\n\n  CodeMirror.registerHelper(\"fold\", \"xml\", function(cm, start) {\n    var iter = new Iter(cm, start.line, 0);\n    for (;;) {\n      var openTag = toNextTag(iter)\n      if (!openTag || iter.line != start.line) return\n      var end = toTagEnd(iter)\n      if (!end) return\n      if (!openTag[1] && end != \"selfClose\") {\n        var startPos = Pos(iter.line, iter.ch);\n        var endPos = findMatchingClose(iter, openTag[2]);\n        return endPos && cmp(endPos.from, startPos) > 0 ? {from: startPos, to: endPos.from} : null\n      }\n    }\n  });\n  CodeMirror.findMatchingTag = function(cm, pos, range) {\n    var iter = new Iter(cm, pos.line, pos.ch, range);\n    if (iter.text.indexOf(\">\") == -1 && iter.text.indexOf(\"<\") == -1) return;\n    var end = toTagEnd(iter), to = end && Pos(iter.line, iter.ch);\n    var start = end && toTagStart(iter);\n    if (!end || !start || cmp(iter, pos) > 0) return;\n    var here = {from: Pos(iter.line, iter.ch), to: to, tag: start[2]};\n    if (end == \"selfClose\") return {open: here, close: null, at: \"open\"};\n\n    if (start[1]) { // closing tag\n      return {open: findMatchingOpen(iter, start[2]), close: here, at: \"close\"};\n    } else { // opening tag\n      iter = new Iter(cm, to.line, to.ch, range);\n      return {open: here, close: findMatchingClose(iter, start[2]), at: \"open\"};\n    }\n  };\n\n  CodeMirror.findEnclosingTag = function(cm, pos, range, tag) {\n    var iter = new Iter(cm, pos.line, pos.ch, range);\n    for (;;) {\n      var open = findMatchingOpen(iter, tag);\n      if (!open) break;\n      var forward = new Iter(cm, pos.line, pos.ch, range);\n      var close = findMatchingClose(forward, open.tag);\n      if (close) return {open: open, close: close};\n    }\n  };\n\n  // Used by addon/edit/closetag.js\n  CodeMirror.scanForClosingTag = function(cm, pos, name, end) {\n    var iter = new Iter(cm, pos.line, pos.ch, end ? {from: 0, to: end} : null);\n    return findMatchingClose(iter, name);\n  };\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// declare global: DOMRect\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var HINT_ELEMENT_CLASS        = \"CodeMirror-hint\";\n  var ACTIVE_HINT_ELEMENT_CLASS = \"CodeMirror-hint-active\";\n\n  // This is the old interface, kept around for now to stay\n  // backwards-compatible.\n  CodeMirror.showHint = function(cm, getHints, options) {\n    if (!getHints) return cm.showHint(options);\n    if (options && options.async) getHints.async = true;\n    var newOpts = {hint: getHints};\n    if (options) for (var prop in options) newOpts[prop] = options[prop];\n    return cm.showHint(newOpts);\n  };\n\n  CodeMirror.defineExtension(\"showHint\", function(options) {\n    options = parseOptions(this, this.getCursor(\"start\"), options);\n    var selections = this.listSelections()\n    if (selections.length > 1) return;\n    // By default, don't allow completion when something is selected.\n    // A hint function can have a `supportsSelection` property to\n    // indicate that it can handle selections.\n    if (this.somethingSelected()) {\n      if (!options.hint.supportsSelection) return;\n      // Don't try with cross-line selections\n      for (var i = 0; i < selections.length; i++)\n        if (selections[i].head.line != selections[i].anchor.line) return;\n    }\n\n    if (this.state.completionActive) this.state.completionActive.close();\n    var completion = this.state.completionActive = new Completion(this, options);\n    if (!completion.options.hint) return;\n\n    CodeMirror.signal(this, \"startCompletion\", this);\n    completion.update(true);\n  });\n\n  CodeMirror.defineExtension(\"closeHint\", function() {\n    if (this.state.completionActive) this.state.completionActive.close()\n  })\n\n  function Completion(cm, options) {\n    this.cm = cm;\n    this.options = options;\n    this.widget = null;\n    this.debounce = 0;\n    this.tick = 0;\n    this.startPos = this.cm.getCursor(\"start\");\n    this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length;\n\n    if (this.options.updateOnCursorActivity) {\n      var self = this;\n      cm.on(\"cursorActivity\", this.activityFunc = function() { self.cursorActivity(); });\n    }\n  }\n\n  var requestAnimationFrame = window.requestAnimationFrame || function(fn) {\n    return setTimeout(fn, 1000/60);\n  };\n  var cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;\n\n  Completion.prototype = {\n    close: function() {\n      if (!this.active()) return;\n      this.cm.state.completionActive = null;\n      this.tick = null;\n      if (this.options.updateOnCursorActivity) {\n        this.cm.off(\"cursorActivity\", this.activityFunc);\n      }\n\n      if (this.widget && this.data) CodeMirror.signal(this.data, \"close\");\n      if (this.widget) this.widget.close();\n      CodeMirror.signal(this.cm, \"endCompletion\", this.cm);\n    },\n\n    active: function() {\n      return this.cm.state.completionActive == this;\n    },\n\n    pick: function(data, i) {\n      var completion = data.list[i], self = this;\n      this.cm.operation(function() {\n        if (completion.hint)\n          completion.hint(self.cm, data, completion);\n        else\n          self.cm.replaceRange(getText(completion), completion.from || data.from,\n                               completion.to || data.to, \"complete\");\n        CodeMirror.signal(data, \"pick\", completion);\n        self.cm.scrollIntoView();\n      });\n      if (this.options.closeOnPick) {\n        this.close();\n      }\n    },\n\n    cursorActivity: function() {\n      if (this.debounce) {\n        cancelAnimationFrame(this.debounce);\n        this.debounce = 0;\n      }\n\n      var identStart = this.startPos;\n      if(this.data) {\n        identStart = this.data.from;\n      }\n\n      var pos = this.cm.getCursor(), line = this.cm.getLine(pos.line);\n      if (pos.line != this.startPos.line || line.length - pos.ch != this.startLen - this.startPos.ch ||\n          pos.ch < identStart.ch || this.cm.somethingSelected() ||\n          (!pos.ch || this.options.closeCharacters.test(line.charAt(pos.ch - 1)))) {\n        this.close();\n      } else {\n        var self = this;\n        this.debounce = requestAnimationFrame(function() {self.update();});\n        if (this.widget) this.widget.disable();\n      }\n    },\n\n    update: function(first) {\n      if (this.tick == null) return\n      var self = this, myTick = ++this.tick\n      fetchHints(this.options.hint, this.cm, this.options, function(data) {\n        if (self.tick == myTick) self.finishUpdate(data, first)\n      })\n    },\n\n    finishUpdate: function(data, first) {\n      if (this.data) CodeMirror.signal(this.data, \"update\");\n\n      var picked = (this.widget && this.widget.picked) || (first && this.options.completeSingle);\n      if (this.widget) this.widget.close();\n\n      this.data = data;\n\n      if (data && data.list.length) {\n        if (picked && data.list.length == 1) {\n          this.pick(data, 0);\n        } else {\n          this.widget = new Widget(this, data);\n          CodeMirror.signal(data, \"shown\");\n        }\n      }\n    }\n  };\n\n  function parseOptions(cm, pos, options) {\n    var editor = cm.options.hintOptions;\n    var out = {};\n    for (var prop in defaultOptions) out[prop] = defaultOptions[prop];\n    if (editor) for (var prop in editor)\n      if (editor[prop] !== undefined) out[prop] = editor[prop];\n    if (options) for (var prop in options)\n      if (options[prop] !== undefined) out[prop] = options[prop];\n    if (out.hint.resolve) out.hint = out.hint.resolve(cm, pos)\n    return out;\n  }\n\n  function getText(completion) {\n    if (typeof completion == \"string\") return completion;\n    else return completion.text;\n  }\n\n  function buildKeyMap(completion, handle) {\n    var baseMap = {\n      Up: function() {handle.moveFocus(-1);},\n      Down: function() {handle.moveFocus(1);},\n      PageUp: function() {handle.moveFocus(-handle.menuSize() + 1, true);},\n      PageDown: function() {handle.moveFocus(handle.menuSize() - 1, true);},\n      Home: function() {handle.setFocus(0);},\n      End: function() {handle.setFocus(handle.length - 1);},\n      Enter: handle.pick,\n      Tab: handle.pick,\n      Esc: handle.close\n    };\n\n    var mac = /Mac/.test(navigator.platform);\n\n    if (mac) {\n      baseMap[\"Ctrl-P\"] = function() {handle.moveFocus(-1);};\n      baseMap[\"Ctrl-N\"] = function() {handle.moveFocus(1);};\n    }\n\n    var custom = completion.options.customKeys;\n    var ourMap = custom ? {} : baseMap;\n    function addBinding(key, val) {\n      var bound;\n      if (typeof val != \"string\")\n        bound = function(cm) { return val(cm, handle); };\n      // This mechanism is deprecated\n      else if (baseMap.hasOwnProperty(val))\n        bound = baseMap[val];\n      else\n        bound = val;\n      ourMap[key] = bound;\n    }\n    if (custom)\n      for (var key in custom) if (custom.hasOwnProperty(key))\n        addBinding(key, custom[key]);\n    var extra = completion.options.extraKeys;\n    if (extra)\n      for (var key in extra) if (extra.hasOwnProperty(key))\n        addBinding(key, extra[key]);\n    return ourMap;\n  }\n\n  function getHintElement(hintsElement, el) {\n    while (el && el != hintsElement) {\n      if (el.nodeName.toUpperCase() === \"LI\" && el.parentNode == hintsElement) return el;\n      el = el.parentNode;\n    }\n  }\n\n  function Widget(completion, data) {\n    this.completion = completion;\n    this.data = data;\n    this.picked = false;\n    var widget = this, cm = completion.cm;\n    var ownerDocument = cm.getInputField().ownerDocument;\n    var parentWindow = ownerDocument.defaultView || ownerDocument.parentWindow;\n\n    var hints = this.hints = ownerDocument.createElement(\"ul\");\n    var theme = completion.cm.options.theme;\n    hints.className = \"CodeMirror-hints \" + theme;\n    this.selectedHint = data.selectedHint || 0;\n\n    var completions = data.list;\n    for (var i = 0; i < completions.length; ++i) {\n      var elt = hints.appendChild(ownerDocument.createElement(\"li\")), cur = completions[i];\n      var className = HINT_ELEMENT_CLASS + (i != this.selectedHint ? \"\" : \" \" + ACTIVE_HINT_ELEMENT_CLASS);\n      if (cur.className != null) className = cur.className + \" \" + className;\n      elt.className = className;\n      if (cur.render) cur.render(elt, data, cur);\n      else elt.appendChild(ownerDocument.createTextNode(cur.displayText || getText(cur)));\n      elt.hintId = i;\n    }\n\n    var container = completion.options.container || ownerDocument.body;\n    var pos = cm.cursorCoords(completion.options.alignWithWord ? data.from : null);\n    var left = pos.left, top = pos.bottom, below = true;\n    var offsetLeft = 0, offsetTop = 0;\n    if (container !== ownerDocument.body) {\n      // We offset the cursor position because left and top are relative to the offsetParent's top left corner.\n      var isContainerPositioned = ['absolute', 'relative', 'fixed'].indexOf(parentWindow.getComputedStyle(container).position) !== -1;\n      var offsetParent = isContainerPositioned ? container : container.offsetParent;\n      var offsetParentPosition = offsetParent.getBoundingClientRect();\n      var bodyPosition = ownerDocument.body.getBoundingClientRect();\n      offsetLeft = (offsetParentPosition.left - bodyPosition.left - offsetParent.scrollLeft);\n      offsetTop = (offsetParentPosition.top - bodyPosition.top - offsetParent.scrollTop);\n    }\n    hints.style.left = (left - offsetLeft) + \"px\";\n    hints.style.top = (top - offsetTop) + \"px\";\n\n    // If we're at the edge of the screen, then we want the menu to appear on the left of the cursor.\n    var winW = parentWindow.innerWidth || Math.max(ownerDocument.body.offsetWidth, ownerDocument.documentElement.offsetWidth);\n    var winH = parentWindow.innerHeight || Math.max(ownerDocument.body.offsetHeight, ownerDocument.documentElement.offsetHeight);\n    container.appendChild(hints);\n\n    var box = completion.options.moveOnOverlap ? hints.getBoundingClientRect() : new DOMRect();\n    var scrolls = completion.options.paddingForScrollbar ? hints.scrollHeight > hints.clientHeight + 1 : false;\n\n    // Compute in the timeout to avoid reflow on init\n    var startScroll;\n    setTimeout(function() { startScroll = cm.getScrollInfo(); });\n\n    var overlapY = box.bottom - winH;\n    if (overlapY > 0) {\n      var height = box.bottom - box.top, curTop = pos.top - (pos.bottom - box.top);\n      if (curTop - height > 0) { // Fits above cursor\n        hints.style.top = (top = pos.top - height - offsetTop) + \"px\";\n        below = false;\n      } else if (height > winH) {\n        hints.style.height = (winH - 5) + \"px\";\n        hints.style.top = (top = pos.bottom - box.top - offsetTop) + \"px\";\n        var cursor = cm.getCursor();\n        if (data.from.ch != cursor.ch) {\n          pos = cm.cursorCoords(cursor);\n          hints.style.left = (left = pos.left - offsetLeft) + \"px\";\n          box = hints.getBoundingClientRect();\n        }\n      }\n    }\n    var overlapX = box.right - winW;\n    if (scrolls) overlapX += cm.display.nativeBarWidth;\n    if (overlapX > 0) {\n      if (box.right - box.left > winW) {\n        hints.style.width = (winW - 5) + \"px\";\n        overlapX -= (box.right - box.left) - winW;\n      }\n      hints.style.left = (left = pos.left - overlapX - offsetLeft) + \"px\";\n    }\n    if (scrolls) for (var node = hints.firstChild; node; node = node.nextSibling)\n      node.style.paddingRight = cm.display.nativeBarWidth + \"px\"\n\n    cm.addKeyMap(this.keyMap = buildKeyMap(completion, {\n      moveFocus: function(n, avoidWrap) { widget.changeActive(widget.selectedHint + n, avoidWrap); },\n      setFocus: function(n) { widget.changeActive(n); },\n      menuSize: function() { return widget.screenAmount(); },\n      length: completions.length,\n      close: function() { completion.close(); },\n      pick: function() { widget.pick(); },\n      data: data\n    }));\n\n    if (completion.options.closeOnUnfocus) {\n      var closingOnBlur;\n      cm.on(\"blur\", this.onBlur = function() { closingOnBlur = setTimeout(function() { completion.close(); }, 100); });\n      cm.on(\"focus\", this.onFocus = function() { clearTimeout(closingOnBlur); });\n    }\n\n    cm.on(\"scroll\", this.onScroll = function() {\n      var curScroll = cm.getScrollInfo(), editor = cm.getWrapperElement().getBoundingClientRect();\n      if (!startScroll) startScroll = cm.getScrollInfo();\n      var newTop = top + startScroll.top - curScroll.top;\n      var point = newTop - (parentWindow.pageYOffset || (ownerDocument.documentElement || ownerDocument.body).scrollTop);\n      if (!below) point += hints.offsetHeight;\n      if (point <= editor.top || point >= editor.bottom) return completion.close();\n      hints.style.top = newTop + \"px\";\n      hints.style.left = (left + startScroll.left - curScroll.left) + \"px\";\n    });\n\n    CodeMirror.on(hints, \"dblclick\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {widget.changeActive(t.hintId); widget.pick();}\n    });\n\n    CodeMirror.on(hints, \"click\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {\n        widget.changeActive(t.hintId);\n        if (completion.options.completeOnSingleClick) widget.pick();\n      }\n    });\n\n    CodeMirror.on(hints, \"mousedown\", function() {\n      setTimeout(function(){cm.focus();}, 20);\n    });\n\n    // The first hint doesn't need to be scrolled to on init\n    var selectedHintRange = this.getSelectedHintRange();\n    if (selectedHintRange.from !== 0 || selectedHintRange.to !== 0) {\n      this.scrollToActive();\n    }\n\n    CodeMirror.signal(data, \"select\", completions[this.selectedHint], hints.childNodes[this.selectedHint]);\n    return true;\n  }\n\n  Widget.prototype = {\n    close: function() {\n      if (this.completion.widget != this) return;\n      this.completion.widget = null;\n      if (this.hints.parentNode) this.hints.parentNode.removeChild(this.hints);\n      this.completion.cm.removeKeyMap(this.keyMap);\n\n      var cm = this.completion.cm;\n      if (this.completion.options.closeOnUnfocus) {\n        cm.off(\"blur\", this.onBlur);\n        cm.off(\"focus\", this.onFocus);\n      }\n      cm.off(\"scroll\", this.onScroll);\n    },\n\n    disable: function() {\n      this.completion.cm.removeKeyMap(this.keyMap);\n      var widget = this;\n      this.keyMap = {Enter: function() { widget.picked = true; }};\n      this.completion.cm.addKeyMap(this.keyMap);\n    },\n\n    pick: function() {\n      this.completion.pick(this.data, this.selectedHint);\n    },\n\n    changeActive: function(i, avoidWrap) {\n      if (i >= this.data.list.length)\n        i = avoidWrap ? this.data.list.length - 1 : 0;\n      else if (i < 0)\n        i = avoidWrap ? 0  : this.data.list.length - 1;\n      if (this.selectedHint == i) return;\n      var node = this.hints.childNodes[this.selectedHint];\n      if (node) node.className = node.className.replace(\" \" + ACTIVE_HINT_ELEMENT_CLASS, \"\");\n      node = this.hints.childNodes[this.selectedHint = i];\n      node.className += \" \" + ACTIVE_HINT_ELEMENT_CLASS;\n      this.scrollToActive()\n      CodeMirror.signal(this.data, \"select\", this.data.list[this.selectedHint], node);\n    },\n\n    scrollToActive: function() {\n      var selectedHintRange = this.getSelectedHintRange();\n      var node1 = this.hints.childNodes[selectedHintRange.from];\n      var node2 = this.hints.childNodes[selectedHintRange.to];\n      var firstNode = this.hints.firstChild;\n      if (node1.offsetTop < this.hints.scrollTop)\n        this.hints.scrollTop = node1.offsetTop - firstNode.offsetTop;\n      else if (node2.offsetTop + node2.offsetHeight > this.hints.scrollTop + this.hints.clientHeight)\n        this.hints.scrollTop = node2.offsetTop + node2.offsetHeight - this.hints.clientHeight + firstNode.offsetTop;\n    },\n\n    screenAmount: function() {\n      return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1;\n    },\n\n    getSelectedHintRange: function() {\n      var margin = this.completion.options.scrollMargin || 0;\n      return {\n        from: Math.max(0, this.selectedHint - margin),\n        to: Math.min(this.data.list.length - 1, this.selectedHint + margin),\n      };\n    }\n  };\n\n  function applicableHelpers(cm, helpers) {\n    if (!cm.somethingSelected()) return helpers\n    var result = []\n    for (var i = 0; i < helpers.length; i++)\n      if (helpers[i].supportsSelection) result.push(helpers[i])\n    return result\n  }\n\n  function fetchHints(hint, cm, options, callback) {\n    if (hint.async) {\n      hint(cm, callback, options)\n    } else {\n      var result = hint(cm, options)\n      if (result && result.then) result.then(callback)\n      else callback(result)\n    }\n  }\n\n  function resolveAutoHints(cm, pos) {\n    var helpers = cm.getHelpers(pos, \"hint\"), words\n    if (helpers.length) {\n      var resolved = function(cm, callback, options) {\n        var app = applicableHelpers(cm, helpers);\n        function run(i) {\n          if (i == app.length) return callback(null)\n          fetchHints(app[i], cm, options, function(result) {\n            if (result && result.list.length > 0) callback(result)\n            else run(i + 1)\n          })\n        }\n        run(0)\n      }\n      resolved.async = true\n      resolved.supportsSelection = true\n      return resolved\n    } else if (words = cm.getHelper(cm.getCursor(), \"hintWords\")) {\n      return function(cm) { return CodeMirror.hint.fromList(cm, {words: words}) }\n    } else if (CodeMirror.hint.anyword) {\n      return function(cm, options) { return CodeMirror.hint.anyword(cm, options) }\n    } else {\n      return function() {}\n    }\n  }\n\n  CodeMirror.registerHelper(\"hint\", \"auto\", {\n    resolve: resolveAutoHints\n  });\n\n  CodeMirror.registerHelper(\"hint\", \"fromList\", function(cm, options) {\n    var cur = cm.getCursor(), token = cm.getTokenAt(cur)\n    var term, from = CodeMirror.Pos(cur.line, token.start), to = cur\n    if (token.start < cur.ch && /\\w/.test(token.string.charAt(cur.ch - token.start - 1))) {\n      term = token.string.substr(0, cur.ch - token.start)\n    } else {\n      term = \"\"\n      from = cur\n    }\n    var found = [];\n    for (var i = 0; i < options.words.length; i++) {\n      var word = options.words[i];\n      if (word.slice(0, term.length) == term)\n        found.push(word);\n    }\n\n    if (found.length) return {list: found, from: from, to: to};\n  });\n\n  CodeMirror.commands.autocomplete = CodeMirror.showHint;\n\n  var defaultOptions = {\n    hint: CodeMirror.hint.auto,\n    completeSingle: true,\n    alignWithWord: true,\n    closeCharacters: /[\\s()\\[\\]{};:>,]/,\n    closeOnPick: true,\n    closeOnUnfocus: true,\n    updateOnCursorActivity: true,\n    completeOnSingleClick: true,\n    container: null,\n    customKeys: null,\n    extraKeys: null,\n    paddingForScrollbar: true,\n    moveOnOverlap: true,\n  };\n\n  CodeMirror.defineOption(\"hintOptions\", null);\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var Pos = CodeMirror.Pos;\n\n  function forEach(arr, f) {\n    for (var i = 0, e = arr.length; i < e; ++i) f(arr[i]);\n  }\n\n  function arrayContains(arr, item) {\n    if (!Array.prototype.indexOf) {\n      var i = arr.length;\n      while (i--) {\n        if (arr[i] === item) {\n          return true;\n        }\n      }\n      return false;\n    }\n    return arr.indexOf(item) != -1;\n  }\n\n  function scriptHint(editor, keywords, getToken, options) {\n    // Find the token at the cursor\n    var cur = editor.getCursor(), token = getToken(editor, cur);\n    if (/\\b(?:string|comment)\\b/.test(token.type)) return;\n    var innerMode = CodeMirror.innerMode(editor.getMode(), token.state);\n    if (innerMode.mode.helperType === \"json\") return;\n    token.state = innerMode.state;\n\n    // If it's not a 'word-style' token, ignore the token.\n    if (!/^[\\w$_]*$/.test(token.string)) {\n      token = {start: cur.ch, end: cur.ch, string: \"\", state: token.state,\n               type: token.string == \".\" ? \"property\" : null};\n    } else if (token.end > cur.ch) {\n      token.end = cur.ch;\n      token.string = token.string.slice(0, cur.ch - token.start);\n    }\n\n    var tprop = token;\n    // If it is a property, find out what it is a property of.\n    while (tprop.type == \"property\") {\n      tprop = getToken(editor, Pos(cur.line, tprop.start));\n      if (tprop.string != \".\") return;\n      tprop = getToken(editor, Pos(cur.line, tprop.start));\n      if (!context) var context = [];\n      context.push(tprop);\n    }\n    return {list: getCompletions(token, context, keywords, options),\n            from: Pos(cur.line, token.start),\n            to: Pos(cur.line, token.end)};\n  }\n\n  function javascriptHint(editor, options) {\n    return scriptHint(editor, javascriptKeywords,\n                      function (e, cur) {return e.getTokenAt(cur);},\n                      options);\n  };\n  CodeMirror.registerHelper(\"hint\", \"javascript\", javascriptHint);\n\n  function getCoffeeScriptToken(editor, cur) {\n  // This getToken, it is for coffeescript, imitates the behavior of\n  // getTokenAt method in javascript.js, that is, returning \"property\"\n  // type and treat \".\" as independent token.\n    var token = editor.getTokenAt(cur);\n    if (cur.ch == token.start + 1 && token.string.charAt(0) == '.') {\n      token.end = token.start;\n      token.string = '.';\n      token.type = \"property\";\n    }\n    else if (/^\\.[\\w$_]*$/.test(token.string)) {\n      token.type = \"property\";\n      token.start++;\n      token.string = token.string.replace(/\\./, '');\n    }\n    return token;\n  }\n\n  function coffeescriptHint(editor, options) {\n    return scriptHint(editor, coffeescriptKeywords, getCoffeeScriptToken, options);\n  }\n  CodeMirror.registerHelper(\"hint\", \"coffeescript\", coffeescriptHint);\n\n  var stringProps = (\"charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight \" +\n                     \"toUpperCase toLowerCase split concat match replace search\").split(\" \");\n  var arrayProps = (\"length concat join splice push pop shift unshift slice reverse sort indexOf \" +\n                    \"lastIndexOf every some filter forEach map reduce reduceRight \").split(\" \");\n  var funcProps = \"prototype apply call bind\".split(\" \");\n  var javascriptKeywords = (\"break case catch class const continue debugger default delete do else export extends false finally for function \" +\n                  \"if in import instanceof new null return super switch this throw true try typeof var void while with yield\").split(\" \");\n  var coffeescriptKeywords = (\"and break catch class continue delete do else extends false finally for \" +\n                  \"if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes\").split(\" \");\n\n  function forAllProps(obj, callback) {\n    if (!Object.getOwnPropertyNames || !Object.getPrototypeOf) {\n      for (var name in obj) callback(name)\n    } else {\n      for (var o = obj; o; o = Object.getPrototypeOf(o))\n        Object.getOwnPropertyNames(o).forEach(callback)\n    }\n  }\n\n  function getCompletions(token, context, keywords, options) {\n    var found = [], start = token.string, global = options && options.globalScope || window;\n    function maybeAdd(str) {\n      if (str.lastIndexOf(start, 0) == 0 && !arrayContains(found, str)) found.push(str);\n    }\n    function gatherCompletions(obj) {\n      if (typeof obj == \"string\") forEach(stringProps, maybeAdd);\n      else if (obj instanceof Array) forEach(arrayProps, maybeAdd);\n      else if (obj instanceof Function) forEach(funcProps, maybeAdd);\n      forAllProps(obj, maybeAdd)\n    }\n\n    if (context && context.length) {\n      // If this is a property, see if it belongs to some object we can\n      // find in the current environment.\n      var obj = context.pop(), base;\n      if (obj.type && obj.type.indexOf(\"variable\") === 0) {\n        if (options && options.additionalContext)\n          base = options.additionalContext[obj.string];\n        if (!options || options.useGlobalScope !== false)\n          base = base || global[obj.string];\n      } else if (obj.type == \"string\") {\n        base = \"\";\n      } else if (obj.type == \"atom\") {\n        base = 1;\n      } else if (obj.type == \"function\") {\n        if (global.jQuery != null && (obj.string == '$' || obj.string == 'jQuery') &&\n            (typeof global.jQuery == 'function'))\n          base = global.jQuery();\n        else if (global._ != null && (obj.string == '_') && (typeof global._ == 'function'))\n          base = global._();\n      }\n      while (base != null && context.length)\n        base = base[context.pop().string];\n      if (base != null) gatherCompletions(base);\n    } else {\n      // If not, just look in the global object, any local scope, and optional additional-context\n      // (reading into JS mode internals to get at the local and global variables)\n      for (var v = token.state.localVars; v; v = v.next) maybeAdd(v.name);\n      for (var c = token.state.context; c; c = c.prev)\n        for (var v = c.vars; v; v = v.next) maybeAdd(v.name)\n      for (var v = token.state.globalVars; v; v = v.next) maybeAdd(v.name);\n      if (options && options.additionalContext != null)\n        for (var key in options.additionalContext)\n          maybeAdd(key);\n      if (!options || options.useGlobalScope !== false)\n        gatherCompletions(global);\n      forEach(keywords, maybeAdd);\n    }\n    return found;\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var WORD = /[\\w$]+/, RANGE = 500;\n\n  CodeMirror.registerHelper(\"hint\", \"anyword\", function(editor, options) {\n    var word = options && options.word || WORD;\n    var range = options && options.range || RANGE;\n    var cur = editor.getCursor(), curLine = editor.getLine(cur.line);\n    var end = cur.ch, start = end;\n    while (start && word.test(curLine.charAt(start - 1))) --start;\n    var curWord = start != end && curLine.slice(start, end);\n\n    var list = options && options.list || [], seen = {};\n    var re = new RegExp(word.source, \"g\");\n    for (var dir = -1; dir <= 1; dir += 2) {\n      var line = cur.line, endLine = Math.min(Math.max(line + dir * range, editor.firstLine()), editor.lastLine()) + dir;\n      for (; line != endLine; line += dir) {\n        var text = editor.getLine(line), m;\n        while (m = re.exec(text)) {\n          if (line == cur.line && m[0] === curWord) continue;\n          if ((!curWord || m[0].lastIndexOf(curWord, 0) == 0) && !Object.prototype.hasOwnProperty.call(seen, m[0])) {\n            seen[m[0]] = true;\n            list.push(m[0]);\n          }\n        }\n      }\n    }\n    return {list: list, from: CodeMirror.Pos(cur.line, start), to: CodeMirror.Pos(cur.line, end)};\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./foldcode\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./foldcode\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"foldGutter\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.clearGutter(cm.state.foldGutter.options.gutter);\n      cm.state.foldGutter = null;\n      cm.off(\"gutterClick\", onGutterClick);\n      cm.off(\"changes\", onChange);\n      cm.off(\"viewportChange\", onViewportChange);\n      cm.off(\"fold\", onFold);\n      cm.off(\"unfold\", onFold);\n      cm.off(\"swapDoc\", onChange);\n    }\n    if (val) {\n      cm.state.foldGutter = new State(parseOptions(val));\n      updateInViewport(cm);\n      cm.on(\"gutterClick\", onGutterClick);\n      cm.on(\"changes\", onChange);\n      cm.on(\"viewportChange\", onViewportChange);\n      cm.on(\"fold\", onFold);\n      cm.on(\"unfold\", onFold);\n      cm.on(\"swapDoc\", onChange);\n    }\n  });\n\n  var Pos = CodeMirror.Pos;\n\n  function State(options) {\n    this.options = options;\n    this.from = this.to = 0;\n  }\n\n  function parseOptions(opts) {\n    if (opts === true) opts = {};\n    if (opts.gutter == null) opts.gutter = \"CodeMirror-foldgutter\";\n    if (opts.indicatorOpen == null) opts.indicatorOpen = \"CodeMirror-foldgutter-open\";\n    if (opts.indicatorFolded == null) opts.indicatorFolded = \"CodeMirror-foldgutter-folded\";\n    return opts;\n  }\n\n  function isFolded(cm, line) {\n    var marks = cm.findMarks(Pos(line, 0), Pos(line + 1, 0));\n    for (var i = 0; i < marks.length; ++i) {\n      if (marks[i].__isFold) {\n        var fromPos = marks[i].find(-1);\n        if (fromPos && fromPos.line === line)\n          return marks[i];\n      }\n    }\n  }\n\n  function marker(spec) {\n    if (typeof spec == \"string\") {\n      var elt = document.createElement(\"div\");\n      elt.className = spec + \" CodeMirror-guttermarker-subtle\";\n      return elt;\n    } else {\n      return spec.cloneNode(true);\n    }\n  }\n\n  function updateFoldInfo(cm, from, to) {\n    var opts = cm.state.foldGutter.options, cur = from - 1;\n    var minSize = cm.foldOption(opts, \"minFoldSize\");\n    var func = cm.foldOption(opts, \"rangeFinder\");\n    // we can reuse the built-in indicator element if its className matches the new state\n    var clsFolded = typeof opts.indicatorFolded == \"string\" && classTest(opts.indicatorFolded);\n    var clsOpen = typeof opts.indicatorOpen == \"string\" && classTest(opts.indicatorOpen);\n    cm.eachLine(from, to, function(line) {\n      ++cur;\n      var mark = null;\n      var old = line.gutterMarkers;\n      if (old) old = old[opts.gutter];\n      if (isFolded(cm, cur)) {\n        if (clsFolded && old && clsFolded.test(old.className)) return;\n        mark = marker(opts.indicatorFolded);\n      } else {\n        var pos = Pos(cur, 0);\n        var range = func && func(cm, pos);\n        if (range && range.to.line - range.from.line >= minSize) {\n          if (clsOpen && old && clsOpen.test(old.className)) return;\n          mark = marker(opts.indicatorOpen);\n        }\n      }\n      if (!mark && !old) return;\n      cm.setGutterMarker(line, opts.gutter, mark);\n    });\n  }\n\n  // copied from CodeMirror/src/util/dom.js\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  function updateInViewport(cm) {\n    var vp = cm.getViewport(), state = cm.state.foldGutter;\n    if (!state) return;\n    cm.operation(function() {\n      updateFoldInfo(cm, vp.from, vp.to);\n    });\n    state.from = vp.from; state.to = vp.to;\n  }\n\n  function onGutterClick(cm, line, gutter) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    if (gutter != opts.gutter) return;\n    var folded = isFolded(cm, line);\n    if (folded) folded.clear();\n    else cm.foldCode(Pos(line, 0), opts);\n  }\n\n  function onChange(cm) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    state.from = state.to = 0;\n    clearTimeout(state.changeUpdate);\n    state.changeUpdate = setTimeout(function() { updateInViewport(cm); }, opts.foldOnChangeTimeSpan || 600);\n  }\n\n  function onViewportChange(cm) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    clearTimeout(state.changeUpdate);\n    state.changeUpdate = setTimeout(function() {\n      var vp = cm.getViewport();\n      if (state.from == state.to || vp.from - state.to > 20 || state.from - vp.to > 20) {\n        updateInViewport(cm);\n      } else {\n        cm.operation(function() {\n          if (vp.from < state.from) {\n            updateFoldInfo(cm, vp.from, state.from);\n            state.from = vp.from;\n          }\n          if (vp.to > state.to) {\n            updateFoldInfo(cm, state.to, vp.to);\n            state.to = vp.to;\n          }\n        });\n      }\n    }, opts.updateViewportTimeSpan || 400);\n  }\n\n  function onFold(cm, from) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var line = from.line;\n    if (line >= state.from && line < state.to)\n      updateFoldInfo(cm, line, line + 1);\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.registerHelper(\"fold\", \"brace\", function(cm, start) {\n  var line = start.line, lineText = cm.getLine(line);\n  var tokenType;\n\n  function findOpening(openCh) {\n    for (var at = start.ch, pass = 0;;) {\n      var found = at <= 0 ? -1 : lineText.lastIndexOf(openCh, at - 1);\n      if (found == -1) {\n        if (pass == 1) break;\n        pass = 1;\n        at = lineText.length;\n        continue;\n      }\n      if (pass == 1 && found < start.ch) break;\n      tokenType = cm.getTokenTypeAt(CodeMirror.Pos(line, found + 1));\n      if (!/^(comment|string)/.test(tokenType)) return found + 1;\n      at = found - 1;\n    }\n  }\n\n  var startBrace = findOpening(\"{\"), startBracket = findOpening(\"[\")\n  var startToken, endToken, startCh\n  if (startBrace != null && (startBracket == null || startBracket > startBrace)) {\n    startCh = startBrace; startToken = \"{\"; endToken = \"}\"\n  } else if (startBracket != null) {\n    startCh = startBracket; startToken = \"[\"; endToken = \"]\"\n  } else {\n    return\n  }\n\n  var count = 1, lastLine = cm.lastLine(), end, endCh;\n  outer: for (var i = line; i <= lastLine; ++i) {\n    var text = cm.getLine(i), pos = i == line ? startCh : 0;\n    for (;;) {\n      var nextOpen = text.indexOf(startToken, pos), nextClose = text.indexOf(endToken, pos);\n      if (nextOpen < 0) nextOpen = text.length;\n      if (nextClose < 0) nextClose = text.length;\n      pos = Math.min(nextOpen, nextClose);\n      if (pos == text.length) break;\n      if (cm.getTokenTypeAt(CodeMirror.Pos(i, pos + 1)) == tokenType) {\n        if (pos == nextOpen) ++count;\n        else if (!--count) { end = i; endCh = pos; break outer; }\n      }\n      ++pos;\n    }\n  }\n  if (end == null || line == end) return;\n  return {from: CodeMirror.Pos(line, startCh),\n          to: CodeMirror.Pos(end, endCh)};\n});\n\nCodeMirror.registerHelper(\"fold\", \"import\", function(cm, start) {\n  function hasImport(line) {\n    if (line < cm.firstLine() || line > cm.lastLine()) return null;\n    var start = cm.getTokenAt(CodeMirror.Pos(line, 1));\n    if (!/\\S/.test(start.string)) start = cm.getTokenAt(CodeMirror.Pos(line, start.end + 1));\n    if (start.type != \"keyword\" || start.string != \"import\") return null;\n    // Now find closing semicolon, return its position\n    for (var i = line, e = Math.min(cm.lastLine(), line + 10); i <= e; ++i) {\n      var text = cm.getLine(i), semi = text.indexOf(\";\");\n      if (semi != -1) return {startCh: start.end, end: CodeMirror.Pos(i, semi)};\n    }\n  }\n\n  var startLine = start.line, has = hasImport(startLine), prev;\n  if (!has || hasImport(startLine - 1) || ((prev = hasImport(startLine - 2)) && prev.end.line == startLine - 1))\n    return null;\n  for (var end = has.end;;) {\n    var next = hasImport(end.line + 1);\n    if (next == null) break;\n    end = next.end;\n  }\n  return {from: cm.clipPos(CodeMirror.Pos(startLine, has.startCh + 1)), to: end};\n});\n\nCodeMirror.registerHelper(\"fold\", \"include\", function(cm, start) {\n  function hasInclude(line) {\n    if (line < cm.firstLine() || line > cm.lastLine()) return null;\n    var start = cm.getTokenAt(CodeMirror.Pos(line, 1));\n    if (!/\\S/.test(start.string)) start = cm.getTokenAt(CodeMirror.Pos(line, start.end + 1));\n    if (start.type == \"meta\" && start.string.slice(0, 8) == \"#include\") return start.start + 8;\n  }\n\n  var startLine = start.line, has = hasInclude(startLine);\n  if (has == null || hasInclude(startLine - 1) != null) return null;\n  for (var end = startLine;;) {\n    var next = hasInclude(end + 1);\n    if (next == null) break;\n    ++end;\n  }\n  return {from: CodeMirror.Pos(startLine, has + 1),\n          to: cm.clipPos(CodeMirror.Pos(end))};\n});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.registerGlobalHelper(\"fold\", \"comment\", function(mode) {\n  return mode.blockCommentStart && mode.blockCommentEnd;\n}, function(cm, start) {\n  var mode = cm.getModeAt(start), startToken = mode.blockCommentStart, endToken = mode.blockCommentEnd;\n  if (!startToken || !endToken) return;\n  var line = start.line, lineText = cm.getLine(line);\n\n  var startCh;\n  for (var at = start.ch, pass = 0;;) {\n    var found = at <= 0 ? -1 : lineText.lastIndexOf(startToken, at - 1);\n    if (found == -1) {\n      if (pass == 1) return;\n      pass = 1;\n      at = lineText.length;\n      continue;\n    }\n    if (pass == 1 && found < start.ch) return;\n    if (/comment/.test(cm.getTokenTypeAt(CodeMirror.Pos(line, found + 1))) &&\n        (found == 0 || lineText.slice(found - endToken.length, found) == endToken ||\n         !/comment/.test(cm.getTokenTypeAt(CodeMirror.Pos(line, found))))) {\n      startCh = found + startToken.length;\n      break;\n    }\n    at = found - 1;\n  }\n\n  var depth = 1, lastLine = cm.lastLine(), end, endCh;\n  outer: for (var i = line; i <= lastLine; ++i) {\n    var text = cm.getLine(i), pos = i == line ? startCh : 0;\n    for (;;) {\n      var nextOpen = text.indexOf(startToken, pos), nextClose = text.indexOf(endToken, pos);\n      if (nextOpen < 0) nextOpen = text.length;\n      if (nextClose < 0) nextClose = text.length;\n      pos = Math.min(nextOpen, nextClose);\n      if (pos == text.length) break;\n      if (pos == nextOpen) ++depth;\n      else if (!--depth) { end = i; endCh = pos; break outer; }\n      ++pos;\n    }\n  }\n  if (end == null || line == end && endCh == startCh) return;\n  return {from: CodeMirror.Pos(line, startCh),\n          to: CodeMirror.Pos(end, endCh)};\n});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// A rough approximation of Sublime Text's keybindings\n// Depends on addon/search/searchcursor.js and optionally addon/dialog/dialogs.js\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../lib/codemirror\"), require(\"../addon/search/searchcursor\"), require(\"../addon/edit/matchbrackets\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../lib/codemirror\", \"../addon/search/searchcursor\", \"../addon/edit/matchbrackets\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var cmds = CodeMirror.commands;\n  var Pos = CodeMirror.Pos;\n\n  // This is not exactly Sublime's algorithm. I couldn't make heads or tails of that.\n  function findPosSubword(doc, start, dir) {\n    if (dir < 0 && start.ch == 0) return doc.clipPos(Pos(start.line - 1));\n    var line = doc.getLine(start.line);\n    if (dir > 0 && start.ch >= line.length) return doc.clipPos(Pos(start.line + 1, 0));\n    var state = \"start\", type, startPos = start.ch;\n    for (var pos = startPos, e = dir < 0 ? 0 : line.length, i = 0; pos != e; pos += dir, i++) {\n      var next = line.charAt(dir < 0 ? pos - 1 : pos);\n      var cat = next != \"_\" && CodeMirror.isWordChar(next) ? \"w\" : \"o\";\n      if (cat == \"w\" && next.toUpperCase() == next) cat = \"W\";\n      if (state == \"start\") {\n        if (cat != \"o\") { state = \"in\"; type = cat; }\n        else startPos = pos + dir\n      } else if (state == \"in\") {\n        if (type != cat) {\n          if (type == \"w\" && cat == \"W\" && dir < 0) pos--;\n          if (type == \"W\" && cat == \"w\" && dir > 0) { // From uppercase to lowercase\n            if (pos == startPos + 1) { type = \"w\"; continue; }\n            else pos--;\n          }\n          break;\n        }\n      }\n    }\n    return Pos(start.line, pos);\n  }\n\n  function moveSubword(cm, dir) {\n    cm.extendSelectionsBy(function(range) {\n      if (cm.display.shift || cm.doc.extend || range.empty())\n        return findPosSubword(cm.doc, range.head, dir);\n      else\n        return dir < 0 ? range.from() : range.to();\n    });\n  }\n\n  cmds.goSubwordLeft = function(cm) { moveSubword(cm, -1); };\n  cmds.goSubwordRight = function(cm) { moveSubword(cm, 1); };\n\n  cmds.scrollLineUp = function(cm) {\n    var info = cm.getScrollInfo();\n    if (!cm.somethingSelected()) {\n      var visibleBottomLine = cm.lineAtHeight(info.top + info.clientHeight, \"local\");\n      if (cm.getCursor().line >= visibleBottomLine)\n        cm.execCommand(\"goLineUp\");\n    }\n    cm.scrollTo(null, info.top - cm.defaultTextHeight());\n  };\n  cmds.scrollLineDown = function(cm) {\n    var info = cm.getScrollInfo();\n    if (!cm.somethingSelected()) {\n      var visibleTopLine = cm.lineAtHeight(info.top, \"local\")+1;\n      if (cm.getCursor().line <= visibleTopLine)\n        cm.execCommand(\"goLineDown\");\n    }\n    cm.scrollTo(null, info.top + cm.defaultTextHeight());\n  };\n\n  cmds.splitSelectionByLine = function(cm) {\n    var ranges = cm.listSelections(), lineRanges = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var from = ranges[i].from(), to = ranges[i].to();\n      for (var line = from.line; line <= to.line; ++line)\n        if (!(to.line > from.line && line == to.line && to.ch == 0))\n          lineRanges.push({anchor: line == from.line ? from : Pos(line, 0),\n                           head: line == to.line ? to : Pos(line)});\n    }\n    cm.setSelections(lineRanges, 0);\n  };\n\n  cmds.singleSelectionTop = function(cm) {\n    var range = cm.listSelections()[0];\n    cm.setSelection(range.anchor, range.head, {scroll: false});\n  };\n\n  cmds.selectLine = function(cm) {\n    var ranges = cm.listSelections(), extended = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i];\n      extended.push({anchor: Pos(range.from().line, 0),\n                     head: Pos(range.to().line + 1, 0)});\n    }\n    cm.setSelections(extended);\n  };\n\n  function insertLine(cm, above) {\n    if (cm.isReadOnly()) return CodeMirror.Pass\n    cm.operation(function() {\n      var len = cm.listSelections().length, newSelection = [], last = -1;\n      for (var i = 0; i < len; i++) {\n        var head = cm.listSelections()[i].head;\n        if (head.line <= last) continue;\n        var at = Pos(head.line + (above ? 0 : 1), 0);\n        cm.replaceRange(\"\\n\", at, null, \"+insertLine\");\n        cm.indentLine(at.line, null, true);\n        newSelection.push({head: at, anchor: at});\n        last = head.line + 1;\n      }\n      cm.setSelections(newSelection);\n    });\n    cm.execCommand(\"indentAuto\");\n  }\n\n  cmds.insertLineAfter = function(cm) { return insertLine(cm, false); };\n\n  cmds.insertLineBefore = function(cm) { return insertLine(cm, true); };\n\n  function wordAt(cm, pos) {\n    var start = pos.ch, end = start, line = cm.getLine(pos.line);\n    while (start && CodeMirror.isWordChar(line.charAt(start - 1))) --start;\n    while (end < line.length && CodeMirror.isWordChar(line.charAt(end))) ++end;\n    return {from: Pos(pos.line, start), to: Pos(pos.line, end), word: line.slice(start, end)};\n  }\n\n  cmds.selectNextOccurrence = function(cm) {\n    var from = cm.getCursor(\"from\"), to = cm.getCursor(\"to\");\n    var fullWord = cm.state.sublimeFindFullWord == cm.doc.sel;\n    if (CodeMirror.cmpPos(from, to) == 0) {\n      var word = wordAt(cm, from);\n      if (!word.word) return;\n      cm.setSelection(word.from, word.to);\n      fullWord = true;\n    } else {\n      var text = cm.getRange(from, to);\n      var query = fullWord ? new RegExp(\"\\\\b\" + text + \"\\\\b\") : text;\n      var cur = cm.getSearchCursor(query, to);\n      var found = cur.findNext();\n      if (!found) {\n        cur = cm.getSearchCursor(query, Pos(cm.firstLine(), 0));\n        found = cur.findNext();\n      }\n      if (!found || isSelectedRange(cm.listSelections(), cur.from(), cur.to())) return\n      cm.addSelection(cur.from(), cur.to());\n    }\n    if (fullWord)\n      cm.state.sublimeFindFullWord = cm.doc.sel;\n  };\n\n  cmds.skipAndSelectNextOccurrence = function(cm) {\n    var prevAnchor = cm.getCursor(\"anchor\"), prevHead = cm.getCursor(\"head\");\n    cmds.selectNextOccurrence(cm);\n    if (CodeMirror.cmpPos(prevAnchor, prevHead) != 0) {\n      cm.doc.setSelections(cm.doc.listSelections()\n          .filter(function (sel) {\n            return sel.anchor != prevAnchor || sel.head != prevHead;\n          }));\n    }\n  }\n\n  function addCursorToSelection(cm, dir) {\n    var ranges = cm.listSelections(), newRanges = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i];\n      var newAnchor = cm.findPosV(\n          range.anchor, dir, \"line\", range.anchor.goalColumn);\n      var newHead = cm.findPosV(\n          range.head, dir, \"line\", range.head.goalColumn);\n      newAnchor.goalColumn = range.anchor.goalColumn != null ?\n          range.anchor.goalColumn : cm.cursorCoords(range.anchor, \"div\").left;\n      newHead.goalColumn = range.head.goalColumn != null ?\n          range.head.goalColumn : cm.cursorCoords(range.head, \"div\").left;\n      var newRange = {anchor: newAnchor, head: newHead};\n      newRanges.push(range);\n      newRanges.push(newRange);\n    }\n    cm.setSelections(newRanges);\n  }\n  cmds.addCursorToPrevLine = function(cm) { addCursorToSelection(cm, -1); };\n  cmds.addCursorToNextLine = function(cm) { addCursorToSelection(cm, 1); };\n\n  function isSelectedRange(ranges, from, to) {\n    for (var i = 0; i < ranges.length; i++)\n      if (CodeMirror.cmpPos(ranges[i].from(), from) == 0 &&\n          CodeMirror.cmpPos(ranges[i].to(), to) == 0) return true\n    return false\n  }\n\n  var mirror = \"(){}[]\";\n  function selectBetweenBrackets(cm) {\n    var ranges = cm.listSelections(), newRanges = []\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], pos = range.head, opening = cm.scanForBracket(pos, -1);\n      if (!opening) return false;\n      for (;;) {\n        var closing = cm.scanForBracket(pos, 1);\n        if (!closing) return false;\n        if (closing.ch == mirror.charAt(mirror.indexOf(opening.ch) + 1)) {\n          var startPos = Pos(opening.pos.line, opening.pos.ch + 1);\n          if (CodeMirror.cmpPos(startPos, range.from()) == 0 &&\n              CodeMirror.cmpPos(closing.pos, range.to()) == 0) {\n            opening = cm.scanForBracket(opening.pos, -1);\n            if (!opening) return false;\n          } else {\n            newRanges.push({anchor: startPos, head: closing.pos});\n            break;\n          }\n        }\n        pos = Pos(closing.pos.line, closing.pos.ch + 1);\n      }\n    }\n    cm.setSelections(newRanges);\n    return true;\n  }\n\n  cmds.selectScope = function(cm) {\n    selectBetweenBrackets(cm) || cm.execCommand(\"selectAll\");\n  };\n  cmds.selectBetweenBrackets = function(cm) {\n    if (!selectBetweenBrackets(cm)) return CodeMirror.Pass;\n  };\n\n  function puncType(type) {\n    return !type ? null : /\\bpunctuation\\b/.test(type) ? type : undefined\n  }\n\n  cmds.goToBracket = function(cm) {\n    cm.extendSelectionsBy(function(range) {\n      var next = cm.scanForBracket(range.head, 1, puncType(cm.getTokenTypeAt(range.head)));\n      if (next && CodeMirror.cmpPos(next.pos, range.head) != 0) return next.pos;\n      var prev = cm.scanForBracket(range.head, -1, puncType(cm.getTokenTypeAt(Pos(range.head.line, range.head.ch + 1))));\n      return prev && Pos(prev.pos.line, prev.pos.ch + 1) || range.head;\n    });\n  };\n\n  cmds.swapLineUp = function(cm) {\n    if (cm.isReadOnly()) return CodeMirror.Pass\n    var ranges = cm.listSelections(), linesToMove = [], at = cm.firstLine() - 1, newSels = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], from = range.from().line - 1, to = range.to().line;\n      newSels.push({anchor: Pos(range.anchor.line - 1, range.anchor.ch),\n                    head: Pos(range.head.line - 1, range.head.ch)});\n      if (range.to().ch == 0 && !range.empty()) --to;\n      if (from > at) linesToMove.push(from, to);\n      else if (linesToMove.length) linesToMove[linesToMove.length - 1] = to;\n      at = to;\n    }\n    cm.operation(function() {\n      for (var i = 0; i < linesToMove.length; i += 2) {\n        var from = linesToMove[i], to = linesToMove[i + 1];\n        var line = cm.getLine(from);\n        cm.replaceRange(\"\", Pos(from, 0), Pos(from + 1, 0), \"+swapLine\");\n        if (to > cm.lastLine())\n          cm.replaceRange(\"\\n\" + line, Pos(cm.lastLine()), null, \"+swapLine\");\n        else\n          cm.replaceRange(line + \"\\n\", Pos(to, 0), null, \"+swapLine\");\n      }\n      cm.setSelections(newSels);\n      cm.scrollIntoView();\n    });\n  };\n\n  cmds.swapLineDown = function(cm) {\n    if (cm.isReadOnly()) return CodeMirror.Pass\n    var ranges = cm.listSelections(), linesToMove = [], at = cm.lastLine() + 1;\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var range = ranges[i], from = range.to().line + 1, to = range.from().line;\n      if (range.to().ch == 0 && !range.empty()) from--;\n      if (from < at) linesToMove.push(from, to);\n      else if (linesToMove.length) linesToMove[linesToMove.length - 1] = to;\n      at = to;\n    }\n    cm.operation(function() {\n      for (var i = linesToMove.length - 2; i >= 0; i -= 2) {\n        var from = linesToMove[i], to = linesToMove[i + 1];\n        var line = cm.getLine(from);\n        if (from == cm.lastLine())\n          cm.replaceRange(\"\", Pos(from - 1), Pos(from), \"+swapLine\");\n        else\n          cm.replaceRange(\"\", Pos(from, 0), Pos(from + 1, 0), \"+swapLine\");\n        cm.replaceRange(line + \"\\n\", Pos(to, 0), null, \"+swapLine\");\n      }\n      cm.scrollIntoView();\n    });\n  };\n\n  cmds.toggleCommentIndented = function(cm) {\n    cm.toggleComment({ indent: true });\n  }\n\n  cmds.joinLines = function(cm) {\n    var ranges = cm.listSelections(), joined = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], from = range.from();\n      var start = from.line, end = range.to().line;\n      while (i < ranges.length - 1 && ranges[i + 1].from().line == end)\n        end = ranges[++i].to().line;\n      joined.push({start: start, end: end, anchor: !range.empty() && from});\n    }\n    cm.operation(function() {\n      var offset = 0, ranges = [];\n      for (var i = 0; i < joined.length; i++) {\n        var obj = joined[i];\n        var anchor = obj.anchor && Pos(obj.anchor.line - offset, obj.anchor.ch), head;\n        for (var line = obj.start; line <= obj.end; line++) {\n          var actual = line - offset;\n          if (line == obj.end) head = Pos(actual, cm.getLine(actual).length + 1);\n          if (actual < cm.lastLine()) {\n            cm.replaceRange(\" \", Pos(actual), Pos(actual + 1, /^\\s*/.exec(cm.getLine(actual + 1))[0].length));\n            ++offset;\n          }\n        }\n        ranges.push({anchor: anchor || head, head: head});\n      }\n      cm.setSelections(ranges, 0);\n    });\n  };\n\n  cmds.duplicateLine = function(cm) {\n    cm.operation(function() {\n      var rangeCount = cm.listSelections().length;\n      for (var i = 0; i < rangeCount; i++) {\n        var range = cm.listSelections()[i];\n        if (range.empty())\n          cm.replaceRange(cm.getLine(range.head.line) + \"\\n\", Pos(range.head.line, 0));\n        else\n          cm.replaceRange(cm.getRange(range.from(), range.to()), range.from());\n      }\n      cm.scrollIntoView();\n    });\n  };\n\n\n  function sortLines(cm, caseSensitive, direction) {\n    if (cm.isReadOnly()) return CodeMirror.Pass\n    var ranges = cm.listSelections(), toSort = [], selected;\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i];\n      if (range.empty()) continue;\n      var from = range.from().line, to = range.to().line;\n      while (i < ranges.length - 1 && ranges[i + 1].from().line == to)\n        to = ranges[++i].to().line;\n      if (!ranges[i].to().ch) to--;\n      toSort.push(from, to);\n    }\n    if (toSort.length) selected = true;\n    else toSort.push(cm.firstLine(), cm.lastLine());\n\n    cm.operation(function() {\n      var ranges = [];\n      for (var i = 0; i < toSort.length; i += 2) {\n        var from = toSort[i], to = toSort[i + 1];\n        var start = Pos(from, 0), end = Pos(to);\n        var lines = cm.getRange(start, end, false);\n        if (caseSensitive)\n          lines.sort(function(a, b) { return a < b ? -direction : a == b ? 0 : direction; });\n        else\n          lines.sort(function(a, b) {\n            var au = a.toUpperCase(), bu = b.toUpperCase();\n            if (au != bu) { a = au; b = bu; }\n            return a < b ? -direction : a == b ? 0 : direction;\n          });\n        cm.replaceRange(lines, start, end);\n        if (selected) ranges.push({anchor: start, head: Pos(to + 1, 0)});\n      }\n      if (selected) cm.setSelections(ranges, 0);\n    });\n  }\n\n  cmds.sortLines = function(cm) { sortLines(cm, true, 1); };\n  cmds.reverseSortLines = function(cm) { sortLines(cm, true, -1); };\n  cmds.sortLinesInsensitive = function(cm) { sortLines(cm, false, 1); };\n  cmds.reverseSortLinesInsensitive = function(cm) { sortLines(cm, false, -1); };\n\n  cmds.nextBookmark = function(cm) {\n    var marks = cm.state.sublimeBookmarks;\n    if (marks) while (marks.length) {\n      var current = marks.shift();\n      var found = current.find();\n      if (found) {\n        marks.push(current);\n        return cm.setSelection(found.from, found.to);\n      }\n    }\n  };\n\n  cmds.prevBookmark = function(cm) {\n    var marks = cm.state.sublimeBookmarks;\n    if (marks) while (marks.length) {\n      marks.unshift(marks.pop());\n      var found = marks[marks.length - 1].find();\n      if (!found)\n        marks.pop();\n      else\n        return cm.setSelection(found.from, found.to);\n    }\n  };\n\n  cmds.toggleBookmark = function(cm) {\n    var ranges = cm.listSelections();\n    var marks = cm.state.sublimeBookmarks || (cm.state.sublimeBookmarks = []);\n    for (var i = 0; i < ranges.length; i++) {\n      var from = ranges[i].from(), to = ranges[i].to();\n      var found = ranges[i].empty() ? cm.findMarksAt(from) : cm.findMarks(from, to);\n      for (var j = 0; j < found.length; j++) {\n        if (found[j].sublimeBookmark) {\n          found[j].clear();\n          for (var k = 0; k < marks.length; k++)\n            if (marks[k] == found[j])\n              marks.splice(k--, 1);\n          break;\n        }\n      }\n      if (j == found.length)\n        marks.push(cm.markText(from, to, {sublimeBookmark: true, clearWhenEmpty: false}));\n    }\n  };\n\n  cmds.clearBookmarks = function(cm) {\n    var marks = cm.state.sublimeBookmarks;\n    if (marks) for (var i = 0; i < marks.length; i++) marks[i].clear();\n    marks.length = 0;\n  };\n\n  cmds.selectBookmarks = function(cm) {\n    var marks = cm.state.sublimeBookmarks, ranges = [];\n    if (marks) for (var i = 0; i < marks.length; i++) {\n      var found = marks[i].find();\n      if (!found)\n        marks.splice(i--, 0);\n      else\n        ranges.push({anchor: found.from, head: found.to});\n    }\n    if (ranges.length)\n      cm.setSelections(ranges, 0);\n  };\n\n  function modifyWordOrSelection(cm, mod) {\n    cm.operation(function() {\n      var ranges = cm.listSelections(), indices = [], replacements = [];\n      for (var i = 0; i < ranges.length; i++) {\n        var range = ranges[i];\n        if (range.empty()) { indices.push(i); replacements.push(\"\"); }\n        else replacements.push(mod(cm.getRange(range.from(), range.to())));\n      }\n      cm.replaceSelections(replacements, \"around\", \"case\");\n      for (var i = indices.length - 1, at; i >= 0; i--) {\n        var range = ranges[indices[i]];\n        if (at && CodeMirror.cmpPos(range.head, at) > 0) continue;\n        var word = wordAt(cm, range.head);\n        at = word.from;\n        cm.replaceRange(mod(word.word), word.from, word.to);\n      }\n    });\n  }\n\n  cmds.smartBackspace = function(cm) {\n    if (cm.somethingSelected()) return CodeMirror.Pass;\n\n    cm.operation(function() {\n      var cursors = cm.listSelections();\n      var indentUnit = cm.getOption(\"indentUnit\");\n\n      for (var i = cursors.length - 1; i >= 0; i--) {\n        var cursor = cursors[i].head;\n        var toStartOfLine = cm.getRange({line: cursor.line, ch: 0}, cursor);\n        var column = CodeMirror.countColumn(toStartOfLine, null, cm.getOption(\"tabSize\"));\n\n        // Delete by one character by default\n        var deletePos = cm.findPosH(cursor, -1, \"char\", false);\n\n        if (toStartOfLine && !/\\S/.test(toStartOfLine) && column % indentUnit == 0) {\n          var prevIndent = new Pos(cursor.line,\n            CodeMirror.findColumn(toStartOfLine, column - indentUnit, indentUnit));\n\n          // Smart delete only if we found a valid prevIndent location\n          if (prevIndent.ch != cursor.ch) deletePos = prevIndent;\n        }\n\n        cm.replaceRange(\"\", deletePos, cursor, \"+delete\");\n      }\n    });\n  };\n\n  cmds.delLineRight = function(cm) {\n    cm.operation(function() {\n      var ranges = cm.listSelections();\n      for (var i = ranges.length - 1; i >= 0; i--)\n        cm.replaceRange(\"\", ranges[i].anchor, Pos(ranges[i].to().line), \"+delete\");\n      cm.scrollIntoView();\n    });\n  };\n\n  cmds.upcaseAtCursor = function(cm) {\n    modifyWordOrSelection(cm, function(str) { return str.toUpperCase(); });\n  };\n  cmds.downcaseAtCursor = function(cm) {\n    modifyWordOrSelection(cm, function(str) { return str.toLowerCase(); });\n  };\n\n  cmds.setSublimeMark = function(cm) {\n    if (cm.state.sublimeMark) cm.state.sublimeMark.clear();\n    cm.state.sublimeMark = cm.setBookmark(cm.getCursor());\n  };\n  cmds.selectToSublimeMark = function(cm) {\n    var found = cm.state.sublimeMark && cm.state.sublimeMark.find();\n    if (found) cm.setSelection(cm.getCursor(), found);\n  };\n  cmds.deleteToSublimeMark = function(cm) {\n    var found = cm.state.sublimeMark && cm.state.sublimeMark.find();\n    if (found) {\n      var from = cm.getCursor(), to = found;\n      if (CodeMirror.cmpPos(from, to) > 0) { var tmp = to; to = from; from = tmp; }\n      cm.state.sublimeKilled = cm.getRange(from, to);\n      cm.replaceRange(\"\", from, to);\n    }\n  };\n  cmds.swapWithSublimeMark = function(cm) {\n    var found = cm.state.sublimeMark && cm.state.sublimeMark.find();\n    if (found) {\n      cm.state.sublimeMark.clear();\n      cm.state.sublimeMark = cm.setBookmark(cm.getCursor());\n      cm.setCursor(found);\n    }\n  };\n  cmds.sublimeYank = function(cm) {\n    if (cm.state.sublimeKilled != null)\n      cm.replaceSelection(cm.state.sublimeKilled, null, \"paste\");\n  };\n\n  cmds.showInCenter = function(cm) {\n    var pos = cm.cursorCoords(null, \"local\");\n    cm.scrollTo(null, (pos.top + pos.bottom) / 2 - cm.getScrollInfo().clientHeight / 2);\n  };\n\n  function getTarget(cm) {\n    var from = cm.getCursor(\"from\"), to = cm.getCursor(\"to\");\n    if (CodeMirror.cmpPos(from, to) == 0) {\n      var word = wordAt(cm, from);\n      if (!word.word) return;\n      from = word.from;\n      to = word.to;\n    }\n    return {from: from, to: to, query: cm.getRange(from, to), word: word};\n  }\n\n  function findAndGoTo(cm, forward) {\n    var target = getTarget(cm);\n    if (!target) return;\n    var query = target.query;\n    var cur = cm.getSearchCursor(query, forward ? target.to : target.from);\n\n    if (forward ? cur.findNext() : cur.findPrevious()) {\n      cm.setSelection(cur.from(), cur.to());\n    } else {\n      cur = cm.getSearchCursor(query, forward ? Pos(cm.firstLine(), 0)\n                                              : cm.clipPos(Pos(cm.lastLine())));\n      if (forward ? cur.findNext() : cur.findPrevious())\n        cm.setSelection(cur.from(), cur.to());\n      else if (target.word)\n        cm.setSelection(target.from, target.to);\n    }\n  };\n  cmds.findUnder = function(cm) { findAndGoTo(cm, true); };\n  cmds.findUnderPrevious = function(cm) { findAndGoTo(cm,false); };\n  cmds.findAllUnder = function(cm) {\n    var target = getTarget(cm);\n    if (!target) return;\n    var cur = cm.getSearchCursor(target.query);\n    var matches = [];\n    var primaryIndex = -1;\n    while (cur.findNext()) {\n      matches.push({anchor: cur.from(), head: cur.to()});\n      if (cur.from().line <= target.from.line && cur.from().ch <= target.from.ch)\n        primaryIndex++;\n    }\n    cm.setSelections(matches, primaryIndex);\n  };\n\n\n  var keyMap = CodeMirror.keyMap;\n  keyMap.macSublime = {\n    \"Cmd-Left\": \"goLineStartSmart\",\n    \"Shift-Tab\": \"indentLess\",\n    \"Shift-Ctrl-K\": \"deleteLine\",\n    \"Alt-Q\": \"wrapLines\",\n    \"Ctrl-Left\": \"goSubwordLeft\",\n    \"Ctrl-Right\": \"goSubwordRight\",\n    \"Ctrl-Alt-Up\": \"scrollLineUp\",\n    \"Ctrl-Alt-Down\": \"scrollLineDown\",\n    \"Cmd-L\": \"selectLine\",\n    \"Shift-Cmd-L\": \"splitSelectionByLine\",\n    \"Esc\": \"singleSelectionTop\",\n    \"Cmd-Enter\": \"insertLineAfter\",\n    \"Shift-Cmd-Enter\": \"insertLineBefore\",\n    \"Cmd-D\": \"selectNextOccurrence\",\n    \"Shift-Cmd-Space\": \"selectScope\",\n    \"Shift-Cmd-M\": \"selectBetweenBrackets\",\n    \"Cmd-M\": \"goToBracket\",\n    \"Cmd-Ctrl-Up\": \"swapLineUp\",\n    \"Cmd-Ctrl-Down\": \"swapLineDown\",\n    \"Cmd-/\": \"toggleCommentIndented\",\n    \"Cmd-J\": \"joinLines\",\n    \"Shift-Cmd-D\": \"duplicateLine\",\n    \"F5\": \"sortLines\",\n    \"Shift-F5\": \"reverseSortLines\",\n    \"Cmd-F5\": \"sortLinesInsensitive\",\n    \"Shift-Cmd-F5\": \"reverseSortLinesInsensitive\",\n    \"F2\": \"nextBookmark\",\n    \"Shift-F2\": \"prevBookmark\",\n    \"Cmd-F2\": \"toggleBookmark\",\n    \"Shift-Cmd-F2\": \"clearBookmarks\",\n    \"Alt-F2\": \"selectBookmarks\",\n    \"Backspace\": \"smartBackspace\",\n    \"Cmd-K Cmd-D\": \"skipAndSelectNextOccurrence\",\n    \"Cmd-K Cmd-K\": \"delLineRight\",\n    \"Cmd-K Cmd-U\": \"upcaseAtCursor\",\n    \"Cmd-K Cmd-L\": \"downcaseAtCursor\",\n    \"Cmd-K Cmd-Space\": \"setSublimeMark\",\n    \"Cmd-K Cmd-A\": \"selectToSublimeMark\",\n    \"Cmd-K Cmd-W\": \"deleteToSublimeMark\",\n    \"Cmd-K Cmd-X\": \"swapWithSublimeMark\",\n    \"Cmd-K Cmd-Y\": \"sublimeYank\",\n    \"Cmd-K Cmd-C\": \"showInCenter\",\n    \"Cmd-K Cmd-G\": \"clearBookmarks\",\n    \"Cmd-K Cmd-Backspace\": \"delLineLeft\",\n    \"Cmd-K Cmd-1\": \"foldAll\",\n    \"Cmd-K Cmd-0\": \"unfoldAll\",\n    \"Cmd-K Cmd-J\": \"unfoldAll\",\n    \"Ctrl-Shift-Up\": \"addCursorToPrevLine\",\n    \"Ctrl-Shift-Down\": \"addCursorToNextLine\",\n    \"Cmd-F3\": \"findUnder\",\n    \"Shift-Cmd-F3\": \"findUnderPrevious\",\n    \"Alt-F3\": \"findAllUnder\",\n    \"Shift-Cmd-[\": \"fold\",\n    \"Shift-Cmd-]\": \"unfold\",\n    \"Cmd-I\": \"findIncremental\",\n    \"Shift-Cmd-I\": \"findIncrementalReverse\",\n    \"Cmd-H\": \"replace\",\n    \"F3\": \"findNext\",\n    \"Shift-F3\": \"findPrev\",\n    \"fallthrough\": \"macDefault\"\n  };\n  CodeMirror.normalizeKeyMap(keyMap.macSublime);\n\n  keyMap.pcSublime = {\n    \"Shift-Tab\": \"indentLess\",\n    \"Shift-Ctrl-K\": \"deleteLine\",\n    \"Alt-Q\": \"wrapLines\",\n    \"Ctrl-T\": \"transposeChars\",\n    \"Alt-Left\": \"goSubwordLeft\",\n    \"Alt-Right\": \"goSubwordRight\",\n    \"Ctrl-Up\": \"scrollLineUp\",\n    \"Ctrl-Down\": \"scrollLineDown\",\n    \"Ctrl-L\": \"selectLine\",\n    \"Shift-Ctrl-L\": \"splitSelectionByLine\",\n    \"Esc\": \"singleSelectionTop\",\n    \"Ctrl-Enter\": \"insertLineAfter\",\n    \"Shift-Ctrl-Enter\": \"insertLineBefore\",\n    \"Ctrl-D\": \"selectNextOccurrence\",\n    \"Shift-Ctrl-Space\": \"selectScope\",\n    \"Shift-Ctrl-M\": \"selectBetweenBrackets\",\n    \"Ctrl-M\": \"goToBracket\",\n    \"Shift-Ctrl-Up\": \"swapLineUp\",\n    \"Shift-Ctrl-Down\": \"swapLineDown\",\n    \"Ctrl-/\": \"toggleCommentIndented\",\n    \"Ctrl-J\": \"joinLines\",\n    \"Shift-Ctrl-D\": \"duplicateLine\",\n    \"F9\": \"sortLines\",\n    \"Shift-F9\": \"reverseSortLines\",\n    \"Ctrl-F9\": \"sortLinesInsensitive\",\n    \"Shift-Ctrl-F9\": \"reverseSortLinesInsensitive\",\n    \"F2\": \"nextBookmark\",\n    \"Shift-F2\": \"prevBookmark\",\n    \"Ctrl-F2\": \"toggleBookmark\",\n    \"Shift-Ctrl-F2\": \"clearBookmarks\",\n    \"Alt-F2\": \"selectBookmarks\",\n    \"Backspace\": \"smartBackspace\",\n    \"Ctrl-K Ctrl-D\": \"skipAndSelectNextOccurrence\",\n    \"Ctrl-K Ctrl-K\": \"delLineRight\",\n    \"Ctrl-K Ctrl-U\": \"upcaseAtCursor\",\n    \"Ctrl-K Ctrl-L\": \"downcaseAtCursor\",\n    \"Ctrl-K Ctrl-Space\": \"setSublimeMark\",\n    \"Ctrl-K Ctrl-A\": \"selectToSublimeMark\",\n    \"Ctrl-K Ctrl-W\": \"deleteToSublimeMark\",\n    \"Ctrl-K Ctrl-X\": \"swapWithSublimeMark\",\n    \"Ctrl-K Ctrl-Y\": \"sublimeYank\",\n    \"Ctrl-K Ctrl-C\": \"showInCenter\",\n    \"Ctrl-K Ctrl-G\": \"clearBookmarks\",\n    \"Ctrl-K Ctrl-Backspace\": \"delLineLeft\",\n    \"Ctrl-K Ctrl-1\": \"foldAll\",\n    \"Ctrl-K Ctrl-0\": \"unfoldAll\",\n    \"Ctrl-K Ctrl-J\": \"unfoldAll\",\n    \"Ctrl-Alt-Up\": \"addCursorToPrevLine\",\n    \"Ctrl-Alt-Down\": \"addCursorToNextLine\",\n    \"Ctrl-F3\": \"findUnder\",\n    \"Shift-Ctrl-F3\": \"findUnderPrevious\",\n    \"Alt-F3\": \"findAllUnder\",\n    \"Shift-Ctrl-[\": \"fold\",\n    \"Shift-Ctrl-]\": \"unfold\",\n    \"Ctrl-I\": \"findIncremental\",\n    \"Shift-Ctrl-I\": \"findIncrementalReverse\",\n    \"Ctrl-H\": \"replace\",\n    \"F3\": \"findNext\",\n    \"Shift-F3\": \"findPrev\",\n    \"fallthrough\": \"pcDefault\"\n  };\n  CodeMirror.normalizeKeyMap(keyMap.pcSublime);\n\n  var mac = keyMap.default == keyMap.macDefault;\n  keyMap.sublime = mac ? keyMap.macSublime : keyMap.pcSublime;\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n/**\n * Supported keybindings:\n *   Too many to list. Refer to defaultKeymap below.\n *\n * Supported Ex commands:\n *   Refer to defaultExCommandMap below.\n *\n * Registers: unnamed, -, ., :, /, _, a-z, A-Z, 0-9\n *   (Does not respect the special case for number registers when delete\n *    operator is made with these commands: %, (, ),  , /, ?, n, N, {, } )\n *   TODO: Implement the remaining registers.\n *\n * Marks: a-z, A-Z, and 0-9\n *   TODO: Implement the remaining special marks. They have more complex\n *       behavior.\n *\n * Events:\n *  'vim-mode-change' - raised on the editor anytime the current mode changes,\n *                      Event object: {mode: \"visual\", subMode: \"linewise\"}\n *\n * Code structure:\n *  1. Default keymap\n *  2. Variable declarations and short basic helpers\n *  3. Instance (External API) implementation\n *  4. Internal state tracking objects (input state, counter) implementation\n *     and instantiation\n *  5. Key handler (the main command dispatcher) implementation\n *  6. Motion, operator, and action implementations\n *  7. Helper functions for the key handler, motions, operators, and actions\n *  8. Set up Vim to work as a keymap for CodeMirror.\n *  9. Ex command implementations.\n */\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../lib/codemirror\"), require(\"../addon/search/searchcursor\"), require(\"../addon/dialog/dialog\"), require(\"../addon/edit/matchbrackets.js\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../lib/codemirror\", \"../addon/search/searchcursor\", \"../addon/dialog/dialog\", \"../addon/edit/matchbrackets\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  'use strict';\n\n  var defaultKeymap = [\n    // Key to key mapping. This goes first to make it possible to override\n    // existing mappings.\n    { keys: '<Left>', type: 'keyToKey', toKeys: 'h' },\n    { keys: '<Right>', type: 'keyToKey', toKeys: 'l' },\n    { keys: '<Up>', type: 'keyToKey', toKeys: 'k' },\n    { keys: '<Down>', type: 'keyToKey', toKeys: 'j' },\n    { keys: '<Space>', type: 'keyToKey', toKeys: 'l' },\n    { keys: '<BS>', type: 'keyToKey', toKeys: 'h', context: 'normal'},\n    { keys: '<Del>', type: 'keyToKey', toKeys: 'x', context: 'normal'},\n    { keys: '<C-Space>', type: 'keyToKey', toKeys: 'W' },\n    { keys: '<C-BS>', type: 'keyToKey', toKeys: 'B', context: 'normal' },\n    { keys: '<S-Space>', type: 'keyToKey', toKeys: 'w' },\n    { keys: '<S-BS>', type: 'keyToKey', toKeys: 'b', context: 'normal' },\n    { keys: '<C-n>', type: 'keyToKey', toKeys: 'j' },\n    { keys: '<C-p>', type: 'keyToKey', toKeys: 'k' },\n    { keys: '<C-[>', type: 'keyToKey', toKeys: '<Esc>' },\n    { keys: '<C-c>', type: 'keyToKey', toKeys: '<Esc>' },\n    { keys: '<C-[>', type: 'keyToKey', toKeys: '<Esc>', context: 'insert' },\n    { keys: '<C-c>', type: 'keyToKey', toKeys: '<Esc>', context: 'insert' },\n    { keys: 's', type: 'keyToKey', toKeys: 'cl', context: 'normal' },\n    { keys: 's', type: 'keyToKey', toKeys: 'c', context: 'visual'},\n    { keys: 'S', type: 'keyToKey', toKeys: 'cc', context: 'normal' },\n    { keys: 'S', type: 'keyToKey', toKeys: 'VdO', context: 'visual' },\n    { keys: '<Home>', type: 'keyToKey', toKeys: '0' },\n    { keys: '<End>', type: 'keyToKey', toKeys: '$' },\n    { keys: '<PageUp>', type: 'keyToKey', toKeys: '<C-b>' },\n    { keys: '<PageDown>', type: 'keyToKey', toKeys: '<C-f>' },\n    { keys: '<CR>', type: 'keyToKey', toKeys: 'j^', context: 'normal' },\n    { keys: '<Ins>', type: 'action', action: 'toggleOverwrite', context: 'insert' },\n    // Motions\n    { keys: 'H', type: 'motion', motion: 'moveToTopLine', motionArgs: { linewise: true, toJumplist: true }},\n    { keys: 'M', type: 'motion', motion: 'moveToMiddleLine', motionArgs: { linewise: true, toJumplist: true }},\n    { keys: 'L', type: 'motion', motion: 'moveToBottomLine', motionArgs: { linewise: true, toJumplist: true }},\n    { keys: 'h', type: 'motion', motion: 'moveByCharacters', motionArgs: { forward: false }},\n    { keys: 'l', type: 'motion', motion: 'moveByCharacters', motionArgs: { forward: true }},\n    { keys: 'j', type: 'motion', motion: 'moveByLines', motionArgs: { forward: true, linewise: true }},\n    { keys: 'k', type: 'motion', motion: 'moveByLines', motionArgs: { forward: false, linewise: true }},\n    { keys: 'gj', type: 'motion', motion: 'moveByDisplayLines', motionArgs: { forward: true }},\n    { keys: 'gk', type: 'motion', motion: 'moveByDisplayLines', motionArgs: { forward: false }},\n    { keys: 'w', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: false }},\n    { keys: 'W', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: false, bigWord: true }},\n    { keys: 'e', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: true, inclusive: true }},\n    { keys: 'E', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: true, bigWord: true, inclusive: true }},\n    { keys: 'b', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: false }},\n    { keys: 'B', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: false, bigWord: true }},\n    { keys: 'ge', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: true, inclusive: true }},\n    { keys: 'gE', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: true, bigWord: true, inclusive: true }},\n    { keys: '{', type: 'motion', motion: 'moveByParagraph', motionArgs: { forward: false, toJumplist: true }},\n    { keys: '}', type: 'motion', motion: 'moveByParagraph', motionArgs: { forward: true, toJumplist: true }},\n    { keys: '(', type: 'motion', motion: 'moveBySentence', motionArgs: { forward: false }},\n    { keys: ')', type: 'motion', motion: 'moveBySentence', motionArgs: { forward: true }},\n    { keys: '<C-f>', type: 'motion', motion: 'moveByPage', motionArgs: { forward: true }},\n    { keys: '<C-b>', type: 'motion', motion: 'moveByPage', motionArgs: { forward: false }},\n    { keys: '<C-d>', type: 'motion', motion: 'moveByScroll', motionArgs: { forward: true, explicitRepeat: true }},\n    { keys: '<C-u>', type: 'motion', motion: 'moveByScroll', motionArgs: { forward: false, explicitRepeat: true }},\n    { keys: 'gg', type: 'motion', motion: 'moveToLineOrEdgeOfDocument', motionArgs: { forward: false, explicitRepeat: true, linewise: true, toJumplist: true }},\n    { keys: 'G', type: 'motion', motion: 'moveToLineOrEdgeOfDocument', motionArgs: { forward: true, explicitRepeat: true, linewise: true, toJumplist: true }},\n    { keys: '0', type: 'motion', motion: 'moveToStartOfLine' },\n    { keys: '^', type: 'motion', motion: 'moveToFirstNonWhiteSpaceCharacter' },\n    { keys: '+', type: 'motion', motion: 'moveByLines', motionArgs: { forward: true, toFirstChar:true }},\n    { keys: '-', type: 'motion', motion: 'moveByLines', motionArgs: { forward: false, toFirstChar:true }},\n    { keys: '_', type: 'motion', motion: 'moveByLines', motionArgs: { forward: true, toFirstChar:true, repeatOffset:-1 }},\n    { keys: '$', type: 'motion', motion: 'moveToEol', motionArgs: { inclusive: true }},\n    { keys: '%', type: 'motion', motion: 'moveToMatchedSymbol', motionArgs: { inclusive: true, toJumplist: true }},\n    { keys: 'f<character>', type: 'motion', motion: 'moveToCharacter', motionArgs: { forward: true , inclusive: true }},\n    { keys: 'F<character>', type: 'motion', motion: 'moveToCharacter', motionArgs: { forward: false }},\n    { keys: 't<character>', type: 'motion', motion: 'moveTillCharacter', motionArgs: { forward: true, inclusive: true }},\n    { keys: 'T<character>', type: 'motion', motion: 'moveTillCharacter', motionArgs: { forward: false }},\n    { keys: ';', type: 'motion', motion: 'repeatLastCharacterSearch', motionArgs: { forward: true }},\n    { keys: ',', type: 'motion', motion: 'repeatLastCharacterSearch', motionArgs: { forward: false }},\n    { keys: '\\'<character>', type: 'motion', motion: 'goToMark', motionArgs: {toJumplist: true, linewise: true}},\n    { keys: '`<character>', type: 'motion', motion: 'goToMark', motionArgs: {toJumplist: true}},\n    { keys: ']`', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: true } },\n    { keys: '[`', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: false } },\n    { keys: ']\\'', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: true, linewise: true } },\n    { keys: '[\\'', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: false, linewise: true } },\n    // the next two aren't motions but must come before more general motion declarations\n    { keys: ']p', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: true, isEdit: true, matchIndent: true}},\n    { keys: '[p', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: false, isEdit: true, matchIndent: true}},\n    { keys: ']<character>', type: 'motion', motion: 'moveToSymbol', motionArgs: { forward: true, toJumplist: true}},\n    { keys: '[<character>', type: 'motion', motion: 'moveToSymbol', motionArgs: { forward: false, toJumplist: true}},\n    { keys: '|', type: 'motion', motion: 'moveToColumn'},\n    { keys: 'o', type: 'motion', motion: 'moveToOtherHighlightedEnd', context:'visual'},\n    { keys: 'O', type: 'motion', motion: 'moveToOtherHighlightedEnd', motionArgs: {sameLine: true}, context:'visual'},\n    // Operators\n    { keys: 'd', type: 'operator', operator: 'delete' },\n    { keys: 'y', type: 'operator', operator: 'yank' },\n    { keys: 'c', type: 'operator', operator: 'change' },\n    { keys: '=', type: 'operator', operator: 'indentAuto' },\n    { keys: '>', type: 'operator', operator: 'indent', operatorArgs: { indentRight: true }},\n    { keys: '<', type: 'operator', operator: 'indent', operatorArgs: { indentRight: false }},\n    { keys: 'g~', type: 'operator', operator: 'changeCase' },\n    { keys: 'gu', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: true}, isEdit: true },\n    { keys: 'gU', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: false}, isEdit: true },\n    { keys: 'n', type: 'motion', motion: 'findNext', motionArgs: { forward: true, toJumplist: true }},\n    { keys: 'N', type: 'motion', motion: 'findNext', motionArgs: { forward: false, toJumplist: true }},\n    { keys: 'gn', type: 'motion', motion: 'findAndSelectNextInclusive', motionArgs: { forward: true }},\n    { keys: 'gN', type: 'motion', motion: 'findAndSelectNextInclusive', motionArgs: { forward: false }},\n    // Operator-Motion dual commands\n    { keys: 'x', type: 'operatorMotion', operator: 'delete', motion: 'moveByCharacters', motionArgs: { forward: true }, operatorMotionArgs: { visualLine: false }},\n    { keys: 'X', type: 'operatorMotion', operator: 'delete', motion: 'moveByCharacters', motionArgs: { forward: false }, operatorMotionArgs: { visualLine: true }},\n    { keys: 'D', type: 'operatorMotion', operator: 'delete', motion: 'moveToEol', motionArgs: { inclusive: true }, context: 'normal'},\n    { keys: 'D', type: 'operator', operator: 'delete', operatorArgs: { linewise: true }, context: 'visual'},\n    { keys: 'Y', type: 'operatorMotion', operator: 'yank', motion: 'expandToLine', motionArgs: { linewise: true }, context: 'normal'},\n    { keys: 'Y', type: 'operator', operator: 'yank', operatorArgs: { linewise: true }, context: 'visual'},\n    { keys: 'C', type: 'operatorMotion', operator: 'change', motion: 'moveToEol', motionArgs: { inclusive: true }, context: 'normal'},\n    { keys: 'C', type: 'operator', operator: 'change', operatorArgs: { linewise: true }, context: 'visual'},\n    { keys: '~', type: 'operatorMotion', operator: 'changeCase', motion: 'moveByCharacters', motionArgs: { forward: true }, operatorArgs: { shouldMoveCursor: true }, context: 'normal'},\n    { keys: '~', type: 'operator', operator: 'changeCase', context: 'visual'},\n    { keys: '<C-w>', type: 'operatorMotion', operator: 'delete', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: false }, context: 'insert' },\n    //ignore C-w in normal mode\n    { keys: '<C-w>', type: 'idle', context: 'normal' },\n    // Actions\n    { keys: '<C-i>', type: 'action', action: 'jumpListWalk', actionArgs: { forward: true }},\n    { keys: '<C-o>', type: 'action', action: 'jumpListWalk', actionArgs: { forward: false }},\n    { keys: '<C-e>', type: 'action', action: 'scroll', actionArgs: { forward: true, linewise: true }},\n    { keys: '<C-y>', type: 'action', action: 'scroll', actionArgs: { forward: false, linewise: true }},\n    { keys: 'a', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'charAfter' }, context: 'normal' },\n    { keys: 'A', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'eol' }, context: 'normal' },\n    { keys: 'A', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'endOfSelectedArea' }, context: 'visual' },\n    { keys: 'i', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'inplace' }, context: 'normal' },\n    { keys: 'gi', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'lastEdit' }, context: 'normal' },\n    { keys: 'I', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'firstNonBlank'}, context: 'normal' },\n    { keys: 'gI', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'bol'}, context: 'normal' },\n    { keys: 'I', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'startOfSelectedArea' }, context: 'visual' },\n    { keys: 'o', type: 'action', action: 'newLineAndEnterInsertMode', isEdit: true, interlaceInsertRepeat: true, actionArgs: { after: true }, context: 'normal' },\n    { keys: 'O', type: 'action', action: 'newLineAndEnterInsertMode', isEdit: true, interlaceInsertRepeat: true, actionArgs: { after: false }, context: 'normal' },\n    { keys: 'v', type: 'action', action: 'toggleVisualMode' },\n    { keys: 'V', type: 'action', action: 'toggleVisualMode', actionArgs: { linewise: true }},\n    { keys: '<C-v>', type: 'action', action: 'toggleVisualMode', actionArgs: { blockwise: true }},\n    { keys: '<C-q>', type: 'action', action: 'toggleVisualMode', actionArgs: { blockwise: true }},\n    { keys: 'gv', type: 'action', action: 'reselectLastSelection' },\n    { keys: 'J', type: 'action', action: 'joinLines', isEdit: true },\n    { keys: 'gJ', type: 'action', action: 'joinLines', actionArgs: { keepSpaces: true }, isEdit: true },\n    { keys: 'p', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: true, isEdit: true }},\n    { keys: 'P', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: false, isEdit: true }},\n    { keys: 'r<character>', type: 'action', action: 'replace', isEdit: true },\n    { keys: '@<character>', type: 'action', action: 'replayMacro' },\n    { keys: 'q<character>', type: 'action', action: 'enterMacroRecordMode' },\n    // Handle Replace-mode as a special case of insert mode.\n    { keys: 'R', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { replace: true }, context: 'normal'},\n    { keys: 'R', type: 'operator', operator: 'change', operatorArgs: { linewise: true, fullLine: true }, context: 'visual', exitVisualBlock: true},\n    { keys: 'u', type: 'action', action: 'undo', context: 'normal' },\n    { keys: 'u', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: true}, context: 'visual', isEdit: true },\n    { keys: 'U', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: false}, context: 'visual', isEdit: true },\n    { keys: '<C-r>', type: 'action', action: 'redo' },\n    { keys: 'm<character>', type: 'action', action: 'setMark' },\n    { keys: '\"<character>', type: 'action', action: 'setRegister' },\n    { keys: 'zz', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'center' }},\n    { keys: 'z.', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'center' }, motion: 'moveToFirstNonWhiteSpaceCharacter' },\n    { keys: 'zt', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'top' }},\n    { keys: 'z<CR>', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'top' }, motion: 'moveToFirstNonWhiteSpaceCharacter' },\n    { keys: 'z-', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'bottom' }},\n    { keys: 'zb', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'bottom' }, motion: 'moveToFirstNonWhiteSpaceCharacter' },\n    { keys: '.', type: 'action', action: 'repeatLastEdit' },\n    { keys: '<C-a>', type: 'action', action: 'incrementNumberToken', isEdit: true, actionArgs: {increase: true, backtrack: false}},\n    { keys: '<C-x>', type: 'action', action: 'incrementNumberToken', isEdit: true, actionArgs: {increase: false, backtrack: false}},\n    { keys: '<C-t>', type: 'action', action: 'indent', actionArgs: { indentRight: true }, context: 'insert' },\n    { keys: '<C-d>', type: 'action', action: 'indent', actionArgs: { indentRight: false }, context: 'insert' },\n    // Text object motions\n    { keys: 'a<character>', type: 'motion', motion: 'textObjectManipulation' },\n    { keys: 'i<character>', type: 'motion', motion: 'textObjectManipulation', motionArgs: { textObjectInner: true }},\n    // Search\n    { keys: '/', type: 'search', searchArgs: { forward: true, querySrc: 'prompt', toJumplist: true }},\n    { keys: '?', type: 'search', searchArgs: { forward: false, querySrc: 'prompt', toJumplist: true }},\n    { keys: '*', type: 'search', searchArgs: { forward: true, querySrc: 'wordUnderCursor', wholeWordOnly: true, toJumplist: true }},\n    { keys: '#', type: 'search', searchArgs: { forward: false, querySrc: 'wordUnderCursor', wholeWordOnly: true, toJumplist: true }},\n    { keys: 'g*', type: 'search', searchArgs: { forward: true, querySrc: 'wordUnderCursor', toJumplist: true }},\n    { keys: 'g#', type: 'search', searchArgs: { forward: false, querySrc: 'wordUnderCursor', toJumplist: true }},\n    // Ex command\n    { keys: ':', type: 'ex' }\n  ];\n  var defaultKeymapLength = defaultKeymap.length;\n\n  /**\n   * Ex commands\n   * Care must be taken when adding to the default Ex command map. For any\n   * pair of commands that have a shared prefix, at least one of their\n   * shortNames must not match the prefix of the other command.\n   */\n  var defaultExCommandMap = [\n    { name: 'colorscheme', shortName: 'colo' },\n    { name: 'map' },\n    { name: 'imap', shortName: 'im' },\n    { name: 'nmap', shortName: 'nm' },\n    { name: 'vmap', shortName: 'vm' },\n    { name: 'unmap' },\n    { name: 'write', shortName: 'w' },\n    { name: 'undo', shortName: 'u' },\n    { name: 'redo', shortName: 'red' },\n    { name: 'set', shortName: 'se' },\n    { name: 'setlocal', shortName: 'setl' },\n    { name: 'setglobal', shortName: 'setg' },\n    { name: 'sort', shortName: 'sor' },\n    { name: 'substitute', shortName: 's', possiblyAsync: true },\n    { name: 'nohlsearch', shortName: 'noh' },\n    { name: 'yank', shortName: 'y' },\n    { name: 'delmarks', shortName: 'delm' },\n    { name: 'registers', shortName: 'reg', excludeFromCommandHistory: true },\n    { name: 'vglobal', shortName: 'v' },\n    { name: 'global', shortName: 'g' }\n  ];\n\n  var Pos = CodeMirror.Pos;\n\n  var Vim = function() {\n    function enterVimMode(cm) {\n      cm.setOption('disableInput', true);\n      cm.setOption('showCursorWhenSelecting', false);\n      CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"normal\"});\n      cm.on('cursorActivity', onCursorActivity);\n      maybeInitVimState(cm);\n      CodeMirror.on(cm.getInputField(), 'paste', getOnPasteFn(cm));\n    }\n\n    function leaveVimMode(cm) {\n      cm.setOption('disableInput', false);\n      cm.off('cursorActivity', onCursorActivity);\n      CodeMirror.off(cm.getInputField(), 'paste', getOnPasteFn(cm));\n      cm.state.vim = null;\n    }\n\n    function detachVimMap(cm, next) {\n      if (this == CodeMirror.keyMap.vim) {\n        CodeMirror.rmClass(cm.getWrapperElement(), \"cm-fat-cursor\");\n        if (cm.getOption(\"inputStyle\") == \"contenteditable\" && document.body.style.caretColor != null) {\n          disableFatCursorMark(cm);\n          cm.getInputField().style.caretColor = \"\";\n        }\n      }\n\n      if (!next || next.attach != attachVimMap)\n        leaveVimMode(cm);\n    }\n    function attachVimMap(cm, prev) {\n      if (this == CodeMirror.keyMap.vim) {\n        CodeMirror.addClass(cm.getWrapperElement(), \"cm-fat-cursor\");\n        if (cm.getOption(\"inputStyle\") == \"contenteditable\" && document.body.style.caretColor != null) {\n          enableFatCursorMark(cm);\n          cm.getInputField().style.caretColor = \"transparent\";\n        }\n      }\n\n      if (!prev || prev.attach != attachVimMap)\n        enterVimMode(cm);\n    }\n\n    function updateFatCursorMark(cm) {\n      if (!cm.state.fatCursorMarks) return;\n      clearFatCursorMark(cm);\n      var ranges = cm.listSelections(), result = []\n      for (var i = 0; i < ranges.length; i++) {\n        var range = ranges[i];\n        if (range.empty()) {\n          var lineLength = cm.getLine(range.anchor.line).length;\n          if (range.anchor.ch < lineLength) {\n            result.push(cm.markText(range.anchor, Pos(range.anchor.line, range.anchor.ch + 1),\n                                    {className: \"cm-fat-cursor-mark\"}));\n          } else {\n            result.push(cm.markText(Pos(range.anchor.line, lineLength - 1),\n                                    Pos(range.anchor.line, lineLength),\n                                    {className: \"cm-fat-cursor-mark\"}));\n          }\n        }\n      }\n      cm.state.fatCursorMarks = result;\n    }\n\n    function clearFatCursorMark(cm) {\n      var marks = cm.state.fatCursorMarks;\n      if (marks) for (var i = 0; i < marks.length; i++) marks[i].clear();\n    }\n\n    function enableFatCursorMark(cm) {\n      cm.state.fatCursorMarks = [];\n      updateFatCursorMark(cm)\n      cm.on(\"cursorActivity\", updateFatCursorMark)\n    }\n\n    function disableFatCursorMark(cm) {\n      clearFatCursorMark(cm);\n      cm.off(\"cursorActivity\", updateFatCursorMark);\n      // explicitly set fatCursorMarks to null because event listener above\n      // can be invoke after removing it, if off is called from operation\n      cm.state.fatCursorMarks = null;\n    }\n\n    // Deprecated, simply setting the keymap works again.\n    CodeMirror.defineOption('vimMode', false, function(cm, val, prev) {\n      if (val && cm.getOption(\"keyMap\") != \"vim\")\n        cm.setOption(\"keyMap\", \"vim\");\n      else if (!val && prev != CodeMirror.Init && /^vim/.test(cm.getOption(\"keyMap\")))\n        cm.setOption(\"keyMap\", \"default\");\n    });\n\n    function cmKey(key, cm) {\n      if (!cm) { return undefined; }\n      if (this[key]) { return this[key]; }\n      var vimKey = cmKeyToVimKey(key);\n      if (!vimKey) {\n        return false;\n      }\n      var cmd = CodeMirror.Vim.findKey(cm, vimKey);\n      if (typeof cmd == 'function') {\n        CodeMirror.signal(cm, 'vim-keypress', vimKey);\n      }\n      return cmd;\n    }\n\n    var modifiers = {Shift:'S',Ctrl:'C',Alt:'A',Cmd:'D',Mod:'A',CapsLock:''};\n    var specialKeys = {Enter:'CR',Backspace:'BS',Delete:'Del',Insert:'Ins'};\n    function cmKeyToVimKey(key) {\n      if (key.charAt(0) == '\\'') {\n        // Keypress character binding of format \"'a'\"\n        return key.charAt(1);\n      }\n      var pieces = key.split(/-(?!$)/);\n      var lastPiece = pieces[pieces.length - 1];\n      if (pieces.length == 1 && pieces[0].length == 1) {\n        // No-modifier bindings use literal character bindings above. Skip.\n        return false;\n      } else if (pieces.length == 2 && pieces[0] == 'Shift' && lastPiece.length == 1) {\n        // Ignore Shift+char bindings as they should be handled by literal character.\n        return false;\n      }\n      var hasCharacter = false;\n      for (var i = 0; i < pieces.length; i++) {\n        var piece = pieces[i];\n        if (piece in modifiers) { pieces[i] = modifiers[piece]; }\n        else { hasCharacter = true; }\n        if (piece in specialKeys) { pieces[i] = specialKeys[piece]; }\n      }\n      if (!hasCharacter) {\n        // Vim does not support modifier only keys.\n        return false;\n      }\n      // TODO: Current bindings expect the character to be lower case, but\n      // it looks like vim key notation uses upper case.\n      if (isUpperCase(lastPiece)) {\n        pieces[pieces.length - 1] = lastPiece.toLowerCase();\n      }\n      return '<' + pieces.join('-') + '>';\n    }\n\n    function getOnPasteFn(cm) {\n      var vim = cm.state.vim;\n      if (!vim.onPasteFn) {\n        vim.onPasteFn = function() {\n          if (!vim.insertMode) {\n            cm.setCursor(offsetCursor(cm.getCursor(), 0, 1));\n            actions.enterInsertMode(cm, {}, vim);\n          }\n        };\n      }\n      return vim.onPasteFn;\n    }\n\n    var numberRegex = /[\\d]/;\n    var wordCharTest = [CodeMirror.isWordChar, function(ch) {\n      return ch && !CodeMirror.isWordChar(ch) && !/\\s/.test(ch);\n    }], bigWordCharTest = [function(ch) {\n      return /\\S/.test(ch);\n    }];\n    function makeKeyRange(start, size) {\n      var keys = [];\n      for (var i = start; i < start + size; i++) {\n        keys.push(String.fromCharCode(i));\n      }\n      return keys;\n    }\n    var upperCaseAlphabet = makeKeyRange(65, 26);\n    var lowerCaseAlphabet = makeKeyRange(97, 26);\n    var numbers = makeKeyRange(48, 10);\n    var validMarks = [].concat(upperCaseAlphabet, lowerCaseAlphabet, numbers, ['<', '>']);\n    var validRegisters = [].concat(upperCaseAlphabet, lowerCaseAlphabet, numbers, ['-', '\"', '.', ':', '_', '/']);\n\n    function isLine(cm, line) {\n      return line >= cm.firstLine() && line <= cm.lastLine();\n    }\n    function isLowerCase(k) {\n      return (/^[a-z]$/).test(k);\n    }\n    function isMatchableSymbol(k) {\n      return '()[]{}'.indexOf(k) != -1;\n    }\n    function isNumber(k) {\n      return numberRegex.test(k);\n    }\n    function isUpperCase(k) {\n      return (/^[A-Z]$/).test(k);\n    }\n    function isWhiteSpaceString(k) {\n      return (/^\\s*$/).test(k);\n    }\n    function isEndOfSentenceSymbol(k) {\n      return '.?!'.indexOf(k) != -1;\n    }\n    function inArray(val, arr) {\n      for (var i = 0; i < arr.length; i++) {\n        if (arr[i] == val) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    var options = {};\n    function defineOption(name, defaultValue, type, aliases, callback) {\n      if (defaultValue === undefined && !callback) {\n        throw Error('defaultValue is required unless callback is provided');\n      }\n      if (!type) { type = 'string'; }\n      options[name] = {\n        type: type,\n        defaultValue: defaultValue,\n        callback: callback\n      };\n      if (aliases) {\n        for (var i = 0; i < aliases.length; i++) {\n          options[aliases[i]] = options[name];\n        }\n      }\n      if (defaultValue) {\n        setOption(name, defaultValue);\n      }\n    }\n\n    function setOption(name, value, cm, cfg) {\n      var option = options[name];\n      cfg = cfg || {};\n      var scope = cfg.scope;\n      if (!option) {\n        return new Error('Unknown option: ' + name);\n      }\n      if (option.type == 'boolean') {\n        if (value && value !== true) {\n          return new Error('Invalid argument: ' + name + '=' + value);\n        } else if (value !== false) {\n          // Boolean options are set to true if value is not defined.\n          value = true;\n        }\n      }\n      if (option.callback) {\n        if (scope !== 'local') {\n          option.callback(value, undefined);\n        }\n        if (scope !== 'global' && cm) {\n          option.callback(value, cm);\n        }\n      } else {\n        if (scope !== 'local') {\n          option.value = option.type == 'boolean' ? !!value : value;\n        }\n        if (scope !== 'global' && cm) {\n          cm.state.vim.options[name] = {value: value};\n        }\n      }\n    }\n\n    function getOption(name, cm, cfg) {\n      var option = options[name];\n      cfg = cfg || {};\n      var scope = cfg.scope;\n      if (!option) {\n        return new Error('Unknown option: ' + name);\n      }\n      if (option.callback) {\n        var local = cm && option.callback(undefined, cm);\n        if (scope !== 'global' && local !== undefined) {\n          return local;\n        }\n        if (scope !== 'local') {\n          return option.callback();\n        }\n        return;\n      } else {\n        var local = (scope !== 'global') && (cm && cm.state.vim.options[name]);\n        return (local || (scope !== 'local') && option || {}).value;\n      }\n    }\n\n    defineOption('filetype', undefined, 'string', ['ft'], function(name, cm) {\n      // Option is local. Do nothing for global.\n      if (cm === undefined) {\n        return;\n      }\n      // The 'filetype' option proxies to the CodeMirror 'mode' option.\n      if (name === undefined) {\n        var mode = cm.getOption('mode');\n        return mode == 'null' ? '' : mode;\n      } else {\n        var mode = name == '' ? 'null' : name;\n        cm.setOption('mode', mode);\n      }\n    });\n\n    var createCircularJumpList = function() {\n      var size = 100;\n      var pointer = -1;\n      var head = 0;\n      var tail = 0;\n      var buffer = new Array(size);\n      function add(cm, oldCur, newCur) {\n        var current = pointer % size;\n        var curMark = buffer[current];\n        function useNextSlot(cursor) {\n          var next = ++pointer % size;\n          var trashMark = buffer[next];\n          if (trashMark) {\n            trashMark.clear();\n          }\n          buffer[next] = cm.setBookmark(cursor);\n        }\n        if (curMark) {\n          var markPos = curMark.find();\n          // avoid recording redundant cursor position\n          if (markPos && !cursorEqual(markPos, oldCur)) {\n            useNextSlot(oldCur);\n          }\n        } else {\n          useNextSlot(oldCur);\n        }\n        useNextSlot(newCur);\n        head = pointer;\n        tail = pointer - size + 1;\n        if (tail < 0) {\n          tail = 0;\n        }\n      }\n      function move(cm, offset) {\n        pointer += offset;\n        if (pointer > head) {\n          pointer = head;\n        } else if (pointer < tail) {\n          pointer = tail;\n        }\n        var mark = buffer[(size + pointer) % size];\n        // skip marks that are temporarily removed from text buffer\n        if (mark && !mark.find()) {\n          var inc = offset > 0 ? 1 : -1;\n          var newCur;\n          var oldCur = cm.getCursor();\n          do {\n            pointer += inc;\n            mark = buffer[(size + pointer) % size];\n            // skip marks that are the same as current position\n            if (mark &&\n                (newCur = mark.find()) &&\n                !cursorEqual(oldCur, newCur)) {\n              break;\n            }\n          } while (pointer < head && pointer > tail);\n        }\n        return mark;\n      }\n      function find(cm, offset) {\n        var oldPointer = pointer;\n        var mark = move(cm, offset);\n        pointer = oldPointer;\n        return mark && mark.find();\n      }\n      return {\n        cachedCursor: undefined, //used for # and * jumps\n        add: add,\n        find: find,\n        move: move\n      };\n    };\n\n    // Returns an object to track the changes associated insert mode.  It\n    // clones the object that is passed in, or creates an empty object one if\n    // none is provided.\n    var createInsertModeChanges = function(c) {\n      if (c) {\n        // Copy construction\n        return {\n          changes: c.changes,\n          expectCursorActivityForChange: c.expectCursorActivityForChange\n        };\n      }\n      return {\n        // Change list\n        changes: [],\n        // Set to true on change, false on cursorActivity.\n        expectCursorActivityForChange: false\n      };\n    };\n\n    function MacroModeState() {\n      this.latestRegister = undefined;\n      this.isPlaying = false;\n      this.isRecording = false;\n      this.replaySearchQueries = [];\n      this.onRecordingDone = undefined;\n      this.lastInsertModeChanges = createInsertModeChanges();\n    }\n    MacroModeState.prototype = {\n      exitMacroRecordMode: function() {\n        var macroModeState = vimGlobalState.macroModeState;\n        if (macroModeState.onRecordingDone) {\n          macroModeState.onRecordingDone(); // close dialog\n        }\n        macroModeState.onRecordingDone = undefined;\n        macroModeState.isRecording = false;\n      },\n      enterMacroRecordMode: function(cm, registerName) {\n        var register =\n            vimGlobalState.registerController.getRegister(registerName);\n        if (register) {\n          register.clear();\n          this.latestRegister = registerName;\n          if (cm.openDialog) {\n            this.onRecordingDone = cm.openDialog(\n                '(recording)['+registerName+']', null, {bottom:true});\n          }\n          this.isRecording = true;\n        }\n      }\n    };\n\n    function maybeInitVimState(cm) {\n      if (!cm.state.vim) {\n        // Store instance state in the CodeMirror object.\n        cm.state.vim = {\n          inputState: new InputState(),\n          // Vim's input state that triggered the last edit, used to repeat\n          // motions and operators with '.'.\n          lastEditInputState: undefined,\n          // Vim's action command before the last edit, used to repeat actions\n          // with '.' and insert mode repeat.\n          lastEditActionCommand: undefined,\n          // When using jk for navigation, if you move from a longer line to a\n          // shorter line, the cursor may clip to the end of the shorter line.\n          // If j is pressed again and cursor goes to the next line, the\n          // cursor should go back to its horizontal position on the longer\n          // line if it can. This is to keep track of the horizontal position.\n          lastHPos: -1,\n          // Doing the same with screen-position for gj/gk\n          lastHSPos: -1,\n          // The last motion command run. Cleared if a non-motion command gets\n          // executed in between.\n          lastMotion: null,\n          marks: {},\n          // Mark for rendering fake cursor for visual mode.\n          fakeCursor: null,\n          insertMode: false,\n          // Repeat count for changes made in insert mode, triggered by key\n          // sequences like 3,i. Only exists when insertMode is true.\n          insertModeRepeat: undefined,\n          visualMode: false,\n          // If we are in visual line mode. No effect if visualMode is false.\n          visualLine: false,\n          visualBlock: false,\n          lastSelection: null,\n          lastPastedText: null,\n          sel: {},\n          // Buffer-local/window-local values of vim options.\n          options: {}\n        };\n      }\n      return cm.state.vim;\n    }\n    var vimGlobalState;\n    function resetVimGlobalState() {\n      vimGlobalState = {\n        // The current search query.\n        searchQuery: null,\n        // Whether we are searching backwards.\n        searchIsReversed: false,\n        // Replace part of the last substituted pattern\n        lastSubstituteReplacePart: undefined,\n        jumpList: createCircularJumpList(),\n        macroModeState: new MacroModeState,\n        // Recording latest f, t, F or T motion command.\n        lastCharacterSearch: {increment:0, forward:true, selectedCharacter:''},\n        registerController: new RegisterController({}),\n        // search history buffer\n        searchHistoryController: new HistoryController(),\n        // ex Command history buffer\n        exCommandHistoryController : new HistoryController()\n      };\n      for (var optionName in options) {\n        var option = options[optionName];\n        option.value = option.defaultValue;\n      }\n    }\n\n    var lastInsertModeKeyTimer;\n    var vimApi= {\n      buildKeyMap: function() {\n        // TODO: Convert keymap into dictionary format for fast lookup.\n      },\n      // Testing hook, though it might be useful to expose the register\n      // controller anyway.\n      getRegisterController: function() {\n        return vimGlobalState.registerController;\n      },\n      // Testing hook.\n      resetVimGlobalState_: resetVimGlobalState,\n\n      // Testing hook.\n      getVimGlobalState_: function() {\n        return vimGlobalState;\n      },\n\n      // Testing hook.\n      maybeInitVimState_: maybeInitVimState,\n\n      suppressErrorLogging: false,\n\n      InsertModeKey: InsertModeKey,\n      map: function(lhs, rhs, ctx) {\n        // Add user defined key bindings.\n        exCommandDispatcher.map(lhs, rhs, ctx);\n      },\n      unmap: function(lhs, ctx) {\n        exCommandDispatcher.unmap(lhs, ctx);\n      },\n      // Non-recursive map function.\n      // NOTE: This will not create mappings to key maps that aren't present\n      // in the default key map. See TODO at bottom of function.\n      noremap: function(lhs, rhs, ctx) {\n        function toCtxArray(ctx) {\n          return ctx ? [ctx] : ['normal', 'insert', 'visual'];\n        }\n        var ctxsToMap = toCtxArray(ctx);\n        // Look through all actual defaults to find a map candidate.\n        var actualLength = defaultKeymap.length, origLength = defaultKeymapLength;\n        for (var i = actualLength - origLength;\n             i < actualLength && ctxsToMap.length;\n             i++) {\n          var mapping = defaultKeymap[i];\n          // Omit mappings that operate in the wrong context(s) and those of invalid type.\n          if (mapping.keys == rhs &&\n              (!ctx || !mapping.context || mapping.context === ctx) &&\n              mapping.type.substr(0, 2) !== 'ex' &&\n              mapping.type.substr(0, 3) !== 'key') {\n            // Make a shallow copy of the original keymap entry.\n            var newMapping = {};\n            for (var key in mapping) {\n              newMapping[key] = mapping[key];\n            }\n            // Modify it point to the new mapping with the proper context.\n            newMapping.keys = lhs;\n            if (ctx && !newMapping.context) {\n              newMapping.context = ctx;\n            }\n            // Add it to the keymap with a higher priority than the original.\n            this._mapCommand(newMapping);\n            // Record the mapped contexts as complete.\n            var mappedCtxs = toCtxArray(mapping.context);\n            ctxsToMap = ctxsToMap.filter(function(el) { return mappedCtxs.indexOf(el) === -1; });\n          }\n        }\n        // TODO: Create non-recursive keyToKey mappings for the unmapped contexts once those exist.\n      },\n      // Remove all user-defined mappings for the provided context.\n      mapclear: function(ctx) {\n        // Partition the existing keymap into user-defined and true defaults.\n        var actualLength = defaultKeymap.length,\n            origLength = defaultKeymapLength;\n        var userKeymap = defaultKeymap.slice(0, actualLength - origLength);\n        defaultKeymap = defaultKeymap.slice(actualLength - origLength);\n        if (ctx) {\n          // If a specific context is being cleared, we need to keep mappings\n          // from all other contexts.\n          for (var i = userKeymap.length - 1; i >= 0; i--) {\n            var mapping = userKeymap[i];\n            if (ctx !== mapping.context) {\n              if (mapping.context) {\n                this._mapCommand(mapping);\n              } else {\n                // `mapping` applies to all contexts so create keymap copies\n                // for each context except the one being cleared.\n                var contexts = ['normal', 'insert', 'visual'];\n                for (var j in contexts) {\n                  if (contexts[j] !== ctx) {\n                    var newMapping = {};\n                    for (var key in mapping) {\n                      newMapping[key] = mapping[key];\n                    }\n                    newMapping.context = contexts[j];\n                    this._mapCommand(newMapping);\n                  }\n                }\n              }\n            }\n          }\n        }\n      },\n      // TODO: Expose setOption and getOption as instance methods. Need to decide how to namespace\n      // them, or somehow make them work with the existing CodeMirror setOption/getOption API.\n      setOption: setOption,\n      getOption: getOption,\n      defineOption: defineOption,\n      defineEx: function(name, prefix, func){\n        if (!prefix) {\n          prefix = name;\n        } else if (name.indexOf(prefix) !== 0) {\n          throw new Error('(Vim.defineEx) \"'+prefix+'\" is not a prefix of \"'+name+'\", command not registered');\n        }\n        exCommands[name]=func;\n        exCommandDispatcher.commandMap_[prefix]={name:name, shortName:prefix, type:'api'};\n      },\n      handleKey: function (cm, key, origin) {\n        var command = this.findKey(cm, key, origin);\n        if (typeof command === 'function') {\n          return command();\n        }\n      },\n      /**\n       * This is the outermost function called by CodeMirror, after keys have\n       * been mapped to their Vim equivalents.\n       *\n       * Finds a command based on the key (and cached keys if there is a\n       * multi-key sequence). Returns `undefined` if no key is matched, a noop\n       * function if a partial match is found (multi-key), and a function to\n       * execute the bound command if a a key is matched. The function always\n       * returns true.\n       */\n      findKey: function(cm, key, origin) {\n        var vim = maybeInitVimState(cm);\n        function handleMacroRecording() {\n          var macroModeState = vimGlobalState.macroModeState;\n          if (macroModeState.isRecording) {\n            if (key == 'q') {\n              macroModeState.exitMacroRecordMode();\n              clearInputState(cm);\n              return true;\n            }\n            if (origin != 'mapping') {\n              logKey(macroModeState, key);\n            }\n          }\n        }\n        function handleEsc() {\n          if (key == '<Esc>') {\n            // Clear input state and get back to normal mode.\n            clearInputState(cm);\n            if (vim.visualMode) {\n              exitVisualMode(cm);\n            } else if (vim.insertMode) {\n              exitInsertMode(cm);\n            }\n            return true;\n          }\n        }\n        function doKeyToKey(keys) {\n          // TODO: prevent infinite recursion.\n          var match;\n          while (keys) {\n            // Pull off one command key, which is either a single character\n            // or a special sequence wrapped in '<' and '>', e.g. '<Space>'.\n            match = (/<\\w+-.+?>|<\\w+>|./).exec(keys);\n            key = match[0];\n            keys = keys.substring(match.index + key.length);\n            CodeMirror.Vim.handleKey(cm, key, 'mapping');\n          }\n        }\n\n        function handleKeyInsertMode() {\n          if (handleEsc()) { return true; }\n          var keys = vim.inputState.keyBuffer = vim.inputState.keyBuffer + key;\n          var keysAreChars = key.length == 1;\n          var match = commandDispatcher.matchCommand(keys, defaultKeymap, vim.inputState, 'insert');\n          // Need to check all key substrings in insert mode.\n          while (keys.length > 1 && match.type != 'full') {\n            var keys = vim.inputState.keyBuffer = keys.slice(1);\n            var thisMatch = commandDispatcher.matchCommand(keys, defaultKeymap, vim.inputState, 'insert');\n            if (thisMatch.type != 'none') { match = thisMatch; }\n          }\n          if (match.type == 'none') { clearInputState(cm); return false; }\n          else if (match.type == 'partial') {\n            if (lastInsertModeKeyTimer) { window.clearTimeout(lastInsertModeKeyTimer); }\n            lastInsertModeKeyTimer = window.setTimeout(\n              function() { if (vim.insertMode && vim.inputState.keyBuffer) { clearInputState(cm); } },\n              getOption('insertModeEscKeysTimeout'));\n            return !keysAreChars;\n          }\n\n          if (lastInsertModeKeyTimer) { window.clearTimeout(lastInsertModeKeyTimer); }\n          if (keysAreChars) {\n            var selections = cm.listSelections();\n            for (var i = 0; i < selections.length; i++) {\n              var here = selections[i].head;\n              cm.replaceRange('', offsetCursor(here, 0, -(keys.length - 1)), here, '+input');\n            }\n            vimGlobalState.macroModeState.lastInsertModeChanges.changes.pop();\n          }\n          clearInputState(cm);\n          return match.command;\n        }\n\n        function handleKeyNonInsertMode() {\n          if (handleMacroRecording() || handleEsc()) { return true; }\n\n          var keys = vim.inputState.keyBuffer = vim.inputState.keyBuffer + key;\n          if (/^[1-9]\\d*$/.test(keys)) { return true; }\n\n          var keysMatcher = /^(\\d*)(.*)$/.exec(keys);\n          if (!keysMatcher) { clearInputState(cm); return false; }\n          var context = vim.visualMode ? 'visual' :\n                                         'normal';\n          var match = commandDispatcher.matchCommand(keysMatcher[2] || keysMatcher[1], defaultKeymap, vim.inputState, context);\n          if (match.type == 'none') { clearInputState(cm); return false; }\n          else if (match.type == 'partial') { return true; }\n\n          vim.inputState.keyBuffer = '';\n          var keysMatcher = /^(\\d*)(.*)$/.exec(keys);\n          if (keysMatcher[1] && keysMatcher[1] != '0') {\n            vim.inputState.pushRepeatDigit(keysMatcher[1]);\n          }\n          return match.command;\n        }\n\n        var command;\n        if (vim.insertMode) { command = handleKeyInsertMode(); }\n        else { command = handleKeyNonInsertMode(); }\n        if (command === false) {\n          return !vim.insertMode && key.length === 1 ? function() { return true; } : undefined;\n        } else if (command === true) {\n          // TODO: Look into using CodeMirror's multi-key handling.\n          // Return no-op since we are caching the key. Counts as handled, but\n          // don't want act on it just yet.\n          return function() { return true; };\n        } else {\n          return function() {\n            return cm.operation(function() {\n              cm.curOp.isVimOp = true;\n              try {\n                if (command.type == 'keyToKey') {\n                  doKeyToKey(command.toKeys);\n                } else {\n                  commandDispatcher.processCommand(cm, vim, command);\n                }\n              } catch (e) {\n                // clear VIM state in case it's in a bad state.\n                cm.state.vim = undefined;\n                maybeInitVimState(cm);\n                if (!CodeMirror.Vim.suppressErrorLogging) {\n                  console['log'](e);\n                }\n                throw e;\n              }\n              return true;\n            });\n          };\n        }\n      },\n      handleEx: function(cm, input) {\n        exCommandDispatcher.processCommand(cm, input);\n      },\n\n      defineMotion: defineMotion,\n      defineAction: defineAction,\n      defineOperator: defineOperator,\n      mapCommand: mapCommand,\n      _mapCommand: _mapCommand,\n\n      defineRegister: defineRegister,\n\n      exitVisualMode: exitVisualMode,\n      exitInsertMode: exitInsertMode\n    };\n\n    // Represents the current input state.\n    function InputState() {\n      this.prefixRepeat = [];\n      this.motionRepeat = [];\n\n      this.operator = null;\n      this.operatorArgs = null;\n      this.motion = null;\n      this.motionArgs = null;\n      this.keyBuffer = []; // For matching multi-key commands.\n      this.registerName = null; // Defaults to the unnamed register.\n    }\n    InputState.prototype.pushRepeatDigit = function(n) {\n      if (!this.operator) {\n        this.prefixRepeat = this.prefixRepeat.concat(n);\n      } else {\n        this.motionRepeat = this.motionRepeat.concat(n);\n      }\n    };\n    InputState.prototype.getRepeat = function() {\n      var repeat = 0;\n      if (this.prefixRepeat.length > 0 || this.motionRepeat.length > 0) {\n        repeat = 1;\n        if (this.prefixRepeat.length > 0) {\n          repeat *= parseInt(this.prefixRepeat.join(''), 10);\n        }\n        if (this.motionRepeat.length > 0) {\n          repeat *= parseInt(this.motionRepeat.join(''), 10);\n        }\n      }\n      return repeat;\n    };\n\n    function clearInputState(cm, reason) {\n      cm.state.vim.inputState = new InputState();\n      CodeMirror.signal(cm, 'vim-command-done', reason);\n    }\n\n    /*\n     * Register stores information about copy and paste registers.  Besides\n     * text, a register must store whether it is linewise (i.e., when it is\n     * pasted, should it insert itself into a new line, or should the text be\n     * inserted at the cursor position.)\n     */\n    function Register(text, linewise, blockwise) {\n      this.clear();\n      this.keyBuffer = [text || ''];\n      this.insertModeChanges = [];\n      this.searchQueries = [];\n      this.linewise = !!linewise;\n      this.blockwise = !!blockwise;\n    }\n    Register.prototype = {\n      setText: function(text, linewise, blockwise) {\n        this.keyBuffer = [text || ''];\n        this.linewise = !!linewise;\n        this.blockwise = !!blockwise;\n      },\n      pushText: function(text, linewise) {\n        // if this register has ever been set to linewise, use linewise.\n        if (linewise) {\n          if (!this.linewise) {\n            this.keyBuffer.push('\\n');\n          }\n          this.linewise = true;\n        }\n        this.keyBuffer.push(text);\n      },\n      pushInsertModeChanges: function(changes) {\n        this.insertModeChanges.push(createInsertModeChanges(changes));\n      },\n      pushSearchQuery: function(query) {\n        this.searchQueries.push(query);\n      },\n      clear: function() {\n        this.keyBuffer = [];\n        this.insertModeChanges = [];\n        this.searchQueries = [];\n        this.linewise = false;\n      },\n      toString: function() {\n        return this.keyBuffer.join('');\n      }\n    };\n\n    /**\n     * Defines an external register.\n     *\n     * The name should be a single character that will be used to reference the register.\n     * The register should support setText, pushText, clear, and toString(). See Register\n     * for a reference implementation.\n     */\n    function defineRegister(name, register) {\n      var registers = vimGlobalState.registerController.registers;\n      if (!name || name.length != 1) {\n        throw Error('Register name must be 1 character');\n      }\n      if (registers[name]) {\n        throw Error('Register already defined ' + name);\n      }\n      registers[name] = register;\n      validRegisters.push(name);\n    }\n\n    /*\n     * vim registers allow you to keep many independent copy and paste buffers.\n     * See http://usevim.com/2012/04/13/registers/ for an introduction.\n     *\n     * RegisterController keeps the state of all the registers.  An initial\n     * state may be passed in.  The unnamed register '\"' will always be\n     * overridden.\n     */\n    function RegisterController(registers) {\n      this.registers = registers;\n      this.unnamedRegister = registers['\"'] = new Register();\n      registers['.'] = new Register();\n      registers[':'] = new Register();\n      registers['/'] = new Register();\n    }\n    RegisterController.prototype = {\n      pushText: function(registerName, operator, text, linewise, blockwise) {\n        // The black hole register, \"_, means delete/yank to nowhere.\n        if (registerName === '_') return;\n        if (linewise && text.charAt(text.length - 1) !== '\\n'){\n          text += '\\n';\n        }\n        // Lowercase and uppercase registers refer to the same register.\n        // Uppercase just means append.\n        var register = this.isValidRegister(registerName) ?\n            this.getRegister(registerName) : null;\n        // if no register/an invalid register was specified, things go to the\n        // default registers\n        if (!register) {\n          switch (operator) {\n            case 'yank':\n              // The 0 register contains the text from the most recent yank.\n              this.registers['0'] = new Register(text, linewise, blockwise);\n              break;\n            case 'delete':\n            case 'change':\n              if (text.indexOf('\\n') == -1) {\n                // Delete less than 1 line. Update the small delete register.\n                this.registers['-'] = new Register(text, linewise);\n              } else {\n                // Shift down the contents of the numbered registers and put the\n                // deleted text into register 1.\n                this.shiftNumericRegisters_();\n                this.registers['1'] = new Register(text, linewise);\n              }\n              break;\n          }\n          // Make sure the unnamed register is set to what just happened\n          this.unnamedRegister.setText(text, linewise, blockwise);\n          return;\n        }\n\n        // If we've gotten to this point, we've actually specified a register\n        var append = isUpperCase(registerName);\n        if (append) {\n          register.pushText(text, linewise);\n        } else {\n          register.setText(text, linewise, blockwise);\n        }\n        // The unnamed register always has the same value as the last used\n        // register.\n        this.unnamedRegister.setText(register.toString(), linewise);\n      },\n      // Gets the register named @name.  If one of @name doesn't already exist,\n      // create it.  If @name is invalid, return the unnamedRegister.\n      getRegister: function(name) {\n        if (!this.isValidRegister(name)) {\n          return this.unnamedRegister;\n        }\n        name = name.toLowerCase();\n        if (!this.registers[name]) {\n          this.registers[name] = new Register();\n        }\n        return this.registers[name];\n      },\n      isValidRegister: function(name) {\n        return name && inArray(name, validRegisters);\n      },\n      shiftNumericRegisters_: function() {\n        for (var i = 9; i >= 2; i--) {\n          this.registers[i] = this.getRegister('' + (i - 1));\n        }\n      }\n    };\n    function HistoryController() {\n        this.historyBuffer = [];\n        this.iterator = 0;\n        this.initialPrefix = null;\n    }\n    HistoryController.prototype = {\n      // the input argument here acts a user entered prefix for a small time\n      // until we start autocompletion in which case it is the autocompleted.\n      nextMatch: function (input, up) {\n        var historyBuffer = this.historyBuffer;\n        var dir = up ? -1 : 1;\n        if (this.initialPrefix === null) this.initialPrefix = input;\n        for (var i = this.iterator + dir; up ? i >= 0 : i < historyBuffer.length; i+= dir) {\n          var element = historyBuffer[i];\n          for (var j = 0; j <= element.length; j++) {\n            if (this.initialPrefix == element.substring(0, j)) {\n              this.iterator = i;\n              return element;\n            }\n          }\n        }\n        // should return the user input in case we reach the end of buffer.\n        if (i >= historyBuffer.length) {\n          this.iterator = historyBuffer.length;\n          return this.initialPrefix;\n        }\n        // return the last autocompleted query or exCommand as it is.\n        if (i < 0 ) return input;\n      },\n      pushInput: function(input) {\n        var index = this.historyBuffer.indexOf(input);\n        if (index > -1) this.historyBuffer.splice(index, 1);\n        if (input.length) this.historyBuffer.push(input);\n      },\n      reset: function() {\n        this.initialPrefix = null;\n        this.iterator = this.historyBuffer.length;\n      }\n    };\n    var commandDispatcher = {\n      matchCommand: function(keys, keyMap, inputState, context) {\n        var matches = commandMatches(keys, keyMap, context, inputState);\n        if (!matches.full && !matches.partial) {\n          return {type: 'none'};\n        } else if (!matches.full && matches.partial) {\n          return {type: 'partial'};\n        }\n\n        var bestMatch;\n        for (var i = 0; i < matches.full.length; i++) {\n          var match = matches.full[i];\n          if (!bestMatch) {\n            bestMatch = match;\n          }\n        }\n        if (bestMatch.keys.slice(-11) == '<character>') {\n          var character = lastChar(keys);\n          if (!character) return {type: 'none'};\n          inputState.selectedCharacter = character;\n        }\n        return {type: 'full', command: bestMatch};\n      },\n      processCommand: function(cm, vim, command) {\n        vim.inputState.repeatOverride = command.repeatOverride;\n        switch (command.type) {\n          case 'motion':\n            this.processMotion(cm, vim, command);\n            break;\n          case 'operator':\n            this.processOperator(cm, vim, command);\n            break;\n          case 'operatorMotion':\n            this.processOperatorMotion(cm, vim, command);\n            break;\n          case 'action':\n            this.processAction(cm, vim, command);\n            break;\n          case 'search':\n            this.processSearch(cm, vim, command);\n            break;\n          case 'ex':\n          case 'keyToEx':\n            this.processEx(cm, vim, command);\n            break;\n          default:\n            break;\n        }\n      },\n      processMotion: function(cm, vim, command) {\n        vim.inputState.motion = command.motion;\n        vim.inputState.motionArgs = copyArgs(command.motionArgs);\n        this.evalInput(cm, vim);\n      },\n      processOperator: function(cm, vim, command) {\n        var inputState = vim.inputState;\n        if (inputState.operator) {\n          if (inputState.operator == command.operator) {\n            // Typing an operator twice like 'dd' makes the operator operate\n            // linewise\n            inputState.motion = 'expandToLine';\n            inputState.motionArgs = { linewise: true };\n            this.evalInput(cm, vim);\n            return;\n          } else {\n            // 2 different operators in a row doesn't make sense.\n            clearInputState(cm);\n          }\n        }\n        inputState.operator = command.operator;\n        inputState.operatorArgs = copyArgs(command.operatorArgs);\n        if (command.exitVisualBlock) {\n            vim.visualBlock = false;\n            updateCmSelection(cm);\n        }\n        if (vim.visualMode) {\n          // Operating on a selection in visual mode. We don't need a motion.\n          this.evalInput(cm, vim);\n        }\n      },\n      processOperatorMotion: function(cm, vim, command) {\n        var visualMode = vim.visualMode;\n        var operatorMotionArgs = copyArgs(command.operatorMotionArgs);\n        if (operatorMotionArgs) {\n          // Operator motions may have special behavior in visual mode.\n          if (visualMode && operatorMotionArgs.visualLine) {\n            vim.visualLine = true;\n          }\n        }\n        this.processOperator(cm, vim, command);\n        if (!visualMode) {\n          this.processMotion(cm, vim, command);\n        }\n      },\n      processAction: function(cm, vim, command) {\n        var inputState = vim.inputState;\n        var repeat = inputState.getRepeat();\n        var repeatIsExplicit = !!repeat;\n        var actionArgs = copyArgs(command.actionArgs) || {};\n        if (inputState.selectedCharacter) {\n          actionArgs.selectedCharacter = inputState.selectedCharacter;\n        }\n        // Actions may or may not have motions and operators. Do these first.\n        if (command.operator) {\n          this.processOperator(cm, vim, command);\n        }\n        if (command.motion) {\n          this.processMotion(cm, vim, command);\n        }\n        if (command.motion || command.operator) {\n          this.evalInput(cm, vim);\n        }\n        actionArgs.repeat = repeat || 1;\n        actionArgs.repeatIsExplicit = repeatIsExplicit;\n        actionArgs.registerName = inputState.registerName;\n        clearInputState(cm);\n        vim.lastMotion = null;\n        if (command.isEdit) {\n          this.recordLastEdit(vim, inputState, command);\n        }\n        actions[command.action](cm, actionArgs, vim);\n      },\n      processSearch: function(cm, vim, command) {\n        if (!cm.getSearchCursor) {\n          // Search depends on SearchCursor.\n          return;\n        }\n        var forward = command.searchArgs.forward;\n        var wholeWordOnly = command.searchArgs.wholeWordOnly;\n        getSearchState(cm).setReversed(!forward);\n        var promptPrefix = (forward) ? '/' : '?';\n        var originalQuery = getSearchState(cm).getQuery();\n        var originalScrollPos = cm.getScrollInfo();\n        function handleQuery(query, ignoreCase, smartCase) {\n          vimGlobalState.searchHistoryController.pushInput(query);\n          vimGlobalState.searchHistoryController.reset();\n          try {\n            updateSearchQuery(cm, query, ignoreCase, smartCase);\n          } catch (e) {\n            showConfirm(cm, 'Invalid regex: ' + query);\n            clearInputState(cm);\n            return;\n          }\n          commandDispatcher.processMotion(cm, vim, {\n            type: 'motion',\n            motion: 'findNext',\n            motionArgs: { forward: true, toJumplist: command.searchArgs.toJumplist }\n          });\n        }\n        function onPromptClose(query) {\n          cm.scrollTo(originalScrollPos.left, originalScrollPos.top);\n          handleQuery(query, true /** ignoreCase */, true /** smartCase */);\n          var macroModeState = vimGlobalState.macroModeState;\n          if (macroModeState.isRecording) {\n            logSearchQuery(macroModeState, query);\n          }\n        }\n        function onPromptKeyUp(e, query, close) {\n          var keyName = CodeMirror.keyName(e), up, offset;\n          if (keyName == 'Up' || keyName == 'Down') {\n            up = keyName == 'Up' ? true : false;\n            offset = e.target ? e.target.selectionEnd : 0;\n            query = vimGlobalState.searchHistoryController.nextMatch(query, up) || '';\n            close(query);\n            if (offset && e.target) e.target.selectionEnd = e.target.selectionStart = Math.min(offset, e.target.value.length);\n          } else {\n            if ( keyName != 'Left' && keyName != 'Right' && keyName != 'Ctrl' && keyName != 'Alt' && keyName != 'Shift')\n              vimGlobalState.searchHistoryController.reset();\n          }\n          var parsedQuery;\n          try {\n            parsedQuery = updateSearchQuery(cm, query,\n                true /** ignoreCase */, true /** smartCase */);\n          } catch (e) {\n            // Swallow bad regexes for incremental search.\n          }\n          if (parsedQuery) {\n            cm.scrollIntoView(findNext(cm, !forward, parsedQuery), 30);\n          } else {\n            clearSearchHighlight(cm);\n            cm.scrollTo(originalScrollPos.left, originalScrollPos.top);\n          }\n        }\n        function onPromptKeyDown(e, query, close) {\n          var keyName = CodeMirror.keyName(e);\n          if (keyName == 'Esc' || keyName == 'Ctrl-C' || keyName == 'Ctrl-[' ||\n              (keyName == 'Backspace' && query == '')) {\n            vimGlobalState.searchHistoryController.pushInput(query);\n            vimGlobalState.searchHistoryController.reset();\n            updateSearchQuery(cm, originalQuery);\n            clearSearchHighlight(cm);\n            cm.scrollTo(originalScrollPos.left, originalScrollPos.top);\n            CodeMirror.e_stop(e);\n            clearInputState(cm);\n            close();\n            cm.focus();\n          } else if (keyName == 'Up' || keyName == 'Down') {\n            CodeMirror.e_stop(e);\n          } else if (keyName == 'Ctrl-U') {\n            // Ctrl-U clears input.\n            CodeMirror.e_stop(e);\n            close('');\n          }\n        }\n        switch (command.searchArgs.querySrc) {\n          case 'prompt':\n            var macroModeState = vimGlobalState.macroModeState;\n            if (macroModeState.isPlaying) {\n              var query = macroModeState.replaySearchQueries.shift();\n              handleQuery(query, true /** ignoreCase */, false /** smartCase */);\n            } else {\n              showPrompt(cm, {\n                  onClose: onPromptClose,\n                  prefix: promptPrefix,\n                  desc: '(JavaScript regexp)',\n                  onKeyUp: onPromptKeyUp,\n                  onKeyDown: onPromptKeyDown\n              });\n            }\n            break;\n          case 'wordUnderCursor':\n            var word = expandWordUnderCursor(cm, false /** inclusive */,\n                true /** forward */, false /** bigWord */,\n                true /** noSymbol */);\n            var isKeyword = true;\n            if (!word) {\n              word = expandWordUnderCursor(cm, false /** inclusive */,\n                  true /** forward */, false /** bigWord */,\n                  false /** noSymbol */);\n              isKeyword = false;\n            }\n            if (!word) {\n              return;\n            }\n            var query = cm.getLine(word.start.line).substring(word.start.ch,\n                word.end.ch);\n            if (isKeyword && wholeWordOnly) {\n                query = '\\\\b' + query + '\\\\b';\n            } else {\n              query = escapeRegex(query);\n            }\n\n            // cachedCursor is used to save the old position of the cursor\n            // when * or # causes vim to seek for the nearest word and shift\n            // the cursor before entering the motion.\n            vimGlobalState.jumpList.cachedCursor = cm.getCursor();\n            cm.setCursor(word.start);\n\n            handleQuery(query, true /** ignoreCase */, false /** smartCase */);\n            break;\n        }\n      },\n      processEx: function(cm, vim, command) {\n        function onPromptClose(input) {\n          // Give the prompt some time to close so that if processCommand shows\n          // an error, the elements don't overlap.\n          vimGlobalState.exCommandHistoryController.pushInput(input);\n          vimGlobalState.exCommandHistoryController.reset();\n          exCommandDispatcher.processCommand(cm, input);\n        }\n        function onPromptKeyDown(e, input, close) {\n          var keyName = CodeMirror.keyName(e), up, offset;\n          if (keyName == 'Esc' || keyName == 'Ctrl-C' || keyName == 'Ctrl-[' ||\n              (keyName == 'Backspace' && input == '')) {\n            vimGlobalState.exCommandHistoryController.pushInput(input);\n            vimGlobalState.exCommandHistoryController.reset();\n            CodeMirror.e_stop(e);\n            clearInputState(cm);\n            close();\n            cm.focus();\n          }\n          if (keyName == 'Up' || keyName == 'Down') {\n            CodeMirror.e_stop(e);\n            up = keyName == 'Up' ? true : false;\n            offset = e.target ? e.target.selectionEnd : 0;\n            input = vimGlobalState.exCommandHistoryController.nextMatch(input, up) || '';\n            close(input);\n            if (offset && e.target) e.target.selectionEnd = e.target.selectionStart = Math.min(offset, e.target.value.length);\n          } else if (keyName == 'Ctrl-U') {\n            // Ctrl-U clears input.\n            CodeMirror.e_stop(e);\n            close('');\n          } else {\n            if ( keyName != 'Left' && keyName != 'Right' && keyName != 'Ctrl' && keyName != 'Alt' && keyName != 'Shift')\n              vimGlobalState.exCommandHistoryController.reset();\n          }\n        }\n        if (command.type == 'keyToEx') {\n          // Handle user defined Ex to Ex mappings\n          exCommandDispatcher.processCommand(cm, command.exArgs.input);\n        } else {\n          if (vim.visualMode) {\n            showPrompt(cm, { onClose: onPromptClose, prefix: ':', value: '\\'<,\\'>',\n                onKeyDown: onPromptKeyDown, selectValueOnOpen: false});\n          } else {\n            showPrompt(cm, { onClose: onPromptClose, prefix: ':',\n                onKeyDown: onPromptKeyDown});\n          }\n        }\n      },\n      evalInput: function(cm, vim) {\n        // If the motion command is set, execute both the operator and motion.\n        // Otherwise return.\n        var inputState = vim.inputState;\n        var motion = inputState.motion;\n        var motionArgs = inputState.motionArgs || {};\n        var operator = inputState.operator;\n        var operatorArgs = inputState.operatorArgs || {};\n        var registerName = inputState.registerName;\n        var sel = vim.sel;\n        // TODO: Make sure cm and vim selections are identical outside visual mode.\n        var origHead = copyCursor(vim.visualMode ? clipCursorToContent(cm, sel.head): cm.getCursor('head'));\n        var origAnchor = copyCursor(vim.visualMode ? clipCursorToContent(cm, sel.anchor) : cm.getCursor('anchor'));\n        var oldHead = copyCursor(origHead);\n        var oldAnchor = copyCursor(origAnchor);\n        var newHead, newAnchor;\n        var repeat;\n        if (operator) {\n          this.recordLastEdit(vim, inputState);\n        }\n        if (inputState.repeatOverride !== undefined) {\n          // If repeatOverride is specified, that takes precedence over the\n          // input state's repeat. Used by Ex mode and can be user defined.\n          repeat = inputState.repeatOverride;\n        } else {\n          repeat = inputState.getRepeat();\n        }\n        if (repeat > 0 && motionArgs.explicitRepeat) {\n          motionArgs.repeatIsExplicit = true;\n        } else if (motionArgs.noRepeat ||\n            (!motionArgs.explicitRepeat && repeat === 0)) {\n          repeat = 1;\n          motionArgs.repeatIsExplicit = false;\n        }\n        if (inputState.selectedCharacter) {\n          // If there is a character input, stick it in all of the arg arrays.\n          motionArgs.selectedCharacter = operatorArgs.selectedCharacter =\n              inputState.selectedCharacter;\n        }\n        motionArgs.repeat = repeat;\n        clearInputState(cm);\n        if (motion) {\n          var motionResult = motions[motion](cm, origHead, motionArgs, vim, inputState);\n          vim.lastMotion = motions[motion];\n          if (!motionResult) {\n            return;\n          }\n          if (motionArgs.toJumplist) {\n            var jumpList = vimGlobalState.jumpList;\n            // if the current motion is # or *, use cachedCursor\n            var cachedCursor = jumpList.cachedCursor;\n            if (cachedCursor) {\n              recordJumpPosition(cm, cachedCursor, motionResult);\n              delete jumpList.cachedCursor;\n            } else {\n              recordJumpPosition(cm, origHead, motionResult);\n            }\n          }\n          if (motionResult instanceof Array) {\n            newAnchor = motionResult[0];\n            newHead = motionResult[1];\n          } else {\n            newHead = motionResult;\n          }\n          // TODO: Handle null returns from motion commands better.\n          if (!newHead) {\n            newHead = copyCursor(origHead);\n          }\n          if (vim.visualMode) {\n            if (!(vim.visualBlock && newHead.ch === Infinity)) {\n              newHead = clipCursorToContent(cm, newHead);\n            }\n            if (newAnchor) {\n              newAnchor = clipCursorToContent(cm, newAnchor);\n            }\n            newAnchor = newAnchor || oldAnchor;\n            sel.anchor = newAnchor;\n            sel.head = newHead;\n            updateCmSelection(cm);\n            updateMark(cm, vim, '<',\n                cursorIsBefore(newAnchor, newHead) ? newAnchor\n                    : newHead);\n            updateMark(cm, vim, '>',\n                cursorIsBefore(newAnchor, newHead) ? newHead\n                    : newAnchor);\n          } else if (!operator) {\n            newHead = clipCursorToContent(cm, newHead);\n            cm.setCursor(newHead.line, newHead.ch);\n          }\n        }\n        if (operator) {\n          if (operatorArgs.lastSel) {\n            // Replaying a visual mode operation\n            newAnchor = oldAnchor;\n            var lastSel = operatorArgs.lastSel;\n            var lineOffset = Math.abs(lastSel.head.line - lastSel.anchor.line);\n            var chOffset = Math.abs(lastSel.head.ch - lastSel.anchor.ch);\n            if (lastSel.visualLine) {\n              // Linewise Visual mode: The same number of lines.\n              newHead = Pos(oldAnchor.line + lineOffset, oldAnchor.ch);\n            } else if (lastSel.visualBlock) {\n              // Blockwise Visual mode: The same number of lines and columns.\n              newHead = Pos(oldAnchor.line + lineOffset, oldAnchor.ch + chOffset);\n            } else if (lastSel.head.line == lastSel.anchor.line) {\n              // Normal Visual mode within one line: The same number of characters.\n              newHead = Pos(oldAnchor.line, oldAnchor.ch + chOffset);\n            } else {\n              // Normal Visual mode with several lines: The same number of lines, in the\n              // last line the same number of characters as in the last line the last time.\n              newHead = Pos(oldAnchor.line + lineOffset, oldAnchor.ch);\n            }\n            vim.visualMode = true;\n            vim.visualLine = lastSel.visualLine;\n            vim.visualBlock = lastSel.visualBlock;\n            sel = vim.sel = {\n              anchor: newAnchor,\n              head: newHead\n            };\n            updateCmSelection(cm);\n          } else if (vim.visualMode) {\n            operatorArgs.lastSel = {\n              anchor: copyCursor(sel.anchor),\n              head: copyCursor(sel.head),\n              visualBlock: vim.visualBlock,\n              visualLine: vim.visualLine\n            };\n          }\n          var curStart, curEnd, linewise, mode;\n          var cmSel;\n          if (vim.visualMode) {\n            // Init visual op\n            curStart = cursorMin(sel.head, sel.anchor);\n            curEnd = cursorMax(sel.head, sel.anchor);\n            linewise = vim.visualLine || operatorArgs.linewise;\n            mode = vim.visualBlock ? 'block' :\n                   linewise ? 'line' :\n                   'char';\n            cmSel = makeCmSelection(cm, {\n              anchor: curStart,\n              head: curEnd\n            }, mode);\n            if (linewise) {\n              var ranges = cmSel.ranges;\n              if (mode == 'block') {\n                // Linewise operators in visual block mode extend to end of line\n                for (var i = 0; i < ranges.length; i++) {\n                  ranges[i].head.ch = lineLength(cm, ranges[i].head.line);\n                }\n              } else if (mode == 'line') {\n                ranges[0].head = Pos(ranges[0].head.line + 1, 0);\n              }\n            }\n          } else {\n            // Init motion op\n            curStart = copyCursor(newAnchor || oldAnchor);\n            curEnd = copyCursor(newHead || oldHead);\n            if (cursorIsBefore(curEnd, curStart)) {\n              var tmp = curStart;\n              curStart = curEnd;\n              curEnd = tmp;\n            }\n            linewise = motionArgs.linewise || operatorArgs.linewise;\n            if (linewise) {\n              // Expand selection to entire line.\n              expandSelectionToLine(cm, curStart, curEnd);\n            } else if (motionArgs.forward) {\n              // Clip to trailing newlines only if the motion goes forward.\n              clipToLine(cm, curStart, curEnd);\n            }\n            mode = 'char';\n            var exclusive = !motionArgs.inclusive || linewise;\n            cmSel = makeCmSelection(cm, {\n              anchor: curStart,\n              head: curEnd\n            }, mode, exclusive);\n          }\n          cm.setSelections(cmSel.ranges, cmSel.primary);\n          vim.lastMotion = null;\n          operatorArgs.repeat = repeat; // For indent in visual mode.\n          operatorArgs.registerName = registerName;\n          // Keep track of linewise as it affects how paste and change behave.\n          operatorArgs.linewise = linewise;\n          var operatorMoveTo = operators[operator](\n            cm, operatorArgs, cmSel.ranges, oldAnchor, newHead);\n          if (vim.visualMode) {\n            exitVisualMode(cm, operatorMoveTo != null);\n          }\n          if (operatorMoveTo) {\n            cm.setCursor(operatorMoveTo);\n          }\n        }\n      },\n      recordLastEdit: function(vim, inputState, actionCommand) {\n        var macroModeState = vimGlobalState.macroModeState;\n        if (macroModeState.isPlaying) { return; }\n        vim.lastEditInputState = inputState;\n        vim.lastEditActionCommand = actionCommand;\n        macroModeState.lastInsertModeChanges.changes = [];\n        macroModeState.lastInsertModeChanges.expectCursorActivityForChange = false;\n        macroModeState.lastInsertModeChanges.visualBlock = vim.visualBlock ? vim.sel.head.line - vim.sel.anchor.line : 0;\n      }\n    };\n\n    /**\n     * typedef {Object{line:number,ch:number}} Cursor An object containing the\n     *     position of the cursor.\n     */\n    // All of the functions below return Cursor objects.\n    var motions = {\n      moveToTopLine: function(cm, _head, motionArgs) {\n        var line = getUserVisibleLines(cm).top + motionArgs.repeat -1;\n        return Pos(line, findFirstNonWhiteSpaceCharacter(cm.getLine(line)));\n      },\n      moveToMiddleLine: function(cm) {\n        var range = getUserVisibleLines(cm);\n        var line = Math.floor((range.top + range.bottom) * 0.5);\n        return Pos(line, findFirstNonWhiteSpaceCharacter(cm.getLine(line)));\n      },\n      moveToBottomLine: function(cm, _head, motionArgs) {\n        var line = getUserVisibleLines(cm).bottom - motionArgs.repeat +1;\n        return Pos(line, findFirstNonWhiteSpaceCharacter(cm.getLine(line)));\n      },\n      expandToLine: function(_cm, head, motionArgs) {\n        // Expands forward to end of line, and then to next line if repeat is\n        // >1. Does not handle backward motion!\n        var cur = head;\n        return Pos(cur.line + motionArgs.repeat - 1, Infinity);\n      },\n      findNext: function(cm, _head, motionArgs) {\n        var state = getSearchState(cm);\n        var query = state.getQuery();\n        if (!query) {\n          return;\n        }\n        var prev = !motionArgs.forward;\n        // If search is initiated with ? instead of /, negate direction.\n        prev = (state.isReversed()) ? !prev : prev;\n        highlightSearchMatches(cm, query);\n        return findNext(cm, prev/** prev */, query, motionArgs.repeat);\n      },\n      /**\n       * Find and select the next occurrence of the search query. If the cursor is currently\n       * within a match, then find and select the current match. Otherwise, find the next occurrence in the\n       * appropriate direction.\n       *\n       * This differs from `findNext` in the following ways:\n       *\n       * 1. Instead of only returning the \"from\", this returns a \"from\", \"to\" range.\n       * 2. If the cursor is currently inside a search match, this selects the current match\n       *    instead of the next match.\n       * 3. If there is no associated operator, this will turn on visual mode.\n       */\n      findAndSelectNextInclusive: function(cm, _head, motionArgs, vim, prevInputState) {\n        var state = getSearchState(cm);\n        var query = state.getQuery();\n\n        if (!query) {\n          return;\n        }\n\n        var prev = !motionArgs.forward;\n        prev = (state.isReversed()) ? !prev : prev;\n\n        // next: [from, to] | null\n        var next = findNextFromAndToInclusive(cm, prev, query, motionArgs.repeat, vim);\n\n        // No matches.\n        if (!next) {\n          return;\n        }\n\n        // If there's an operator that will be executed, return the selection.\n        if (prevInputState.operator) {\n          return next;\n        }\n\n        // At this point, we know that there is no accompanying operator -- let's\n        // deal with visual mode in order to select an appropriate match.\n\n        var from = next[0];\n        // For whatever reason, when we use the \"to\" as returned by searchcursor.js directly,\n        // the resulting selection is extended by 1 char. Let's shrink it so that only the\n        // match is selected.\n        var to = Pos(next[1].line, next[1].ch - 1);\n\n        if (vim.visualMode) {\n          // If we were in visualLine or visualBlock mode, get out of it.\n          if (vim.visualLine || vim.visualBlock) {\n            vim.visualLine = false;\n            vim.visualBlock = false;\n            CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"visual\", subMode: \"\"});\n          }\n\n          // If we're currently in visual mode, we should extend the selection to include\n          // the search result.\n          var anchor = vim.sel.anchor;\n          if (anchor) {\n            if (state.isReversed()) {\n              if (motionArgs.forward) {\n                return [anchor, from];\n              }\n\n              return [anchor, to];\n            } else {\n              if (motionArgs.forward) {\n                return [anchor, to];\n              }\n\n              return [anchor, from];\n            }\n          }\n        } else {\n          // Let's turn visual mode on.\n          vim.visualMode = true;\n          vim.visualLine = false;\n          vim.visualBlock = false;\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"visual\", subMode: \"\"});\n        }\n\n        return prev ? [to, from] : [from, to];\n      },\n      goToMark: function(cm, _head, motionArgs, vim) {\n        var pos = getMarkPos(cm, vim, motionArgs.selectedCharacter);\n        if (pos) {\n          return motionArgs.linewise ? { line: pos.line, ch: findFirstNonWhiteSpaceCharacter(cm.getLine(pos.line)) } : pos;\n        }\n        return null;\n      },\n      moveToOtherHighlightedEnd: function(cm, _head, motionArgs, vim) {\n        if (vim.visualBlock && motionArgs.sameLine) {\n          var sel = vim.sel;\n          return [\n            clipCursorToContent(cm, Pos(sel.anchor.line, sel.head.ch)),\n            clipCursorToContent(cm, Pos(sel.head.line, sel.anchor.ch))\n          ];\n        } else {\n          return ([vim.sel.head, vim.sel.anchor]);\n        }\n      },\n      jumpToMark: function(cm, head, motionArgs, vim) {\n        var best = head;\n        for (var i = 0; i < motionArgs.repeat; i++) {\n          var cursor = best;\n          for (var key in vim.marks) {\n            if (!isLowerCase(key)) {\n              continue;\n            }\n            var mark = vim.marks[key].find();\n            var isWrongDirection = (motionArgs.forward) ?\n              cursorIsBefore(mark, cursor) : cursorIsBefore(cursor, mark);\n\n            if (isWrongDirection) {\n              continue;\n            }\n            if (motionArgs.linewise && (mark.line == cursor.line)) {\n              continue;\n            }\n\n            var equal = cursorEqual(cursor, best);\n            var between = (motionArgs.forward) ?\n              cursorIsBetween(cursor, mark, best) :\n              cursorIsBetween(best, mark, cursor);\n\n            if (equal || between) {\n              best = mark;\n            }\n          }\n        }\n\n        if (motionArgs.linewise) {\n          // Vim places the cursor on the first non-whitespace character of\n          // the line if there is one, else it places the cursor at the end\n          // of the line, regardless of whether a mark was found.\n          best = Pos(best.line, findFirstNonWhiteSpaceCharacter(cm.getLine(best.line)));\n        }\n        return best;\n      },\n      moveByCharacters: function(_cm, head, motionArgs) {\n        var cur = head;\n        var repeat = motionArgs.repeat;\n        var ch = motionArgs.forward ? cur.ch + repeat : cur.ch - repeat;\n        return Pos(cur.line, ch);\n      },\n      moveByLines: function(cm, head, motionArgs, vim) {\n        var cur = head;\n        var endCh = cur.ch;\n        // Depending what our last motion was, we may want to do different\n        // things. If our last motion was moving vertically, we want to\n        // preserve the HPos from our last horizontal move.  If our last motion\n        // was going to the end of a line, moving vertically we should go to\n        // the end of the line, etc.\n        switch (vim.lastMotion) {\n          case this.moveByLines:\n          case this.moveByDisplayLines:\n          case this.moveByScroll:\n          case this.moveToColumn:\n          case this.moveToEol:\n            endCh = vim.lastHPos;\n            break;\n          default:\n            vim.lastHPos = endCh;\n        }\n        var repeat = motionArgs.repeat+(motionArgs.repeatOffset||0);\n        var line = motionArgs.forward ? cur.line + repeat : cur.line - repeat;\n        var first = cm.firstLine();\n        var last = cm.lastLine();\n        var posV = cm.findPosV(cur, (motionArgs.forward ? repeat : -repeat), 'line', vim.lastHSPos);\n        var hasMarkedText = motionArgs.forward ? posV.line > line : posV.line < line;\n        if (hasMarkedText) {\n          line = posV.line;\n          endCh = posV.ch;\n        }\n        // Vim go to line begin or line end when cursor at first/last line and\n        // move to previous/next line is triggered.\n        if (line < first && cur.line == first){\n          return this.moveToStartOfLine(cm, head, motionArgs, vim);\n        } else if (line > last && cur.line == last){\n            return moveToEol(cm, head, motionArgs, vim, true);\n        }\n        if (motionArgs.toFirstChar){\n          endCh=findFirstNonWhiteSpaceCharacter(cm.getLine(line));\n          vim.lastHPos = endCh;\n        }\n        vim.lastHSPos = cm.charCoords(Pos(line, endCh),'div').left;\n        return Pos(line, endCh);\n      },\n      moveByDisplayLines: function(cm, head, motionArgs, vim) {\n        var cur = head;\n        switch (vim.lastMotion) {\n          case this.moveByDisplayLines:\n          case this.moveByScroll:\n          case this.moveByLines:\n          case this.moveToColumn:\n          case this.moveToEol:\n            break;\n          default:\n            vim.lastHSPos = cm.charCoords(cur,'div').left;\n        }\n        var repeat = motionArgs.repeat;\n        var res=cm.findPosV(cur,(motionArgs.forward ? repeat : -repeat),'line',vim.lastHSPos);\n        if (res.hitSide) {\n          if (motionArgs.forward) {\n            var lastCharCoords = cm.charCoords(res, 'div');\n            var goalCoords = { top: lastCharCoords.top + 8, left: vim.lastHSPos };\n            var res = cm.coordsChar(goalCoords, 'div');\n          } else {\n            var resCoords = cm.charCoords(Pos(cm.firstLine(), 0), 'div');\n            resCoords.left = vim.lastHSPos;\n            res = cm.coordsChar(resCoords, 'div');\n          }\n        }\n        vim.lastHPos = res.ch;\n        return res;\n      },\n      moveByPage: function(cm, head, motionArgs) {\n        // CodeMirror only exposes functions that move the cursor page down, so\n        // doing this bad hack to move the cursor and move it back. evalInput\n        // will move the cursor to where it should be in the end.\n        var curStart = head;\n        var repeat = motionArgs.repeat;\n        return cm.findPosV(curStart, (motionArgs.forward ? repeat : -repeat), 'page');\n      },\n      moveByParagraph: function(cm, head, motionArgs) {\n        var dir = motionArgs.forward ? 1 : -1;\n        return findParagraph(cm, head, motionArgs.repeat, dir);\n      },\n      moveBySentence: function(cm, head, motionArgs) {\n        var dir = motionArgs.forward ? 1 : -1;\n        return findSentence(cm, head, motionArgs.repeat, dir);\n      },\n      moveByScroll: function(cm, head, motionArgs, vim) {\n        var scrollbox = cm.getScrollInfo();\n        var curEnd = null;\n        var repeat = motionArgs.repeat;\n        if (!repeat) {\n          repeat = scrollbox.clientHeight / (2 * cm.defaultTextHeight());\n        }\n        var orig = cm.charCoords(head, 'local');\n        motionArgs.repeat = repeat;\n        var curEnd = motions.moveByDisplayLines(cm, head, motionArgs, vim);\n        if (!curEnd) {\n          return null;\n        }\n        var dest = cm.charCoords(curEnd, 'local');\n        cm.scrollTo(null, scrollbox.top + dest.top - orig.top);\n        return curEnd;\n      },\n      moveByWords: function(cm, head, motionArgs) {\n        return moveToWord(cm, head, motionArgs.repeat, !!motionArgs.forward,\n            !!motionArgs.wordEnd, !!motionArgs.bigWord);\n      },\n      moveTillCharacter: function(cm, _head, motionArgs) {\n        var repeat = motionArgs.repeat;\n        var curEnd = moveToCharacter(cm, repeat, motionArgs.forward,\n            motionArgs.selectedCharacter);\n        var increment = motionArgs.forward ? -1 : 1;\n        recordLastCharacterSearch(increment, motionArgs);\n        if (!curEnd) return null;\n        curEnd.ch += increment;\n        return curEnd;\n      },\n      moveToCharacter: function(cm, head, motionArgs) {\n        var repeat = motionArgs.repeat;\n        recordLastCharacterSearch(0, motionArgs);\n        return moveToCharacter(cm, repeat, motionArgs.forward,\n            motionArgs.selectedCharacter) || head;\n      },\n      moveToSymbol: function(cm, head, motionArgs) {\n        var repeat = motionArgs.repeat;\n        return findSymbol(cm, repeat, motionArgs.forward,\n            motionArgs.selectedCharacter) || head;\n      },\n      moveToColumn: function(cm, head, motionArgs, vim) {\n        var repeat = motionArgs.repeat;\n        // repeat is equivalent to which column we want to move to!\n        vim.lastHPos = repeat - 1;\n        vim.lastHSPos = cm.charCoords(head,'div').left;\n        return moveToColumn(cm, repeat);\n      },\n      moveToEol: function(cm, head, motionArgs, vim) {\n        return moveToEol(cm, head, motionArgs, vim, false);\n      },\n      moveToFirstNonWhiteSpaceCharacter: function(cm, head) {\n        // Go to the start of the line where the text begins, or the end for\n        // whitespace-only lines\n        var cursor = head;\n        return Pos(cursor.line,\n                   findFirstNonWhiteSpaceCharacter(cm.getLine(cursor.line)));\n      },\n      moveToMatchedSymbol: function(cm, head) {\n        var cursor = head;\n        var line = cursor.line;\n        var ch = cursor.ch;\n        var lineText = cm.getLine(line);\n        var symbol;\n        for (; ch < lineText.length; ch++) {\n          symbol = lineText.charAt(ch);\n          if (symbol && isMatchableSymbol(symbol)) {\n            var style = cm.getTokenTypeAt(Pos(line, ch + 1));\n            if (style !== \"string\" && style !== \"comment\") {\n              break;\n            }\n          }\n        }\n        if (ch < lineText.length) {\n          // Only include angle brackets in analysis if they are being matched.\n          var re = (ch === '<' || ch === '>') ? /[(){}[\\]<>]/ : /[(){}[\\]]/;\n          var matched = cm.findMatchingBracket(Pos(line, ch), {bracketRegex: re});\n          return matched.to;\n        } else {\n          return cursor;\n        }\n      },\n      moveToStartOfLine: function(_cm, head) {\n        return Pos(head.line, 0);\n      },\n      moveToLineOrEdgeOfDocument: function(cm, _head, motionArgs) {\n        var lineNum = motionArgs.forward ? cm.lastLine() : cm.firstLine();\n        if (motionArgs.repeatIsExplicit) {\n          lineNum = motionArgs.repeat - cm.getOption('firstLineNumber');\n        }\n        return Pos(lineNum,\n                   findFirstNonWhiteSpaceCharacter(cm.getLine(lineNum)));\n      },\n      textObjectManipulation: function(cm, head, motionArgs, vim) {\n        // TODO: lots of possible exceptions that can be thrown here. Try da(\n        //     outside of a () block.\n        var mirroredPairs = {'(': ')', ')': '(',\n                             '{': '}', '}': '{',\n                             '[': ']', ']': '[',\n                             '<': '>', '>': '<'};\n        var selfPaired = {'\\'': true, '\"': true, '`': true};\n\n        var character = motionArgs.selectedCharacter;\n        // 'b' refers to  '()' block.\n        // 'B' refers to  '{}' block.\n        if (character == 'b') {\n          character = '(';\n        } else if (character == 'B') {\n          character = '{';\n        }\n\n        // Inclusive is the difference between a and i\n        // TODO: Instead of using the additional text object map to perform text\n        //     object operations, merge the map into the defaultKeyMap and use\n        //     motionArgs to define behavior. Define separate entries for 'aw',\n        //     'iw', 'a[', 'i[', etc.\n        var inclusive = !motionArgs.textObjectInner;\n\n        var tmp;\n        if (mirroredPairs[character]) {\n          tmp = selectCompanionObject(cm, head, character, inclusive);\n        } else if (selfPaired[character]) {\n          tmp = findBeginningAndEnd(cm, head, character, inclusive);\n        } else if (character === 'W') {\n          tmp = expandWordUnderCursor(cm, inclusive, true /** forward */,\n                                                     true /** bigWord */);\n        } else if (character === 'w') {\n          tmp = expandWordUnderCursor(cm, inclusive, true /** forward */,\n                                                     false /** bigWord */);\n        } else if (character === 'p') {\n          tmp = findParagraph(cm, head, motionArgs.repeat, 0, inclusive);\n          motionArgs.linewise = true;\n          if (vim.visualMode) {\n            if (!vim.visualLine) { vim.visualLine = true; }\n          } else {\n            var operatorArgs = vim.inputState.operatorArgs;\n            if (operatorArgs) { operatorArgs.linewise = true; }\n            tmp.end.line--;\n          }\n        } else if (character === 't') {\n          tmp = expandTagUnderCursor(cm, head, inclusive);\n        } else {\n          // No text object defined for this, don't move.\n          return null;\n        }\n\n        if (!cm.state.vim.visualMode) {\n          return [tmp.start, tmp.end];\n        } else {\n          return expandSelection(cm, tmp.start, tmp.end);\n        }\n      },\n\n      repeatLastCharacterSearch: function(cm, head, motionArgs) {\n        var lastSearch = vimGlobalState.lastCharacterSearch;\n        var repeat = motionArgs.repeat;\n        var forward = motionArgs.forward === lastSearch.forward;\n        var increment = (lastSearch.increment ? 1 : 0) * (forward ? -1 : 1);\n        cm.moveH(-increment, 'char');\n        motionArgs.inclusive = forward ? true : false;\n        var curEnd = moveToCharacter(cm, repeat, forward, lastSearch.selectedCharacter);\n        if (!curEnd) {\n          cm.moveH(increment, 'char');\n          return head;\n        }\n        curEnd.ch += increment;\n        return curEnd;\n      }\n    };\n\n    function defineMotion(name, fn) {\n      motions[name] = fn;\n    }\n\n    function fillArray(val, times) {\n      var arr = [];\n      for (var i = 0; i < times; i++) {\n        arr.push(val);\n      }\n      return arr;\n    }\n    /**\n     * An operator acts on a text selection. It receives the list of selections\n     * as input. The corresponding CodeMirror selection is guaranteed to\n    * match the input selection.\n     */\n    var operators = {\n      change: function(cm, args, ranges) {\n        var finalHead, text;\n        var vim = cm.state.vim;\n        var anchor = ranges[0].anchor,\n            head = ranges[0].head;\n        if (!vim.visualMode) {\n          text = cm.getRange(anchor, head);\n          var lastState = vim.lastEditInputState || {};\n          if (lastState.motion == \"moveByWords\" && !isWhiteSpaceString(text)) {\n            // Exclude trailing whitespace if the range is not all whitespace.\n            var match = (/\\s+$/).exec(text);\n            if (match && lastState.motionArgs && lastState.motionArgs.forward) {\n              head = offsetCursor(head, 0, - match[0].length);\n              text = text.slice(0, - match[0].length);\n            }\n          }\n          var prevLineEnd = new Pos(anchor.line - 1, Number.MAX_VALUE);\n          var wasLastLine = cm.firstLine() == cm.lastLine();\n          if (head.line > cm.lastLine() && args.linewise && !wasLastLine) {\n            cm.replaceRange('', prevLineEnd, head);\n          } else {\n            cm.replaceRange('', anchor, head);\n          }\n          if (args.linewise) {\n            // Push the next line back down, if there is a next line.\n            if (!wasLastLine) {\n              cm.setCursor(prevLineEnd);\n              CodeMirror.commands.newlineAndIndent(cm);\n            }\n            // make sure cursor ends up at the end of the line.\n            anchor.ch = Number.MAX_VALUE;\n          }\n          finalHead = anchor;\n        } else if (args.fullLine) {\n            head.ch = Number.MAX_VALUE;\n            head.line--;\n            cm.setSelection(anchor, head)\n            text = cm.getSelection();\n            cm.replaceSelection(\"\");\n            finalHead = anchor;\n        } else {\n          text = cm.getSelection();\n          var replacement = fillArray('', ranges.length);\n          cm.replaceSelections(replacement);\n          finalHead = cursorMin(ranges[0].head, ranges[0].anchor);\n        }\n        vimGlobalState.registerController.pushText(\n            args.registerName, 'change', text,\n            args.linewise, ranges.length > 1);\n        actions.enterInsertMode(cm, {head: finalHead}, cm.state.vim);\n      },\n      // delete is a javascript keyword.\n      'delete': function(cm, args, ranges) {\n        var finalHead, text;\n        var vim = cm.state.vim;\n        if (!vim.visualBlock) {\n          var anchor = ranges[0].anchor,\n              head = ranges[0].head;\n          if (args.linewise &&\n              head.line != cm.firstLine() &&\n              anchor.line == cm.lastLine() &&\n              anchor.line == head.line - 1) {\n            // Special case for dd on last line (and first line).\n            if (anchor.line == cm.firstLine()) {\n              anchor.ch = 0;\n            } else {\n              anchor = Pos(anchor.line - 1, lineLength(cm, anchor.line - 1));\n            }\n          }\n          text = cm.getRange(anchor, head);\n          cm.replaceRange('', anchor, head);\n          finalHead = anchor;\n          if (args.linewise) {\n            finalHead = motions.moveToFirstNonWhiteSpaceCharacter(cm, anchor);\n          }\n        } else {\n          text = cm.getSelection();\n          var replacement = fillArray('', ranges.length);\n          cm.replaceSelections(replacement);\n          finalHead = ranges[0].anchor;\n        }\n        vimGlobalState.registerController.pushText(\n            args.registerName, 'delete', text,\n            args.linewise, vim.visualBlock);\n        return clipCursorToContent(cm, finalHead);\n      },\n      indent: function(cm, args, ranges) {\n        var vim = cm.state.vim;\n        var startLine = ranges[0].anchor.line;\n        var endLine = vim.visualBlock ?\n          ranges[ranges.length - 1].anchor.line :\n          ranges[0].head.line;\n        // In visual mode, n> shifts the selection right n times, instead of\n        // shifting n lines right once.\n        var repeat = (vim.visualMode) ? args.repeat : 1;\n        if (args.linewise) {\n          // The only way to delete a newline is to delete until the start of\n          // the next line, so in linewise mode evalInput will include the next\n          // line. We don't want this in indent, so we go back a line.\n          endLine--;\n        }\n        for (var i = startLine; i <= endLine; i++) {\n          for (var j = 0; j < repeat; j++) {\n            cm.indentLine(i, args.indentRight);\n          }\n        }\n        return motions.moveToFirstNonWhiteSpaceCharacter(cm, ranges[0].anchor);\n      },\n      indentAuto: function(cm, _args, ranges) {\n        cm.execCommand(\"indentAuto\");\n        return motions.moveToFirstNonWhiteSpaceCharacter(cm, ranges[0].anchor);\n      },\n      changeCase: function(cm, args, ranges, oldAnchor, newHead) {\n        var selections = cm.getSelections();\n        var swapped = [];\n        var toLower = args.toLower;\n        for (var j = 0; j < selections.length; j++) {\n          var toSwap = selections[j];\n          var text = '';\n          if (toLower === true) {\n            text = toSwap.toLowerCase();\n          } else if (toLower === false) {\n            text = toSwap.toUpperCase();\n          } else {\n            for (var i = 0; i < toSwap.length; i++) {\n              var character = toSwap.charAt(i);\n              text += isUpperCase(character) ? character.toLowerCase() :\n                  character.toUpperCase();\n            }\n          }\n          swapped.push(text);\n        }\n        cm.replaceSelections(swapped);\n        if (args.shouldMoveCursor){\n          return newHead;\n        } else if (!cm.state.vim.visualMode && args.linewise && ranges[0].anchor.line + 1 == ranges[0].head.line) {\n          return motions.moveToFirstNonWhiteSpaceCharacter(cm, oldAnchor);\n        } else if (args.linewise){\n          return oldAnchor;\n        } else {\n          return cursorMin(ranges[0].anchor, ranges[0].head);\n        }\n      },\n      yank: function(cm, args, ranges, oldAnchor) {\n        var vim = cm.state.vim;\n        var text = cm.getSelection();\n        var endPos = vim.visualMode\n          ? cursorMin(vim.sel.anchor, vim.sel.head, ranges[0].head, ranges[0].anchor)\n          : oldAnchor;\n        vimGlobalState.registerController.pushText(\n            args.registerName, 'yank',\n            text, args.linewise, vim.visualBlock);\n        return endPos;\n      }\n    };\n\n    function defineOperator(name, fn) {\n      operators[name] = fn;\n    }\n\n    var actions = {\n      jumpListWalk: function(cm, actionArgs, vim) {\n        if (vim.visualMode) {\n          return;\n        }\n        var repeat = actionArgs.repeat;\n        var forward = actionArgs.forward;\n        var jumpList = vimGlobalState.jumpList;\n\n        var mark = jumpList.move(cm, forward ? repeat : -repeat);\n        var markPos = mark ? mark.find() : undefined;\n        markPos = markPos ? markPos : cm.getCursor();\n        cm.setCursor(markPos);\n      },\n      scroll: function(cm, actionArgs, vim) {\n        if (vim.visualMode) {\n          return;\n        }\n        var repeat = actionArgs.repeat || 1;\n        var lineHeight = cm.defaultTextHeight();\n        var top = cm.getScrollInfo().top;\n        var delta = lineHeight * repeat;\n        var newPos = actionArgs.forward ? top + delta : top - delta;\n        var cursor = copyCursor(cm.getCursor());\n        var cursorCoords = cm.charCoords(cursor, 'local');\n        if (actionArgs.forward) {\n          if (newPos > cursorCoords.top) {\n             cursor.line += (newPos - cursorCoords.top) / lineHeight;\n             cursor.line = Math.ceil(cursor.line);\n             cm.setCursor(cursor);\n             cursorCoords = cm.charCoords(cursor, 'local');\n             cm.scrollTo(null, cursorCoords.top);\n          } else {\n             // Cursor stays within bounds.  Just reposition the scroll window.\n             cm.scrollTo(null, newPos);\n          }\n        } else {\n          var newBottom = newPos + cm.getScrollInfo().clientHeight;\n          if (newBottom < cursorCoords.bottom) {\n             cursor.line -= (cursorCoords.bottom - newBottom) / lineHeight;\n             cursor.line = Math.floor(cursor.line);\n             cm.setCursor(cursor);\n             cursorCoords = cm.charCoords(cursor, 'local');\n             cm.scrollTo(\n                 null, cursorCoords.bottom - cm.getScrollInfo().clientHeight);\n          } else {\n             // Cursor stays within bounds.  Just reposition the scroll window.\n             cm.scrollTo(null, newPos);\n          }\n        }\n      },\n      scrollToCursor: function(cm, actionArgs) {\n        var lineNum = cm.getCursor().line;\n        var charCoords = cm.charCoords(Pos(lineNum, 0), 'local');\n        var height = cm.getScrollInfo().clientHeight;\n        var y = charCoords.top;\n        var lineHeight = charCoords.bottom - y;\n        switch (actionArgs.position) {\n          case 'center': y = y - (height / 2) + lineHeight;\n            break;\n          case 'bottom': y = y - height + lineHeight;\n            break;\n        }\n        cm.scrollTo(null, y);\n      },\n      replayMacro: function(cm, actionArgs, vim) {\n        var registerName = actionArgs.selectedCharacter;\n        var repeat = actionArgs.repeat;\n        var macroModeState = vimGlobalState.macroModeState;\n        if (registerName == '@') {\n          registerName = macroModeState.latestRegister;\n        } else {\n          macroModeState.latestRegister = registerName;\n        }\n        while(repeat--){\n          executeMacroRegister(cm, vim, macroModeState, registerName);\n        }\n      },\n      enterMacroRecordMode: function(cm, actionArgs) {\n        var macroModeState = vimGlobalState.macroModeState;\n        var registerName = actionArgs.selectedCharacter;\n        if (vimGlobalState.registerController.isValidRegister(registerName)) {\n          macroModeState.enterMacroRecordMode(cm, registerName);\n        }\n      },\n      toggleOverwrite: function(cm) {\n        if (!cm.state.overwrite) {\n          cm.toggleOverwrite(true);\n          cm.setOption('keyMap', 'vim-replace');\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"replace\"});\n        } else {\n          cm.toggleOverwrite(false);\n          cm.setOption('keyMap', 'vim-insert');\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"insert\"});\n        }\n      },\n      enterInsertMode: function(cm, actionArgs, vim) {\n        if (cm.getOption('readOnly')) { return; }\n        vim.insertMode = true;\n        vim.insertModeRepeat = actionArgs && actionArgs.repeat || 1;\n        var insertAt = (actionArgs) ? actionArgs.insertAt : null;\n        var sel = vim.sel;\n        var head = actionArgs.head || cm.getCursor('head');\n        var height = cm.listSelections().length;\n        if (insertAt == 'eol') {\n          head = Pos(head.line, lineLength(cm, head.line));\n        } else if (insertAt == 'bol') {\n          head = Pos(head.line, 0);\n        } else if (insertAt == 'charAfter') {\n          head = offsetCursor(head, 0, 1);\n        } else if (insertAt == 'firstNonBlank') {\n          head = motions.moveToFirstNonWhiteSpaceCharacter(cm, head);\n        } else if (insertAt == 'startOfSelectedArea') {\n          if (!vim.visualMode)\n              return;\n          if (!vim.visualBlock) {\n            if (sel.head.line < sel.anchor.line) {\n              head = sel.head;\n            } else {\n              head = Pos(sel.anchor.line, 0);\n            }\n          } else {\n            head = Pos(\n                Math.min(sel.head.line, sel.anchor.line),\n                Math.min(sel.head.ch, sel.anchor.ch));\n            height = Math.abs(sel.head.line - sel.anchor.line) + 1;\n          }\n        } else if (insertAt == 'endOfSelectedArea') {\n            if (!vim.visualMode)\n              return;\n          if (!vim.visualBlock) {\n            if (sel.head.line >= sel.anchor.line) {\n              head = offsetCursor(sel.head, 0, 1);\n            } else {\n              head = Pos(sel.anchor.line, 0);\n            }\n          } else {\n            head = Pos(\n                Math.min(sel.head.line, sel.anchor.line),\n                Math.max(sel.head.ch + 1, sel.anchor.ch));\n            height = Math.abs(sel.head.line - sel.anchor.line) + 1;\n          }\n        } else if (insertAt == 'inplace') {\n          if (vim.visualMode){\n            return;\n          }\n        } else if (insertAt == 'lastEdit') {\n          head = getLastEditPos(cm) || head;\n        }\n        cm.setOption('disableInput', false);\n        if (actionArgs && actionArgs.replace) {\n          // Handle Replace-mode as a special case of insert mode.\n          cm.toggleOverwrite(true);\n          cm.setOption('keyMap', 'vim-replace');\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"replace\"});\n        } else {\n          cm.toggleOverwrite(false);\n          cm.setOption('keyMap', 'vim-insert');\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"insert\"});\n        }\n        if (!vimGlobalState.macroModeState.isPlaying) {\n          // Only record if not replaying.\n          cm.on('change', onChange);\n          CodeMirror.on(cm.getInputField(), 'keydown', onKeyEventTargetKeyDown);\n        }\n        if (vim.visualMode) {\n          exitVisualMode(cm);\n        }\n        selectForInsert(cm, head, height);\n      },\n      toggleVisualMode: function(cm, actionArgs, vim) {\n        var repeat = actionArgs.repeat;\n        var anchor = cm.getCursor();\n        var head;\n        // TODO: The repeat should actually select number of characters/lines\n        //     equal to the repeat times the size of the previous visual\n        //     operation.\n        if (!vim.visualMode) {\n          // Entering visual mode\n          vim.visualMode = true;\n          vim.visualLine = !!actionArgs.linewise;\n          vim.visualBlock = !!actionArgs.blockwise;\n          head = clipCursorToContent(\n              cm, Pos(anchor.line, anchor.ch + repeat - 1));\n          vim.sel = {\n            anchor: anchor,\n            head: head\n          };\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"visual\", subMode: vim.visualLine ? \"linewise\" : vim.visualBlock ? \"blockwise\" : \"\"});\n          updateCmSelection(cm);\n          updateMark(cm, vim, '<', cursorMin(anchor, head));\n          updateMark(cm, vim, '>', cursorMax(anchor, head));\n        } else if (vim.visualLine ^ actionArgs.linewise ||\n            vim.visualBlock ^ actionArgs.blockwise) {\n          // Toggling between modes\n          vim.visualLine = !!actionArgs.linewise;\n          vim.visualBlock = !!actionArgs.blockwise;\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"visual\", subMode: vim.visualLine ? \"linewise\" : vim.visualBlock ? \"blockwise\" : \"\"});\n          updateCmSelection(cm);\n        } else {\n          exitVisualMode(cm);\n        }\n      },\n      reselectLastSelection: function(cm, _actionArgs, vim) {\n        var lastSelection = vim.lastSelection;\n        if (vim.visualMode) {\n          updateLastSelection(cm, vim);\n        }\n        if (lastSelection) {\n          var anchor = lastSelection.anchorMark.find();\n          var head = lastSelection.headMark.find();\n          if (!anchor || !head) {\n            // If the marks have been destroyed due to edits, do nothing.\n            return;\n          }\n          vim.sel = {\n            anchor: anchor,\n            head: head\n          };\n          vim.visualMode = true;\n          vim.visualLine = lastSelection.visualLine;\n          vim.visualBlock = lastSelection.visualBlock;\n          updateCmSelection(cm);\n          updateMark(cm, vim, '<', cursorMin(anchor, head));\n          updateMark(cm, vim, '>', cursorMax(anchor, head));\n          CodeMirror.signal(cm, 'vim-mode-change', {\n            mode: 'visual',\n            subMode: vim.visualLine ? 'linewise' :\n                     vim.visualBlock ? 'blockwise' : ''});\n        }\n      },\n      joinLines: function(cm, actionArgs, vim) {\n        var curStart, curEnd;\n        if (vim.visualMode) {\n          curStart = cm.getCursor('anchor');\n          curEnd = cm.getCursor('head');\n          if (cursorIsBefore(curEnd, curStart)) {\n            var tmp = curEnd;\n            curEnd = curStart;\n            curStart = tmp;\n          }\n          curEnd.ch = lineLength(cm, curEnd.line) - 1;\n        } else {\n          // Repeat is the number of lines to join. Minimum 2 lines.\n          var repeat = Math.max(actionArgs.repeat, 2);\n          curStart = cm.getCursor();\n          curEnd = clipCursorToContent(cm, Pos(curStart.line + repeat - 1,\n                                               Infinity));\n        }\n        var finalCh = 0;\n        for (var i = curStart.line; i < curEnd.line; i++) {\n          finalCh = lineLength(cm, curStart.line);\n          var tmp = Pos(curStart.line + 1,\n                        lineLength(cm, curStart.line + 1));\n          var text = cm.getRange(curStart, tmp);\n          text = actionArgs.keepSpaces\n            ? text.replace(/\\n\\r?/g, '')\n            : text.replace(/\\n\\s*/g, ' ');\n          cm.replaceRange(text, curStart, tmp);\n        }\n        var curFinalPos = Pos(curStart.line, finalCh);\n        if (vim.visualMode) {\n          exitVisualMode(cm, false);\n        }\n        cm.setCursor(curFinalPos);\n      },\n      newLineAndEnterInsertMode: function(cm, actionArgs, vim) {\n        vim.insertMode = true;\n        var insertAt = copyCursor(cm.getCursor());\n        if (insertAt.line === cm.firstLine() && !actionArgs.after) {\n          // Special case for inserting newline before start of document.\n          cm.replaceRange('\\n', Pos(cm.firstLine(), 0));\n          cm.setCursor(cm.firstLine(), 0);\n        } else {\n          insertAt.line = (actionArgs.after) ? insertAt.line :\n              insertAt.line - 1;\n          insertAt.ch = lineLength(cm, insertAt.line);\n          cm.setCursor(insertAt);\n          var newlineFn = CodeMirror.commands.newlineAndIndentContinueComment ||\n              CodeMirror.commands.newlineAndIndent;\n          newlineFn(cm);\n        }\n        this.enterInsertMode(cm, { repeat: actionArgs.repeat }, vim);\n      },\n      paste: function(cm, actionArgs, vim) {\n        var cur = copyCursor(cm.getCursor());\n        var register = vimGlobalState.registerController.getRegister(\n            actionArgs.registerName);\n        var text = register.toString();\n        if (!text) {\n          return;\n        }\n        if (actionArgs.matchIndent) {\n          var tabSize = cm.getOption(\"tabSize\");\n          // length that considers tabs and tabSize\n          var whitespaceLength = function(str) {\n            var tabs = (str.split(\"\\t\").length - 1);\n            var spaces = (str.split(\" \").length - 1);\n            return tabs * tabSize + spaces * 1;\n          };\n          var currentLine = cm.getLine(cm.getCursor().line);\n          var indent = whitespaceLength(currentLine.match(/^\\s*/)[0]);\n          // chomp last newline b/c don't want it to match /^\\s*/gm\n          var chompedText = text.replace(/\\n$/, '');\n          var wasChomped = text !== chompedText;\n          var firstIndent = whitespaceLength(text.match(/^\\s*/)[0]);\n          var text = chompedText.replace(/^\\s*/gm, function(wspace) {\n            var newIndent = indent + (whitespaceLength(wspace) - firstIndent);\n            if (newIndent < 0) {\n              return \"\";\n            }\n            else if (cm.getOption(\"indentWithTabs\")) {\n              var quotient = Math.floor(newIndent / tabSize);\n              return Array(quotient + 1).join('\\t');\n            }\n            else {\n              return Array(newIndent + 1).join(' ');\n            }\n          });\n          text += wasChomped ? \"\\n\" : \"\";\n        }\n        if (actionArgs.repeat > 1) {\n          var text = Array(actionArgs.repeat + 1).join(text);\n        }\n        var linewise = register.linewise;\n        var blockwise = register.blockwise;\n        if (blockwise) {\n          text = text.split('\\n');\n          if (linewise) {\n              text.pop();\n          }\n          for (var i = 0; i < text.length; i++) {\n            text[i] = (text[i] == '') ? ' ' : text[i];\n          }\n          cur.ch += actionArgs.after ? 1 : 0;\n          cur.ch = Math.min(lineLength(cm, cur.line), cur.ch);\n        } else if (linewise) {\n          if(vim.visualMode) {\n            text = vim.visualLine ? text.slice(0, -1) : '\\n' + text.slice(0, text.length - 1) + '\\n';\n          } else if (actionArgs.after) {\n            // Move the newline at the end to the start instead, and paste just\n            // before the newline character of the line we are on right now.\n            text = '\\n' + text.slice(0, text.length - 1);\n            cur.ch = lineLength(cm, cur.line);\n          } else {\n            cur.ch = 0;\n          }\n        } else {\n          cur.ch += actionArgs.after ? 1 : 0;\n        }\n        var curPosFinal;\n        var idx;\n        if (vim.visualMode) {\n          //  save the pasted text for reselection if the need arises\n          vim.lastPastedText = text;\n          var lastSelectionCurEnd;\n          var selectedArea = getSelectedAreaRange(cm, vim);\n          var selectionStart = selectedArea[0];\n          var selectionEnd = selectedArea[1];\n          var selectedText = cm.getSelection();\n          var selections = cm.listSelections();\n          var emptyStrings = new Array(selections.length).join('1').split('1');\n          // save the curEnd marker before it get cleared due to cm.replaceRange.\n          if (vim.lastSelection) {\n            lastSelectionCurEnd = vim.lastSelection.headMark.find();\n          }\n          // push the previously selected text to unnamed register\n          vimGlobalState.registerController.unnamedRegister.setText(selectedText);\n          if (blockwise) {\n            // first delete the selected text\n            cm.replaceSelections(emptyStrings);\n            // Set new selections as per the block length of the yanked text\n            selectionEnd = Pos(selectionStart.line + text.length-1, selectionStart.ch);\n            cm.setCursor(selectionStart);\n            selectBlock(cm, selectionEnd);\n            cm.replaceSelections(text);\n            curPosFinal = selectionStart;\n          } else if (vim.visualBlock) {\n            cm.replaceSelections(emptyStrings);\n            cm.setCursor(selectionStart);\n            cm.replaceRange(text, selectionStart, selectionStart);\n            curPosFinal = selectionStart;\n          } else {\n            cm.replaceRange(text, selectionStart, selectionEnd);\n            curPosFinal = cm.posFromIndex(cm.indexFromPos(selectionStart) + text.length - 1);\n          }\n          // restore the the curEnd marker\n          if(lastSelectionCurEnd) {\n            vim.lastSelection.headMark = cm.setBookmark(lastSelectionCurEnd);\n          }\n          if (linewise) {\n            curPosFinal.ch=0;\n          }\n        } else {\n          if (blockwise) {\n            cm.setCursor(cur);\n            for (var i = 0; i < text.length; i++) {\n              var line = cur.line+i;\n              if (line > cm.lastLine()) {\n                cm.replaceRange('\\n',  Pos(line, 0));\n              }\n              var lastCh = lineLength(cm, line);\n              if (lastCh < cur.ch) {\n                extendLineToColumn(cm, line, cur.ch);\n              }\n            }\n            cm.setCursor(cur);\n            selectBlock(cm, Pos(cur.line + text.length-1, cur.ch));\n            cm.replaceSelections(text);\n            curPosFinal = cur;\n          } else {\n            cm.replaceRange(text, cur);\n            // Now fine tune the cursor to where we want it.\n            if (linewise && actionArgs.after) {\n              curPosFinal = Pos(\n              cur.line + 1,\n              findFirstNonWhiteSpaceCharacter(cm.getLine(cur.line + 1)));\n            } else if (linewise && !actionArgs.after) {\n              curPosFinal = Pos(\n                cur.line,\n                findFirstNonWhiteSpaceCharacter(cm.getLine(cur.line)));\n            } else if (!linewise && actionArgs.after) {\n              idx = cm.indexFromPos(cur);\n              curPosFinal = cm.posFromIndex(idx + text.length - 1);\n            } else {\n              idx = cm.indexFromPos(cur);\n              curPosFinal = cm.posFromIndex(idx + text.length);\n            }\n          }\n        }\n        if (vim.visualMode) {\n          exitVisualMode(cm, false);\n        }\n        cm.setCursor(curPosFinal);\n      },\n      undo: function(cm, actionArgs) {\n        cm.operation(function() {\n          repeatFn(cm, CodeMirror.commands.undo, actionArgs.repeat)();\n          cm.setCursor(cm.getCursor('anchor'));\n        });\n      },\n      redo: function(cm, actionArgs) {\n        repeatFn(cm, CodeMirror.commands.redo, actionArgs.repeat)();\n      },\n      setRegister: function(_cm, actionArgs, vim) {\n        vim.inputState.registerName = actionArgs.selectedCharacter;\n      },\n      setMark: function(cm, actionArgs, vim) {\n        var markName = actionArgs.selectedCharacter;\n        updateMark(cm, vim, markName, cm.getCursor());\n      },\n      replace: function(cm, actionArgs, vim) {\n        var replaceWith = actionArgs.selectedCharacter;\n        var curStart = cm.getCursor();\n        var replaceTo;\n        var curEnd;\n        var selections = cm.listSelections();\n        if (vim.visualMode) {\n          curStart = cm.getCursor('start');\n          curEnd = cm.getCursor('end');\n        } else {\n          var line = cm.getLine(curStart.line);\n          replaceTo = curStart.ch + actionArgs.repeat;\n          if (replaceTo > line.length) {\n            replaceTo=line.length;\n          }\n          curEnd = Pos(curStart.line, replaceTo);\n        }\n        if (replaceWith=='\\n') {\n          if (!vim.visualMode) cm.replaceRange('', curStart, curEnd);\n          // special case, where vim help says to replace by just one line-break\n          (CodeMirror.commands.newlineAndIndentContinueComment || CodeMirror.commands.newlineAndIndent)(cm);\n        } else {\n          var replaceWithStr = cm.getRange(curStart, curEnd);\n          //replace all characters in range by selected, but keep linebreaks\n          replaceWithStr = replaceWithStr.replace(/[^\\n]/g, replaceWith);\n          if (vim.visualBlock) {\n            // Tabs are split in visua block before replacing\n            var spaces = new Array(cm.getOption(\"tabSize\")+1).join(' ');\n            replaceWithStr = cm.getSelection();\n            replaceWithStr = replaceWithStr.replace(/\\t/g, spaces).replace(/[^\\n]/g, replaceWith).split('\\n');\n            cm.replaceSelections(replaceWithStr);\n          } else {\n            cm.replaceRange(replaceWithStr, curStart, curEnd);\n          }\n          if (vim.visualMode) {\n            curStart = cursorIsBefore(selections[0].anchor, selections[0].head) ?\n                         selections[0].anchor : selections[0].head;\n            cm.setCursor(curStart);\n            exitVisualMode(cm, false);\n          } else {\n            cm.setCursor(offsetCursor(curEnd, 0, -1));\n          }\n        }\n      },\n      incrementNumberToken: function(cm, actionArgs) {\n        var cur = cm.getCursor();\n        var lineStr = cm.getLine(cur.line);\n        var re = /(-?)(?:(0x)([\\da-f]+)|(0b|0|)(\\d+))/gi;\n        var match;\n        var start;\n        var end;\n        var numberStr;\n        while ((match = re.exec(lineStr)) !== null) {\n          start = match.index;\n          end = start + match[0].length;\n          if (cur.ch < end)break;\n        }\n        if (!actionArgs.backtrack && (end <= cur.ch))return;\n        if (match) {\n          var baseStr = match[2] || match[4]\n          var digits = match[3] || match[5]\n          var increment = actionArgs.increase ? 1 : -1;\n          var base = {'0b': 2, '0': 8, '': 10, '0x': 16}[baseStr.toLowerCase()];\n          var number = parseInt(match[1] + digits, base) + (increment * actionArgs.repeat);\n          numberStr = number.toString(base);\n          var zeroPadding = baseStr ? new Array(digits.length - numberStr.length + 1 + match[1].length).join('0') : ''\n          if (numberStr.charAt(0) === '-') {\n            numberStr = '-' + baseStr + zeroPadding + numberStr.substr(1);\n          } else {\n            numberStr = baseStr + zeroPadding + numberStr;\n          }\n          var from = Pos(cur.line, start);\n          var to = Pos(cur.line, end);\n          cm.replaceRange(numberStr, from, to);\n        } else {\n          return;\n        }\n        cm.setCursor(Pos(cur.line, start + numberStr.length - 1));\n      },\n      repeatLastEdit: function(cm, actionArgs, vim) {\n        var lastEditInputState = vim.lastEditInputState;\n        if (!lastEditInputState) { return; }\n        var repeat = actionArgs.repeat;\n        if (repeat && actionArgs.repeatIsExplicit) {\n          vim.lastEditInputState.repeatOverride = repeat;\n        } else {\n          repeat = vim.lastEditInputState.repeatOverride || repeat;\n        }\n        repeatLastEdit(cm, vim, repeat, false /** repeatForInsert */);\n      },\n      indent: function(cm, actionArgs) {\n        cm.indentLine(cm.getCursor().line, actionArgs.indentRight);\n      },\n      exitInsertMode: exitInsertMode\n    };\n\n    function defineAction(name, fn) {\n      actions[name] = fn;\n    }\n\n    /*\n     * Below are miscellaneous utility functions used by vim.js\n     */\n\n    /**\n     * Clips cursor to ensure that line is within the buffer's range\n     * If includeLineBreak is true, then allow cur.ch == lineLength.\n     */\n    function clipCursorToContent(cm, cur) {\n      var vim = cm.state.vim;\n      var includeLineBreak = vim.insertMode || vim.visualMode;\n      var line = Math.min(Math.max(cm.firstLine(), cur.line), cm.lastLine() );\n      var maxCh = lineLength(cm, line) - 1 + !!includeLineBreak;\n      var ch = Math.min(Math.max(0, cur.ch), maxCh);\n      return Pos(line, ch);\n    }\n    function copyArgs(args) {\n      var ret = {};\n      for (var prop in args) {\n        if (args.hasOwnProperty(prop)) {\n          ret[prop] = args[prop];\n        }\n      }\n      return ret;\n    }\n    function offsetCursor(cur, offsetLine, offsetCh) {\n      if (typeof offsetLine === 'object') {\n        offsetCh = offsetLine.ch;\n        offsetLine = offsetLine.line;\n      }\n      return Pos(cur.line + offsetLine, cur.ch + offsetCh);\n    }\n    function commandMatches(keys, keyMap, context, inputState) {\n      // Partial matches are not applied. They inform the key handler\n      // that the current key sequence is a subsequence of a valid key\n      // sequence, so that the key buffer is not cleared.\n      var match, partial = [], full = [];\n      for (var i = 0; i < keyMap.length; i++) {\n        var command = keyMap[i];\n        if (context == 'insert' && command.context != 'insert' ||\n            command.context && command.context != context ||\n            inputState.operator && command.type == 'action' ||\n            !(match = commandMatch(keys, command.keys))) { continue; }\n        if (match == 'partial') { partial.push(command); }\n        if (match == 'full') { full.push(command); }\n      }\n      return {\n        partial: partial.length && partial,\n        full: full.length && full\n      };\n    }\n    function commandMatch(pressed, mapped) {\n      if (mapped.slice(-11) == '<character>') {\n        // Last character matches anything.\n        var prefixLen = mapped.length - 11;\n        var pressedPrefix = pressed.slice(0, prefixLen);\n        var mappedPrefix = mapped.slice(0, prefixLen);\n        return pressedPrefix == mappedPrefix && pressed.length > prefixLen ? 'full' :\n               mappedPrefix.indexOf(pressedPrefix) == 0 ? 'partial' : false;\n      } else {\n        return pressed == mapped ? 'full' :\n               mapped.indexOf(pressed) == 0 ? 'partial' : false;\n      }\n    }\n    function lastChar(keys) {\n      var match = /^.*(<[^>]+>)$/.exec(keys);\n      var selectedCharacter = match ? match[1] : keys.slice(-1);\n      if (selectedCharacter.length > 1){\n        switch(selectedCharacter){\n          case '<CR>':\n            selectedCharacter='\\n';\n            break;\n          case '<Space>':\n            selectedCharacter=' ';\n            break;\n          default:\n            selectedCharacter='';\n            break;\n        }\n      }\n      return selectedCharacter;\n    }\n    function repeatFn(cm, fn, repeat) {\n      return function() {\n        for (var i = 0; i < repeat; i++) {\n          fn(cm);\n        }\n      };\n    }\n    function copyCursor(cur) {\n      return Pos(cur.line, cur.ch);\n    }\n    function cursorEqual(cur1, cur2) {\n      return cur1.ch == cur2.ch && cur1.line == cur2.line;\n    }\n    function cursorIsBefore(cur1, cur2) {\n      if (cur1.line < cur2.line) {\n        return true;\n      }\n      if (cur1.line == cur2.line && cur1.ch < cur2.ch) {\n        return true;\n      }\n      return false;\n    }\n    function cursorMin(cur1, cur2) {\n      if (arguments.length > 2) {\n        cur2 = cursorMin.apply(undefined, Array.prototype.slice.call(arguments, 1));\n      }\n      return cursorIsBefore(cur1, cur2) ? cur1 : cur2;\n    }\n    function cursorMax(cur1, cur2) {\n      if (arguments.length > 2) {\n        cur2 = cursorMax.apply(undefined, Array.prototype.slice.call(arguments, 1));\n      }\n      return cursorIsBefore(cur1, cur2) ? cur2 : cur1;\n    }\n    function cursorIsBetween(cur1, cur2, cur3) {\n      // returns true if cur2 is between cur1 and cur3.\n      var cur1before2 = cursorIsBefore(cur1, cur2);\n      var cur2before3 = cursorIsBefore(cur2, cur3);\n      return cur1before2 && cur2before3;\n    }\n    function lineLength(cm, lineNum) {\n      return cm.getLine(lineNum).length;\n    }\n    function trim(s) {\n      if (s.trim) {\n        return s.trim();\n      }\n      return s.replace(/^\\s+|\\s+$/g, '');\n    }\n    function escapeRegex(s) {\n      return s.replace(/([.?*+$\\[\\]\\/\\\\(){}|\\-])/g, '\\\\$1');\n    }\n    function extendLineToColumn(cm, lineNum, column) {\n      var endCh = lineLength(cm, lineNum);\n      var spaces = new Array(column-endCh+1).join(' ');\n      cm.setCursor(Pos(lineNum, endCh));\n      cm.replaceRange(spaces, cm.getCursor());\n    }\n    // This functions selects a rectangular block\n    // of text with selectionEnd as any of its corner\n    // Height of block:\n    // Difference in selectionEnd.line and first/last selection.line\n    // Width of the block:\n    // Distance between selectionEnd.ch and any(first considered here) selection.ch\n    function selectBlock(cm, selectionEnd) {\n      var selections = [], ranges = cm.listSelections();\n      var head = copyCursor(cm.clipPos(selectionEnd));\n      var isClipped = !cursorEqual(selectionEnd, head);\n      var curHead = cm.getCursor('head');\n      var primIndex = getIndex(ranges, curHead);\n      var wasClipped = cursorEqual(ranges[primIndex].head, ranges[primIndex].anchor);\n      var max = ranges.length - 1;\n      var index = max - primIndex > primIndex ? max : 0;\n      var base = ranges[index].anchor;\n\n      var firstLine = Math.min(base.line, head.line);\n      var lastLine = Math.max(base.line, head.line);\n      var baseCh = base.ch, headCh = head.ch;\n\n      var dir = ranges[index].head.ch - baseCh;\n      var newDir = headCh - baseCh;\n      if (dir > 0 && newDir <= 0) {\n        baseCh++;\n        if (!isClipped) { headCh--; }\n      } else if (dir < 0 && newDir >= 0) {\n        baseCh--;\n        if (!wasClipped) { headCh++; }\n      } else if (dir < 0 && newDir == -1) {\n        baseCh--;\n        headCh++;\n      }\n      for (var line = firstLine; line <= lastLine; line++) {\n        var range = {anchor: new Pos(line, baseCh), head: new Pos(line, headCh)};\n        selections.push(range);\n      }\n      cm.setSelections(selections);\n      selectionEnd.ch = headCh;\n      base.ch = baseCh;\n      return base;\n    }\n    function selectForInsert(cm, head, height) {\n      var sel = [];\n      for (var i = 0; i < height; i++) {\n        var lineHead = offsetCursor(head, i, 0);\n        sel.push({anchor: lineHead, head: lineHead});\n      }\n      cm.setSelections(sel, 0);\n    }\n    // getIndex returns the index of the cursor in the selections.\n    function getIndex(ranges, cursor, end) {\n      for (var i = 0; i < ranges.length; i++) {\n        var atAnchor = end != 'head' && cursorEqual(ranges[i].anchor, cursor);\n        var atHead = end != 'anchor' && cursorEqual(ranges[i].head, cursor);\n        if (atAnchor || atHead) {\n          return i;\n        }\n      }\n      return -1;\n    }\n    function getSelectedAreaRange(cm, vim) {\n      var lastSelection = vim.lastSelection;\n      var getCurrentSelectedAreaRange = function() {\n        var selections = cm.listSelections();\n        var start =  selections[0];\n        var end = selections[selections.length-1];\n        var selectionStart = cursorIsBefore(start.anchor, start.head) ? start.anchor : start.head;\n        var selectionEnd = cursorIsBefore(end.anchor, end.head) ? end.head : end.anchor;\n        return [selectionStart, selectionEnd];\n      };\n      var getLastSelectedAreaRange = function() {\n        var selectionStart = cm.getCursor();\n        var selectionEnd = cm.getCursor();\n        var block = lastSelection.visualBlock;\n        if (block) {\n          var width = block.width;\n          var height = block.height;\n          selectionEnd = Pos(selectionStart.line + height, selectionStart.ch + width);\n          var selections = [];\n          // selectBlock creates a 'proper' rectangular block.\n          // We do not want that in all cases, so we manually set selections.\n          for (var i = selectionStart.line; i < selectionEnd.line; i++) {\n            var anchor = Pos(i, selectionStart.ch);\n            var head = Pos(i, selectionEnd.ch);\n            var range = {anchor: anchor, head: head};\n            selections.push(range);\n          }\n          cm.setSelections(selections);\n        } else {\n          var start = lastSelection.anchorMark.find();\n          var end = lastSelection.headMark.find();\n          var line = end.line - start.line;\n          var ch = end.ch - start.ch;\n          selectionEnd = {line: selectionEnd.line + line, ch: line ? selectionEnd.ch : ch + selectionEnd.ch};\n          if (lastSelection.visualLine) {\n            selectionStart = Pos(selectionStart.line, 0);\n            selectionEnd = Pos(selectionEnd.line, lineLength(cm, selectionEnd.line));\n          }\n          cm.setSelection(selectionStart, selectionEnd);\n        }\n        return [selectionStart, selectionEnd];\n      };\n      if (!vim.visualMode) {\n      // In case of replaying the action.\n        return getLastSelectedAreaRange();\n      } else {\n        return getCurrentSelectedAreaRange();\n      }\n    }\n    // Updates the previous selection with the current selection's values. This\n    // should only be called in visual mode.\n    function updateLastSelection(cm, vim) {\n      var anchor = vim.sel.anchor;\n      var head = vim.sel.head;\n      // To accommodate the effect of lastPastedText in the last selection\n      if (vim.lastPastedText) {\n        head = cm.posFromIndex(cm.indexFromPos(anchor) + vim.lastPastedText.length);\n        vim.lastPastedText = null;\n      }\n      vim.lastSelection = {'anchorMark': cm.setBookmark(anchor),\n                           'headMark': cm.setBookmark(head),\n                           'anchor': copyCursor(anchor),\n                           'head': copyCursor(head),\n                           'visualMode': vim.visualMode,\n                           'visualLine': vim.visualLine,\n                           'visualBlock': vim.visualBlock};\n    }\n    function expandSelection(cm, start, end) {\n      var sel = cm.state.vim.sel;\n      var head = sel.head;\n      var anchor = sel.anchor;\n      var tmp;\n      if (cursorIsBefore(end, start)) {\n        tmp = end;\n        end = start;\n        start = tmp;\n      }\n      if (cursorIsBefore(head, anchor)) {\n        head = cursorMin(start, head);\n        anchor = cursorMax(anchor, end);\n      } else {\n        anchor = cursorMin(start, anchor);\n        head = cursorMax(head, end);\n        head = offsetCursor(head, 0, -1);\n        if (head.ch == -1 && head.line != cm.firstLine()) {\n          head = Pos(head.line - 1, lineLength(cm, head.line - 1));\n        }\n      }\n      return [anchor, head];\n    }\n    /**\n     * Updates the CodeMirror selection to match the provided vim selection.\n     * If no arguments are given, it uses the current vim selection state.\n     */\n    function updateCmSelection(cm, sel, mode) {\n      var vim = cm.state.vim;\n      sel = sel || vim.sel;\n      var mode = mode ||\n        vim.visualLine ? 'line' : vim.visualBlock ? 'block' : 'char';\n      var cmSel = makeCmSelection(cm, sel, mode);\n      cm.setSelections(cmSel.ranges, cmSel.primary);\n      updateFakeCursor(cm);\n    }\n    function makeCmSelection(cm, sel, mode, exclusive) {\n      var head = copyCursor(sel.head);\n      var anchor = copyCursor(sel.anchor);\n      if (mode == 'char') {\n        var headOffset = !exclusive && !cursorIsBefore(sel.head, sel.anchor) ? 1 : 0;\n        var anchorOffset = cursorIsBefore(sel.head, sel.anchor) ? 1 : 0;\n        head = offsetCursor(sel.head, 0, headOffset);\n        anchor = offsetCursor(sel.anchor, 0, anchorOffset);\n        return {\n          ranges: [{anchor: anchor, head: head}],\n          primary: 0\n        };\n      } else if (mode == 'line') {\n        if (!cursorIsBefore(sel.head, sel.anchor)) {\n          anchor.ch = 0;\n\n          var lastLine = cm.lastLine();\n          if (head.line > lastLine) {\n            head.line = lastLine;\n          }\n          head.ch = lineLength(cm, head.line);\n        } else {\n          head.ch = 0;\n          anchor.ch = lineLength(cm, anchor.line);\n        }\n        return {\n          ranges: [{anchor: anchor, head: head}],\n          primary: 0\n        };\n      } else if (mode == 'block') {\n        var top = Math.min(anchor.line, head.line),\n            left = Math.min(anchor.ch, head.ch),\n            bottom = Math.max(anchor.line, head.line),\n            right = Math.max(anchor.ch, head.ch) + 1;\n        var height = bottom - top + 1;\n        var primary = head.line == top ? 0 : height - 1;\n        var ranges = [];\n        for (var i = 0; i < height; i++) {\n          ranges.push({\n            anchor: Pos(top + i, left),\n            head: Pos(top + i, right)\n          });\n        }\n        return {\n          ranges: ranges,\n          primary: primary\n        };\n      }\n    }\n    function getHead(cm) {\n      var cur = cm.getCursor('head');\n      if (cm.getSelection().length == 1) {\n        // Small corner case when only 1 character is selected. The \"real\"\n        // head is the left of head and anchor.\n        cur = cursorMin(cur, cm.getCursor('anchor'));\n      }\n      return cur;\n    }\n\n    /**\n     * If moveHead is set to false, the CodeMirror selection will not be\n     * touched. The caller assumes the responsibility of putting the cursor\n    * in the right place.\n     */\n    function exitVisualMode(cm, moveHead) {\n      var vim = cm.state.vim;\n      if (moveHead !== false) {\n        cm.setCursor(clipCursorToContent(cm, vim.sel.head));\n      }\n      updateLastSelection(cm, vim);\n      vim.visualMode = false;\n      vim.visualLine = false;\n      vim.visualBlock = false;\n      if (!vim.insertMode) CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"normal\"});\n      clearFakeCursor(vim);\n    }\n\n    // Remove any trailing newlines from the selection. For\n    // example, with the caret at the start of the last word on the line,\n    // 'dw' should word, but not the newline, while 'w' should advance the\n    // caret to the first character of the next line.\n    function clipToLine(cm, curStart, curEnd) {\n      var selection = cm.getRange(curStart, curEnd);\n      // Only clip if the selection ends with trailing newline + whitespace\n      if (/\\n\\s*$/.test(selection)) {\n        var lines = selection.split('\\n');\n        // We know this is all whitespace.\n        lines.pop();\n\n        // Cases:\n        // 1. Last word is an empty line - do not clip the trailing '\\n'\n        // 2. Last word is not an empty line - clip the trailing '\\n'\n        var line;\n        // Find the line containing the last word, and clip all whitespace up\n        // to it.\n        for (var line = lines.pop(); lines.length > 0 && line && isWhiteSpaceString(line); line = lines.pop()) {\n          curEnd.line--;\n          curEnd.ch = 0;\n        }\n        // If the last word is not an empty line, clip an additional newline\n        if (line) {\n          curEnd.line--;\n          curEnd.ch = lineLength(cm, curEnd.line);\n        } else {\n          curEnd.ch = 0;\n        }\n      }\n    }\n\n    // Expand the selection to line ends.\n    function expandSelectionToLine(_cm, curStart, curEnd) {\n      curStart.ch = 0;\n      curEnd.ch = 0;\n      curEnd.line++;\n    }\n\n    function findFirstNonWhiteSpaceCharacter(text) {\n      if (!text) {\n        return 0;\n      }\n      var firstNonWS = text.search(/\\S/);\n      return firstNonWS == -1 ? text.length : firstNonWS;\n    }\n\n    function expandWordUnderCursor(cm, inclusive, _forward, bigWord, noSymbol) {\n      var cur = getHead(cm);\n      var line = cm.getLine(cur.line);\n      var idx = cur.ch;\n\n      // Seek to first word or non-whitespace character, depending on if\n      // noSymbol is true.\n      var test = noSymbol ? wordCharTest[0] : bigWordCharTest [0];\n      while (!test(line.charAt(idx))) {\n        idx++;\n        if (idx >= line.length) { return null; }\n      }\n\n      if (bigWord) {\n        test = bigWordCharTest[0];\n      } else {\n        test = wordCharTest[0];\n        if (!test(line.charAt(idx))) {\n          test = wordCharTest[1];\n        }\n      }\n\n      var end = idx, start = idx;\n      while (test(line.charAt(end)) && end < line.length) { end++; }\n      while (test(line.charAt(start)) && start >= 0) { start--; }\n      start++;\n\n      if (inclusive) {\n        // If present, include all whitespace after word.\n        // Otherwise, include all whitespace before word, except indentation.\n        var wordEnd = end;\n        while (/\\s/.test(line.charAt(end)) && end < line.length) { end++; }\n        if (wordEnd == end) {\n          var wordStart = start;\n          while (/\\s/.test(line.charAt(start - 1)) && start > 0) { start--; }\n          if (!start) { start = wordStart; }\n        }\n      }\n      return { start: Pos(cur.line, start), end: Pos(cur.line, end) };\n    }\n\n    /**\n     * Depends on the following:\n     *\n     * - editor mode should be htmlmixedmode / xml\n     * - mode/xml/xml.js should be loaded\n     * - addon/fold/xml-fold.js should be loaded\n     *\n     * If any of the above requirements are not true, this function noops.\n     *\n     * This is _NOT_ a 100% accurate implementation of vim tag text objects.\n     * The following caveats apply (based off cursory testing, I'm sure there\n     * are other discrepancies):\n     *\n     * - Does not work inside comments:\n     *   ```\n     *   <!-- <div>broken</div> -->\n     *   ```\n     * - Does not work when tags have different cases:\n     *   ```\n     *   <div>broken</DIV>\n     *   ```\n     * - Does not work when cursor is inside a broken tag:\n     *   ```\n     *   <div><brok><en></div>\n     *   ```\n     */\n    function expandTagUnderCursor(cm, head, inclusive) {\n      var cur = head;\n      if (!CodeMirror.findMatchingTag || !CodeMirror.findEnclosingTag) {\n        return { start: cur, end: cur };\n      }\n\n      var tags = CodeMirror.findMatchingTag(cm, head) || CodeMirror.findEnclosingTag(cm, head);\n      if (!tags || !tags.open || !tags.close) {\n        return { start: cur, end: cur };\n      }\n\n      if (inclusive) {\n        return { start: tags.open.from, end: tags.close.to };\n      }\n      return { start: tags.open.to, end: tags.close.from };\n    }\n\n    function recordJumpPosition(cm, oldCur, newCur) {\n      if (!cursorEqual(oldCur, newCur)) {\n        vimGlobalState.jumpList.add(cm, oldCur, newCur);\n      }\n    }\n\n    function recordLastCharacterSearch(increment, args) {\n        vimGlobalState.lastCharacterSearch.increment = increment;\n        vimGlobalState.lastCharacterSearch.forward = args.forward;\n        vimGlobalState.lastCharacterSearch.selectedCharacter = args.selectedCharacter;\n    }\n\n    var symbolToMode = {\n        '(': 'bracket', ')': 'bracket', '{': 'bracket', '}': 'bracket',\n        '[': 'section', ']': 'section',\n        '*': 'comment', '/': 'comment',\n        'm': 'method', 'M': 'method',\n        '#': 'preprocess'\n    };\n    var findSymbolModes = {\n      bracket: {\n        isComplete: function(state) {\n          if (state.nextCh === state.symb) {\n            state.depth++;\n            if (state.depth >= 1)return true;\n          } else if (state.nextCh === state.reverseSymb) {\n            state.depth--;\n          }\n          return false;\n        }\n      },\n      section: {\n        init: function(state) {\n          state.curMoveThrough = true;\n          state.symb = (state.forward ? ']' : '[') === state.symb ? '{' : '}';\n        },\n        isComplete: function(state) {\n          return state.index === 0 && state.nextCh === state.symb;\n        }\n      },\n      comment: {\n        isComplete: function(state) {\n          var found = state.lastCh === '*' && state.nextCh === '/';\n          state.lastCh = state.nextCh;\n          return found;\n        }\n      },\n      // TODO: The original Vim implementation only operates on level 1 and 2.\n      // The current implementation doesn't check for code block level and\n      // therefore it operates on any levels.\n      method: {\n        init: function(state) {\n          state.symb = (state.symb === 'm' ? '{' : '}');\n          state.reverseSymb = state.symb === '{' ? '}' : '{';\n        },\n        isComplete: function(state) {\n          if (state.nextCh === state.symb)return true;\n          return false;\n        }\n      },\n      preprocess: {\n        init: function(state) {\n          state.index = 0;\n        },\n        isComplete: function(state) {\n          if (state.nextCh === '#') {\n            var token = state.lineText.match(/^#(\\w+)/)[1];\n            if (token === 'endif') {\n              if (state.forward && state.depth === 0) {\n                return true;\n              }\n              state.depth++;\n            } else if (token === 'if') {\n              if (!state.forward && state.depth === 0) {\n                return true;\n              }\n              state.depth--;\n            }\n            if (token === 'else' && state.depth === 0)return true;\n          }\n          return false;\n        }\n      }\n    };\n    function findSymbol(cm, repeat, forward, symb) {\n      var cur = copyCursor(cm.getCursor());\n      var increment = forward ? 1 : -1;\n      var endLine = forward ? cm.lineCount() : -1;\n      var curCh = cur.ch;\n      var line = cur.line;\n      var lineText = cm.getLine(line);\n      var state = {\n        lineText: lineText,\n        nextCh: lineText.charAt(curCh),\n        lastCh: null,\n        index: curCh,\n        symb: symb,\n        reverseSymb: (forward ?  { ')': '(', '}': '{' } : { '(': ')', '{': '}' })[symb],\n        forward: forward,\n        depth: 0,\n        curMoveThrough: false\n      };\n      var mode = symbolToMode[symb];\n      if (!mode)return cur;\n      var init = findSymbolModes[mode].init;\n      var isComplete = findSymbolModes[mode].isComplete;\n      if (init) { init(state); }\n      while (line !== endLine && repeat) {\n        state.index += increment;\n        state.nextCh = state.lineText.charAt(state.index);\n        if (!state.nextCh) {\n          line += increment;\n          state.lineText = cm.getLine(line) || '';\n          if (increment > 0) {\n            state.index = 0;\n          } else {\n            var lineLen = state.lineText.length;\n            state.index = (lineLen > 0) ? (lineLen-1) : 0;\n          }\n          state.nextCh = state.lineText.charAt(state.index);\n        }\n        if (isComplete(state)) {\n          cur.line = line;\n          cur.ch = state.index;\n          repeat--;\n        }\n      }\n      if (state.nextCh || state.curMoveThrough) {\n        return Pos(line, state.index);\n      }\n      return cur;\n    }\n\n    /*\n     * Returns the boundaries of the next word. If the cursor in the middle of\n     * the word, then returns the boundaries of the current word, starting at\n     * the cursor. If the cursor is at the start/end of a word, and we are going\n     * forward/backward, respectively, find the boundaries of the next word.\n     *\n     * @param {CodeMirror} cm CodeMirror object.\n     * @param {Cursor} cur The cursor position.\n     * @param {boolean} forward True to search forward. False to search\n     *     backward.\n     * @param {boolean} bigWord True if punctuation count as part of the word.\n     *     False if only [a-zA-Z0-9] characters count as part of the word.\n     * @param {boolean} emptyLineIsWord True if empty lines should be treated\n     *     as words.\n     * @return {Object{from:number, to:number, line: number}} The boundaries of\n     *     the word, or null if there are no more words.\n     */\n    function findWord(cm, cur, forward, bigWord, emptyLineIsWord) {\n      var lineNum = cur.line;\n      var pos = cur.ch;\n      var line = cm.getLine(lineNum);\n      var dir = forward ? 1 : -1;\n      var charTests = bigWord ? bigWordCharTest: wordCharTest;\n\n      if (emptyLineIsWord && line == '') {\n        lineNum += dir;\n        line = cm.getLine(lineNum);\n        if (!isLine(cm, lineNum)) {\n          return null;\n        }\n        pos = (forward) ? 0 : line.length;\n      }\n\n      while (true) {\n        if (emptyLineIsWord && line == '') {\n          return { from: 0, to: 0, line: lineNum };\n        }\n        var stop = (dir > 0) ? line.length : -1;\n        var wordStart = stop, wordEnd = stop;\n        // Find bounds of next word.\n        while (pos != stop) {\n          var foundWord = false;\n          for (var i = 0; i < charTests.length && !foundWord; ++i) {\n            if (charTests[i](line.charAt(pos))) {\n              wordStart = pos;\n              // Advance to end of word.\n              while (pos != stop && charTests[i](line.charAt(pos))) {\n                pos += dir;\n              }\n              wordEnd = pos;\n              foundWord = wordStart != wordEnd;\n              if (wordStart == cur.ch && lineNum == cur.line &&\n                  wordEnd == wordStart + dir) {\n                // We started at the end of a word. Find the next one.\n                continue;\n              } else {\n                return {\n                  from: Math.min(wordStart, wordEnd + 1),\n                  to: Math.max(wordStart, wordEnd),\n                  line: lineNum };\n              }\n            }\n          }\n          if (!foundWord) {\n            pos += dir;\n          }\n        }\n        // Advance to next/prev line.\n        lineNum += dir;\n        if (!isLine(cm, lineNum)) {\n          return null;\n        }\n        line = cm.getLine(lineNum);\n        pos = (dir > 0) ? 0 : line.length;\n      }\n    }\n\n    /**\n     * @param {CodeMirror} cm CodeMirror object.\n     * @param {Pos} cur The position to start from.\n     * @param {int} repeat Number of words to move past.\n     * @param {boolean} forward True to search forward. False to search\n     *     backward.\n     * @param {boolean} wordEnd True to move to end of word. False to move to\n     *     beginning of word.\n     * @param {boolean} bigWord True if punctuation count as part of the word.\n     *     False if only alphabet characters count as part of the word.\n     * @return {Cursor} The position the cursor should move to.\n     */\n    function moveToWord(cm, cur, repeat, forward, wordEnd, bigWord) {\n      var curStart = copyCursor(cur);\n      var words = [];\n      if (forward && !wordEnd || !forward && wordEnd) {\n        repeat++;\n      }\n      // For 'e', empty lines are not considered words, go figure.\n      var emptyLineIsWord = !(forward && wordEnd);\n      for (var i = 0; i < repeat; i++) {\n        var word = findWord(cm, cur, forward, bigWord, emptyLineIsWord);\n        if (!word) {\n          var eodCh = lineLength(cm, cm.lastLine());\n          words.push(forward\n              ? {line: cm.lastLine(), from: eodCh, to: eodCh}\n              : {line: 0, from: 0, to: 0});\n          break;\n        }\n        words.push(word);\n        cur = Pos(word.line, forward ? (word.to - 1) : word.from);\n      }\n      var shortCircuit = words.length != repeat;\n      var firstWord = words[0];\n      var lastWord = words.pop();\n      if (forward && !wordEnd) {\n        // w\n        if (!shortCircuit && (firstWord.from != curStart.ch || firstWord.line != curStart.line)) {\n          // We did not start in the middle of a word. Discard the extra word at the end.\n          lastWord = words.pop();\n        }\n        return Pos(lastWord.line, lastWord.from);\n      } else if (forward && wordEnd) {\n        return Pos(lastWord.line, lastWord.to - 1);\n      } else if (!forward && wordEnd) {\n        // ge\n        if (!shortCircuit && (firstWord.to != curStart.ch || firstWord.line != curStart.line)) {\n          // We did not start in the middle of a word. Discard the extra word at the end.\n          lastWord = words.pop();\n        }\n        return Pos(lastWord.line, lastWord.to);\n      } else {\n        // b\n        return Pos(lastWord.line, lastWord.from);\n      }\n    }\n\n    function moveToEol(cm, head, motionArgs, vim, keepHPos) {\n      var cur = head;\n      var retval= Pos(cur.line + motionArgs.repeat - 1, Infinity);\n      var end=cm.clipPos(retval);\n      end.ch--;\n      if (!keepHPos) {\n        vim.lastHPos = Infinity;\n        vim.lastHSPos = cm.charCoords(end,'div').left;\n      }\n      return retval;\n    }\n\n    function moveToCharacter(cm, repeat, forward, character) {\n      var cur = cm.getCursor();\n      var start = cur.ch;\n      var idx;\n      for (var i = 0; i < repeat; i ++) {\n        var line = cm.getLine(cur.line);\n        idx = charIdxInLine(start, line, character, forward, true);\n        if (idx == -1) {\n          return null;\n        }\n        start = idx;\n      }\n      return Pos(cm.getCursor().line, idx);\n    }\n\n    function moveToColumn(cm, repeat) {\n      // repeat is always >= 1, so repeat - 1 always corresponds\n      // to the column we want to go to.\n      var line = cm.getCursor().line;\n      return clipCursorToContent(cm, Pos(line, repeat - 1));\n    }\n\n    function updateMark(cm, vim, markName, pos) {\n      if (!inArray(markName, validMarks)) {\n        return;\n      }\n      if (vim.marks[markName]) {\n        vim.marks[markName].clear();\n      }\n      vim.marks[markName] = cm.setBookmark(pos);\n    }\n\n    function charIdxInLine(start, line, character, forward, includeChar) {\n      // Search for char in line.\n      // motion_options: {forward, includeChar}\n      // If includeChar = true, include it too.\n      // If forward = true, search forward, else search backwards.\n      // If char is not found on this line, do nothing\n      var idx;\n      if (forward) {\n        idx = line.indexOf(character, start + 1);\n        if (idx != -1 && !includeChar) {\n          idx -= 1;\n        }\n      } else {\n        idx = line.lastIndexOf(character, start - 1);\n        if (idx != -1 && !includeChar) {\n          idx += 1;\n        }\n      }\n      return idx;\n    }\n\n    function findParagraph(cm, head, repeat, dir, inclusive) {\n      var line = head.line;\n      var min = cm.firstLine();\n      var max = cm.lastLine();\n      var start, end, i = line;\n      function isEmpty(i) { return !cm.getLine(i); }\n      function isBoundary(i, dir, any) {\n        if (any) { return isEmpty(i) != isEmpty(i + dir); }\n        return !isEmpty(i) && isEmpty(i + dir);\n      }\n      if (dir) {\n        while (min <= i && i <= max && repeat > 0) {\n          if (isBoundary(i, dir)) { repeat--; }\n          i += dir;\n        }\n        return new Pos(i, 0);\n      }\n\n      var vim = cm.state.vim;\n      if (vim.visualLine && isBoundary(line, 1, true)) {\n        var anchor = vim.sel.anchor;\n        if (isBoundary(anchor.line, -1, true)) {\n          if (!inclusive || anchor.line != line) {\n            line += 1;\n          }\n        }\n      }\n      var startState = isEmpty(line);\n      for (i = line; i <= max && repeat; i++) {\n        if (isBoundary(i, 1, true)) {\n          if (!inclusive || isEmpty(i) != startState) {\n            repeat--;\n          }\n        }\n      }\n      end = new Pos(i, 0);\n      // select boundary before paragraph for the last one\n      if (i > max && !startState) { startState = true; }\n      else { inclusive = false; }\n      for (i = line; i > min; i--) {\n        if (!inclusive || isEmpty(i) == startState || i == line) {\n          if (isBoundary(i, -1, true)) { break; }\n        }\n      }\n      start = new Pos(i, 0);\n      return { start: start, end: end };\n    }\n\n    function findSentence(cm, cur, repeat, dir) {\n\n      /*\n        Takes an index object\n        {\n          line: the line string,\n          ln: line number,\n          pos: index in line,\n          dir: direction of traversal (-1 or 1)\n        }\n        and modifies the line, ln, and pos members to represent the\n        next valid position or sets them to null if there are\n        no more valid positions.\n       */\n      function nextChar(cm, idx) {\n        if (idx.pos + idx.dir < 0 || idx.pos + idx.dir >= idx.line.length) {\n          idx.ln += idx.dir;\n          if (!isLine(cm, idx.ln)) {\n            idx.line = null;\n            idx.ln = null;\n            idx.pos = null;\n            return;\n          }\n          idx.line = cm.getLine(idx.ln);\n          idx.pos = (idx.dir > 0) ? 0 : idx.line.length - 1;\n        }\n        else {\n          idx.pos += idx.dir;\n        }\n      }\n\n      /*\n        Performs one iteration of traversal in forward direction\n        Returns an index object of the new location\n       */\n      function forward(cm, ln, pos, dir) {\n        var line = cm.getLine(ln);\n        var stop = (line === \"\");\n\n        var curr = {\n          line: line,\n          ln: ln,\n          pos: pos,\n          dir: dir,\n        }\n\n        var last_valid = {\n          ln: curr.ln,\n          pos: curr.pos,\n        }\n\n        var skip_empty_lines = (curr.line === \"\");\n\n        // Move one step to skip character we start on\n        nextChar(cm, curr);\n\n        while (curr.line !== null) {\n          last_valid.ln = curr.ln;\n          last_valid.pos = curr.pos;\n\n          if (curr.line === \"\" && !skip_empty_lines) {\n            return { ln: curr.ln, pos: curr.pos, };\n          }\n          else if (stop && curr.line !== \"\" && !isWhiteSpaceString(curr.line[curr.pos])) {\n            return { ln: curr.ln, pos: curr.pos, };\n          }\n          else if (isEndOfSentenceSymbol(curr.line[curr.pos])\n            && !stop\n            && (curr.pos === curr.line.length - 1\n              || isWhiteSpaceString(curr.line[curr.pos + 1]))) {\n            stop = true;\n          }\n\n          nextChar(cm, curr);\n        }\n\n        /*\n          Set the position to the last non whitespace character on the last\n          valid line in the case that we reach the end of the document.\n        */\n        var line = cm.getLine(last_valid.ln);\n        last_valid.pos = 0;\n        for(var i = line.length - 1; i >= 0; --i) {\n          if (!isWhiteSpaceString(line[i])) {\n            last_valid.pos = i;\n            break;\n          }\n        }\n\n        return last_valid;\n\n      }\n\n      /*\n        Performs one iteration of traversal in reverse direction\n        Returns an index object of the new location\n       */\n      function reverse(cm, ln, pos, dir) {\n        var line = cm.getLine(ln);\n\n        var curr = {\n          line: line,\n          ln: ln,\n          pos: pos,\n          dir: dir,\n        }\n\n        var last_valid = {\n          ln: curr.ln,\n          pos: null,\n        };\n\n        var skip_empty_lines = (curr.line === \"\");\n\n        // Move one step to skip character we start on\n        nextChar(cm, curr);\n\n        while (curr.line !== null) {\n\n          if (curr.line === \"\" && !skip_empty_lines) {\n            if (last_valid.pos !== null) {\n              return last_valid;\n            }\n            else {\n              return { ln: curr.ln, pos: curr.pos };\n            }\n          }\n          else if (isEndOfSentenceSymbol(curr.line[curr.pos])\n              && last_valid.pos !== null\n              && !(curr.ln === last_valid.ln && curr.pos + 1 === last_valid.pos)) {\n            return last_valid;\n          }\n          else if (curr.line !== \"\" && !isWhiteSpaceString(curr.line[curr.pos])) {\n            skip_empty_lines = false;\n            last_valid = { ln: curr.ln, pos: curr.pos }\n          }\n\n          nextChar(cm, curr);\n        }\n\n        /*\n          Set the position to the first non whitespace character on the last\n          valid line in the case that we reach the beginning of the document.\n        */\n        var line = cm.getLine(last_valid.ln);\n        last_valid.pos = 0;\n        for(var i = 0; i < line.length; ++i) {\n          if (!isWhiteSpaceString(line[i])) {\n            last_valid.pos = i;\n            break;\n          }\n        }\n        return last_valid;\n      }\n\n      var curr_index = {\n        ln: cur.line,\n        pos: cur.ch,\n      };\n\n      while (repeat > 0) {\n        if (dir < 0) {\n          curr_index = reverse(cm, curr_index.ln, curr_index.pos, dir);\n        }\n        else {\n          curr_index = forward(cm, curr_index.ln, curr_index.pos, dir);\n        }\n        repeat--;\n      }\n\n      return Pos(curr_index.ln, curr_index.pos);\n    }\n\n    // TODO: perhaps this finagling of start and end positions belongs\n    // in codemirror/replaceRange?\n    function selectCompanionObject(cm, head, symb, inclusive) {\n      var cur = head, start, end;\n\n      var bracketRegexp = ({\n        '(': /[()]/, ')': /[()]/,\n        '[': /[[\\]]/, ']': /[[\\]]/,\n        '{': /[{}]/, '}': /[{}]/,\n        '<': /[<>]/, '>': /[<>]/})[symb];\n      var openSym = ({\n        '(': '(', ')': '(',\n        '[': '[', ']': '[',\n        '{': '{', '}': '{',\n        '<': '<', '>': '<'})[symb];\n      var curChar = cm.getLine(cur.line).charAt(cur.ch);\n      // Due to the behavior of scanForBracket, we need to add an offset if the\n      // cursor is on a matching open bracket.\n      var offset = curChar === openSym ? 1 : 0;\n\n      start = cm.scanForBracket(Pos(cur.line, cur.ch + offset), -1, undefined, {'bracketRegex': bracketRegexp});\n      end = cm.scanForBracket(Pos(cur.line, cur.ch + offset), 1, undefined, {'bracketRegex': bracketRegexp});\n\n      if (!start || !end) {\n        return { start: cur, end: cur };\n      }\n\n      start = start.pos;\n      end = end.pos;\n\n      if ((start.line == end.line && start.ch > end.ch)\n          || (start.line > end.line)) {\n        var tmp = start;\n        start = end;\n        end = tmp;\n      }\n\n      if (inclusive) {\n        end.ch += 1;\n      } else {\n        start.ch += 1;\n      }\n\n      return { start: start, end: end };\n    }\n\n    // Takes in a symbol and a cursor and tries to simulate text objects that\n    // have identical opening and closing symbols\n    // TODO support across multiple lines\n    function findBeginningAndEnd(cm, head, symb, inclusive) {\n      var cur = copyCursor(head);\n      var line = cm.getLine(cur.line);\n      var chars = line.split('');\n      var start, end, i, len;\n      var firstIndex = chars.indexOf(symb);\n\n      // the decision tree is to always look backwards for the beginning first,\n      // but if the cursor is in front of the first instance of the symb,\n      // then move the cursor forward\n      if (cur.ch < firstIndex) {\n        cur.ch = firstIndex;\n        // Why is this line even here???\n        // cm.setCursor(cur.line, firstIndex+1);\n      }\n      // otherwise if the cursor is currently on the closing symbol\n      else if (firstIndex < cur.ch && chars[cur.ch] == symb) {\n        end = cur.ch; // assign end to the current cursor\n        --cur.ch; // make sure to look backwards\n      }\n\n      // if we're currently on the symbol, we've got a start\n      if (chars[cur.ch] == symb && !end) {\n        start = cur.ch + 1; // assign start to ahead of the cursor\n      } else {\n        // go backwards to find the start\n        for (i = cur.ch; i > -1 && !start; i--) {\n          if (chars[i] == symb) {\n            start = i + 1;\n          }\n        }\n      }\n\n      // look forwards for the end symbol\n      if (start && !end) {\n        for (i = start, len = chars.length; i < len && !end; i++) {\n          if (chars[i] == symb) {\n            end = i;\n          }\n        }\n      }\n\n      // nothing found\n      if (!start || !end) {\n        return { start: cur, end: cur };\n      }\n\n      // include the symbols\n      if (inclusive) {\n        --start; ++end;\n      }\n\n      return {\n        start: Pos(cur.line, start),\n        end: Pos(cur.line, end)\n      };\n    }\n\n    // Search functions\n    defineOption('pcre', true, 'boolean');\n    function SearchState() {}\n    SearchState.prototype = {\n      getQuery: function() {\n        return vimGlobalState.query;\n      },\n      setQuery: function(query) {\n        vimGlobalState.query = query;\n      },\n      getOverlay: function() {\n        return this.searchOverlay;\n      },\n      setOverlay: function(overlay) {\n        this.searchOverlay = overlay;\n      },\n      isReversed: function() {\n        return vimGlobalState.isReversed;\n      },\n      setReversed: function(reversed) {\n        vimGlobalState.isReversed = reversed;\n      },\n      getScrollbarAnnotate: function() {\n        return this.annotate;\n      },\n      setScrollbarAnnotate: function(annotate) {\n        this.annotate = annotate;\n      }\n    };\n    function getSearchState(cm) {\n      var vim = cm.state.vim;\n      return vim.searchState_ || (vim.searchState_ = new SearchState());\n    }\n    function splitBySlash(argString) {\n      return splitBySeparator(argString, '/');\n    }\n\n    function findUnescapedSlashes(argString) {\n      return findUnescapedSeparators(argString, '/');\n    }\n\n    function splitBySeparator(argString, separator) {\n      var slashes = findUnescapedSeparators(argString, separator) || [];\n      if (!slashes.length) return [];\n      var tokens = [];\n      // in case of strings like foo/bar\n      if (slashes[0] !== 0) return;\n      for (var i = 0; i < slashes.length; i++) {\n        if (typeof slashes[i] == 'number')\n          tokens.push(argString.substring(slashes[i] + 1, slashes[i+1]));\n      }\n      return tokens;\n    }\n\n    function findUnescapedSeparators(str, separator) {\n      if (!separator)\n        separator = '/';\n\n      var escapeNextChar = false;\n      var slashes = [];\n      for (var i = 0; i < str.length; i++) {\n        var c = str.charAt(i);\n        if (!escapeNextChar && c == separator) {\n          slashes.push(i);\n        }\n        escapeNextChar = !escapeNextChar && (c == '\\\\');\n      }\n      return slashes;\n    }\n\n    // Translates a search string from ex (vim) syntax into javascript form.\n    function translateRegex(str) {\n      // When these match, add a '\\' if unescaped or remove one if escaped.\n      var specials = '|(){';\n      // Remove, but never add, a '\\' for these.\n      var unescape = '}';\n      var escapeNextChar = false;\n      var out = [];\n      for (var i = -1; i < str.length; i++) {\n        var c = str.charAt(i) || '';\n        var n = str.charAt(i+1) || '';\n        var specialComesNext = (n && specials.indexOf(n) != -1);\n        if (escapeNextChar) {\n          if (c !== '\\\\' || !specialComesNext) {\n            out.push(c);\n          }\n          escapeNextChar = false;\n        } else {\n          if (c === '\\\\') {\n            escapeNextChar = true;\n            // Treat the unescape list as special for removing, but not adding '\\'.\n            if (n && unescape.indexOf(n) != -1) {\n              specialComesNext = true;\n            }\n            // Not passing this test means removing a '\\'.\n            if (!specialComesNext || n === '\\\\') {\n              out.push(c);\n            }\n          } else {\n            out.push(c);\n            if (specialComesNext && n !== '\\\\') {\n              out.push('\\\\');\n            }\n          }\n        }\n      }\n      return out.join('');\n    }\n\n    // Translates the replace part of a search and replace from ex (vim) syntax into\n    // javascript form.  Similar to translateRegex, but additionally fixes back references\n    // (translates '\\[0..9]' to '$[0..9]') and follows different rules for escaping '$'.\n    var charUnescapes = {'\\\\n': '\\n', '\\\\r': '\\r', '\\\\t': '\\t'};\n    function translateRegexReplace(str) {\n      var escapeNextChar = false;\n      var out = [];\n      for (var i = -1; i < str.length; i++) {\n        var c = str.charAt(i) || '';\n        var n = str.charAt(i+1) || '';\n        if (charUnescapes[c + n]) {\n          out.push(charUnescapes[c+n]);\n          i++;\n        } else if (escapeNextChar) {\n          // At any point in the loop, escapeNextChar is true if the previous\n          // character was a '\\' and was not escaped.\n          out.push(c);\n          escapeNextChar = false;\n        } else {\n          if (c === '\\\\') {\n            escapeNextChar = true;\n            if ((isNumber(n) || n === '$')) {\n              out.push('$');\n            } else if (n !== '/' && n !== '\\\\') {\n              out.push('\\\\');\n            }\n          } else {\n            if (c === '$') {\n              out.push('$');\n            }\n            out.push(c);\n            if (n === '/') {\n              out.push('\\\\');\n            }\n          }\n        }\n      }\n      return out.join('');\n    }\n\n    // Unescape \\ and / in the replace part, for PCRE mode.\n    var unescapes = {'\\\\/': '/', '\\\\\\\\': '\\\\', '\\\\n': '\\n', '\\\\r': '\\r', '\\\\t': '\\t', '\\\\&':'&'};\n    function unescapeRegexReplace(str) {\n      var stream = new CodeMirror.StringStream(str);\n      var output = [];\n      while (!stream.eol()) {\n        // Search for \\.\n        while (stream.peek() && stream.peek() != '\\\\') {\n          output.push(stream.next());\n        }\n        var matched = false;\n        for (var matcher in unescapes) {\n          if (stream.match(matcher, true)) {\n            matched = true;\n            output.push(unescapes[matcher]);\n            break;\n          }\n        }\n        if (!matched) {\n          // Don't change anything\n          output.push(stream.next());\n        }\n      }\n      return output.join('');\n    }\n\n    /**\n     * Extract the regular expression from the query and return a Regexp object.\n     * Returns null if the query is blank.\n     * If ignoreCase is passed in, the Regexp object will have the 'i' flag set.\n     * If smartCase is passed in, and the query contains upper case letters,\n     *   then ignoreCase is overridden, and the 'i' flag will not be set.\n     * If the query contains the /i in the flag part of the regular expression,\n     *   then both ignoreCase and smartCase are ignored, and 'i' will be passed\n     *   through to the Regex object.\n     */\n    function parseQuery(query, ignoreCase, smartCase) {\n      // First update the last search register\n      var lastSearchRegister = vimGlobalState.registerController.getRegister('/');\n      lastSearchRegister.setText(query);\n      // Check if the query is already a regex.\n      if (query instanceof RegExp) { return query; }\n      // First try to extract regex + flags from the input. If no flags found,\n      // extract just the regex. IE does not accept flags directly defined in\n      // the regex string in the form /regex/flags\n      var slashes = findUnescapedSlashes(query);\n      var regexPart;\n      var forceIgnoreCase;\n      if (!slashes.length) {\n        // Query looks like 'regexp'\n        regexPart = query;\n      } else {\n        // Query looks like 'regexp/...'\n        regexPart = query.substring(0, slashes[0]);\n        var flagsPart = query.substring(slashes[0]);\n        forceIgnoreCase = (flagsPart.indexOf('i') != -1);\n      }\n      if (!regexPart) {\n        return null;\n      }\n      if (!getOption('pcre')) {\n        regexPart = translateRegex(regexPart);\n      }\n      if (smartCase) {\n        ignoreCase = (/^[^A-Z]*$/).test(regexPart);\n      }\n      var regexp = new RegExp(regexPart,\n          (ignoreCase || forceIgnoreCase) ? 'i' : undefined);\n      return regexp;\n    }\n\n    /**\n     * dom - Document Object Manipulator\n     * Usage:\n     *   dom('<tag>'|<node>[, ...{<attributes>|<$styles>}|<child-node>|'<text>'])\n     * Examples:\n     *   dom('div', {id:'xyz'}, dom('p', 'CM rocks!', {$color:'red'}))\n     *   dom(document.head, dom('script', 'alert(\"hello!\")'))\n     * Not supported:\n     *   dom('p', ['arrays are objects'], Error('objects specify attributes'))\n     */\n    function dom(n) {\n      if (typeof n === 'string') n = document.createElement(n);\n      for (var a, i = 1; i < arguments.length; i++) {\n        if (!(a = arguments[i])) continue;\n        if (typeof a !== 'object') a = document.createTextNode(a);\n        if (a.nodeType) n.appendChild(a);\n        else for (var key in a) {\n          if (!Object.prototype.hasOwnProperty.call(a, key)) continue;\n          if (key[0] === '$') n.style[key.slice(1)] = a[key];\n          else n.setAttribute(key, a[key]);\n        }\n      }\n      return n;\n    }\n\n    function showConfirm(cm, template) {\n      var pre = dom('pre', {$color: 'red'}, template);\n      if (cm.openNotification) {\n        cm.openNotification(pre, {bottom: true, duration: 5000});\n      } else {\n        alert(pre.innerText);\n      }\n    }\n\n    function makePrompt(prefix, desc) {\n      return dom(document.createDocumentFragment(),\n               dom('span', {$fontFamily: 'monospace', $whiteSpace: 'pre'},\n                 prefix,\n                 dom('input', {type: 'text', autocorrect: 'off',\n                               autocapitalize: 'off', spellcheck: 'false'})),\n               desc && dom('span', {$color: '#888'}, desc));\n    }\n\n    function showPrompt(cm, options) {\n      var shortText = (options.prefix || '') + ' ' + (options.desc || '');\n      var template = makePrompt(options.prefix, options.desc);\n      if (cm.openDialog) {\n        cm.openDialog(template, options.onClose, {\n          onKeyDown: options.onKeyDown, onKeyUp: options.onKeyUp,\n          bottom: true, selectValueOnOpen: false, value: options.value\n        });\n      }\n      else {\n        options.onClose(prompt(shortText, ''));\n      }\n    }\n\n    function regexEqual(r1, r2) {\n      if (r1 instanceof RegExp && r2 instanceof RegExp) {\n          var props = ['global', 'multiline', 'ignoreCase', 'source'];\n          for (var i = 0; i < props.length; i++) {\n              var prop = props[i];\n              if (r1[prop] !== r2[prop]) {\n                  return false;\n              }\n          }\n          return true;\n      }\n      return false;\n    }\n    // Returns true if the query is valid.\n    function updateSearchQuery(cm, rawQuery, ignoreCase, smartCase) {\n      if (!rawQuery) {\n        return;\n      }\n      var state = getSearchState(cm);\n      var query = parseQuery(rawQuery, !!ignoreCase, !!smartCase);\n      if (!query) {\n        return;\n      }\n      highlightSearchMatches(cm, query);\n      if (regexEqual(query, state.getQuery())) {\n        return query;\n      }\n      state.setQuery(query);\n      return query;\n    }\n    function searchOverlay(query) {\n      if (query.source.charAt(0) == '^') {\n        var matchSol = true;\n      }\n      return {\n        token: function(stream) {\n          if (matchSol && !stream.sol()) {\n            stream.skipToEnd();\n            return;\n          }\n          var match = stream.match(query, false);\n          if (match) {\n            if (match[0].length == 0) {\n              // Matched empty string, skip to next.\n              stream.next();\n              return 'searching';\n            }\n            if (!stream.sol()) {\n              // Backtrack 1 to match \\b\n              stream.backUp(1);\n              if (!query.exec(stream.next() + match[0])) {\n                stream.next();\n                return null;\n              }\n            }\n            stream.match(query);\n            return 'searching';\n          }\n          while (!stream.eol()) {\n            stream.next();\n            if (stream.match(query, false)) break;\n          }\n        },\n        query: query\n      };\n    }\n    var highlightTimeout = 0;\n    function highlightSearchMatches(cm, query) {\n      clearTimeout(highlightTimeout);\n      highlightTimeout = setTimeout(function() {\n        var searchState = getSearchState(cm);\n        var overlay = searchState.getOverlay();\n        if (!overlay || query != overlay.query) {\n          if (overlay) {\n            cm.removeOverlay(overlay);\n          }\n          overlay = searchOverlay(query);\n          cm.addOverlay(overlay);\n          if (cm.showMatchesOnScrollbar) {\n            if (searchState.getScrollbarAnnotate()) {\n              searchState.getScrollbarAnnotate().clear();\n            }\n            searchState.setScrollbarAnnotate(cm.showMatchesOnScrollbar(query));\n          }\n          searchState.setOverlay(overlay);\n        }\n      }, 50);\n    }\n    function findNext(cm, prev, query, repeat) {\n      if (repeat === undefined) { repeat = 1; }\n      return cm.operation(function() {\n        var pos = cm.getCursor();\n        var cursor = cm.getSearchCursor(query, pos);\n        for (var i = 0; i < repeat; i++) {\n          var found = cursor.find(prev);\n          if (i == 0 && found && cursorEqual(cursor.from(), pos)) { found = cursor.find(prev); }\n          if (!found) {\n            // SearchCursor may have returned null because it hit EOF, wrap\n            // around and try again.\n            cursor = cm.getSearchCursor(query,\n                (prev) ? Pos(cm.lastLine()) : Pos(cm.firstLine(), 0) );\n            if (!cursor.find(prev)) {\n              return;\n            }\n          }\n        }\n        return cursor.from();\n      });\n    }\n    /**\n     * Pretty much the same as `findNext`, except for the following differences:\n     *\n     * 1. Before starting the search, move to the previous search. This way if our cursor is\n     * already inside a match, we should return the current match.\n     * 2. Rather than only returning the cursor's from, we return the cursor's from and to as a tuple.\n     */\n    function findNextFromAndToInclusive(cm, prev, query, repeat, vim) {\n      if (repeat === undefined) { repeat = 1; }\n      return cm.operation(function() {\n        var pos = cm.getCursor();\n        var cursor = cm.getSearchCursor(query, pos);\n\n        // Go back one result to ensure that if the cursor is currently a match, we keep it.\n        var found = cursor.find(!prev);\n\n        // If we haven't moved, go back one more (similar to if i==0 logic in findNext).\n        if (!vim.visualMode && found && cursorEqual(cursor.from(), pos)) {\n          cursor.find(!prev);\n        }\n\n        for (var i = 0; i < repeat; i++) {\n          found = cursor.find(prev);\n          if (!found) {\n            // SearchCursor may have returned null because it hit EOF, wrap\n            // around and try again.\n            cursor = cm.getSearchCursor(query,\n                (prev) ? Pos(cm.lastLine()) : Pos(cm.firstLine(), 0) );\n            if (!cursor.find(prev)) {\n              return;\n            }\n          }\n        }\n        return [cursor.from(), cursor.to()];\n      });\n    }\n    function clearSearchHighlight(cm) {\n      var state = getSearchState(cm);\n      cm.removeOverlay(getSearchState(cm).getOverlay());\n      state.setOverlay(null);\n      if (state.getScrollbarAnnotate()) {\n        state.getScrollbarAnnotate().clear();\n        state.setScrollbarAnnotate(null);\n      }\n    }\n    /**\n     * Check if pos is in the specified range, INCLUSIVE.\n     * Range can be specified with 1 or 2 arguments.\n     * If the first range argument is an array, treat it as an array of line\n     * numbers. Match pos against any of the lines.\n     * If the first range argument is a number,\n     *   if there is only 1 range argument, check if pos has the same line\n     *       number\n     *   if there are 2 range arguments, then check if pos is in between the two\n     *       range arguments.\n     */\n    function isInRange(pos, start, end) {\n      if (typeof pos != 'number') {\n        // Assume it is a cursor position. Get the line number.\n        pos = pos.line;\n      }\n      if (start instanceof Array) {\n        return inArray(pos, start);\n      } else {\n        if (typeof end == 'number') {\n          return (pos >= start && pos <= end);\n        } else {\n          return pos == start;\n        }\n      }\n    }\n    function getUserVisibleLines(cm) {\n      var scrollInfo = cm.getScrollInfo();\n      var occludeToleranceTop = 6;\n      var occludeToleranceBottom = 10;\n      var from = cm.coordsChar({left:0, top: occludeToleranceTop + scrollInfo.top}, 'local');\n      var bottomY = scrollInfo.clientHeight - occludeToleranceBottom + scrollInfo.top;\n      var to = cm.coordsChar({left:0, top: bottomY}, 'local');\n      return {top: from.line, bottom: to.line};\n    }\n\n    function getMarkPos(cm, vim, markName) {\n      if (markName == '\\'' || markName == '`') {\n        return vimGlobalState.jumpList.find(cm, -1) || Pos(0, 0);\n      } else if (markName == '.') {\n        return getLastEditPos(cm);\n      }\n\n      var mark = vim.marks[markName];\n      return mark && mark.find();\n    }\n\n    function getLastEditPos(cm) {\n      var done = cm.doc.history.done;\n      for (var i = done.length; i--;) {\n        if (done[i].changes) {\n          return copyCursor(done[i].changes[0].to);\n        }\n      }\n    }\n\n    var ExCommandDispatcher = function() {\n      this.buildCommandMap_();\n    };\n    ExCommandDispatcher.prototype = {\n      processCommand: function(cm, input, opt_params) {\n        var that = this;\n        cm.operation(function () {\n          cm.curOp.isVimOp = true;\n          that._processCommand(cm, input, opt_params);\n        });\n      },\n      _processCommand: function(cm, input, opt_params) {\n        var vim = cm.state.vim;\n        var commandHistoryRegister = vimGlobalState.registerController.getRegister(':');\n        var previousCommand = commandHistoryRegister.toString();\n        if (vim.visualMode) {\n          exitVisualMode(cm);\n        }\n        var inputStream = new CodeMirror.StringStream(input);\n        // update \": with the latest command whether valid or invalid\n        commandHistoryRegister.setText(input);\n        var params = opt_params || {};\n        params.input = input;\n        try {\n          this.parseInput_(cm, inputStream, params);\n        } catch(e) {\n          showConfirm(cm, e.toString());\n          throw e;\n        }\n        var command;\n        var commandName;\n        if (!params.commandName) {\n          // If only a line range is defined, move to the line.\n          if (params.line !== undefined) {\n            commandName = 'move';\n          }\n        } else {\n          command = this.matchCommand_(params.commandName);\n          if (command) {\n            commandName = command.name;\n            if (command.excludeFromCommandHistory) {\n              commandHistoryRegister.setText(previousCommand);\n            }\n            this.parseCommandArgs_(inputStream, params, command);\n            if (command.type == 'exToKey') {\n              // Handle Ex to Key mapping.\n              for (var i = 0; i < command.toKeys.length; i++) {\n                CodeMirror.Vim.handleKey(cm, command.toKeys[i], 'mapping');\n              }\n              return;\n            } else if (command.type == 'exToEx') {\n              // Handle Ex to Ex mapping.\n              this.processCommand(cm, command.toInput);\n              return;\n            }\n          }\n        }\n        if (!commandName) {\n          showConfirm(cm, 'Not an editor command \":' + input + '\"');\n          return;\n        }\n        try {\n          exCommands[commandName](cm, params);\n          // Possibly asynchronous commands (e.g. substitute, which might have a\n          // user confirmation), are responsible for calling the callback when\n          // done. All others have it taken care of for them here.\n          if ((!command || !command.possiblyAsync) && params.callback) {\n            params.callback();\n          }\n        } catch(e) {\n          showConfirm(cm, e.toString());\n          throw e;\n        }\n      },\n      parseInput_: function(cm, inputStream, result) {\n        inputStream.eatWhile(':');\n        // Parse range.\n        if (inputStream.eat('%')) {\n          result.line = cm.firstLine();\n          result.lineEnd = cm.lastLine();\n        } else {\n          result.line = this.parseLineSpec_(cm, inputStream);\n          if (result.line !== undefined && inputStream.eat(',')) {\n            result.lineEnd = this.parseLineSpec_(cm, inputStream);\n          }\n        }\n\n        // Parse command name.\n        var commandMatch = inputStream.match(/^(\\w+|!!|@@|[!#&*<=>@~])/);\n        if (commandMatch) {\n          result.commandName = commandMatch[1];\n        } else {\n          result.commandName = inputStream.match(/.*/)[0];\n        }\n\n        return result;\n      },\n      parseLineSpec_: function(cm, inputStream) {\n        var numberMatch = inputStream.match(/^(\\d+)/);\n        if (numberMatch) {\n          // Absolute line number plus offset (N+M or N-M) is probably a typo,\n          // not something the user actually wanted. (NB: vim does allow this.)\n          return parseInt(numberMatch[1], 10) - 1;\n        }\n        switch (inputStream.next()) {\n          case '.':\n            return this.parseLineSpecOffset_(inputStream, cm.getCursor().line);\n          case '$':\n            return this.parseLineSpecOffset_(inputStream, cm.lastLine());\n          case '\\'':\n            var markName = inputStream.next();\n            var markPos = getMarkPos(cm, cm.state.vim, markName);\n            if (!markPos) throw new Error('Mark not set');\n            return this.parseLineSpecOffset_(inputStream, markPos.line);\n          case '-':\n          case '+':\n            inputStream.backUp(1);\n            // Offset is relative to current line if not otherwise specified.\n            return this.parseLineSpecOffset_(inputStream, cm.getCursor().line);\n          default:\n            inputStream.backUp(1);\n            return undefined;\n        }\n      },\n      parseLineSpecOffset_: function(inputStream, line) {\n        var offsetMatch = inputStream.match(/^([+-])?(\\d+)/);\n        if (offsetMatch) {\n          var offset = parseInt(offsetMatch[2], 10);\n          if (offsetMatch[1] == \"-\") {\n            line -= offset;\n          } else {\n            line += offset;\n          }\n        }\n        return line;\n      },\n      parseCommandArgs_: function(inputStream, params, command) {\n        if (inputStream.eol()) {\n          return;\n        }\n        params.argString = inputStream.match(/.*/)[0];\n        // Parse command-line arguments\n        var delim = command.argDelimiter || /\\s+/;\n        var args = trim(params.argString).split(delim);\n        if (args.length && args[0]) {\n          params.args = args;\n        }\n      },\n      matchCommand_: function(commandName) {\n        // Return the command in the command map that matches the shortest\n        // prefix of the passed in command name. The match is guaranteed to be\n        // unambiguous if the defaultExCommandMap's shortNames are set up\n        // correctly. (see @code{defaultExCommandMap}).\n        for (var i = commandName.length; i > 0; i--) {\n          var prefix = commandName.substring(0, i);\n          if (this.commandMap_[prefix]) {\n            var command = this.commandMap_[prefix];\n            if (command.name.indexOf(commandName) === 0) {\n              return command;\n            }\n          }\n        }\n        return null;\n      },\n      buildCommandMap_: function() {\n        this.commandMap_ = {};\n        for (var i = 0; i < defaultExCommandMap.length; i++) {\n          var command = defaultExCommandMap[i];\n          var key = command.shortName || command.name;\n          this.commandMap_[key] = command;\n        }\n      },\n      map: function(lhs, rhs, ctx) {\n        if (lhs != ':' && lhs.charAt(0) == ':') {\n          if (ctx) { throw Error('Mode not supported for ex mappings'); }\n          var commandName = lhs.substring(1);\n          if (rhs != ':' && rhs.charAt(0) == ':') {\n            // Ex to Ex mapping\n            this.commandMap_[commandName] = {\n              name: commandName,\n              type: 'exToEx',\n              toInput: rhs.substring(1),\n              user: true\n            };\n          } else {\n            // Ex to key mapping\n            this.commandMap_[commandName] = {\n              name: commandName,\n              type: 'exToKey',\n              toKeys: rhs,\n              user: true\n            };\n          }\n        } else {\n          if (rhs != ':' && rhs.charAt(0) == ':') {\n            // Key to Ex mapping.\n            var mapping = {\n              keys: lhs,\n              type: 'keyToEx',\n              exArgs: { input: rhs.substring(1) }\n            };\n            if (ctx) { mapping.context = ctx; }\n            defaultKeymap.unshift(mapping);\n          } else {\n            // Key to key mapping\n            var mapping = {\n              keys: lhs,\n              type: 'keyToKey',\n              toKeys: rhs\n            };\n            if (ctx) { mapping.context = ctx; }\n            defaultKeymap.unshift(mapping);\n          }\n        }\n      },\n      unmap: function(lhs, ctx) {\n        if (lhs != ':' && lhs.charAt(0) == ':') {\n          // Ex to Ex or Ex to key mapping\n          if (ctx) { throw Error('Mode not supported for ex mappings'); }\n          var commandName = lhs.substring(1);\n          if (this.commandMap_[commandName] && this.commandMap_[commandName].user) {\n            delete this.commandMap_[commandName];\n            return;\n          }\n        } else {\n          // Key to Ex or key to key mapping\n          var keys = lhs;\n          for (var i = 0; i < defaultKeymap.length; i++) {\n            if (keys == defaultKeymap[i].keys\n                && defaultKeymap[i].context === ctx) {\n              defaultKeymap.splice(i, 1);\n              return;\n            }\n          }\n        }\n        throw Error('No such mapping.');\n      }\n    };\n\n    var exCommands = {\n      colorscheme: function(cm, params) {\n        if (!params.args || params.args.length < 1) {\n          showConfirm(cm, cm.getOption('theme'));\n          return;\n        }\n        cm.setOption('theme', params.args[0]);\n      },\n      map: function(cm, params, ctx) {\n        var mapArgs = params.args;\n        if (!mapArgs || mapArgs.length < 2) {\n          if (cm) {\n            showConfirm(cm, 'Invalid mapping: ' + params.input);\n          }\n          return;\n        }\n        exCommandDispatcher.map(mapArgs[0], mapArgs[1], ctx);\n      },\n      imap: function(cm, params) { this.map(cm, params, 'insert'); },\n      nmap: function(cm, params) { this.map(cm, params, 'normal'); },\n      vmap: function(cm, params) { this.map(cm, params, 'visual'); },\n      unmap: function(cm, params, ctx) {\n        var mapArgs = params.args;\n        if (!mapArgs || mapArgs.length < 1) {\n          if (cm) {\n            showConfirm(cm, 'No such mapping: ' + params.input);\n          }\n          return;\n        }\n        exCommandDispatcher.unmap(mapArgs[0], ctx);\n      },\n      move: function(cm, params) {\n        commandDispatcher.processCommand(cm, cm.state.vim, {\n            type: 'motion',\n            motion: 'moveToLineOrEdgeOfDocument',\n            motionArgs: { forward: false, explicitRepeat: true,\n              linewise: true },\n            repeatOverride: params.line+1});\n      },\n      set: function(cm, params) {\n        var setArgs = params.args;\n        // Options passed through to the setOption/getOption calls. May be passed in by the\n        // local/global versions of the set command\n        var setCfg = params.setCfg || {};\n        if (!setArgs || setArgs.length < 1) {\n          if (cm) {\n            showConfirm(cm, 'Invalid mapping: ' + params.input);\n          }\n          return;\n        }\n        var expr = setArgs[0].split('=');\n        var optionName = expr[0];\n        var value = expr[1];\n        var forceGet = false;\n\n        if (optionName.charAt(optionName.length - 1) == '?') {\n          // If post-fixed with ?, then the set is actually a get.\n          if (value) { throw Error('Trailing characters: ' + params.argString); }\n          optionName = optionName.substring(0, optionName.length - 1);\n          forceGet = true;\n        }\n        if (value === undefined && optionName.substring(0, 2) == 'no') {\n          // To set boolean options to false, the option name is prefixed with\n          // 'no'.\n          optionName = optionName.substring(2);\n          value = false;\n        }\n\n        var optionIsBoolean = options[optionName] && options[optionName].type == 'boolean';\n        if (optionIsBoolean && value == undefined) {\n          // Calling set with a boolean option sets it to true.\n          value = true;\n        }\n        // If no value is provided, then we assume this is a get.\n        if (!optionIsBoolean && value === undefined || forceGet) {\n          var oldValue = getOption(optionName, cm, setCfg);\n          if (oldValue instanceof Error) {\n            showConfirm(cm, oldValue.message);\n          } else if (oldValue === true || oldValue === false) {\n            showConfirm(cm, ' ' + (oldValue ? '' : 'no') + optionName);\n          } else {\n            showConfirm(cm, '  ' + optionName + '=' + oldValue);\n          }\n        } else {\n          var setOptionReturn = setOption(optionName, value, cm, setCfg);\n          if (setOptionReturn instanceof Error) {\n            showConfirm(cm, setOptionReturn.message);\n          }\n        }\n      },\n      setlocal: function (cm, params) {\n        // setCfg is passed through to setOption\n        params.setCfg = {scope: 'local'};\n        this.set(cm, params);\n      },\n      setglobal: function (cm, params) {\n        // setCfg is passed through to setOption\n        params.setCfg = {scope: 'global'};\n        this.set(cm, params);\n      },\n      registers: function(cm, params) {\n        var regArgs = params.args;\n        var registers = vimGlobalState.registerController.registers;\n        var regInfo = '----------Registers----------\\n\\n';\n        if (!regArgs) {\n          for (var registerName in registers) {\n            var text = registers[registerName].toString();\n            if (text.length) {\n              regInfo += '\"' + registerName + '    ' + text + '\\n'\n            }\n          }\n        } else {\n          var registerName;\n          regArgs = regArgs.join('');\n          for (var i = 0; i < regArgs.length; i++) {\n            registerName = regArgs.charAt(i);\n            if (!vimGlobalState.registerController.isValidRegister(registerName)) {\n              continue;\n            }\n            var register = registers[registerName] || new Register();\n            regInfo += '\"' + registerName + '    ' + register.toString() + '\\n'\n          }\n        }\n        showConfirm(cm, regInfo);\n      },\n      sort: function(cm, params) {\n        var reverse, ignoreCase, unique, number, pattern;\n        function parseArgs() {\n          if (params.argString) {\n            var args = new CodeMirror.StringStream(params.argString);\n            if (args.eat('!')) { reverse = true; }\n            if (args.eol()) { return; }\n            if (!args.eatSpace()) { return 'Invalid arguments'; }\n            var opts = args.match(/([dinuox]+)?\\s*(\\/.+\\/)?\\s*/);\n            if (!opts && !args.eol()) { return 'Invalid arguments'; }\n            if (opts[1]) {\n              ignoreCase = opts[1].indexOf('i') != -1;\n              unique = opts[1].indexOf('u') != -1;\n              var decimal = opts[1].indexOf('d') != -1 || opts[1].indexOf('n') != -1 && 1;\n              var hex = opts[1].indexOf('x') != -1 && 1;\n              var octal = opts[1].indexOf('o') != -1 && 1;\n              if (decimal + hex + octal > 1) { return 'Invalid arguments'; }\n              number = decimal && 'decimal' || hex && 'hex' || octal && 'octal';\n            }\n            if (opts[2]) {\n              pattern = new RegExp(opts[2].substr(1, opts[2].length - 2), ignoreCase ? 'i' : '');\n            }\n          }\n        }\n        var err = parseArgs();\n        if (err) {\n          showConfirm(cm, err + ': ' + params.argString);\n          return;\n        }\n        var lineStart = params.line || cm.firstLine();\n        var lineEnd = params.lineEnd || params.line || cm.lastLine();\n        if (lineStart == lineEnd) { return; }\n        var curStart = Pos(lineStart, 0);\n        var curEnd = Pos(lineEnd, lineLength(cm, lineEnd));\n        var text = cm.getRange(curStart, curEnd).split('\\n');\n        var numberRegex = pattern ? pattern :\n           (number == 'decimal') ? /(-?)([\\d]+)/ :\n           (number == 'hex') ? /(-?)(?:0x)?([0-9a-f]+)/i :\n           (number == 'octal') ? /([0-7]+)/ : null;\n        var radix = (number == 'decimal') ? 10 : (number == 'hex') ? 16 : (number == 'octal') ? 8 : null;\n        var numPart = [], textPart = [];\n        if (number || pattern) {\n          for (var i = 0; i < text.length; i++) {\n            var matchPart = pattern ? text[i].match(pattern) : null;\n            if (matchPart && matchPart[0] != '') {\n              numPart.push(matchPart);\n            } else if (!pattern && numberRegex.exec(text[i])) {\n              numPart.push(text[i]);\n            } else {\n              textPart.push(text[i]);\n            }\n          }\n        } else {\n          textPart = text;\n        }\n        function compareFn(a, b) {\n          if (reverse) { var tmp; tmp = a; a = b; b = tmp; }\n          if (ignoreCase) { a = a.toLowerCase(); b = b.toLowerCase(); }\n          var anum = number && numberRegex.exec(a);\n          var bnum = number && numberRegex.exec(b);\n          if (!anum) { return a < b ? -1 : 1; }\n          anum = parseInt((anum[1] + anum[2]).toLowerCase(), radix);\n          bnum = parseInt((bnum[1] + bnum[2]).toLowerCase(), radix);\n          return anum - bnum;\n        }\n        function comparePatternFn(a, b) {\n          if (reverse) { var tmp; tmp = a; a = b; b = tmp; }\n          if (ignoreCase) { a[0] = a[0].toLowerCase(); b[0] = b[0].toLowerCase(); }\n          return (a[0] < b[0]) ? -1 : 1;\n        }\n        numPart.sort(pattern ? comparePatternFn : compareFn);\n        if (pattern) {\n          for (var i = 0; i < numPart.length; i++) {\n            numPart[i] = numPart[i].input;\n          }\n        } else if (!number) { textPart.sort(compareFn); }\n        text = (!reverse) ? textPart.concat(numPart) : numPart.concat(textPart);\n        if (unique) { // Remove duplicate lines\n          var textOld = text;\n          var lastLine;\n          text = [];\n          for (var i = 0; i < textOld.length; i++) {\n            if (textOld[i] != lastLine) {\n              text.push(textOld[i]);\n            }\n            lastLine = textOld[i];\n          }\n        }\n        cm.replaceRange(text.join('\\n'), curStart, curEnd);\n      },\n      vglobal: function(cm, params) {\n        // global inspects params.commandName\n        this.global(cm, params);\n      },\n      global: function(cm, params) {\n        // a global command is of the form\n        // :[range]g/pattern/[cmd]\n        // argString holds the string /pattern/[cmd]\n        var argString = params.argString;\n        if (!argString) {\n          showConfirm(cm, 'Regular Expression missing from global');\n          return;\n        }\n        var inverted = params.commandName[0] === 'v';\n        // range is specified here\n        var lineStart = (params.line !== undefined) ? params.line : cm.firstLine();\n        var lineEnd = params.lineEnd || params.line || cm.lastLine();\n        // get the tokens from argString\n        var tokens = splitBySlash(argString);\n        var regexPart = argString, cmd;\n        if (tokens.length) {\n          regexPart = tokens[0];\n          cmd = tokens.slice(1, tokens.length).join('/');\n        }\n        if (regexPart) {\n          // If regex part is empty, then use the previous query. Otherwise\n          // use the regex part as the new query.\n          try {\n           updateSearchQuery(cm, regexPart, true /** ignoreCase */,\n             true /** smartCase */);\n          } catch (e) {\n           showConfirm(cm, 'Invalid regex: ' + regexPart);\n           return;\n          }\n        }\n        // now that we have the regexPart, search for regex matches in the\n        // specified range of lines\n        var query = getSearchState(cm).getQuery();\n        var matchedLines = [];\n        for (var i = lineStart; i <= lineEnd; i++) {\n          var line = cm.getLineHandle(i);\n          var matched = query.test(line.text);\n          if (matched !== inverted) {\n            matchedLines.push(cmd ? line : line.text);\n          }\n        }\n        // if there is no [cmd], just display the list of matched lines\n        if (!cmd) {\n          showConfirm(cm, matchedLines.join('\\n'));\n          return;\n        }\n        var index = 0;\n        var nextCommand = function() {\n          if (index < matchedLines.length) {\n            var line = matchedLines[index++];\n            var lineNum = cm.getLineNumber(line);\n            if (lineNum == null) {\n              nextCommand();\n              return;\n            }\n            var command = (lineNum + 1) + cmd;\n            exCommandDispatcher.processCommand(cm, command, {\n              callback: nextCommand\n            });\n          }\n        };\n        nextCommand();\n      },\n      substitute: function(cm, params) {\n        if (!cm.getSearchCursor) {\n          throw new Error('Search feature not available. Requires searchcursor.js or ' +\n              'any other getSearchCursor implementation.');\n        }\n        var argString = params.argString;\n        var tokens = argString ? splitBySeparator(argString, argString[0]) : [];\n        var regexPart, replacePart = '', trailing, flagsPart, count;\n        var confirm = false; // Whether to confirm each replace.\n        var global = false; // True to replace all instances on a line, false to replace only 1.\n        if (tokens.length) {\n          regexPart = tokens[0];\n          if (getOption('pcre') && regexPart !== '') {\n              regexPart = new RegExp(regexPart).source; //normalize not escaped characters\n          }\n          replacePart = tokens[1];\n          // If the pattern ends with $ (line boundary assertion), change $ to \\n.\n          // Caveat: this workaround cannot match on the last line of the document.\n          if (/(^|[^\\\\])(\\\\\\\\)*\\$$/.test(regexPart)) {\n            regexPart = regexPart.slice(0, -1) + '\\\\n';\n            replacePart = (replacePart || '') + '\\n';\n          }\n          if (replacePart !== undefined) {\n            if (getOption('pcre')) {\n              replacePart = unescapeRegexReplace(replacePart.replace(/([^\\\\])&/g,\"$1$$&\"));\n            } else {\n              replacePart = translateRegexReplace(replacePart);\n            }\n            vimGlobalState.lastSubstituteReplacePart = replacePart;\n          }\n          trailing = tokens[2] ? tokens[2].split(' ') : [];\n        } else {\n          // either the argString is empty or its of the form ' hello/world'\n          // actually splitBySlash returns a list of tokens\n          // only if the string starts with a '/'\n          if (argString && argString.length) {\n            showConfirm(cm, 'Substitutions should be of the form ' +\n                ':s/pattern/replace/');\n            return;\n          }\n        }\n        // After the 3rd slash, we can have flags followed by a space followed\n        // by count.\n        if (trailing) {\n          flagsPart = trailing[0];\n          count = parseInt(trailing[1]);\n          if (flagsPart) {\n            if (flagsPart.indexOf('c') != -1) {\n              confirm = true;\n            }\n            if (flagsPart.indexOf('g') != -1) {\n              global = true;\n            }\n            if (getOption('pcre')) {\n               regexPart = regexPart + '/' + flagsPart;\n            } else {\n               regexPart = regexPart.replace(/\\//g, \"\\\\/\") + '/' + flagsPart;\n            }\n          }\n        }\n        if (regexPart) {\n          // If regex part is empty, then use the previous query. Otherwise use\n          // the regex part as the new query.\n          try {\n            updateSearchQuery(cm, regexPart, true /** ignoreCase */,\n              true /** smartCase */);\n          } catch (e) {\n            showConfirm(cm, 'Invalid regex: ' + regexPart);\n            return;\n          }\n        }\n        replacePart = replacePart || vimGlobalState.lastSubstituteReplacePart;\n        if (replacePart === undefined) {\n          showConfirm(cm, 'No previous substitute regular expression');\n          return;\n        }\n        var state = getSearchState(cm);\n        var query = state.getQuery();\n        var lineStart = (params.line !== undefined) ? params.line : cm.getCursor().line;\n        var lineEnd = params.lineEnd || lineStart;\n        if (lineStart == cm.firstLine() && lineEnd == cm.lastLine()) {\n          lineEnd = Infinity;\n        }\n        if (count) {\n          lineStart = lineEnd;\n          lineEnd = lineStart + count - 1;\n        }\n        var startPos = clipCursorToContent(cm, Pos(lineStart, 0));\n        var cursor = cm.getSearchCursor(query, startPos);\n        doReplace(cm, confirm, global, lineStart, lineEnd, cursor, query, replacePart, params.callback);\n      },\n      redo: CodeMirror.commands.redo,\n      undo: CodeMirror.commands.undo,\n      write: function(cm) {\n        if (CodeMirror.commands.save) {\n          // If a save command is defined, call it.\n          CodeMirror.commands.save(cm);\n        } else if (cm.save) {\n          // Saves to text area if no save command is defined and cm.save() is available.\n          cm.save();\n        }\n      },\n      nohlsearch: function(cm) {\n        clearSearchHighlight(cm);\n      },\n      yank: function (cm) {\n        var cur = copyCursor(cm.getCursor());\n        var line = cur.line;\n        var lineText = cm.getLine(line);\n        vimGlobalState.registerController.pushText(\n          '0', 'yank', lineText, true, true);\n      },\n      delmarks: function(cm, params) {\n        if (!params.argString || !trim(params.argString)) {\n          showConfirm(cm, 'Argument required');\n          return;\n        }\n\n        var state = cm.state.vim;\n        var stream = new CodeMirror.StringStream(trim(params.argString));\n        while (!stream.eol()) {\n          stream.eatSpace();\n\n          // Record the streams position at the beginning of the loop for use\n          // in error messages.\n          var count = stream.pos;\n\n          if (!stream.match(/[a-zA-Z]/, false)) {\n            showConfirm(cm, 'Invalid argument: ' + params.argString.substring(count));\n            return;\n          }\n\n          var sym = stream.next();\n          // Check if this symbol is part of a range\n          if (stream.match('-', true)) {\n            // This symbol is part of a range.\n\n            // The range must terminate at an alphabetic character.\n            if (!stream.match(/[a-zA-Z]/, false)) {\n              showConfirm(cm, 'Invalid argument: ' + params.argString.substring(count));\n              return;\n            }\n\n            var startMark = sym;\n            var finishMark = stream.next();\n            // The range must terminate at an alphabetic character which\n            // shares the same case as the start of the range.\n            if (isLowerCase(startMark) && isLowerCase(finishMark) ||\n                isUpperCase(startMark) && isUpperCase(finishMark)) {\n              var start = startMark.charCodeAt(0);\n              var finish = finishMark.charCodeAt(0);\n              if (start >= finish) {\n                showConfirm(cm, 'Invalid argument: ' + params.argString.substring(count));\n                return;\n              }\n\n              // Because marks are always ASCII values, and we have\n              // determined that they are the same case, we can use\n              // their char codes to iterate through the defined range.\n              for (var j = 0; j <= finish - start; j++) {\n                var mark = String.fromCharCode(start + j);\n                delete state.marks[mark];\n              }\n            } else {\n              showConfirm(cm, 'Invalid argument: ' + startMark + '-');\n              return;\n            }\n          } else {\n            // This symbol is a valid mark, and is not part of a range.\n            delete state.marks[sym];\n          }\n        }\n      }\n    };\n\n    var exCommandDispatcher = new ExCommandDispatcher();\n\n    /**\n    * @param {CodeMirror} cm CodeMirror instance we are in.\n    * @param {boolean} confirm Whether to confirm each replace.\n    * @param {Cursor} lineStart Line to start replacing from.\n    * @param {Cursor} lineEnd Line to stop replacing at.\n    * @param {RegExp} query Query for performing matches with.\n    * @param {string} replaceWith Text to replace matches with. May contain $1,\n    *     $2, etc for replacing captured groups using JavaScript replace.\n    * @param {function()} callback A callback for when the replace is done.\n    */\n    function doReplace(cm, confirm, global, lineStart, lineEnd, searchCursor, query,\n        replaceWith, callback) {\n      // Set up all the functions.\n      cm.state.vim.exMode = true;\n      var done = false;\n      var lastPos, modifiedLineNumber, joined;\n      function replaceAll() {\n        cm.operation(function() {\n          while (!done) {\n            replace();\n            next();\n          }\n          stop();\n        });\n      }\n      function replace() {\n        var text = cm.getRange(searchCursor.from(), searchCursor.to());\n        var newText = text.replace(query, replaceWith);\n        var unmodifiedLineNumber = searchCursor.to().line;\n        searchCursor.replace(newText);\n        modifiedLineNumber = searchCursor.to().line;\n        lineEnd += modifiedLineNumber - unmodifiedLineNumber;\n        joined = modifiedLineNumber < unmodifiedLineNumber;\n      }\n      function next() {\n        // The below only loops to skip over multiple occurrences on the same\n        // line when 'global' is not true.\n        while(searchCursor.findNext() &&\n              isInRange(searchCursor.from(), lineStart, lineEnd)) {\n          if (!global && searchCursor.from().line == modifiedLineNumber && !joined) {\n            continue;\n          }\n          cm.scrollIntoView(searchCursor.from(), 30);\n          cm.setSelection(searchCursor.from(), searchCursor.to());\n          lastPos = searchCursor.from();\n          done = false;\n          return;\n        }\n        done = true;\n      }\n      function stop(close) {\n        if (close) { close(); }\n        cm.focus();\n        if (lastPos) {\n          cm.setCursor(lastPos);\n          var vim = cm.state.vim;\n          vim.exMode = false;\n          vim.lastHPos = vim.lastHSPos = lastPos.ch;\n        }\n        if (callback) { callback(); }\n      }\n      function onPromptKeyDown(e, _value, close) {\n        // Swallow all keys.\n        CodeMirror.e_stop(e);\n        var keyName = CodeMirror.keyName(e);\n        switch (keyName) {\n          case 'Y':\n            replace(); next(); break;\n          case 'N':\n            next(); break;\n          case 'A':\n            // replaceAll contains a call to close of its own. We don't want it\n            // to fire too early or multiple times.\n            var savedCallback = callback;\n            callback = undefined;\n            cm.operation(replaceAll);\n            callback = savedCallback;\n            break;\n          case 'L':\n            replace();\n            // fall through and exit.\n          case 'Q':\n          case 'Esc':\n          case 'Ctrl-C':\n          case 'Ctrl-[':\n            stop(close);\n            break;\n        }\n        if (done) { stop(close); }\n        return true;\n      }\n\n      // Actually do replace.\n      next();\n      if (done) {\n        showConfirm(cm, 'No matches for ' + query.source);\n        return;\n      }\n      if (!confirm) {\n        replaceAll();\n        if (callback) { callback(); }\n        return;\n      }\n      showPrompt(cm, {\n        prefix: dom('span', 'replace with ', dom('strong', replaceWith), ' (y/n/a/q/l)'),\n        onKeyDown: onPromptKeyDown\n      });\n    }\n\n    CodeMirror.keyMap.vim = {\n      attach: attachVimMap,\n      detach: detachVimMap,\n      call: cmKey\n    };\n\n    function exitInsertMode(cm) {\n      var vim = cm.state.vim;\n      var macroModeState = vimGlobalState.macroModeState;\n      var insertModeChangeRegister = vimGlobalState.registerController.getRegister('.');\n      var isPlaying = macroModeState.isPlaying;\n      var lastChange = macroModeState.lastInsertModeChanges;\n      if (!isPlaying) {\n        cm.off('change', onChange);\n        CodeMirror.off(cm.getInputField(), 'keydown', onKeyEventTargetKeyDown);\n      }\n      if (!isPlaying && vim.insertModeRepeat > 1) {\n        // Perform insert mode repeat for commands like 3,a and 3,o.\n        repeatLastEdit(cm, vim, vim.insertModeRepeat - 1,\n            true /** repeatForInsert */);\n        vim.lastEditInputState.repeatOverride = vim.insertModeRepeat;\n      }\n      delete vim.insertModeRepeat;\n      vim.insertMode = false;\n      cm.setCursor(cm.getCursor().line, cm.getCursor().ch-1);\n      cm.setOption('keyMap', 'vim');\n      cm.setOption('disableInput', true);\n      cm.toggleOverwrite(false); // exit replace mode if we were in it.\n      // update the \". register before exiting insert mode\n      insertModeChangeRegister.setText(lastChange.changes.join(''));\n      CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"normal\"});\n      if (macroModeState.isRecording) {\n        logInsertModeChange(macroModeState);\n      }\n    }\n\n    function _mapCommand(command) {\n      defaultKeymap.unshift(command);\n    }\n\n    function mapCommand(keys, type, name, args, extra) {\n      var command = {keys: keys, type: type};\n      command[type] = name;\n      command[type + \"Args\"] = args;\n      for (var key in extra)\n        command[key] = extra[key];\n      _mapCommand(command);\n    }\n\n    // The timeout in milliseconds for the two-character ESC keymap should be\n    // adjusted according to your typing speed to prevent false positives.\n    defineOption('insertModeEscKeysTimeout', 200, 'number');\n\n    CodeMirror.keyMap['vim-insert'] = {\n      // TODO: override navigation keys so that Esc will cancel automatic\n      // indentation from o, O, i_<CR>\n      fallthrough: ['default'],\n      attach: attachVimMap,\n      detach: detachVimMap,\n      call: cmKey\n    };\n\n    CodeMirror.keyMap['vim-replace'] = {\n      'Backspace': 'goCharLeft',\n      fallthrough: ['vim-insert'],\n      attach: attachVimMap,\n      detach: detachVimMap,\n      call: cmKey\n    };\n\n    function executeMacroRegister(cm, vim, macroModeState, registerName) {\n      var register = vimGlobalState.registerController.getRegister(registerName);\n      if (registerName == ':') {\n        // Read-only register containing last Ex command.\n        if (register.keyBuffer[0]) {\n          exCommandDispatcher.processCommand(cm, register.keyBuffer[0]);\n        }\n        macroModeState.isPlaying = false;\n        return;\n      }\n      var keyBuffer = register.keyBuffer;\n      var imc = 0;\n      macroModeState.isPlaying = true;\n      macroModeState.replaySearchQueries = register.searchQueries.slice(0);\n      for (var i = 0; i < keyBuffer.length; i++) {\n        var text = keyBuffer[i];\n        var match, key;\n        while (text) {\n          // Pull off one command key, which is either a single character\n          // or a special sequence wrapped in '<' and '>', e.g. '<Space>'.\n          match = (/<\\w+-.+?>|<\\w+>|./).exec(text);\n          key = match[0];\n          text = text.substring(match.index + key.length);\n          CodeMirror.Vim.handleKey(cm, key, 'macro');\n          if (vim.insertMode) {\n            var changes = register.insertModeChanges[imc++].changes;\n            vimGlobalState.macroModeState.lastInsertModeChanges.changes =\n                changes;\n            repeatInsertModeChanges(cm, changes, 1);\n            exitInsertMode(cm);\n          }\n        }\n      }\n      macroModeState.isPlaying = false;\n    }\n\n    function logKey(macroModeState, key) {\n      if (macroModeState.isPlaying) { return; }\n      var registerName = macroModeState.latestRegister;\n      var register = vimGlobalState.registerController.getRegister(registerName);\n      if (register) {\n        register.pushText(key);\n      }\n    }\n\n    function logInsertModeChange(macroModeState) {\n      if (macroModeState.isPlaying) { return; }\n      var registerName = macroModeState.latestRegister;\n      var register = vimGlobalState.registerController.getRegister(registerName);\n      if (register && register.pushInsertModeChanges) {\n        register.pushInsertModeChanges(macroModeState.lastInsertModeChanges);\n      }\n    }\n\n    function logSearchQuery(macroModeState, query) {\n      if (macroModeState.isPlaying) { return; }\n      var registerName = macroModeState.latestRegister;\n      var register = vimGlobalState.registerController.getRegister(registerName);\n      if (register && register.pushSearchQuery) {\n        register.pushSearchQuery(query);\n      }\n    }\n\n    /**\n     * Listens for changes made in insert mode.\n     * Should only be active in insert mode.\n     */\n    function onChange(cm, changeObj) {\n      var macroModeState = vimGlobalState.macroModeState;\n      var lastChange = macroModeState.lastInsertModeChanges;\n      if (!macroModeState.isPlaying) {\n        while(changeObj) {\n          lastChange.expectCursorActivityForChange = true;\n          if (lastChange.ignoreCount > 1) {\n            lastChange.ignoreCount--;\n          } else if (changeObj.origin == '+input' || changeObj.origin == 'paste'\n              || changeObj.origin === undefined /* only in testing */) {\n            var selectionCount = cm.listSelections().length;\n            if (selectionCount > 1)\n              lastChange.ignoreCount = selectionCount;\n            var text = changeObj.text.join('\\n');\n            if (lastChange.maybeReset) {\n              lastChange.changes = [];\n              lastChange.maybeReset = false;\n            }\n            if (text) {\n              if (cm.state.overwrite && !/\\n/.test(text)) {\n                lastChange.changes.push([text]);\n              } else {\n                lastChange.changes.push(text);\n              }\n            }\n          }\n          // Change objects may be chained with next.\n          changeObj = changeObj.next;\n        }\n      }\n    }\n\n    /**\n    * Listens for any kind of cursor activity on CodeMirror.\n    */\n    function onCursorActivity(cm) {\n      var vim = cm.state.vim;\n      if (vim.insertMode) {\n        // Tracking cursor activity in insert mode (for macro support).\n        var macroModeState = vimGlobalState.macroModeState;\n        if (macroModeState.isPlaying) { return; }\n        var lastChange = macroModeState.lastInsertModeChanges;\n        if (lastChange.expectCursorActivityForChange) {\n          lastChange.expectCursorActivityForChange = false;\n        } else {\n          // Cursor moved outside the context of an edit. Reset the change.\n          lastChange.maybeReset = true;\n        }\n      } else if (!cm.curOp.isVimOp) {\n        handleExternalSelection(cm, vim);\n      }\n      if (vim.visualMode) {\n        updateFakeCursor(cm);\n      }\n    }\n    /**\n     * Keeps track of a fake cursor to support visual mode cursor behavior.\n     */\n    function updateFakeCursor(cm) {\n      var className = 'cm-animate-fat-cursor';\n      var vim = cm.state.vim;\n      var from = clipCursorToContent(cm, copyCursor(vim.sel.head));\n      var to = offsetCursor(from, 0, 1);\n      clearFakeCursor(vim);\n      // In visual mode, the cursor may be positioned over EOL.\n      if (from.ch == cm.getLine(from.line).length) {\n        var widget = dom('span', { 'class': className }, '\\u00a0');\n        vim.fakeCursorBookmark = cm.setBookmark(from, {widget: widget});\n      } else {\n        vim.fakeCursor = cm.markText(from, to, {className: className});\n      }\n    }\n    function clearFakeCursor(vim) {\n      if (vim.fakeCursor) {\n        vim.fakeCursor.clear();\n        vim.fakeCursor = null;\n      }\n      if (vim.fakeCursorBookmark) {\n        vim.fakeCursorBookmark.clear();\n        vim.fakeCursorBookmark = null;\n      }\n    }\n    function handleExternalSelection(cm, vim) {\n      var anchor = cm.getCursor('anchor');\n      var head = cm.getCursor('head');\n      // Enter or exit visual mode to match mouse selection.\n      if (vim.visualMode && !cm.somethingSelected()) {\n        exitVisualMode(cm, false);\n      } else if (!vim.visualMode && !vim.insertMode && cm.somethingSelected()) {\n        vim.visualMode = true;\n        vim.visualLine = false;\n        CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"visual\"});\n      }\n      if (vim.visualMode) {\n        // Bind CodeMirror selection model to vim selection model.\n        // Mouse selections are considered visual characterwise.\n        var headOffset = !cursorIsBefore(head, anchor) ? -1 : 0;\n        var anchorOffset = cursorIsBefore(head, anchor) ? -1 : 0;\n        head = offsetCursor(head, 0, headOffset);\n        anchor = offsetCursor(anchor, 0, anchorOffset);\n        vim.sel = {\n          anchor: anchor,\n          head: head\n        };\n        updateMark(cm, vim, '<', cursorMin(head, anchor));\n        updateMark(cm, vim, '>', cursorMax(head, anchor));\n      } else if (!vim.insertMode) {\n        // Reset lastHPos if selection was modified by something outside of vim mode e.g. by mouse.\n        vim.lastHPos = cm.getCursor().ch;\n      }\n    }\n\n    /** Wrapper for special keys pressed in insert mode */\n    function InsertModeKey(keyName) {\n      this.keyName = keyName;\n    }\n\n    /**\n    * Handles raw key down events from the text area.\n    * - Should only be active in insert mode.\n    * - For recording deletes in insert mode.\n    */\n    function onKeyEventTargetKeyDown(e) {\n      var macroModeState = vimGlobalState.macroModeState;\n      var lastChange = macroModeState.lastInsertModeChanges;\n      var keyName = CodeMirror.keyName(e);\n      if (!keyName) { return; }\n      function onKeyFound() {\n        if (lastChange.maybeReset) {\n          lastChange.changes = [];\n          lastChange.maybeReset = false;\n        }\n        lastChange.changes.push(new InsertModeKey(keyName));\n        return true;\n      }\n      if (keyName.indexOf('Delete') != -1 || keyName.indexOf('Backspace') != -1) {\n        CodeMirror.lookupKey(keyName, 'vim-insert', onKeyFound);\n      }\n    }\n\n    /**\n     * Repeats the last edit, which includes exactly 1 command and at most 1\n     * insert. Operator and motion commands are read from lastEditInputState,\n     * while action commands are read from lastEditActionCommand.\n     *\n     * If repeatForInsert is true, then the function was called by\n     * exitInsertMode to repeat the insert mode changes the user just made. The\n     * corresponding enterInsertMode call was made with a count.\n     */\n    function repeatLastEdit(cm, vim, repeat, repeatForInsert) {\n      var macroModeState = vimGlobalState.macroModeState;\n      macroModeState.isPlaying = true;\n      var isAction = !!vim.lastEditActionCommand;\n      var cachedInputState = vim.inputState;\n      function repeatCommand() {\n        if (isAction) {\n          commandDispatcher.processAction(cm, vim, vim.lastEditActionCommand);\n        } else {\n          commandDispatcher.evalInput(cm, vim);\n        }\n      }\n      function repeatInsert(repeat) {\n        if (macroModeState.lastInsertModeChanges.changes.length > 0) {\n          // For some reason, repeat cw in desktop VIM does not repeat\n          // insert mode changes. Will conform to that behavior.\n          repeat = !vim.lastEditActionCommand ? 1 : repeat;\n          var changeObject = macroModeState.lastInsertModeChanges;\n          repeatInsertModeChanges(cm, changeObject.changes, repeat);\n        }\n      }\n      vim.inputState = vim.lastEditInputState;\n      if (isAction && vim.lastEditActionCommand.interlaceInsertRepeat) {\n        // o and O repeat have to be interlaced with insert repeats so that the\n        // insertions appear on separate lines instead of the last line.\n        for (var i = 0; i < repeat; i++) {\n          repeatCommand();\n          repeatInsert(1);\n        }\n      } else {\n        if (!repeatForInsert) {\n          // Hack to get the cursor to end up at the right place. If I is\n          // repeated in insert mode repeat, cursor will be 1 insert\n          // change set left of where it should be.\n          repeatCommand();\n        }\n        repeatInsert(repeat);\n      }\n      vim.inputState = cachedInputState;\n      if (vim.insertMode && !repeatForInsert) {\n        // Don't exit insert mode twice. If repeatForInsert is set, then we\n        // were called by an exitInsertMode call lower on the stack.\n        exitInsertMode(cm);\n      }\n      macroModeState.isPlaying = false;\n    }\n\n    function repeatInsertModeChanges(cm, changes, repeat) {\n      function keyHandler(binding) {\n        if (typeof binding == 'string') {\n          CodeMirror.commands[binding](cm);\n        } else {\n          binding(cm);\n        }\n        return true;\n      }\n      var head = cm.getCursor('head');\n      var visualBlock = vimGlobalState.macroModeState.lastInsertModeChanges.visualBlock;\n      if (visualBlock) {\n        // Set up block selection again for repeating the changes.\n        selectForInsert(cm, head, visualBlock + 1);\n        repeat = cm.listSelections().length;\n        cm.setCursor(head);\n      }\n      for (var i = 0; i < repeat; i++) {\n        if (visualBlock) {\n          cm.setCursor(offsetCursor(head, i, 0));\n        }\n        for (var j = 0; j < changes.length; j++) {\n          var change = changes[j];\n          if (change instanceof InsertModeKey) {\n            CodeMirror.lookupKey(change.keyName, 'vim-insert', keyHandler);\n          } else if (typeof change == \"string\") {\n            var cur = cm.getCursor();\n            cm.replaceRange(change, cur, cur);\n          } else {\n            var start = cm.getCursor();\n            var end = offsetCursor(start, 0, change[0].length);\n            cm.replaceRange(change[0], start, end);\n          }\n        }\n      }\n      if (visualBlock) {\n        cm.setCursor(offsetCursor(head, 0, 1));\n      }\n    }\n\n    resetVimGlobalState();\n    return vimApi;\n  };\n  // Initialize Vim and make it available as an API.\n  CodeMirror.Vim = Vim();\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// Open simple dialogs on top of an editor. Relies on dialog.css.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  function dialogDiv(cm, template, bottom) {\n    var wrap = cm.getWrapperElement();\n    var dialog;\n    dialog = wrap.appendChild(document.createElement(\"div\"));\n    if (bottom)\n      dialog.className = \"CodeMirror-dialog CodeMirror-dialog-bottom\";\n    else\n      dialog.className = \"CodeMirror-dialog CodeMirror-dialog-top\";\n\n    if (typeof template == \"string\") {\n      dialog.innerHTML = template;\n    } else { // Assuming it's a detached DOM element.\n      dialog.appendChild(template);\n    }\n    CodeMirror.addClass(wrap, 'dialog-opened');\n    return dialog;\n  }\n\n  function closeNotification(cm, newVal) {\n    if (cm.state.currentNotificationClose)\n      cm.state.currentNotificationClose();\n    cm.state.currentNotificationClose = newVal;\n  }\n\n  CodeMirror.defineExtension(\"openDialog\", function(template, callback, options) {\n    if (!options) options = {};\n\n    closeNotification(this, null);\n\n    var dialog = dialogDiv(this, template, options.bottom);\n    var closed = false, me = this;\n    function close(newVal) {\n      if (typeof newVal == 'string') {\n        inp.value = newVal;\n      } else {\n        if (closed) return;\n        closed = true;\n        CodeMirror.rmClass(dialog.parentNode, 'dialog-opened');\n        dialog.parentNode.removeChild(dialog);\n        me.focus();\n\n        if (options.onClose) options.onClose(dialog);\n      }\n    }\n\n    var inp = dialog.getElementsByTagName(\"input\")[0], button;\n    if (inp) {\n      inp.focus();\n\n      if (options.value) {\n        inp.value = options.value;\n        if (options.selectValueOnOpen !== false) {\n          inp.select();\n        }\n      }\n\n      if (options.onInput)\n        CodeMirror.on(inp, \"input\", function(e) { options.onInput(e, inp.value, close);});\n      if (options.onKeyUp)\n        CodeMirror.on(inp, \"keyup\", function(e) {options.onKeyUp(e, inp.value, close);});\n\n      CodeMirror.on(inp, \"keydown\", function(e) {\n        if (options && options.onKeyDown && options.onKeyDown(e, inp.value, close)) { return; }\n        if (e.keyCode == 27 || (options.closeOnEnter !== false && e.keyCode == 13)) {\n          inp.blur();\n          CodeMirror.e_stop(e);\n          close();\n        }\n        if (e.keyCode == 13) callback(inp.value, e);\n      });\n\n      if (options.closeOnBlur !== false) CodeMirror.on(dialog, \"focusout\", function (evt) {\n        if (evt.relatedTarget !== null) close();\n      });\n    } else if (button = dialog.getElementsByTagName(\"button\")[0]) {\n      CodeMirror.on(button, \"click\", function() {\n        close();\n        me.focus();\n      });\n\n      if (options.closeOnBlur !== false) CodeMirror.on(button, \"blur\", close);\n\n      button.focus();\n    }\n    return close;\n  });\n\n  CodeMirror.defineExtension(\"openConfirm\", function(template, callbacks, options) {\n    closeNotification(this, null);\n    var dialog = dialogDiv(this, template, options && options.bottom);\n    var buttons = dialog.getElementsByTagName(\"button\");\n    var closed = false, me = this, blurring = 1;\n    function close() {\n      if (closed) return;\n      closed = true;\n      CodeMirror.rmClass(dialog.parentNode, 'dialog-opened');\n      dialog.parentNode.removeChild(dialog);\n      me.focus();\n    }\n    buttons[0].focus();\n    for (var i = 0; i < buttons.length; ++i) {\n      var b = buttons[i];\n      (function(callback) {\n        CodeMirror.on(b, \"click\", function(e) {\n          CodeMirror.e_preventDefault(e);\n          close();\n          if (callback) callback(me);\n        });\n      })(callbacks[i]);\n      CodeMirror.on(b, \"blur\", function() {\n        --blurring;\n        setTimeout(function() { if (blurring <= 0) close(); }, 200);\n      });\n      CodeMirror.on(b, \"focus\", function() { ++blurring; });\n    }\n  });\n\n  /*\n   * openNotification\n   * Opens a notification, that can be closed with an optional timer\n   * (default 5000ms timer) and always closes on click.\n   *\n   * If a notification is opened while another is opened, it will close the\n   * currently opened one and open the new one immediately.\n   */\n  CodeMirror.defineExtension(\"openNotification\", function(template, options) {\n    closeNotification(this, close);\n    var dialog = dialogDiv(this, template, options && options.bottom);\n    var closed = false, doneTimer;\n    var duration = options && typeof options.duration !== \"undefined\" ? options.duration : 5000;\n\n    function close() {\n      if (closed) return;\n      closed = true;\n      clearTimeout(doneTimer);\n      CodeMirror.rmClass(dialog.parentNode, 'dialog-opened');\n      dialog.parentNode.removeChild(dialog);\n    }\n\n    CodeMirror.on(dialog, 'click', function(e) {\n      CodeMirror.e_preventDefault(e);\n      close();\n    });\n\n    if (duration)\n      doneTimer = setTimeout(close, duration);\n\n    return close;\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var cmds = CodeMirror.commands;\n  var Pos = CodeMirror.Pos;\n  function posEq(a, b) { return a.line == b.line && a.ch == b.ch; }\n\n  // Kill 'ring'\n\n  var killRing = [];\n  function addToRing(str) {\n    killRing.push(str);\n    if (killRing.length > 50) killRing.shift();\n  }\n  function growRingTop(str) {\n    if (!killRing.length) return addToRing(str);\n    killRing[killRing.length - 1] += str;\n  }\n  function getFromRing(n) { return killRing[killRing.length - (n ? Math.min(n, 1) : 1)] || \"\"; }\n  function popFromRing() { if (killRing.length > 1) killRing.pop(); return getFromRing(); }\n\n  var lastKill = null;\n\n  // Internal generic kill function, used by several mapped kill \"family\" functions.\n  function _kill(cm, from, to, ring, text) {\n    if (text == null) text = cm.getRange(from, to);\n\n    if (ring == \"grow\" && lastKill && lastKill.cm == cm && posEq(from, lastKill.pos) && cm.isClean(lastKill.gen))\n      growRingTop(text);\n    else if (ring !== false)\n      addToRing(text);\n    cm.replaceRange(\"\", from, to, \"+delete\");\n\n    if (ring == \"grow\") lastKill = {cm: cm, pos: from, gen: cm.changeGeneration()};\n    else lastKill = null;\n  }\n\n  // Boundaries of various units\n\n  function byChar(cm, pos, dir) {\n    return cm.findPosH(pos, dir, \"char\", true);\n  }\n\n  function byWord(cm, pos, dir) {\n    return cm.findPosH(pos, dir, \"word\", true);\n  }\n\n  function byLine(cm, pos, dir) {\n    return cm.findPosV(pos, dir, \"line\", cm.doc.sel.goalColumn);\n  }\n\n  function byPage(cm, pos, dir) {\n    return cm.findPosV(pos, dir, \"page\", cm.doc.sel.goalColumn);\n  }\n\n  function byParagraph(cm, pos, dir) {\n    var no = pos.line, line = cm.getLine(no);\n    var sawText = /\\S/.test(dir < 0 ? line.slice(0, pos.ch) : line.slice(pos.ch));\n    var fst = cm.firstLine(), lst = cm.lastLine();\n    for (;;) {\n      no += dir;\n      if (no < fst || no > lst)\n        return cm.clipPos(Pos(no - dir, dir < 0 ? 0 : null));\n      line = cm.getLine(no);\n      var hasText = /\\S/.test(line);\n      if (hasText) sawText = true;\n      else if (sawText) return Pos(no, 0);\n    }\n  }\n\n  function bySentence(cm, pos, dir) {\n    var line = pos.line, ch = pos.ch;\n    var text = cm.getLine(pos.line), sawWord = false;\n    for (;;) {\n      var next = text.charAt(ch + (dir < 0 ? -1 : 0));\n      if (!next) { // End/beginning of line reached\n        if (line == (dir < 0 ? cm.firstLine() : cm.lastLine())) return Pos(line, ch);\n        text = cm.getLine(line + dir);\n        if (!/\\S/.test(text)) return Pos(line, ch);\n        line += dir;\n        ch = dir < 0 ? text.length : 0;\n        continue;\n      }\n      if (sawWord && /[!?.]/.test(next)) return Pos(line, ch + (dir > 0 ? 1 : 0));\n      if (!sawWord) sawWord = /\\w/.test(next);\n      ch += dir;\n    }\n  }\n\n  function byExpr(cm, pos, dir) {\n    var wrap;\n    if (cm.findMatchingBracket && (wrap = cm.findMatchingBracket(pos, {strict: true}))\n        && wrap.match && (wrap.forward ? 1 : -1) == dir)\n      return dir > 0 ? Pos(wrap.to.line, wrap.to.ch + 1) : wrap.to;\n\n    for (var first = true;; first = false) {\n      var token = cm.getTokenAt(pos);\n      var after = Pos(pos.line, dir < 0 ? token.start : token.end);\n      if (first && dir > 0 && token.end == pos.ch || !/\\w/.test(token.string)) {\n        var newPos = cm.findPosH(after, dir, \"char\");\n        if (posEq(after, newPos)) return pos;\n        else pos = newPos;\n      } else {\n        return after;\n      }\n    }\n  }\n\n  // Prefixes (only crudely supported)\n\n  function getPrefix(cm, precise) {\n    var digits = cm.state.emacsPrefix;\n    if (!digits) return precise ? null : 1;\n    clearPrefix(cm);\n    return digits == \"-\" ? -1 : Number(digits);\n  }\n\n  function repeated(cmd) {\n    var f = typeof cmd == \"string\" ? function(cm) { cm.execCommand(cmd); } : cmd;\n    return function(cm) {\n      var prefix = getPrefix(cm);\n      f(cm);\n      for (var i = 1; i < prefix; ++i) f(cm);\n    };\n  }\n\n  function findEnd(cm, pos, by, dir) {\n    var prefix = getPrefix(cm);\n    if (prefix < 0) { dir = -dir; prefix = -prefix; }\n    for (var i = 0; i < prefix; ++i) {\n      var newPos = by(cm, pos, dir);\n      if (posEq(newPos, pos)) break;\n      pos = newPos;\n    }\n    return pos;\n  }\n\n  function move(by, dir) {\n    var f = function(cm) {\n      cm.extendSelection(findEnd(cm, cm.getCursor(), by, dir));\n    };\n    f.motion = true;\n    return f;\n  }\n\n  function killTo(cm, by, dir, ring) {\n    var selections = cm.listSelections(), cursor;\n    var i = selections.length;\n    while (i--) {\n      cursor = selections[i].head;\n      _kill(cm, cursor, findEnd(cm, cursor, by, dir), ring);\n    }\n  }\n\n  function _killRegion(cm, ring) {\n    if (cm.somethingSelected()) {\n      var selections = cm.listSelections(), selection;\n      var i = selections.length;\n      while (i--) {\n        selection = selections[i];\n        _kill(cm, selection.anchor, selection.head, ring);\n      }\n      return true;\n    }\n  }\n\n  function addPrefix(cm, digit) {\n    if (cm.state.emacsPrefix) {\n      if (digit != \"-\") cm.state.emacsPrefix += digit;\n      return;\n    }\n    // Not active yet\n    cm.state.emacsPrefix = digit;\n    cm.on(\"keyHandled\", maybeClearPrefix);\n    cm.on(\"inputRead\", maybeDuplicateInput);\n  }\n\n  var prefixPreservingKeys = {\"Alt-G\": true, \"Ctrl-X\": true, \"Ctrl-Q\": true, \"Ctrl-U\": true};\n\n  function maybeClearPrefix(cm, arg) {\n    if (!cm.state.emacsPrefixMap && !prefixPreservingKeys.hasOwnProperty(arg))\n      clearPrefix(cm);\n  }\n\n  function clearPrefix(cm) {\n    cm.state.emacsPrefix = null;\n    cm.off(\"keyHandled\", maybeClearPrefix);\n    cm.off(\"inputRead\", maybeDuplicateInput);\n  }\n\n  function maybeDuplicateInput(cm, event) {\n    var dup = getPrefix(cm);\n    if (dup > 1 && event.origin == \"+input\") {\n      var one = event.text.join(\"\\n\"), txt = \"\";\n      for (var i = 1; i < dup; ++i) txt += one;\n      cm.replaceSelection(txt);\n    }\n  }\n\n  function maybeRemovePrefixMap(cm, arg) {\n    if (typeof arg == \"string\" && (/^\\d$/.test(arg) || arg == \"Ctrl-U\")) return;\n    cm.removeKeyMap(prefixMap);\n    cm.state.emacsPrefixMap = false;\n    cm.off(\"keyHandled\", maybeRemovePrefixMap);\n    cm.off(\"inputRead\", maybeRemovePrefixMap);\n  }\n\n  // Utilities\n\n  cmds.setMark = function (cm) {\n    cm.setCursor(cm.getCursor());\n    cm.setExtending(!cm.getExtending());\n    cm.on(\"change\", function() { cm.setExtending(false); });\n  }\n\n  function clearMark(cm) {\n    cm.setExtending(false);\n    cm.setCursor(cm.getCursor());\n  }\n\n  function makePrompt(msg) {\n    var fragment = document.createDocumentFragment();\n    var input = document.createElement(\"input\");\n    input.setAttribute(\"type\", \"text\");\n    input.style.width = \"10em\";\n    fragment.appendChild(document.createTextNode(msg + \": \"));\n    fragment.appendChild(input);\n    return fragment;\n  }\n\n  function getInput(cm, msg, f) {\n    if (cm.openDialog)\n      cm.openDialog(makePrompt(msg), f, {bottom: true});\n    else\n      f(prompt(msg, \"\"));\n  }\n\n  function operateOnWord(cm, op) {\n    var start = cm.getCursor(), end = cm.findPosH(start, 1, \"word\");\n    cm.replaceRange(op(cm.getRange(start, end)), start, end);\n    cm.setCursor(end);\n  }\n\n  function toEnclosingExpr(cm) {\n    var pos = cm.getCursor(), line = pos.line, ch = pos.ch;\n    var stack = [];\n    while (line >= cm.firstLine()) {\n      var text = cm.getLine(line);\n      for (var i = ch == null ? text.length : ch; i > 0;) {\n        var ch = text.charAt(--i);\n        if (ch == \")\")\n          stack.push(\"(\");\n        else if (ch == \"]\")\n          stack.push(\"[\");\n        else if (ch == \"}\")\n          stack.push(\"{\");\n        else if (/[\\(\\{\\[]/.test(ch) && (!stack.length || stack.pop() != ch))\n          return cm.extendSelection(Pos(line, i));\n      }\n      --line; ch = null;\n    }\n  }\n\n  // Commands. Names should match emacs function names (albeit in camelCase)\n  // except where emacs function names collide with code mirror core commands.\n\n  cmds.killRegion = function(cm) {\n    _kill(cm, cm.getCursor(\"start\"), cm.getCursor(\"end\"), true);\n  };\n\n  // Maps to emacs kill-line\n  cmds.killLineEmacs = repeated(function(cm) {\n    var start = cm.getCursor(), end = cm.clipPos(Pos(start.line));\n    var text = cm.getRange(start, end);\n    if (!/\\S/.test(text)) {\n      text += \"\\n\";\n      end = Pos(start.line + 1, 0);\n    }\n    _kill(cm, start, end, \"grow\", text);\n  });\n\n  cmds.killRingSave = function(cm) {\n    addToRing(cm.getSelection());\n    clearMark(cm);\n  };\n\n  cmds.yank = function(cm) {\n    var start = cm.getCursor();\n    cm.replaceRange(getFromRing(getPrefix(cm)), start, start, \"paste\");\n    cm.setSelection(start, cm.getCursor());\n  };\n\n  cmds.yankPop = function(cm) {\n    cm.replaceSelection(popFromRing(), \"around\", \"paste\");\n  };\n\n  cmds.forwardChar = move(byChar, 1);\n\n  cmds.backwardChar = move(byChar, -1)\n\n  cmds.deleteChar = function(cm) { killTo(cm, byChar, 1, false); };\n\n  cmds.deleteForwardChar = function(cm) {\n    _killRegion(cm, false) || killTo(cm, byChar, 1, false);\n  };\n\n  cmds.deleteBackwardChar = function(cm) {\n    _killRegion(cm, false) || killTo(cm, byChar, -1, false);\n  };\n\n  cmds.forwardWord = move(byWord, 1);\n\n  cmds.backwardWord = move(byWord, -1);\n\n  cmds.killWord = function(cm) { killTo(cm, byWord, 1, \"grow\"); };\n\n  cmds.backwardKillWord = function(cm) { killTo(cm, byWord, -1, \"grow\"); };\n\n  cmds.nextLine = move(byLine, 1);\n\n  cmds.previousLine = move(byLine, -1);\n\n  cmds.scrollDownCommand = move(byPage, 1);\n\n  cmds.scrollUpCommand = move(byPage, -1);\n\n  cmds.backwardParagraph = move(byParagraph, -1);\n\n  cmds.forwardParagraph = move(byParagraph, 1);\n\n  cmds.backwardSentence = move(bySentence, -1);\n\n  cmds.forwardSentence = move(bySentence, 1);\n\n  cmds.killSentence = function(cm) { killTo(cm, bySentence, 1, \"grow\"); };\n\n  cmds.backwardKillSentence = function(cm) {\n    _kill(cm, cm.getCursor(), bySentence(cm, cm.getCursor(), 1), \"grow\");\n  };\n\n  cmds.killSexp = function(cm) { killTo(cm, byExpr, 1, \"grow\"); };\n\n  cmds.backwardKillSexp = function(cm) { killTo(cm, byExpr, -1, \"grow\"); };\n\n  cmds.forwardSexp = move(byExpr, 1);\n\n  cmds.backwardSexp = move(byExpr, -1);\n\n  cmds.markSexp = function(cm) {\n    var cursor = cm.getCursor();\n    cm.setSelection(findEnd(cm, cursor, byExpr, 1), cursor);\n  };\n\n  cmds.transposeSexps = function(cm) {\n    var leftStart = byExpr(cm, cm.getCursor(), -1);\n    var leftEnd = byExpr(cm, leftStart, 1);\n    var rightEnd = byExpr(cm, leftEnd, 1);\n    var rightStart = byExpr(cm, rightEnd, -1);\n    cm.replaceRange(cm.getRange(rightStart, rightEnd) +\n                    cm.getRange(leftEnd, rightStart) +\n                    cm.getRange(leftStart, leftEnd), leftStart, rightEnd);\n  };\n\n  cmds.backwardUpList = repeated(toEnclosingExpr);\n\n  cmds.justOneSpace = function(cm) {\n    var pos = cm.getCursor(), from = pos.ch;\n    var to = pos.ch, text = cm.getLine(pos.line);\n    while (from && /\\s/.test(text.charAt(from - 1))) --from;\n    while (to < text.length && /\\s/.test(text.charAt(to))) ++to;\n    cm.replaceRange(\" \", Pos(pos.line, from), Pos(pos.line, to));\n  };\n\n  cmds.openLine = repeated(function(cm) {\n    cm.replaceSelection(\"\\n\", \"start\");\n  });\n\n  // maps to emacs 'transpose-chars'\n  cmds.transposeCharsRepeatable = repeated(function(cm) {\n    cm.execCommand(\"transposeChars\");\n  });\n\n  cmds.capitalizeWord = repeated(function(cm) {\n    operateOnWord(cm, function(w) {\n      var letter = w.search(/\\w/);\n      if (letter == -1) return w;\n      return w.slice(0, letter) + w.charAt(letter).toUpperCase() +\n          w.slice(letter + 1).toLowerCase();\n    });\n  });\n\n  cmds.upcaseWord = repeated(function(cm) {\n    operateOnWord(cm, function(w) { return w.toUpperCase(); });\n  });\n\n  cmds.downcaseWord = repeated(function(cm) {\n    operateOnWord(cm, function(w) { return w.toLowerCase(); });\n  });\n\n  // maps to emacs 'undo'\n  cmds.undoRepeatable = repeated(\"undo\");\n\n  cmds.keyboardQuit = function(cm) {\n    cm.execCommand(\"clearSearch\");\n    clearMark(cm);\n  }\n\n  cmds.newline = repeated(function(cm) { cm.replaceSelection(\"\\n\", \"end\"); });\n\n  cmds.gotoLine = function(cm) {\n    var prefix = getPrefix(cm, true);\n    if (prefix != null && prefix > 0) return cm.setCursor(prefix - 1);\n\n    getInput(cm, \"Goto line\", function(str) {\n      var num;\n      if (str && !isNaN(num = Number(str)) && num == (num|0) && num > 0)\n      cm.setCursor(num - 1);\n    });\n  };\n\n  cmds.indentRigidly = function(cm) {\n    cm.indentSelection(getPrefix(cm, true) || cm.getOption(\"indentUnit\"));\n  };\n\n  cmds.exchangePointAndMark = function(cm) {\n    cm.setSelection(cm.getCursor(\"head\"), cm.getCursor(\"anchor\"));\n  };\n\n  cmds.quotedInsertTab = repeated(\"insertTab\");\n\n  cmds.universalArgument = function addPrefixMap(cm) {\n    cm.state.emacsPrefixMap = true;\n    cm.addKeyMap(prefixMap);\n    cm.on(\"keyHandled\", maybeRemovePrefixMap);\n    cm.on(\"inputRead\", maybeRemovePrefixMap);\n  };\n\n  CodeMirror.emacs = {kill: _kill, killRegion: _killRegion, repeated: repeated};\n\n  // Actual keymap\n  var keyMap = CodeMirror.keyMap.emacs = CodeMirror.normalizeKeyMap({\n    \"Ctrl-W\": \"killRegion\",\n    \"Ctrl-K\": \"killLineEmacs\",\n    \"Alt-W\": \"killRingSave\",\n    \"Ctrl-Y\": \"yank\",\n    \"Alt-Y\": \"yankPop\",\n    \"Ctrl-Space\": \"setMark\",\n    \"Ctrl-Shift-2\": \"setMark\",\n    \"Ctrl-F\": \"forwardChar\",\n    \"Ctrl-B\": \"backwardChar\",\n    \"Right\": \"forwardChar\",\n    \"Left\": \"backwardChar\",\n    \"Ctrl-D\": \"deleteChar\",\n    \"Delete\": \"deleteForwardChar\",\n    \"Ctrl-H\": \"deleteBackwardChar\",\n    \"Backspace\": \"deleteBackwardChar\",\n    \"Alt-F\": \"forwardWord\",\n    \"Alt-B\": \"backwardWord\",\n    \"Alt-Right\": \"forwardWord\",\n    \"Alt-Left\": \"backwardWord\",\n    \"Alt-D\": \"killWord\",\n    \"Alt-Backspace\": \"backwardKillWord\",\n    \"Ctrl-N\": \"nextLine\",\n    \"Ctrl-P\": \"previousLine\",\n    \"Down\": \"nextLine\",\n    \"Up\": \"previousLine\",\n    \"Ctrl-A\": \"goLineStart\",\n    \"Ctrl-E\": \"goLineEnd\",\n    \"End\": \"goLineEnd\",\n    \"Home\": \"goLineStart\",\n    \"Alt-V\": \"scrollDownCommand\",\n    \"Ctrl-V\": \"scrollUpCommand\",\n    \"PageUp\": \"scrollUpCommand\",\n    \"PageDown\": \"scrollDownCommand\",\n    \"Ctrl-Up\": \"backwardParagraph\",\n    \"Ctrl-Down\": \"forwardParagraph\",\n    \"Alt-{\": \"backwardParagraph\",\n    \"Alt-}\": \"forwardParagraph\",\n    \"Alt-A\": \"backwardSentence\",\n    \"Alt-E\": \"forwardSentence\",\n    \"Alt-K\": \"killSentence\",\n    \"Ctrl-X Delete\": \"backwardKillSentence\",\n    \"Ctrl-Alt-K\": \"killSexp\",\n    \"Ctrl-Alt-Backspace\": \"backwardKillSexp\",\n    \"Ctrl-Alt-F\": \"forwardSexp\",\n    \"Ctrl-Alt-B\": \"backwardSexp\",\n    \"Shift-Ctrl-Alt-2\": \"markSexp\",\n    \"Ctrl-Alt-T\": \"transposeSexps\",\n    \"Ctrl-Alt-U\": \"backwardUpList\",\n    \"Alt-Space\": \"justOneSpace\",\n    \"Ctrl-O\": \"openLine\",\n    \"Ctrl-T\": \"transposeCharsRepeatable\",\n    \"Alt-C\": \"capitalizeWord\",\n    \"Alt-U\": \"upcaseWord\",\n    \"Alt-L\": \"downcaseWord\",\n    \"Alt-;\": \"toggleComment\",\n    \"Ctrl-/\": \"undoRepeatable\",\n    \"Shift-Ctrl--\": \"undoRepeatable\",\n    \"Ctrl-Z\": \"undoRepeatable\",\n    \"Cmd-Z\": \"undoRepeatable\",\n    \"Ctrl-X U\": \"undoRepeatable\",\n    \"Shift-Ctrl-Z\": \"redo\",\n    \"Shift-Alt-,\": \"goDocStart\",\n    \"Shift-Alt-.\": \"goDocEnd\",\n    \"Ctrl-S\": \"findPersistentNext\",\n    \"Ctrl-R\": \"findPersistentPrev\",\n    \"Ctrl-G\": \"keyboardQuit\",\n    \"Shift-Alt-5\": \"replace\",\n    \"Alt-/\": \"autocomplete\",\n    \"Enter\": \"newlineAndIndent\",\n    \"Ctrl-J\": \"newline\",\n    \"Tab\": \"indentAuto\",\n    \"Alt-G G\": \"gotoLine\",\n    \"Ctrl-X Tab\": \"indentRigidly\",\n    \"Ctrl-X Ctrl-X\": \"exchangePointAndMark\",\n    \"Ctrl-X Ctrl-S\": \"save\",\n    \"Ctrl-X Ctrl-W\": \"save\",\n    \"Ctrl-X S\": \"saveAll\",\n    \"Ctrl-X F\": \"open\",\n    \"Ctrl-X K\": \"close\",\n    \"Ctrl-X H\": \"selectAll\",\n    \"Ctrl-Q Tab\": \"quotedInsertTab\",\n    \"Ctrl-U\": \"universalArgument\",\n    \"fallthrough\": \"default\"\n  });\n\n  var prefixMap = {\"Ctrl-G\": clearPrefix};\n  function regPrefix(d) {\n    prefixMap[d] = function(cm) { addPrefix(cm, d); };\n    keyMap[\"Ctrl-\" + d] = function(cm) { addPrefix(cm, d); };\n    prefixPreservingKeys[\"Ctrl-\" + d] = true;\n  }\n  for (var i = 0; i < 10; ++i) regPrefix(String(i));\n  regPrefix(\"-\");\n});\n","'use strict';\n\nfunction _extends() {\n  _extends = Object.assign || function(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\n\nvar __extends = void 0 && (void 0).__extends || function() {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    }\n    instanceof Array && function(d, b) {\n      d.__proto__ = b;\n    } || function(d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function(d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.UnControlled = exports.Controlled = void 0;\n\nvar React = require('react');\n\nvar SERVER_RENDERED = typeof navigator === 'undefined' || global['PREVENT_CODEMIRROR_RENDER'] === true;\nvar cm;\n\nif (!SERVER_RENDERED) {\n  cm = require('codemirror');\n}\n\nvar Helper = function() {\n  function Helper() {}\n\n  Helper.equals = function(x, y) {\n    var _this = this;\n\n    var ok = Object.keys,\n      tx = _typeof(x),\n      ty = _typeof(y);\n\n    return x && y && tx === 'object' && tx === ty ? ok(x).length === ok(y).length && ok(x).every(function(key) {\n      return _this.equals(x[key], y[key]);\n    }) : x === y;\n  };\n\n  return Helper;\n}();\n\nvar Shared = function() {\n  function Shared(editor, props) {\n    this.editor = editor;\n    this.props = props;\n  }\n\n  Shared.prototype.delegateCursor = function(position, scroll, focus) {\n    var doc = this.editor.getDoc();\n\n    if (focus) {\n      this.editor.focus();\n    }\n\n    scroll ? doc.setCursor(position) : doc.setCursor(position, null, {\n      scroll: false\n    });\n  };\n\n  Shared.prototype.delegateScroll = function(coordinates) {\n    this.editor.scrollTo(coordinates.x, coordinates.y);\n  };\n\n  Shared.prototype.delegateSelection = function(ranges, focus) {\n    var doc = this.editor.getDoc();\n    doc.setSelections(ranges);\n\n    if (focus) {\n      this.editor.focus();\n    }\n  };\n\n  Shared.prototype.apply = function(props) {\n    if (props && props.selection && props.selection.ranges) {\n      this.delegateSelection(props.selection.ranges, props.selection.focus || false);\n    }\n\n    if (props && props.cursor) {\n      this.delegateCursor(props.cursor, props.autoScroll || false, this.editor.getOption('autofocus') || false);\n    }\n\n    if (props && props.scroll) {\n      this.delegateScroll(props.scroll);\n    }\n  };\n\n  Shared.prototype.applyNext = function(props, next, preserved) {\n    if (props && props.selection && props.selection.ranges) {\n      if (next && next.selection && next.selection.ranges && !Helper.equals(props.selection.ranges, next.selection.ranges)) {\n        this.delegateSelection(next.selection.ranges, next.selection.focus || false);\n      }\n    }\n\n    if (props && props.cursor) {\n      if (next && next.cursor && !Helper.equals(props.cursor, next.cursor)) {\n        this.delegateCursor(preserved.cursor || next.cursor, next.autoScroll || false, next.autoCursor || false);\n      }\n    }\n\n    if (props && props.scroll) {\n      if (next && next.scroll && !Helper.equals(props.scroll, next.scroll)) {\n        this.delegateScroll(next.scroll);\n      }\n    }\n  };\n\n  Shared.prototype.applyUserDefined = function(props, preserved) {\n    if (preserved && preserved.cursor) {\n      this.delegateCursor(preserved.cursor, props.autoScroll || false, this.editor.getOption('autofocus') || false);\n    }\n  };\n\n  Shared.prototype.wire = function(props) {\n    var _this = this;\n\n    Object.keys(props || {}).filter(function(p) {\n      return /^on/.test(p);\n    }).forEach(function(prop) {\n      switch (prop) {\n        case 'onBlur': {\n          _this.editor.on('blur', function(cm, event) {\n            _this.props.onBlur(_this.editor, event);\n          });\n        }\n        break;\n\n      case 'onContextMenu': {\n        _this.editor.on('contextmenu', function(cm, event) {\n          _this.props.onContextMenu(_this.editor, event);\n        });\n\n        break;\n      }\n\n      case 'onCopy': {\n        _this.editor.on('copy', function(cm, event) {\n          _this.props.onCopy(_this.editor, event);\n        });\n\n        break;\n      }\n\n      case 'onCursor': {\n        _this.editor.on('cursorActivity', function(cm) {\n          _this.props.onCursor(_this.editor, _this.editor.getDoc().getCursor());\n        });\n      }\n      break;\n\n      case 'onCursorActivity': {\n        _this.editor.on('cursorActivity', function(cm) {\n          _this.props.onCursorActivity(_this.editor);\n        });\n      }\n      break;\n\n      case 'onCut': {\n        _this.editor.on('cut', function(cm, event) {\n          _this.props.onCut(_this.editor, event);\n        });\n\n        break;\n      }\n\n      case 'onDblClick': {\n        _this.editor.on('dblclick', function(cm, event) {\n          _this.props.onDblClick(_this.editor, event);\n        });\n\n        break;\n      }\n\n      case 'onDragEnter': {\n        _this.editor.on('dragenter', function(cm, event) {\n          _this.props.onDragEnter(_this.editor, event);\n        });\n      }\n      break;\n\n      case 'onDragLeave': {\n        _this.editor.on('dragleave', function(cm, event) {\n          _this.props.onDragLeave(_this.editor, event);\n        });\n\n        break;\n      }\n\n      case 'onDragOver': {\n        _this.editor.on('dragover', function(cm, event) {\n          _this.props.onDragOver(_this.editor, event);\n        });\n      }\n      break;\n\n      case 'onDragStart': {\n        _this.editor.on('dragstart', function(cm, event) {\n          _this.props.onDragStart(_this.editor, event);\n        });\n\n        break;\n      }\n\n      case 'onDrop': {\n        _this.editor.on('drop', function(cm, event) {\n          _this.props.onDrop(_this.editor, event);\n        });\n      }\n      break;\n\n      case 'onFocus': {\n        _this.editor.on('focus', function(cm, event) {\n          _this.props.onFocus(_this.editor, event);\n        });\n      }\n      break;\n\n      case 'onGutterClick': {\n        _this.editor.on('gutterClick', function(cm, lineNumber, gutter, event) {\n          _this.props.onGutterClick(_this.editor, lineNumber, gutter, event);\n        });\n      }\n      break;\n\n      case 'onInputRead': {\n        _this.editor.on('inputRead', function(cm, EditorChangeEvent) {\n          _this.props.onInputRead(_this.editor, EditorChangeEvent);\n        });\n      }\n      break;\n\n      case 'onKeyDown': {\n        _this.editor.on('keydown', function(cm, event) {\n          _this.props.onKeyDown(_this.editor, event);\n        });\n      }\n      break;\n\n      case 'onKeyHandled': {\n        _this.editor.on('keyHandled', function(cm, key, event) {\n          _this.props.onKeyHandled(_this.editor, key, event);\n        });\n      }\n      break;\n\n      case 'onKeyPress': {\n        _this.editor.on('keypress', function(cm, event) {\n          _this.props.onKeyPress(_this.editor, event);\n        });\n      }\n      break;\n\n      case 'onKeyUp': {\n        _this.editor.on('keyup', function(cm, event) {\n          _this.props.onKeyUp(_this.editor, event);\n        });\n      }\n      break;\n\n      case 'onMouseDown': {\n        _this.editor.on('mousedown', function(cm, event) {\n          _this.props.onMouseDown(_this.editor, event);\n        });\n\n        break;\n      }\n\n      case 'onPaste': {\n        _this.editor.on('paste', function(cm, event) {\n          _this.props.onPaste(_this.editor, event);\n        });\n\n        break;\n      }\n\n      case 'onRenderLine': {\n        _this.editor.on('renderLine', function(cm, line, element) {\n          _this.props.onRenderLine(_this.editor, line, element);\n        });\n\n        break;\n      }\n\n      case 'onScroll': {\n        _this.editor.on('scroll', function(cm) {\n          _this.props.onScroll(_this.editor, _this.editor.getScrollInfo());\n        });\n      }\n      break;\n\n      case 'onSelection': {\n        _this.editor.on('beforeSelectionChange', function(cm, data) {\n          _this.props.onSelection(_this.editor, data);\n        });\n      }\n      break;\n\n      case 'onTouchStart': {\n        _this.editor.on('touchstart', function(cm, event) {\n          _this.props.onTouchStart(_this.editor, event);\n        });\n\n        break;\n      }\n\n      case 'onUpdate': {\n        _this.editor.on('update', function(cm) {\n          _this.props.onUpdate(_this.editor);\n        });\n      }\n      break;\n\n      case 'onViewportChange': {\n        _this.editor.on('viewportChange', function(cm, from, to) {\n          _this.props.onViewportChange(_this.editor, from, to);\n        });\n      }\n      break;\n      }\n    });\n  };\n\n  return Shared;\n}();\n\nvar Controlled = function(_super) {\n  __extends(Controlled, _super);\n\n  function Controlled(props) {\n    var _this = _super.call(this, props) || this;\n\n    if (SERVER_RENDERED) return _this;\n    _this.applied = false;\n    _this.appliedNext = false;\n    _this.appliedUserDefined = false;\n    _this.deferred = null;\n    _this.emulating = false;\n    _this.hydrated = false;\n\n    _this.initCb = function() {\n      if (_this.props.editorDidConfigure) {\n        _this.props.editorDidConfigure(_this.editor);\n      }\n    };\n\n    _this.mounted = false;\n    return _this;\n  }\n\n  Controlled.prototype.hydrate = function(props) {\n    var _this = this;\n\n    var _options = props && props.options ? props.options : {};\n\n    var userDefinedOptions = _extends({}, cm.defaults, this.editor.options, _options);\n\n    var optionDelta = Object.keys(userDefinedOptions).some(function(key) {\n      return _this.editor.getOption(key) !== userDefinedOptions[key];\n    });\n\n    if (optionDelta) {\n      Object.keys(userDefinedOptions).forEach(function(key) {\n        if (_options.hasOwnProperty(key)) {\n          if (_this.editor.getOption(key) !== userDefinedOptions[key]) {\n            _this.editor.setOption(key, userDefinedOptions[key]);\n\n            _this.mirror.setOption(key, userDefinedOptions[key]);\n          }\n        }\n      });\n    }\n\n    if (!this.hydrated) {\n      this.deferred ? this.resolveChange(props.value) : this.initChange(props.value || '');\n    }\n\n    this.hydrated = true;\n  };\n\n  Controlled.prototype.initChange = function(value) {\n    this.emulating = true;\n    var doc = this.editor.getDoc();\n    var lastLine = doc.lastLine();\n    var lastChar = doc.getLine(doc.lastLine()).length;\n    doc.replaceRange(value || '', {\n      line: 0,\n      ch: 0\n    }, {\n      line: lastLine,\n      ch: lastChar\n    });\n    this.mirror.setValue(value);\n    doc.clearHistory();\n    this.mirror.clearHistory();\n    this.emulating = false;\n  };\n\n  Controlled.prototype.resolveChange = function(value) {\n    this.emulating = true;\n    var doc = this.editor.getDoc();\n\n    if (this.deferred.origin === 'undo') {\n      doc.undo();\n    } else if (this.deferred.origin === 'redo') {\n      doc.redo();\n    } else {\n      doc.replaceRange(this.deferred.text, this.deferred.from, this.deferred.to, this.deferred.origin);\n    }\n\n    if (value && value !== doc.getValue()) {\n      var cursor = doc.getCursor();\n      doc.setValue(value);\n      doc.setCursor(cursor);\n    }\n\n    this.emulating = false;\n    this.deferred = null;\n  };\n\n  Controlled.prototype.mirrorChange = function(deferred) {\n    var doc = this.editor.getDoc();\n\n    if (deferred.origin === 'undo') {\n      doc.setHistory(this.mirror.getHistory());\n      this.mirror.undo();\n    } else if (deferred.origin === 'redo') {\n      doc.setHistory(this.mirror.getHistory());\n      this.mirror.redo();\n    } else {\n      this.mirror.replaceRange(deferred.text, deferred.from, deferred.to, deferred.origin);\n    }\n\n    return this.mirror.getValue();\n  };\n\n  Controlled.prototype.componentDidMount = function() {\n    var _this = this;\n\n    if (SERVER_RENDERED) return;\n\n    if (this.props.defineMode) {\n      if (this.props.defineMode.name && this.props.defineMode.fn) {\n        cm.defineMode(this.props.defineMode.name, this.props.defineMode.fn);\n      }\n    }\n\n    this.editor = cm(this.ref, this.props.options);\n    this.shared = new Shared(this.editor, this.props);\n    this.mirror = cm(function() {}, this.props.options);\n    this.editor.on('electricInput', function() {\n      _this.mirror.setHistory(_this.editor.getDoc().getHistory());\n    });\n    this.editor.on('cursorActivity', function() {\n      _this.mirror.setCursor(_this.editor.getDoc().getCursor());\n    });\n    this.editor.on('beforeChange', function(cm, data) {\n      if (_this.emulating) {\n        return;\n      }\n\n      data.cancel();\n      _this.deferred = data;\n\n      var phantomChange = _this.mirrorChange(_this.deferred);\n\n      if (_this.props.onBeforeChange) _this.props.onBeforeChange(_this.editor, _this.deferred, phantomChange);\n    });\n    this.editor.on('change', function(cm, data) {\n      if (!_this.mounted) {\n        return;\n      }\n\n      if (_this.props.onChange) {\n        _this.props.onChange(_this.editor, data, _this.editor.getValue());\n      }\n    });\n    this.hydrate(this.props);\n    this.shared.apply(this.props);\n    this.applied = true;\n    this.mounted = true;\n    this.shared.wire(this.props);\n\n    if (this.editor.getOption('autofocus')) {\n      this.editor.focus();\n    }\n\n    if (this.props.editorDidMount) {\n      this.props.editorDidMount(this.editor, this.editor.getValue(), this.initCb);\n    }\n  };\n\n  Controlled.prototype.componentDidUpdate = function(prevProps) {\n    if (SERVER_RENDERED) return;\n    var preserved = {\n      cursor: null\n    };\n\n    if (this.props.value !== prevProps.value) {\n      this.hydrated = false;\n    }\n\n    if (!this.props.autoCursor && this.props.autoCursor !== undefined) {\n      preserved.cursor = this.editor.getDoc().getCursor();\n    }\n\n    this.hydrate(this.props);\n\n    if (!this.appliedNext) {\n      this.shared.applyNext(prevProps, this.props, preserved);\n      this.appliedNext = true;\n    }\n\n    this.shared.applyUserDefined(prevProps, preserved);\n    this.appliedUserDefined = true;\n  };\n\n  Controlled.prototype.componentWillUnmount = function() {\n    if (SERVER_RENDERED) return;\n\n    if (this.props.editorWillUnmount) {\n      this.props.editorWillUnmount(cm);\n    }\n  };\n\n  Controlled.prototype.shouldComponentUpdate = function(nextProps, nextState) {\n    return !SERVER_RENDERED;\n  };\n\n  Controlled.prototype.render = function() {\n    var _this = this;\n\n    if (SERVER_RENDERED) return null;\n    var className = this.props.className ? 'react-codemirror2 ' + this.props.className : 'react-codemirror2';\n    return React.createElement('div', {\n      className: className,\n      ref: function ref(self) {\n        return _this.ref = self;\n      }\n    });\n  };\n\n  return Controlled;\n}(React.Component);\n\nexports.Controlled = Controlled;\n\nvar UnControlled = function(_super) {\n  __extends(UnControlled, _super);\n\n  function UnControlled(props) {\n    var _this = _super.call(this, props) || this;\n\n    if (SERVER_RENDERED) return _this;\n    _this.applied = false;\n    _this.appliedUserDefined = false;\n    _this.continueChange = false;\n    _this.detached = false;\n    _this.hydrated = false;\n\n    _this.initCb = function() {\n      if (_this.props.editorDidConfigure) {\n        _this.props.editorDidConfigure(_this.editor);\n      }\n    };\n\n    _this.mounted = false;\n\n    _this.onBeforeChangeCb = function() {\n      _this.continueChange = true;\n    };\n\n    return _this;\n  }\n\n  UnControlled.prototype.hydrate = function(props) {\n    var _this = this;\n\n    var _options = props && props.options ? props.options : {};\n\n    var userDefinedOptions = _extends({}, cm.defaults, this.editor.options, _options);\n\n    var optionDelta = Object.keys(userDefinedOptions).some(function(key) {\n      return _this.editor.getOption(key) !== userDefinedOptions[key];\n    });\n\n    if (optionDelta) {\n      Object.keys(userDefinedOptions).forEach(function(key) {\n        if (_options.hasOwnProperty(key)) {\n          if (_this.editor.getOption(key) !== userDefinedOptions[key]) {\n            _this.editor.setOption(key, userDefinedOptions[key]);\n          }\n        }\n      });\n    }\n\n    if (!this.hydrated) {\n      var doc = this.editor.getDoc();\n      var lastLine = doc.lastLine();\n      var lastChar = doc.getLine(doc.lastLine()).length;\n      doc.replaceRange(props.value || '', {\n        line: 0,\n        ch: 0\n      }, {\n        line: lastLine,\n        ch: lastChar\n      });\n    }\n\n    this.hydrated = true;\n  };\n\n  UnControlled.prototype.componentDidMount = function() {\n    var _this = this;\n\n    if (SERVER_RENDERED) return;\n    this.detached = this.props.detach === true;\n\n    if (this.props.defineMode) {\n      if (this.props.defineMode.name && this.props.defineMode.fn) {\n        cm.defineMode(this.props.defineMode.name, this.props.defineMode.fn);\n      }\n    }\n\n    this.editor = cm(this.ref, this.props.options);\n    this.shared = new Shared(this.editor, this.props);\n    this.editor.on('beforeChange', function(cm, data) {\n      if (_this.props.onBeforeChange) {\n        _this.props.onBeforeChange(_this.editor, data, _this.editor.getValue(), _this.onBeforeChangeCb);\n      }\n    });\n    this.editor.on('change', function(cm, data) {\n      if (!_this.mounted || !_this.props.onChange) {\n        return;\n      }\n\n      if (_this.props.onBeforeChange) {\n        if (_this.continueChange) {\n          _this.props.onChange(_this.editor, data, _this.editor.getValue());\n        }\n      } else {\n        _this.props.onChange(_this.editor, data, _this.editor.getValue());\n      }\n    });\n    this.hydrate(this.props);\n    this.shared.apply(this.props);\n    this.applied = true;\n    this.mounted = true;\n    this.shared.wire(this.props);\n    this.editor.getDoc().clearHistory();\n\n    if (this.props.editorDidMount) {\n      this.props.editorDidMount(this.editor, this.editor.getValue(), this.initCb);\n    }\n  };\n\n  UnControlled.prototype.componentDidUpdate = function(prevProps) {\n    if (this.detached && this.props.detach === false) {\n      this.detached = false;\n\n      if (prevProps.editorDidAttach) {\n        prevProps.editorDidAttach(this.editor);\n      }\n    }\n\n    if (!this.detached && this.props.detach === true) {\n      this.detached = true;\n\n      if (prevProps.editorDidDetach) {\n        prevProps.editorDidDetach(this.editor);\n      }\n    }\n\n    if (SERVER_RENDERED || this.detached) return;\n    var preserved = {\n      cursor: null\n    };\n\n    if (this.props.value !== prevProps.value) {\n      this.hydrated = false;\n      this.applied = false;\n      this.appliedUserDefined = false;\n    }\n\n    if (!prevProps.autoCursor && prevProps.autoCursor !== undefined) {\n      preserved.cursor = this.editor.getDoc().getCursor();\n    }\n\n    this.hydrate(this.props);\n\n    if (!this.applied) {\n      this.shared.apply(prevProps);\n      this.applied = true;\n    }\n\n    if (!this.appliedUserDefined) {\n      this.shared.applyUserDefined(prevProps, preserved);\n      this.appliedUserDefined = true;\n    }\n  };\n\n  UnControlled.prototype.componentWillUnmount = function() {\n    if (SERVER_RENDERED) return;\n\n    if (this.props.editorWillUnmount) {\n      this.props.editorWillUnmount(cm);\n    }\n  };\n\n  UnControlled.prototype.shouldComponentUpdate = function(nextProps, nextState) {\n    var update = true;\n    if (SERVER_RENDERED) update = false;\n    if (this.detached && nextProps.detach) update = false;\n    return update;\n  };\n\n  UnControlled.prototype.render = function() {\n    var _this = this;\n\n    if (SERVER_RENDERED) return null;\n    var className = this.props.className ? 'react-codemirror2 ' + this.props.className : 'react-codemirror2';\n    return React.createElement('div', {\n      className: className,\n      ref: function ref(self) {\n        return _this.ref = self;\n      }\n    });\n  };\n\n  return UnControlled;\n}(React.Component);\n\nexports.UnControlled = UnControlled;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z\"\n}), 'Settings');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"\n}), 'Done');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\n\nexports.default = _default;","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\\\/]+)?([\\S\\s]*)/i\n  , windowsDriveLetter = /^[a-zA-Z]:/\n  , whitespace = '[\\\\x09\\\\x0A\\\\x0B\\\\x0C\\\\x0D\\\\x20\\\\xA0\\\\u1680\\\\u180E\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200A\\\\u202F\\\\u205F\\\\u3000\\\\u2028\\\\u2029\\\\uFEFF]'\n  , left = new RegExp('^'+ whitespace +'+');\n\n/**\n * Trim a given string.\n *\n * @param {String} str String to trim.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(left, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address, url) {     // Sanitize what is left of the address\n    return isSpecial(url.protocol) ? address.replace(/\\\\/g, '/') : address;\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d+)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * Check whether a protocol scheme is special.\n *\n * @param {String} The protocol scheme of the URL\n * @return {Boolean} `true` if the protocol scheme is special, else `false`\n * @private\n */\nfunction isSpecial(scheme) {\n  return (\n    scheme === 'file:' ||\n    scheme === 'ftp:' ||\n    scheme === 'http:' ||\n    scheme === 'https:' ||\n    scheme === 'ws:' ||\n    scheme === 'wss:'\n  );\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @param {Object} location\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address, location) {\n  address = trimLeft(address);\n  location = location || {};\n\n  var match = protocolre.exec(address);\n  var protocol = match[1] ? match[1].toLowerCase() : '';\n  var forwardSlashes = !!match[2];\n  var otherSlashes = !!match[3];\n  var slashesCount = 0;\n  var rest;\n\n  if (forwardSlashes) {\n    if (otherSlashes) {\n      rest = match[2] + match[3] + match[4];\n      slashesCount = match[2].length + match[3].length;\n    } else {\n      rest = match[2] + match[4];\n      slashesCount = match[2].length;\n    }\n  } else {\n    if (otherSlashes) {\n      rest = match[3] + match[4];\n      slashesCount = match[3].length;\n    } else {\n      rest = match[4]\n    }\n  }\n\n  if (protocol === 'file:') {\n    if (slashesCount >= 2) {\n      rest = rest.slice(2);\n    }\n  } else if (isSpecial(protocol)) {\n    rest = match[4];\n  } else if (protocol) {\n    if (forwardSlashes) {\n      rest = rest.slice(2);\n    }\n  } else if (slashesCount >= 2 && isSpecial(location.protocol)) {\n    rest = match[4];\n  }\n\n  return {\n    protocol: protocol,\n    slashes: forwardSlashes || isSpecial(protocol),\n    slashesCount: slashesCount,\n    rest: rest\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '', location);\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (\n    extracted.protocol === 'file:' && (\n      extracted.slashesCount !== 2 || windowsDriveLetter.test(address)) ||\n    (!extracted.slashes &&\n      (extracted.protocol ||\n        extracted.slashesCount < 2 ||\n        !isSpecial(url.protocol)))\n  ) {\n    instructions[3] = [/(.*)/, 'pathname'];\n  }\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address, url);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      if (~(index = address.indexOf(parse))) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // Default to a / for pathname if none exists. This normalizes the URL\n  // to always have a /\n  //\n  if (url.pathname.charAt(0) !== '/' && isSpecial(url.protocol)) {\n    url.pathname = '/' + url.pathname;\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n  if (url.auth) {\n    instruction = url.auth.split(':');\n    url.username = instruction[0] || '';\n    url.password = instruction[1] || '';\n  }\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (/:\\d+$/.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    default:\n      url[part] = value;\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result = protocol + (url.slashes || isSpecial(url.protocol) ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  }\n\n  result += url.host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03 0 1.42.39.39 1.02.39 1.41 0l6.59-6.59c.39-.39.39-1.02 0-1.41l-6.58-6.6a.9959.9959 0 00-1.41 0c-.39.39-.39 1.02 0 1.41L16.17 11H5c-.55 0-1 .45-1 1s.45 1 1 1z\"\n}), 'ArrowForwardRounded');\n\nexports.default = _default;","var domToReact = require('./lib/dom-to-react');\nvar attributesToProps = require('./lib/attributes-to-props');\nvar htmlToDOM = require('html-dom-parser');\n\nvar domParserOptions = { lowerCaseAttributeNames: false };\n\n/**\n * Converts HTML string to React elements.\n *\n * @param  {String}   html                    - HTML string.\n * @param  {Object}   [options]               - Parser options.\n * @param  {Object}   [options.htmlparser2]   - htmlparser2 options.\n * @param  {Object}   [options.library]       - Library for React, Preact, etc.\n * @param  {Function} [options.replace]       - Replace method.\n * @return {JSX.Element|JSX.Element[]|String} - React element(s), empty array, or string.\n */\nfunction HTMLReactParser(html, options) {\n  if (typeof html !== 'string') {\n    throw new TypeError('First argument must be a string');\n  }\n  if (html === '') {\n    return [];\n  }\n  options = options || {};\n  return domToReact(\n    htmlToDOM(html, options.htmlparser2 || domParserOptions),\n    options\n  );\n}\n\nHTMLReactParser.domToReact = domToReact;\nHTMLReactParser.htmlToDOM = htmlToDOM;\nHTMLReactParser.attributesToProps = attributesToProps;\n\n// support CommonJS and ES Modules\nmodule.exports = HTMLReactParser;\nmodule.exports.default = HTMLReactParser;\n","var React = require('react');\nvar attributesToProps = require('./attributes-to-props');\nvar utilities = require('./utilities');\n\nvar setStyleProp = utilities.setStyleProp;\n\n/**\n * Converts DOM nodes to JSX element(s).\n *\n * @param  {DomElement[]} nodes             - DOM nodes.\n * @param  {object}       [options={}]      - Options.\n * @param  {Function}     [options.replace] - Replacer.\n * @param  {object}       [options.library] - Library (React/Preact/etc.).\n * @return {string|JSX.Element|JSX.Element[]}\n */\nfunction domToReact(nodes, options) {\n  options = options || {};\n\n  var library = options.library || React;\n  var cloneElement = library.cloneElement;\n  var createElement = library.createElement;\n  var isValidElement = library.isValidElement;\n\n  var result = [];\n  var node;\n  var hasReplace = typeof options.replace === 'function';\n  var replaceElement;\n  var props;\n  var children;\n  var data;\n  var trim = options.trim;\n\n  for (var i = 0, len = nodes.length; i < len; i++) {\n    node = nodes[i];\n\n    // replace with custom React element (if present)\n    if (hasReplace) {\n      replaceElement = options.replace(node);\n\n      if (isValidElement(replaceElement)) {\n        // set \"key\" prop for sibling elements\n        // https://fb.me/react-warning-keys\n        if (len > 1) {\n          replaceElement = cloneElement(replaceElement, {\n            key: replaceElement.key || i\n          });\n        }\n        result.push(replaceElement);\n        continue;\n      }\n    }\n\n    if (node.type === 'text') {\n      // if trim option is enabled, skip whitespace text nodes\n      if (trim) {\n        data = node.data.trim();\n        if (data) {\n          result.push(node.data);\n        }\n      } else {\n        result.push(node.data);\n      }\n      continue;\n    }\n\n    props = node.attribs;\n    if (skipAttributesToProps(node)) {\n      setStyleProp(props.style, props);\n    } else if (props) {\n      props = attributesToProps(props);\n    }\n\n    children = null;\n\n    switch (node.type) {\n      case 'script':\n      case 'style':\n        // prevent text in <script> or <style> from being escaped\n        // https://reactjs.org/docs/dom-elements.html#dangerouslysetinnerhtml\n        if (node.children[0]) {\n          props.dangerouslySetInnerHTML = {\n            __html: node.children[0].data\n          };\n        }\n        break;\n\n      case 'tag':\n        // setting textarea value in children is an antipattern in React\n        // https://reactjs.org/docs/forms.html#the-textarea-tag\n        if (node.name === 'textarea' && node.children[0]) {\n          props.defaultValue = node.children[0].data;\n        } else if (node.children && node.children.length) {\n          // continue recursion of creating React elements (if applicable)\n          children = domToReact(node.children, options);\n        }\n        break;\n\n      // skip all other cases (e.g., comment)\n      default:\n        continue;\n    }\n\n    // set \"key\" prop for sibling elements\n    // https://fb.me/react-warning-keys\n    if (len > 1) {\n      props.key = i;\n    }\n\n    result.push(createElement(node.name, props, children));\n  }\n\n  return result.length === 1 ? result[0] : result;\n}\n\n/**\n * Determines whether DOM element attributes should be transformed to props.\n * Web Components should not have their attributes transformed except for `style`.\n *\n * @param  {DomElement} node\n * @return {boolean}\n */\nfunction skipAttributesToProps(node) {\n  return (\n    utilities.PRESERVE_CUSTOM_ATTRIBUTES &&\n    node.type === 'tag' &&\n    utilities.isCustomComponent(node.name, node.attribs)\n  );\n}\n\nmodule.exports = domToReact;\n","var HTMLDOMPropertyConfig = require('./lib/HTMLDOMPropertyConfig');\nvar SVGDOMPropertyConfig = require('./lib/SVGDOMPropertyConfig');\nvar injection = require('./lib/injection');\n\nvar MUST_USE_PROPERTY = injection.MUST_USE_PROPERTY;\nvar HAS_BOOLEAN_VALUE = injection.HAS_BOOLEAN_VALUE;\nvar HAS_NUMERIC_VALUE = injection.HAS_NUMERIC_VALUE;\nvar HAS_POSITIVE_NUMERIC_VALUE = injection.HAS_POSITIVE_NUMERIC_VALUE;\nvar HAS_OVERLOADED_BOOLEAN_VALUE = injection.HAS_OVERLOADED_BOOLEAN_VALUE;\n\n/**\n * @see https://github.com/facebook/react/blob/15-stable/src/renderers/dom/shared/DOMProperty.js#L14-L16\n *\n * @param  {Number}  value\n * @param  {Number}  bitmask\n * @return {Boolean}\n */\nfunction checkMask(value, bitmask) {\n  return (value & bitmask) === bitmask;\n}\n\n/**\n * @see https://github.com/facebook/react/blob/15-stable/src/renderers/dom/shared/DOMProperty.js#L57\n *\n * @param {Object}  domPropertyConfig - HTMLDOMPropertyConfig or SVGDOMPropertyConfig\n * @param {Object}  config            - The object to be mutated\n * @param {Boolean} isSVG             - Whether the injected config is HTML or SVG (it assumes the default is HTML)\n */\nfunction injectDOMPropertyConfig(domPropertyConfig, config, isSVG) {\n  var Properties = domPropertyConfig.Properties;\n  var DOMAttributeNames = domPropertyConfig.DOMAttributeNames;\n  var attributeName;\n  var propertyName;\n  var propConfig;\n\n  for (propertyName in Properties) {\n    attributeName =\n      DOMAttributeNames[propertyName] ||\n      (isSVG ? propertyName : propertyName.toLowerCase());\n    propConfig = Properties[propertyName];\n\n    config[attributeName] = {\n      attributeName: attributeName,\n      propertyName: propertyName,\n      mustUseProperty: checkMask(propConfig, MUST_USE_PROPERTY),\n      hasBooleanValue: checkMask(propConfig, HAS_BOOLEAN_VALUE),\n      hasNumericValue: checkMask(propConfig, HAS_NUMERIC_VALUE),\n      hasPositiveNumericValue: checkMask(\n        propConfig,\n        HAS_POSITIVE_NUMERIC_VALUE\n      ),\n      hasOverloadedBooleanValue: checkMask(\n        propConfig,\n        HAS_OVERLOADED_BOOLEAN_VALUE\n      )\n    };\n  }\n}\n\n/**\n * HTML properties config.\n *\n * @type {Object}\n */\nvar html = {};\ninjectDOMPropertyConfig(HTMLDOMPropertyConfig, html);\n\n/**\n * SVG properties config.\n *\n * @type {Object}\n */\nvar svg = {};\ninjectDOMPropertyConfig(SVGDOMPropertyConfig, svg, true);\n\n/**\n * HTML and SVG properties config.\n *\n * @type {Object}\n */\nvar properties = {};\ninjectDOMPropertyConfig(HTMLDOMPropertyConfig, properties);\ninjectDOMPropertyConfig(SVGDOMPropertyConfig, properties, true);\n\nvar ATTRIBUTE_NAME_START_CHAR =\n  ':A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD';\nvar ATTRIBUTE_NAME_CHAR =\n  ATTRIBUTE_NAME_START_CHAR + '\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040';\n\nmodule.exports = {\n  html: html,\n  svg: svg,\n  properties: properties,\n\n  /**\n   * Checks whether a property name is a custom attribute.\n   *\n   * @see https://github.com/facebook/react/blob/15-stable/src/renderers/dom/shared/HTMLDOMPropertyConfig.js#L23-L25\n   *\n   * @param {String}\n   * @return {Boolean}\n   */\n  isCustomAttribute: RegExp.prototype.test.bind(\n    new RegExp('^(data|aria)-[' + ATTRIBUTE_NAME_CHAR + ']*$')\n  )\n};\n","module.exports = {\n  Properties: {\n    autoFocus: 4,\n    accept: 0,\n    acceptCharset: 0,\n    accessKey: 0,\n    action: 0,\n    allowFullScreen: 4,\n    allowTransparency: 0,\n    alt: 0,\n    as: 0,\n    async: 4,\n    autoComplete: 0,\n    autoPlay: 4,\n    capture: 4,\n    cellPadding: 0,\n    cellSpacing: 0,\n    charSet: 0,\n    challenge: 0,\n    checked: 5,\n    cite: 0,\n    classID: 0,\n    className: 0,\n    cols: 24,\n    colSpan: 0,\n    content: 0,\n    contentEditable: 0,\n    contextMenu: 0,\n    controls: 4,\n    controlsList: 0,\n    coords: 0,\n    crossOrigin: 0,\n    data: 0,\n    dateTime: 0,\n    default: 4,\n    defer: 4,\n    dir: 0,\n    disabled: 4,\n    download: 32,\n    draggable: 0,\n    encType: 0,\n    form: 0,\n    formAction: 0,\n    formEncType: 0,\n    formMethod: 0,\n    formNoValidate: 4,\n    formTarget: 0,\n    frameBorder: 0,\n    headers: 0,\n    height: 0,\n    hidden: 4,\n    high: 0,\n    href: 0,\n    hrefLang: 0,\n    htmlFor: 0,\n    httpEquiv: 0,\n    icon: 0,\n    id: 0,\n    inputMode: 0,\n    integrity: 0,\n    is: 0,\n    keyParams: 0,\n    keyType: 0,\n    kind: 0,\n    label: 0,\n    lang: 0,\n    list: 0,\n    loop: 4,\n    low: 0,\n    manifest: 0,\n    marginHeight: 0,\n    marginWidth: 0,\n    max: 0,\n    maxLength: 0,\n    media: 0,\n    mediaGroup: 0,\n    method: 0,\n    min: 0,\n    minLength: 0,\n    multiple: 5,\n    muted: 5,\n    name: 0,\n    nonce: 0,\n    noValidate: 4,\n    open: 4,\n    optimum: 0,\n    pattern: 0,\n    placeholder: 0,\n    playsInline: 4,\n    poster: 0,\n    preload: 0,\n    profile: 0,\n    radioGroup: 0,\n    readOnly: 4,\n    referrerPolicy: 0,\n    rel: 0,\n    required: 4,\n    reversed: 4,\n    role: 0,\n    rows: 24,\n    rowSpan: 8,\n    sandbox: 0,\n    scope: 0,\n    scoped: 4,\n    scrolling: 0,\n    seamless: 4,\n    selected: 5,\n    shape: 0,\n    size: 24,\n    sizes: 0,\n    span: 24,\n    spellCheck: 0,\n    src: 0,\n    srcDoc: 0,\n    srcLang: 0,\n    srcSet: 0,\n    start: 8,\n    step: 0,\n    style: 0,\n    summary: 0,\n    tabIndex: 0,\n    target: 0,\n    title: 0,\n    type: 0,\n    useMap: 0,\n    value: 0,\n    width: 0,\n    wmode: 0,\n    wrap: 0,\n    about: 0,\n    datatype: 0,\n    inlist: 0,\n    prefix: 0,\n    property: 0,\n    resource: 0,\n    typeof: 0,\n    vocab: 0,\n    autoCapitalize: 0,\n    autoCorrect: 0,\n    autoSave: 0,\n    color: 0,\n    itemProp: 0,\n    itemScope: 4,\n    itemType: 0,\n    itemID: 0,\n    itemRef: 0,\n    results: 0,\n    security: 0,\n    unselectable: 0\n  },\n  DOMAttributeNames: {\n    acceptCharset: 'accept-charset',\n    className: 'class',\n    htmlFor: 'for',\n    httpEquiv: 'http-equiv'\n  }\n};\n","module.exports = {\n  Properties: {\n    accentHeight: 0,\n    accumulate: 0,\n    additive: 0,\n    alignmentBaseline: 0,\n    allowReorder: 0,\n    alphabetic: 0,\n    amplitude: 0,\n    arabicForm: 0,\n    ascent: 0,\n    attributeName: 0,\n    attributeType: 0,\n    autoReverse: 0,\n    azimuth: 0,\n    baseFrequency: 0,\n    baseProfile: 0,\n    baselineShift: 0,\n    bbox: 0,\n    begin: 0,\n    bias: 0,\n    by: 0,\n    calcMode: 0,\n    capHeight: 0,\n    clip: 0,\n    clipPath: 0,\n    clipRule: 0,\n    clipPathUnits: 0,\n    colorInterpolation: 0,\n    colorInterpolationFilters: 0,\n    colorProfile: 0,\n    colorRendering: 0,\n    contentScriptType: 0,\n    contentStyleType: 0,\n    cursor: 0,\n    cx: 0,\n    cy: 0,\n    d: 0,\n    decelerate: 0,\n    descent: 0,\n    diffuseConstant: 0,\n    direction: 0,\n    display: 0,\n    divisor: 0,\n    dominantBaseline: 0,\n    dur: 0,\n    dx: 0,\n    dy: 0,\n    edgeMode: 0,\n    elevation: 0,\n    enableBackground: 0,\n    end: 0,\n    exponent: 0,\n    externalResourcesRequired: 0,\n    fill: 0,\n    fillOpacity: 0,\n    fillRule: 0,\n    filter: 0,\n    filterRes: 0,\n    filterUnits: 0,\n    floodColor: 0,\n    floodOpacity: 0,\n    focusable: 0,\n    fontFamily: 0,\n    fontSize: 0,\n    fontSizeAdjust: 0,\n    fontStretch: 0,\n    fontStyle: 0,\n    fontVariant: 0,\n    fontWeight: 0,\n    format: 0,\n    from: 0,\n    fx: 0,\n    fy: 0,\n    g1: 0,\n    g2: 0,\n    glyphName: 0,\n    glyphOrientationHorizontal: 0,\n    glyphOrientationVertical: 0,\n    glyphRef: 0,\n    gradientTransform: 0,\n    gradientUnits: 0,\n    hanging: 0,\n    horizAdvX: 0,\n    horizOriginX: 0,\n    ideographic: 0,\n    imageRendering: 0,\n    in: 0,\n    in2: 0,\n    intercept: 0,\n    k: 0,\n    k1: 0,\n    k2: 0,\n    k3: 0,\n    k4: 0,\n    kernelMatrix: 0,\n    kernelUnitLength: 0,\n    kerning: 0,\n    keyPoints: 0,\n    keySplines: 0,\n    keyTimes: 0,\n    lengthAdjust: 0,\n    letterSpacing: 0,\n    lightingColor: 0,\n    limitingConeAngle: 0,\n    local: 0,\n    markerEnd: 0,\n    markerMid: 0,\n    markerStart: 0,\n    markerHeight: 0,\n    markerUnits: 0,\n    markerWidth: 0,\n    mask: 0,\n    maskContentUnits: 0,\n    maskUnits: 0,\n    mathematical: 0,\n    mode: 0,\n    numOctaves: 0,\n    offset: 0,\n    opacity: 0,\n    operator: 0,\n    order: 0,\n    orient: 0,\n    orientation: 0,\n    origin: 0,\n    overflow: 0,\n    overlinePosition: 0,\n    overlineThickness: 0,\n    paintOrder: 0,\n    panose1: 0,\n    pathLength: 0,\n    patternContentUnits: 0,\n    patternTransform: 0,\n    patternUnits: 0,\n    pointerEvents: 0,\n    points: 0,\n    pointsAtX: 0,\n    pointsAtY: 0,\n    pointsAtZ: 0,\n    preserveAlpha: 0,\n    preserveAspectRatio: 0,\n    primitiveUnits: 0,\n    r: 0,\n    radius: 0,\n    refX: 0,\n    refY: 0,\n    renderingIntent: 0,\n    repeatCount: 0,\n    repeatDur: 0,\n    requiredExtensions: 0,\n    requiredFeatures: 0,\n    restart: 0,\n    result: 0,\n    rotate: 0,\n    rx: 0,\n    ry: 0,\n    scale: 0,\n    seed: 0,\n    shapeRendering: 0,\n    slope: 0,\n    spacing: 0,\n    specularConstant: 0,\n    specularExponent: 0,\n    speed: 0,\n    spreadMethod: 0,\n    startOffset: 0,\n    stdDeviation: 0,\n    stemh: 0,\n    stemv: 0,\n    stitchTiles: 0,\n    stopColor: 0,\n    stopOpacity: 0,\n    strikethroughPosition: 0,\n    strikethroughThickness: 0,\n    string: 0,\n    stroke: 0,\n    strokeDasharray: 0,\n    strokeDashoffset: 0,\n    strokeLinecap: 0,\n    strokeLinejoin: 0,\n    strokeMiterlimit: 0,\n    strokeOpacity: 0,\n    strokeWidth: 0,\n    surfaceScale: 0,\n    systemLanguage: 0,\n    tableValues: 0,\n    targetX: 0,\n    targetY: 0,\n    textAnchor: 0,\n    textDecoration: 0,\n    textRendering: 0,\n    textLength: 0,\n    to: 0,\n    transform: 0,\n    u1: 0,\n    u2: 0,\n    underlinePosition: 0,\n    underlineThickness: 0,\n    unicode: 0,\n    unicodeBidi: 0,\n    unicodeRange: 0,\n    unitsPerEm: 0,\n    vAlphabetic: 0,\n    vHanging: 0,\n    vIdeographic: 0,\n    vMathematical: 0,\n    values: 0,\n    vectorEffect: 0,\n    version: 0,\n    vertAdvY: 0,\n    vertOriginX: 0,\n    vertOriginY: 0,\n    viewBox: 0,\n    viewTarget: 0,\n    visibility: 0,\n    widths: 0,\n    wordSpacing: 0,\n    writingMode: 0,\n    x: 0,\n    xHeight: 0,\n    x1: 0,\n    x2: 0,\n    xChannelSelector: 0,\n    xlinkActuate: 0,\n    xlinkArcrole: 0,\n    xlinkHref: 0,\n    xlinkRole: 0,\n    xlinkShow: 0,\n    xlinkTitle: 0,\n    xlinkType: 0,\n    xmlBase: 0,\n    xmlns: 0,\n    xmlnsXlink: 0,\n    xmlLang: 0,\n    xmlSpace: 0,\n    y: 0,\n    y1: 0,\n    y2: 0,\n    yChannelSelector: 0,\n    z: 0,\n    zoomAndPan: 0\n  },\n  DOMAttributeNames: {\n    accentHeight: 'accent-height',\n    alignmentBaseline: 'alignment-baseline',\n    arabicForm: 'arabic-form',\n    baselineShift: 'baseline-shift',\n    capHeight: 'cap-height',\n    clipPath: 'clip-path',\n    clipRule: 'clip-rule',\n    colorInterpolation: 'color-interpolation',\n    colorInterpolationFilters: 'color-interpolation-filters',\n    colorProfile: 'color-profile',\n    colorRendering: 'color-rendering',\n    dominantBaseline: 'dominant-baseline',\n    enableBackground: 'enable-background',\n    fillOpacity: 'fill-opacity',\n    fillRule: 'fill-rule',\n    floodColor: 'flood-color',\n    floodOpacity: 'flood-opacity',\n    fontFamily: 'font-family',\n    fontSize: 'font-size',\n    fontSizeAdjust: 'font-size-adjust',\n    fontStretch: 'font-stretch',\n    fontStyle: 'font-style',\n    fontVariant: 'font-variant',\n    fontWeight: 'font-weight',\n    glyphName: 'glyph-name',\n    glyphOrientationHorizontal: 'glyph-orientation-horizontal',\n    glyphOrientationVertical: 'glyph-orientation-vertical',\n    horizAdvX: 'horiz-adv-x',\n    horizOriginX: 'horiz-origin-x',\n    imageRendering: 'image-rendering',\n    letterSpacing: 'letter-spacing',\n    lightingColor: 'lighting-color',\n    markerEnd: 'marker-end',\n    markerMid: 'marker-mid',\n    markerStart: 'marker-start',\n    overlinePosition: 'overline-position',\n    overlineThickness: 'overline-thickness',\n    paintOrder: 'paint-order',\n    panose1: 'panose-1',\n    pointerEvents: 'pointer-events',\n    renderingIntent: 'rendering-intent',\n    shapeRendering: 'shape-rendering',\n    stopColor: 'stop-color',\n    stopOpacity: 'stop-opacity',\n    strikethroughPosition: 'strikethrough-position',\n    strikethroughThickness: 'strikethrough-thickness',\n    strokeDasharray: 'stroke-dasharray',\n    strokeDashoffset: 'stroke-dashoffset',\n    strokeLinecap: 'stroke-linecap',\n    strokeLinejoin: 'stroke-linejoin',\n    strokeMiterlimit: 'stroke-miterlimit',\n    strokeOpacity: 'stroke-opacity',\n    strokeWidth: 'stroke-width',\n    textAnchor: 'text-anchor',\n    textDecoration: 'text-decoration',\n    textRendering: 'text-rendering',\n    underlinePosition: 'underline-position',\n    underlineThickness: 'underline-thickness',\n    unicodeBidi: 'unicode-bidi',\n    unicodeRange: 'unicode-range',\n    unitsPerEm: 'units-per-em',\n    vAlphabetic: 'v-alphabetic',\n    vHanging: 'v-hanging',\n    vIdeographic: 'v-ideographic',\n    vMathematical: 'v-mathematical',\n    vectorEffect: 'vector-effect',\n    vertAdvY: 'vert-adv-y',\n    vertOriginX: 'vert-origin-x',\n    vertOriginY: 'vert-origin-y',\n    wordSpacing: 'word-spacing',\n    writingMode: 'writing-mode',\n    xHeight: 'x-height',\n    xlinkActuate: 'xlink:actuate',\n    xlinkArcrole: 'xlink:arcrole',\n    xlinkHref: 'xlink:href',\n    xlinkRole: 'xlink:role',\n    xlinkShow: 'xlink:show',\n    xlinkTitle: 'xlink:title',\n    xlinkType: 'xlink:type',\n    xmlBase: 'xml:base',\n    xmlnsXlink: 'xmlns:xlink',\n    xmlLang: 'xml:lang',\n    xmlSpace: 'xml:space'\n  }\n};\n","module.exports = {\n  MUST_USE_PROPERTY: 1,\n  HAS_BOOLEAN_VALUE: 4,\n  HAS_NUMERIC_VALUE: 8,\n  HAS_POSITIVE_NUMERIC_VALUE: 24,\n  HAS_OVERLOADED_BOOLEAN_VALUE: 32\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar style_to_object_1 = __importDefault(require(\"style-to-object\"));\nvar utilities_1 = require(\"./utilities\");\nfunction StyleToJS(style, options) {\n    var output = {};\n    if (!style || typeof style !== 'string') {\n        return output;\n    }\n    style_to_object_1[\"default\"](style, function (property, value) {\n        if (property && value) {\n            output[utilities_1.camelCase(property, options)] = value;\n        }\n    });\n    return output;\n}\nexports[\"default\"] = StyleToJS;\n","var parse = require('inline-style-parser');\n\n/**\n * Parses inline style to object.\n *\n * @example\n * // returns { 'line-height': '42' }\n * StyleToObject('line-height: 42;');\n *\n * @param  {String}      style      - The inline style.\n * @param  {Function}    [iterator] - The iterator function.\n * @return {null|Object}\n */\nfunction StyleToObject(style, iterator) {\n  var output = null;\n  if (!style || typeof style !== 'string') {\n    return output;\n  }\n\n  var declaration;\n  var declarations = parse(style);\n  var hasIterator = typeof iterator === 'function';\n  var property;\n  var value;\n\n  for (var i = 0, len = declarations.length; i < len; i++) {\n    declaration = declarations[i];\n    property = declaration.property;\n    value = declaration.value;\n\n    if (hasIterator) {\n      iterator(property, value, declaration);\n    } else if (value) {\n      output || (output = {});\n      output[property] = value;\n    }\n  }\n\n  return output;\n}\n\nmodule.exports = StyleToObject;\n","// http://www.w3.org/TR/CSS21/grammar.html\n// https://github.com/visionmedia/css-parse/pull/49#issuecomment-30088027\nvar COMMENT_REGEX = /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//g;\n\nvar NEWLINE_REGEX = /\\n/g;\nvar WHITESPACE_REGEX = /^\\s*/;\n\n// declaration\nvar PROPERTY_REGEX = /^(\\*?[-#/*\\\\\\w]+(\\[[0-9a-z_-]+\\])?)\\s*/;\nvar COLON_REGEX = /^:\\s*/;\nvar VALUE_REGEX = /^((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^)]*?\\)|[^};])+)/;\nvar SEMICOLON_REGEX = /^[;\\s]*/;\n\n// https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String/Trim#Polyfill\nvar TRIM_REGEX = /^\\s+|\\s+$/g;\n\n// strings\nvar NEWLINE = '\\n';\nvar FORWARD_SLASH = '/';\nvar ASTERISK = '*';\nvar EMPTY_STRING = '';\n\n// types\nvar TYPE_COMMENT = 'comment';\nvar TYPE_DECLARATION = 'declaration';\n\n/**\n * @param {String} style\n * @param {Object} [options]\n * @return {Object[]}\n * @throws {TypeError}\n * @throws {Error}\n */\nmodule.exports = function(style, options) {\n  if (typeof style !== 'string') {\n    throw new TypeError('First argument must be a string');\n  }\n\n  if (!style) return [];\n\n  options = options || {};\n\n  /**\n   * Positional.\n   */\n  var lineno = 1;\n  var column = 1;\n\n  /**\n   * Update lineno and column based on `str`.\n   *\n   * @param {String} str\n   */\n  function updatePosition(str) {\n    var lines = str.match(NEWLINE_REGEX);\n    if (lines) lineno += lines.length;\n    var i = str.lastIndexOf(NEWLINE);\n    column = ~i ? str.length - i : column + str.length;\n  }\n\n  /**\n   * Mark position and patch `node.position`.\n   *\n   * @return {Function}\n   */\n  function position() {\n    var start = { line: lineno, column: column };\n    return function(node) {\n      node.position = new Position(start);\n      whitespace();\n      return node;\n    };\n  }\n\n  /**\n   * Store position information for a node.\n   *\n   * @constructor\n   * @property {Object} start\n   * @property {Object} end\n   * @property {undefined|String} source\n   */\n  function Position(start) {\n    this.start = start;\n    this.end = { line: lineno, column: column };\n    this.source = options.source;\n  }\n\n  /**\n   * Non-enumerable source string.\n   */\n  Position.prototype.content = style;\n\n  var errorsList = [];\n\n  /**\n   * Error `msg`.\n   *\n   * @param {String} msg\n   * @throws {Error}\n   */\n  function error(msg) {\n    var err = new Error(\n      options.source + ':' + lineno + ':' + column + ': ' + msg\n    );\n    err.reason = msg;\n    err.filename = options.source;\n    err.line = lineno;\n    err.column = column;\n    err.source = style;\n\n    if (options.silent) {\n      errorsList.push(err);\n    } else {\n      throw err;\n    }\n  }\n\n  /**\n   * Match `re` and return captures.\n   *\n   * @param {RegExp} re\n   * @return {undefined|Array}\n   */\n  function match(re) {\n    var m = re.exec(style);\n    if (!m) return;\n    var str = m[0];\n    updatePosition(str);\n    style = style.slice(str.length);\n    return m;\n  }\n\n  /**\n   * Parse whitespace.\n   */\n  function whitespace() {\n    match(WHITESPACE_REGEX);\n  }\n\n  /**\n   * Parse comments.\n   *\n   * @param {Object[]} [rules]\n   * @return {Object[]}\n   */\n  function comments(rules) {\n    var c;\n    rules = rules || [];\n    while ((c = comment())) {\n      if (c !== false) {\n        rules.push(c);\n      }\n    }\n    return rules;\n  }\n\n  /**\n   * Parse comment.\n   *\n   * @return {Object}\n   * @throws {Error}\n   */\n  function comment() {\n    var pos = position();\n    if (FORWARD_SLASH != style.charAt(0) || ASTERISK != style.charAt(1)) return;\n\n    var i = 2;\n    while (\n      EMPTY_STRING != style.charAt(i) &&\n      (ASTERISK != style.charAt(i) || FORWARD_SLASH != style.charAt(i + 1))\n    ) {\n      ++i;\n    }\n    i += 2;\n\n    if (EMPTY_STRING === style.charAt(i - 1)) {\n      return error('End of comment missing');\n    }\n\n    var str = style.slice(2, i - 2);\n    column += 2;\n    updatePosition(str);\n    style = style.slice(i);\n    column += 2;\n\n    return pos({\n      type: TYPE_COMMENT,\n      comment: str\n    });\n  }\n\n  /**\n   * Parse declaration.\n   *\n   * @return {Object}\n   * @throws {Error}\n   */\n  function declaration() {\n    var pos = position();\n\n    // prop\n    var prop = match(PROPERTY_REGEX);\n    if (!prop) return;\n    comment();\n\n    // :\n    if (!match(COLON_REGEX)) return error(\"property missing ':'\");\n\n    // val\n    var val = match(VALUE_REGEX);\n\n    var ret = pos({\n      type: TYPE_DECLARATION,\n      property: trim(prop[0].replace(COMMENT_REGEX, EMPTY_STRING)),\n      value: val\n        ? trim(val[0].replace(COMMENT_REGEX, EMPTY_STRING))\n        : EMPTY_STRING\n    });\n\n    // ;\n    match(SEMICOLON_REGEX);\n\n    return ret;\n  }\n\n  /**\n   * Parse declarations.\n   *\n   * @return {Object[]}\n   */\n  function declarations() {\n    var decls = [];\n\n    comments(decls);\n\n    // declarations\n    var decl;\n    while ((decl = declaration())) {\n      if (decl !== false) {\n        decls.push(decl);\n        comments(decls);\n      }\n    }\n\n    return decls;\n  }\n\n  whitespace();\n  return declarations();\n};\n\n/**\n * Trim `str`.\n *\n * @param {String} str\n * @return {String}\n */\nfunction trim(str) {\n  return str ? str.replace(TRIM_REGEX, EMPTY_STRING) : EMPTY_STRING;\n}\n","\"use strict\";\nexports.__esModule = true;\nexports.camelCase = void 0;\nvar CUSTOM_PROPERTY_REGEX = /^--[a-zA-Z0-9-]+$/;\nvar HYPHEN_REGEX = /-([a-z])/g;\nvar NO_HYPHEN_REGEX = /^[^-]+$/;\nvar VENDOR_PREFIX_REGEX = /^-(webkit|moz|ms|o|khtml)-/;\nvar skipCamelCase = function (property) {\n    return !property ||\n        NO_HYPHEN_REGEX.test(property) ||\n        CUSTOM_PROPERTY_REGEX.test(property);\n};\nvar capitalize = function (match, character) {\n    return character.toUpperCase();\n};\nvar trimHyphen = function (match, prefix) { return prefix + \"-\"; };\nvar camelCase = function (property, options) {\n    if (options === void 0) { options = {}; }\n    if (skipCamelCase(property)) {\n        return property;\n    }\n    property = property.toLowerCase();\n    if (!options.reactCompat) {\n        property = property.replace(VENDOR_PREFIX_REGEX, trimHyphen);\n    }\n    return property.replace(HYPHEN_REGEX, capitalize);\n};\nexports.camelCase = camelCase;\n","var domparser = require('./domparser');\nvar formatDOM = require('./utilities').formatDOM;\n\nvar DIRECTIVE_REGEX = /<(![a-zA-Z\\s]+)>/; // e.g., <!doctype html>\n\n/**\n * Parses HTML string to DOM nodes in browser.\n *\n * @param  {string} html  - HTML markup.\n * @return {DomElement[]} - DOM elements.\n */\nfunction HTMLDOMParser(html) {\n  if (typeof html !== 'string') {\n    throw new TypeError('First argument must be a string');\n  }\n\n  if (html === '') {\n    return [];\n  }\n\n  // match directive\n  var match = html.match(DIRECTIVE_REGEX);\n  var directive;\n\n  if (match && match[1]) {\n    directive = match[1];\n  }\n\n  return formatDOM(domparser(html), null, directive);\n}\n\nmodule.exports = HTMLDOMParser;\n","// constants\nvar HTML = 'html';\nvar HEAD = 'head';\nvar BODY = 'body';\nvar FIRST_TAG_REGEX = /<([a-zA-Z]+[0-9]?)/; // e.g., <h1>\nvar HEAD_TAG_REGEX = /<head.*>/i;\nvar BODY_TAG_REGEX = /<body.*>/i;\n\n// falls back to `parseFromString` if `createHTMLDocument` cannot be used\nvar parseFromDocument = function () {\n  throw new Error(\n    'This browser does not support `document.implementation.createHTMLDocument`'\n  );\n};\n\nvar parseFromString = function () {\n  throw new Error(\n    'This browser does not support `DOMParser.prototype.parseFromString`'\n  );\n};\n\n/**\n * DOMParser (performance: slow).\n *\n * @see https://developer.mozilla.org/docs/Web/API/DOMParser#Parsing_an_SVG_or_HTML_document\n */\nif (typeof window.DOMParser === 'function') {\n  var domParser = new window.DOMParser();\n  var mimeType = 'text/html';\n\n  /**\n   * Creates an HTML document using `DOMParser.parseFromString`.\n   *\n   * @param  {string} html      - The HTML string.\n   * @param  {string} [tagName] - The element to render the HTML (with 'body' as fallback).\n   * @return {HTMLDocument}\n   */\n  parseFromString = function (html, tagName) {\n    if (tagName) {\n      html = '<' + tagName + '>' + html + '</' + tagName + '>';\n    }\n\n    return domParser.parseFromString(html, mimeType);\n  };\n\n  parseFromDocument = parseFromString;\n}\n\n/**\n * DOMImplementation (performance: fair).\n *\n * @see https://developer.mozilla.org/docs/Web/API/DOMImplementation/createHTMLDocument\n */\nif (document.implementation) {\n  var isIE = require('./utilities').isIE;\n\n  // title parameter is required in IE\n  // https://msdn.microsoft.com/en-us/library/ff975457(v=vs.85).aspx\n  var doc = document.implementation.createHTMLDocument(\n    isIE() ? 'html-dom-parser' : undefined\n  );\n\n  /**\n   * Use HTML document created by `document.implementation.createHTMLDocument`.\n   *\n   * @param  {string} html      - The HTML string.\n   * @param  {string} [tagName] - The element to render the HTML (with 'body' as fallback).\n   * @return {HTMLDocument}\n   */\n  parseFromDocument = function (html, tagName) {\n    if (tagName) {\n      doc.documentElement.getElementsByTagName(tagName)[0].innerHTML = html;\n      return doc;\n    }\n\n    doc.documentElement.innerHTML = html;\n    return doc;\n  };\n}\n\n/**\n * Template (performance: fast).\n *\n * @see https://developer.mozilla.org/docs/Web/HTML/Element/template\n */\nvar template = document.createElement('template');\nvar parseFromTemplate;\n\nif (template.content) {\n  /**\n   * Uses a template element (content fragment) to parse HTML.\n   *\n   * @param  {string} html - The HTML string.\n   * @return {NodeList}\n   */\n  parseFromTemplate = function (html) {\n    template.innerHTML = html;\n    return template.content.childNodes;\n  };\n}\n\n/**\n * Parses HTML string to DOM nodes.\n *\n * @param  {string}   html - HTML markup.\n * @return {NodeList}\n */\nfunction domparser(html) {\n  var firstTagName;\n  var match = html.match(FIRST_TAG_REGEX);\n\n  if (match && match[1]) {\n    firstTagName = match[1].toLowerCase();\n  }\n\n  var doc;\n  var element;\n  var elements;\n\n  switch (firstTagName) {\n    case HTML:\n      doc = parseFromString(html);\n\n      // the created document may come with filler head/body elements,\n      // so make sure to remove them if they don't actually exist\n      if (!HEAD_TAG_REGEX.test(html)) {\n        element = doc.getElementsByTagName(HEAD)[0];\n        if (element) {\n          element.parentNode.removeChild(element);\n        }\n      }\n\n      if (!BODY_TAG_REGEX.test(html)) {\n        element = doc.getElementsByTagName(BODY)[0];\n        if (element) {\n          element.parentNode.removeChild(element);\n        }\n      }\n\n      return doc.getElementsByTagName(HTML);\n\n    case HEAD:\n    case BODY:\n      elements = parseFromDocument(html).getElementsByTagName(firstTagName);\n\n      // if there's a sibling element, then return both elements\n      if (BODY_TAG_REGEX.test(html) && HEAD_TAG_REGEX.test(html)) {\n        return elements[0].parentNode.childNodes;\n      }\n      return elements;\n\n    // low-level tag or text\n    default:\n      if (parseFromTemplate) {\n        return parseFromTemplate(html);\n      }\n\n      return parseFromDocument(html, BODY).getElementsByTagName(BODY)[0]\n        .childNodes;\n  }\n}\n\nmodule.exports = domparser;\n","/**\n * SVG elements are case-sensitive.\n *\n * @see {@link https://developer.mozilla.org/docs/Web/SVG/Element#SVG_elements_A_to_Z}\n */\nvar CASE_SENSITIVE_TAG_NAMES = [\n  'animateMotion',\n  'animateTransform',\n  'clipPath',\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDropShadow',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussainBlur',\n  'feImage',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n  'foreignObject',\n  'linearGradient',\n  'radialGradient',\n  'textPath'\n];\n\nmodule.exports = {\n  CASE_SENSITIVE_TAG_NAMES: CASE_SENSITIVE_TAG_NAMES\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cloneNode = exports.Element = exports.Document = exports.NodeWithChildren = exports.ProcessingInstruction = exports.Comment = exports.Text = exports.DataNode = exports.Node = void 0;\nvar nodeTypes = new Map([\n    [\"tag\" /* Tag */, 1],\n    [\"script\" /* Script */, 1],\n    [\"style\" /* Style */, 1],\n    [\"directive\" /* Directive */, 1],\n    [\"text\" /* Text */, 3],\n    [\"cdata\" /* CDATA */, 4],\n    [\"comment\" /* Comment */, 8],\n    [\"root\" /* Root */, 9],\n]);\n/**\n * This object will be used as the prototype for Nodes when creating a\n * DOM-Level-1-compliant structure.\n */\nvar Node = /** @class */ (function () {\n    /**\n     *\n     * @param type The type of the node.\n     */\n    function Node(type) {\n        this.type = type;\n        /** Parent of the node */\n        this.parent = null;\n        /** Previous sibling */\n        this.prev = null;\n        /** Next sibling */\n        this.next = null;\n        /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */\n        this.startIndex = null;\n        /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */\n        this.endIndex = null;\n    }\n    Object.defineProperty(Node.prototype, \"nodeType\", {\n        // Read-only aliases\n        get: function () {\n            var _a;\n            return (_a = nodeTypes.get(this.type)) !== null && _a !== void 0 ? _a : 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"parentNode\", {\n        // Read-write aliases for properties\n        get: function () {\n            return this.parent;\n        },\n        set: function (parent) {\n            this.parent = parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"previousSibling\", {\n        get: function () {\n            return this.prev;\n        },\n        set: function (prev) {\n            this.prev = prev;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"nextSibling\", {\n        get: function () {\n            return this.next;\n        },\n        set: function (next) {\n            this.next = next;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Clone this node, and optionally its children.\n     *\n     * @param recursive Clone child nodes as well.\n     * @returns A clone of the node.\n     */\n    Node.prototype.cloneNode = function (recursive) {\n        if (recursive === void 0) { recursive = false; }\n        return cloneNode(this, recursive);\n    };\n    return Node;\n}());\nexports.Node = Node;\nvar DataNode = /** @class */ (function (_super) {\n    __extends(DataNode, _super);\n    /**\n     * @param type The type of the node\n     * @param data The content of the data node\n     */\n    function DataNode(type, data) {\n        var _this = _super.call(this, type) || this;\n        _this.data = data;\n        return _this;\n    }\n    Object.defineProperty(DataNode.prototype, \"nodeValue\", {\n        get: function () {\n            return this.data;\n        },\n        set: function (data) {\n            this.data = data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DataNode;\n}(Node));\nexports.DataNode = DataNode;\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text(data) {\n        return _super.call(this, \"text\" /* Text */, data) || this;\n    }\n    return Text;\n}(DataNode));\nexports.Text = Text;\nvar Comment = /** @class */ (function (_super) {\n    __extends(Comment, _super);\n    function Comment(data) {\n        return _super.call(this, \"comment\" /* Comment */, data) || this;\n    }\n    return Comment;\n}(DataNode));\nexports.Comment = Comment;\nvar ProcessingInstruction = /** @class */ (function (_super) {\n    __extends(ProcessingInstruction, _super);\n    function ProcessingInstruction(name, data) {\n        var _this = _super.call(this, \"directive\" /* Directive */, data) || this;\n        _this.name = name;\n        return _this;\n    }\n    return ProcessingInstruction;\n}(DataNode));\nexports.ProcessingInstruction = ProcessingInstruction;\n/**\n * A `Node` that can have children.\n */\nvar NodeWithChildren = /** @class */ (function (_super) {\n    __extends(NodeWithChildren, _super);\n    /**\n     * @param type Type of the node.\n     * @param children Children of the node. Only certain node types can have children.\n     */\n    function NodeWithChildren(type, children) {\n        var _this = _super.call(this, type) || this;\n        _this.children = children;\n        return _this;\n    }\n    Object.defineProperty(NodeWithChildren.prototype, \"firstChild\", {\n        // Aliases\n        get: function () {\n            var _a;\n            return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"lastChild\", {\n        get: function () {\n            return this.children.length > 0\n                ? this.children[this.children.length - 1]\n                : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"childNodes\", {\n        get: function () {\n            return this.children;\n        },\n        set: function (children) {\n            this.children = children;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return NodeWithChildren;\n}(Node));\nexports.NodeWithChildren = NodeWithChildren;\nvar Document = /** @class */ (function (_super) {\n    __extends(Document, _super);\n    function Document(children) {\n        return _super.call(this, \"root\" /* Root */, children) || this;\n    }\n    return Document;\n}(NodeWithChildren));\nexports.Document = Document;\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    /**\n     * @param name Name of the tag, eg. `div`, `span`.\n     * @param attribs Object mapping attribute names to attribute values.\n     * @param children Children of the node.\n     */\n    function Element(name, attribs, children) {\n        if (children === void 0) { children = []; }\n        var _this = _super.call(this, name === \"script\"\n            ? \"script\" /* Script */\n            : name === \"style\"\n                ? \"style\" /* Style */\n                : \"tag\" /* Tag */, children) || this;\n        _this.name = name;\n        _this.attribs = attribs;\n        _this.attribs = attribs;\n        return _this;\n    }\n    Object.defineProperty(Element.prototype, \"tagName\", {\n        // DOM Level 1 aliases\n        get: function () {\n            return this.name;\n        },\n        set: function (name) {\n            this.name = name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"attributes\", {\n        get: function () {\n            var _this = this;\n            return Object.keys(this.attribs).map(function (name) {\n                var _a, _b;\n                return ({\n                    name: name,\n                    value: _this.attribs[name],\n                    namespace: (_a = _this[\"x-attribsNamespace\"]) === null || _a === void 0 ? void 0 : _a[name],\n                    prefix: (_b = _this[\"x-attribsPrefix\"]) === null || _b === void 0 ? void 0 : _b[name],\n                });\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Element;\n}(NodeWithChildren));\nexports.Element = Element;\n/**\n * Clone a node, and optionally its children.\n *\n * @param recursive Clone child nodes as well.\n * @returns A clone of the node.\n */\nfunction cloneNode(node, recursive) {\n    if (recursive === void 0) { recursive = false; }\n    var result;\n    switch (node.type) {\n        case \"text\" /* Text */:\n            result = new Text(node.data);\n            break;\n        case \"directive\" /* Directive */: {\n            var instr = node;\n            result = new ProcessingInstruction(instr.name, instr.data);\n            if (instr[\"x-name\"] != null) {\n                result[\"x-name\"] = instr[\"x-name\"];\n                result[\"x-publicId\"] = instr[\"x-publicId\"];\n                result[\"x-systemId\"] = instr[\"x-systemId\"];\n            }\n            break;\n        }\n        case \"comment\" /* Comment */:\n            result = new Comment(node.data);\n            break;\n        case \"tag\" /* Tag */:\n        case \"script\" /* Script */:\n        case \"style\" /* Style */: {\n            var elem = node;\n            var children = recursive ? cloneChildren(elem.children) : [];\n            var clone_1 = new Element(elem.name, __assign({}, elem.attribs), children);\n            children.forEach(function (child) { return (child.parent = clone_1); });\n            if (elem[\"x-attribsNamespace\"]) {\n                clone_1[\"x-attribsNamespace\"] = __assign({}, elem[\"x-attribsNamespace\"]);\n            }\n            if (elem[\"x-attribsPrefix\"]) {\n                clone_1[\"x-attribsPrefix\"] = __assign({}, elem[\"x-attribsPrefix\"]);\n            }\n            result = clone_1;\n            break;\n        }\n        case \"cdata\" /* CDATA */: {\n            var cdata = node;\n            var children = recursive ? cloneChildren(cdata.children) : [];\n            var clone_2 = new NodeWithChildren(node.type, children);\n            children.forEach(function (child) { return (child.parent = clone_2); });\n            result = clone_2;\n            break;\n        }\n        case \"root\" /* Root */: {\n            var doc = node;\n            var children = recursive ? cloneChildren(doc.children) : [];\n            var clone_3 = new Document(children);\n            children.forEach(function (child) { return (child.parent = clone_3); });\n            if (doc[\"x-mode\"]) {\n                clone_3[\"x-mode\"] = doc[\"x-mode\"];\n            }\n            result = clone_3;\n            break;\n        }\n        case \"doctype\" /* Doctype */: {\n            // This type isn't used yet.\n            throw new Error(\"Not implemented yet: ElementType.Doctype case\");\n        }\n    }\n    result.startIndex = node.startIndex;\n    result.endIndex = node.endIndex;\n    return result;\n}\nexports.cloneNode = cloneNode;\nfunction cloneChildren(childs) {\n    var children = childs.map(function (child) { return cloneNode(child, true); });\n    for (var i = 1; i < children.length; i++) {\n        children[i].prev = children[i - 1];\n        children[i - 1].next = children[i];\n    }\n    return children;\n}\n","function makeTypeChecker(tabsRole) {\n  return function (element) {\n    return !!element.type && element.type.tabsRole === tabsRole;\n  };\n}\n\nexport var isTab = makeTypeChecker('Tab');\nexport var isTabList = makeTypeChecker('TabList');\nexport var isTabPanel = makeTypeChecker('TabPanel');","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { Children, cloneElement } from 'react';\nimport { isTabPanel, isTab, isTabList } from './elementTypes';\n\nfunction isTabChild(child) {\n  return isTab(child) || isTabList(child) || isTabPanel(child);\n}\n\nexport function deepMap(children, callback) {\n  return Children.map(children, function (child) {\n    // null happens when conditionally rendering TabPanel/Tab\n    // see https://github.com/reactjs/react-tabs/issues/37\n    if (child === null) return null;\n\n    if (isTabChild(child)) {\n      return callback(child);\n    }\n\n    if (child.props && child.props.children && typeof child.props.children === 'object') {\n      // Clone the child that has children and map them too\n      return /*#__PURE__*/cloneElement(child, _extends({}, child.props, {\n        children: deepMap(child.props.children, callback)\n      }));\n    }\n\n    return child;\n  });\n}\nexport function deepForEach(children, callback) {\n  return Children.forEach(children, function (child) {\n    // null happens when conditionally rendering TabPanel/Tab\n    // see https://github.com/reactjs/react-tabs/issues/37\n    if (child === null) return;\n\n    if (isTab(child) || isTabPanel(child)) {\n      callback(child);\n    } else if (child.props && child.props.children && typeof child.props.children === 'object') {\n      if (isTabList(child)) callback(child);\n      deepForEach(child.props.children, callback);\n    }\n  });\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport PropTypes from 'prop-types';\nimport React, { cloneElement, Component } from 'react';\nimport cx from 'clsx';\nimport uuid from '../helpers/uuid';\nimport { childrenPropType } from '../helpers/propTypes';\nimport { getPanelsCount as _getPanelsCount, getTabsCount as _getTabsCount } from '../helpers/count';\nimport { deepMap } from '../helpers/childrenDeepMap';\nimport { isTabList, isTabPanel, isTab } from '../helpers/elementTypes';\n\nfunction isNode(node) {\n  return node && 'getAttribute' in node;\n} // Determine if a node from event.target is a Tab element\n\n\nfunction isTabNode(node) {\n  return isNode(node) && node.getAttribute('role') === 'tab';\n} // Determine if a tab node is disabled\n\n\nfunction isTabDisabled(node) {\n  return isNode(node) && node.getAttribute('aria-disabled') === 'true';\n}\n\nvar canUseActiveElement;\n\nfunction determineCanUseActiveElement(environment) {\n  var env = environment || (typeof window !== 'undefined' ? window : undefined);\n\n  try {\n    canUseActiveElement = !!(typeof env !== 'undefined' && env.document && env.document.activeElement);\n  } catch (e) {\n    // Work around for IE bug when accessing document.activeElement in an iframe\n    // Refer to the following resources:\n    // http://stackoverflow.com/a/10982960/369687\n    // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12733599\n    canUseActiveElement = false;\n  }\n}\n\nvar UncontrolledTabs = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(UncontrolledTabs, _Component);\n\n  function UncontrolledTabs() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.tabNodes = [];\n\n    _this.handleKeyDown = function (e) {\n      var _this$props = _this.props,\n          direction = _this$props.direction,\n          disableUpDownKeys = _this$props.disableUpDownKeys;\n\n      if (_this.isTabFromContainer(e.target)) {\n        var index = _this.props.selectedIndex;\n        var preventDefault = false;\n        var useSelectedIndex = false;\n\n        if (e.keyCode === 32 || e.keyCode === 13) {\n          preventDefault = true;\n          useSelectedIndex = false;\n\n          _this.handleClick(e);\n        }\n\n        if (e.keyCode === 37 || !disableUpDownKeys && e.keyCode === 38) {\n          // Select next tab to the left, validate if up arrow is not disabled\n          if (direction === 'rtl') {\n            index = _this.getNextTab(index);\n          } else {\n            index = _this.getPrevTab(index);\n          }\n\n          preventDefault = true;\n          useSelectedIndex = true;\n        } else if (e.keyCode === 39 || !disableUpDownKeys && e.keyCode === 40) {\n          // Select next tab to the right, validate if down arrow is not disabled\n          if (direction === 'rtl') {\n            index = _this.getPrevTab(index);\n          } else {\n            index = _this.getNextTab(index);\n          }\n\n          preventDefault = true;\n          useSelectedIndex = true;\n        } else if (e.keyCode === 35) {\n          // Select last tab (End key)\n          index = _this.getLastTab();\n          preventDefault = true;\n          useSelectedIndex = true;\n        } else if (e.keyCode === 36) {\n          // Select first tab (Home key)\n          index = _this.getFirstTab();\n          preventDefault = true;\n          useSelectedIndex = true;\n        } // This prevents scrollbars from moving around\n\n\n        if (preventDefault) {\n          e.preventDefault();\n        } // Only use the selected index in the state if we're not using the tabbed index\n\n\n        if (useSelectedIndex) {\n          _this.setSelected(index, e);\n        }\n      }\n    };\n\n    _this.handleClick = function (e) {\n      var node = e.target;\n\n      do {\n        if (_this.isTabFromContainer(node)) {\n          if (isTabDisabled(node)) {\n            return;\n          }\n\n          var index = [].slice.call(node.parentNode.children).filter(isTabNode).indexOf(node);\n\n          _this.setSelected(index, e);\n\n          return;\n        }\n      } while ((node = node.parentNode) != null);\n    };\n\n    return _this;\n  }\n\n  var _proto = UncontrolledTabs.prototype;\n\n  _proto.setSelected = function setSelected(index, event) {\n    // Check index boundary\n    if (index < 0 || index >= this.getTabsCount()) return;\n    var _this$props2 = this.props,\n        onSelect = _this$props2.onSelect,\n        selectedIndex = _this$props2.selectedIndex; // Call change event handler\n\n    onSelect(index, selectedIndex, event);\n  };\n\n  _proto.getNextTab = function getNextTab(index) {\n    var count = this.getTabsCount(); // Look for non-disabled tab from index to the last tab on the right\n\n    for (var i = index + 1; i < count; i++) {\n      if (!isTabDisabled(this.getTab(i))) {\n        return i;\n      }\n    } // If no tab found, continue searching from first on left to index\n\n\n    for (var _i = 0; _i < index; _i++) {\n      if (!isTabDisabled(this.getTab(_i))) {\n        return _i;\n      }\n    } // No tabs are disabled, return index\n\n\n    return index;\n  };\n\n  _proto.getPrevTab = function getPrevTab(index) {\n    var i = index; // Look for non-disabled tab from index to first tab on the left\n\n    while (i--) {\n      if (!isTabDisabled(this.getTab(i))) {\n        return i;\n      }\n    } // If no tab found, continue searching from last tab on right to index\n\n\n    i = this.getTabsCount();\n\n    while (i-- > index) {\n      if (!isTabDisabled(this.getTab(i))) {\n        return i;\n      }\n    } // No tabs are disabled, return index\n\n\n    return index;\n  };\n\n  _proto.getFirstTab = function getFirstTab() {\n    var count = this.getTabsCount(); // Look for non disabled tab from the first tab\n\n    for (var i = 0; i < count; i++) {\n      if (!isTabDisabled(this.getTab(i))) {\n        return i;\n      }\n    }\n\n    return null;\n  };\n\n  _proto.getLastTab = function getLastTab() {\n    var i = this.getTabsCount(); // Look for non disabled tab from the last tab\n\n    while (i--) {\n      if (!isTabDisabled(this.getTab(i))) {\n        return i;\n      }\n    }\n\n    return null;\n  };\n\n  _proto.getTabsCount = function getTabsCount() {\n    var children = this.props.children;\n    return _getTabsCount(children);\n  };\n\n  _proto.getPanelsCount = function getPanelsCount() {\n    var children = this.props.children;\n    return _getPanelsCount(children);\n  };\n\n  _proto.getTab = function getTab(index) {\n    return this.tabNodes[\"tabs-\" + index];\n  };\n\n  _proto.getChildren = function getChildren() {\n    var _this2 = this;\n\n    var index = 0;\n    var _this$props3 = this.props,\n        children = _this$props3.children,\n        disabledTabClassName = _this$props3.disabledTabClassName,\n        focus = _this$props3.focus,\n        forceRenderTabPanel = _this$props3.forceRenderTabPanel,\n        selectedIndex = _this$props3.selectedIndex,\n        selectedTabClassName = _this$props3.selectedTabClassName,\n        selectedTabPanelClassName = _this$props3.selectedTabPanelClassName,\n        environment = _this$props3.environment;\n    this.tabIds = this.tabIds || [];\n    this.panelIds = this.panelIds || [];\n    var diff = this.tabIds.length - this.getTabsCount(); // Add ids if new tabs have been added\n    // Don't bother removing ids, just keep them in case they are added again\n    // This is more efficient, and keeps the uuid counter under control\n\n    while (diff++ < 0) {\n      this.tabIds.push(uuid());\n      this.panelIds.push(uuid());\n    } // Map children to dynamically setup refs\n\n\n    return deepMap(children, function (child) {\n      var result = child; // Clone TabList and Tab components to have refs\n\n      if (isTabList(child)) {\n        var listIndex = 0; // Figure out if the current focus in the DOM is set on a Tab\n        // If it is we should keep the focus on the next selected tab\n\n        var wasTabFocused = false;\n\n        if (canUseActiveElement == null) {\n          determineCanUseActiveElement(environment);\n        }\n\n        if (canUseActiveElement) {\n          wasTabFocused = React.Children.toArray(child.props.children).filter(isTab).some(function (tab, i) {\n            var env = environment || (typeof window !== 'undefined' ? window : undefined);\n            return env && env.document.activeElement === _this2.getTab(i);\n          });\n        }\n\n        result = /*#__PURE__*/cloneElement(child, {\n          children: deepMap(child.props.children, function (tab) {\n            var key = \"tabs-\" + listIndex;\n            var selected = selectedIndex === listIndex;\n            var props = {\n              tabRef: function tabRef(node) {\n                _this2.tabNodes[key] = node;\n              },\n              id: _this2.tabIds[listIndex],\n              panelId: _this2.panelIds[listIndex],\n              selected: selected,\n              focus: selected && (focus || wasTabFocused)\n            };\n            if (selectedTabClassName) props.selectedClassName = selectedTabClassName;\n            if (disabledTabClassName) props.disabledClassName = disabledTabClassName;\n            listIndex++;\n            return /*#__PURE__*/cloneElement(tab, props);\n          })\n        });\n      } else if (isTabPanel(child)) {\n        var props = {\n          id: _this2.panelIds[index],\n          tabId: _this2.tabIds[index],\n          selected: selectedIndex === index\n        };\n        if (forceRenderTabPanel) props.forceRender = forceRenderTabPanel;\n        if (selectedTabPanelClassName) props.selectedClassName = selectedTabPanelClassName;\n        index++;\n        result = /*#__PURE__*/cloneElement(child, props);\n      }\n\n      return result;\n    });\n  };\n\n  /**\n   * Determine if a node from event.target is a Tab element for the current Tabs container.\n   * If the clicked element is not a Tab, it returns false.\n   * If it finds another Tabs container between the Tab and `this`, it returns false.\n   */\n  _proto.isTabFromContainer = function isTabFromContainer(node) {\n    // return immediately if the clicked element is not a Tab.\n    if (!isTabNode(node)) {\n      return false;\n    } // Check if the first occurrence of a Tabs container is `this` one.\n\n\n    var nodeAncestor = node.parentElement;\n\n    do {\n      if (nodeAncestor === this.node) return true;\n      if (nodeAncestor.getAttribute('data-tabs')) break;\n      nodeAncestor = nodeAncestor.parentElement;\n    } while (nodeAncestor);\n\n    return false;\n  };\n\n  _proto.render = function render() {\n    var _this3 = this;\n\n    // Delete all known props, so they don't get added to DOM\n    var _this$props4 = this.props,\n        children = _this$props4.children,\n        className = _this$props4.className,\n        disabledTabClassName = _this$props4.disabledTabClassName,\n        domRef = _this$props4.domRef,\n        focus = _this$props4.focus,\n        forceRenderTabPanel = _this$props4.forceRenderTabPanel,\n        onSelect = _this$props4.onSelect,\n        selectedIndex = _this$props4.selectedIndex,\n        selectedTabClassName = _this$props4.selectedTabClassName,\n        selectedTabPanelClassName = _this$props4.selectedTabPanelClassName,\n        environment = _this$props4.environment,\n        disableUpDownKeys = _this$props4.disableUpDownKeys,\n        attributes = _objectWithoutPropertiesLoose(_this$props4, [\"children\", \"className\", \"disabledTabClassName\", \"domRef\", \"focus\", \"forceRenderTabPanel\", \"onSelect\", \"selectedIndex\", \"selectedTabClassName\", \"selectedTabPanelClassName\", \"environment\", \"disableUpDownKeys\"]);\n\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, attributes, {\n      className: cx(className),\n      onClick: this.handleClick,\n      onKeyDown: this.handleKeyDown,\n      ref: function ref(node) {\n        _this3.node = node;\n        if (domRef) domRef(node);\n      },\n      \"data-tabs\": true\n    }), this.getChildren());\n  };\n\n  return UncontrolledTabs;\n}(Component);\n\nUncontrolledTabs.defaultProps = {\n  className: 'react-tabs',\n  focus: false\n};\nexport { UncontrolledTabs as default };\nUncontrolledTabs.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: childrenPropType,\n  direction: PropTypes.oneOf(['rtl', 'ltr']),\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object]),\n  disabledTabClassName: PropTypes.string,\n  disableUpDownKeys: PropTypes.bool,\n  domRef: PropTypes.func,\n  focus: PropTypes.bool,\n  forceRenderTabPanel: PropTypes.bool,\n  onSelect: PropTypes.func.isRequired,\n  selectedIndex: PropTypes.number.isRequired,\n  selectedTabClassName: PropTypes.string,\n  selectedTabPanelClassName: PropTypes.string,\n  environment: PropTypes.object\n} : {};","// Get a universally unique identifier\nvar count = 0;\nexport default function uuid() {\n  return \"react-tabs-\" + count++;\n}\nexport function reset() {\n  count = 0;\n}","import { deepForEach } from './childrenDeepMap';\nimport { isTab, isTabPanel } from './elementTypes';\nexport function getTabsCount(children) {\n  var tabCount = 0;\n  deepForEach(children, function (child) {\n    if (isTab(child)) tabCount++;\n  });\n  return tabCount;\n}\nexport function getPanelsCount(children) {\n  var panelCount = 0;\n  deepForEach(children, function (child) {\n    if (isTabPanel(child)) panelCount++;\n  });\n  return panelCount;\n}","function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { childrenPropType, onSelectPropType, selectedIndexPropType } from '../helpers/propTypes';\nimport UncontrolledTabs from './UncontrolledTabs';\nimport { getTabsCount } from '../helpers/count';\nvar MODE_CONTROLLED = 0;\nvar MODE_UNCONTROLLED = 1;\n\nvar Tabs = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Tabs, _Component);\n\n  function Tabs(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _this.handleSelected = function (index, last, event) {\n      var onSelect = _this.props.onSelect;\n      var mode = _this.state.mode; // Call change event handler\n\n      if (typeof onSelect === 'function') {\n        // Check if the change event handler cancels the tab change\n        if (onSelect(index, last, event) === false) return;\n      }\n\n      var state = {\n        // Set focus if the change was triggered from the keyboard\n        focus: event.type === 'keydown'\n      };\n\n      if (mode === MODE_UNCONTROLLED) {\n        // Update selected index\n        state.selectedIndex = index;\n      }\n\n      _this.setState(state);\n    };\n\n    _this.state = Tabs.copyPropsToState(_this.props, {}, props.defaultFocus);\n    return _this;\n  }\n\n  Tabs.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    return Tabs.copyPropsToState(props, state);\n  };\n\n  Tabs.getModeFromProps = function getModeFromProps(props) {\n    return props.selectedIndex === null ? MODE_UNCONTROLLED : MODE_CONTROLLED;\n  };\n\n  // preserve the existing selectedIndex from state.\n  // If the state has not selectedIndex, default to the defaultIndex or 0\n  Tabs.copyPropsToState = function copyPropsToState(props, state, focus) {\n    if (focus === void 0) {\n      focus = false;\n    }\n\n    if (process.env.NODE_ENV !== 'production' && state.mode !== undefined && state.mode !== Tabs.getModeFromProps(props)) {\n      throw new Error(\"Switching between controlled mode (by using `selectedIndex`) and uncontrolled mode is not supported in `Tabs`.\\nFor more information about controlled and uncontrolled mode of react-tabs see the README.\");\n    }\n\n    var newState = {\n      focus: focus,\n      mode: Tabs.getModeFromProps(props)\n    };\n\n    if (newState.mode === MODE_UNCONTROLLED) {\n      var maxTabIndex = getTabsCount(props.children) - 1;\n      var selectedIndex = null;\n\n      if (state.selectedIndex != null) {\n        selectedIndex = Math.min(state.selectedIndex, maxTabIndex);\n      } else {\n        selectedIndex = props.defaultIndex || 0;\n      }\n\n      newState.selectedIndex = selectedIndex;\n    }\n\n    return newState;\n  };\n\n  var _proto = Tabs.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        defaultIndex = _this$props.defaultIndex,\n        defaultFocus = _this$props.defaultFocus,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"defaultIndex\", \"defaultFocus\"]);\n\n    var _this$state = this.state,\n        focus = _this$state.focus,\n        selectedIndex = _this$state.selectedIndex;\n    props.focus = focus;\n    props.onSelect = this.handleSelected;\n\n    if (selectedIndex != null) {\n      props.selectedIndex = selectedIndex;\n    }\n\n    return /*#__PURE__*/React.createElement(UncontrolledTabs, props, children);\n  };\n\n  return Tabs;\n}(Component);\n\nTabs.defaultProps = {\n  defaultFocus: false,\n  forceRenderTabPanel: false,\n  selectedIndex: null,\n  defaultIndex: null,\n  environment: null,\n  disableUpDownKeys: false\n};\nexport { Tabs as default };\nTabs.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: childrenPropType,\n  direction: PropTypes.oneOf(['rtl', 'ltr']),\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object]),\n  defaultFocus: PropTypes.bool,\n  defaultIndex: PropTypes.number,\n  disabledTabClassName: PropTypes.string,\n  disableUpDownKeys: PropTypes.bool,\n  domRef: PropTypes.func,\n  forceRenderTabPanel: PropTypes.bool,\n  onSelect: onSelectPropType,\n  selectedIndex: selectedIndexPropType,\n  selectedTabClassName: PropTypes.string,\n  selectedTabPanelClassName: PropTypes.string,\n  environment: PropTypes.object\n} : {};\nTabs.tabsRole = 'Tabs';","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport cx from 'clsx';\n\nvar TabList = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(TabList, _Component);\n\n  function TabList() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = TabList.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        className = _this$props.className,\n        attributes = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"className\"]);\n\n    return /*#__PURE__*/React.createElement(\"ul\", _extends({}, attributes, {\n      className: cx(className),\n      role: \"tablist\"\n    }), children);\n  };\n\n  return TabList;\n}(Component);\n\nTabList.defaultProps = {\n  className: 'react-tabs__tab-list'\n};\nexport { TabList as default };\nTabList.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object])\n} : {};\nTabList.tabsRole = 'TabList';","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport cx from 'clsx';\nvar DEFAULT_CLASS = 'react-tabs__tab';\n\nvar Tab = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Tab, _Component);\n\n  function Tab() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Tab.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.checkFocus();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.checkFocus();\n  };\n\n  _proto.checkFocus = function checkFocus() {\n    var _this$props = this.props,\n        selected = _this$props.selected,\n        focus = _this$props.focus;\n\n    if (selected && focus) {\n      this.node.focus();\n    }\n  };\n\n  _proto.render = function render() {\n    var _cx,\n        _this = this;\n\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        className = _this$props2.className,\n        disabled = _this$props2.disabled,\n        disabledClassName = _this$props2.disabledClassName,\n        focus = _this$props2.focus,\n        id = _this$props2.id,\n        panelId = _this$props2.panelId,\n        selected = _this$props2.selected,\n        selectedClassName = _this$props2.selectedClassName,\n        tabIndex = _this$props2.tabIndex,\n        tabRef = _this$props2.tabRef,\n        attributes = _objectWithoutPropertiesLoose(_this$props2, [\"children\", \"className\", \"disabled\", \"disabledClassName\", \"focus\", \"id\", \"panelId\", \"selected\", \"selectedClassName\", \"tabIndex\", \"tabRef\"]);\n\n    return /*#__PURE__*/React.createElement(\"li\", _extends({}, attributes, {\n      className: cx(className, (_cx = {}, _cx[selectedClassName] = selected, _cx[disabledClassName] = disabled, _cx)),\n      ref: function ref(node) {\n        _this.node = node;\n        if (tabRef) tabRef(node);\n      },\n      role: \"tab\",\n      id: id,\n      \"aria-selected\": selected ? 'true' : 'false',\n      \"aria-disabled\": disabled ? 'true' : 'false',\n      \"aria-controls\": panelId,\n      tabIndex: tabIndex || (selected ? '0' : null)\n    }), children);\n  };\n\n  return Tab;\n}(Component);\n\nTab.defaultProps = {\n  className: DEFAULT_CLASS,\n  disabledClassName: DEFAULT_CLASS + \"--disabled\",\n  focus: false,\n  id: null,\n  panelId: null,\n  selected: false,\n  selectedClassName: DEFAULT_CLASS + \"--selected\"\n};\nexport { Tab as default };\nTab.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.oneOfType([PropTypes.array, PropTypes.object, PropTypes.string]),\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object]),\n  disabled: PropTypes.bool,\n  tabIndex: PropTypes.string,\n  disabledClassName: PropTypes.string,\n  focus: PropTypes.bool,\n  // private\n  id: PropTypes.string,\n  // private\n  panelId: PropTypes.string,\n  // private\n  selected: PropTypes.bool,\n  // private\n  selectedClassName: PropTypes.string,\n  tabRef: PropTypes.func // private\n\n} : {};\nTab.tabsRole = 'Tab';","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport cx from 'clsx';\nvar DEFAULT_CLASS = 'react-tabs__tab-panel';\n\nvar TabPanel = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(TabPanel, _Component);\n\n  function TabPanel() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = TabPanel.prototype;\n\n  _proto.render = function render() {\n    var _cx;\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        className = _this$props.className,\n        forceRender = _this$props.forceRender,\n        id = _this$props.id,\n        selected = _this$props.selected,\n        selectedClassName = _this$props.selectedClassName,\n        tabId = _this$props.tabId,\n        attributes = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"className\", \"forceRender\", \"id\", \"selected\", \"selectedClassName\", \"tabId\"]);\n\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, attributes, {\n      className: cx(className, (_cx = {}, _cx[selectedClassName] = selected, _cx)),\n      role: \"tabpanel\",\n      id: id,\n      \"aria-labelledby\": tabId\n    }), forceRender || selected ? children : null);\n  };\n\n  return TabPanel;\n}(Component);\n\nTabPanel.defaultProps = {\n  className: DEFAULT_CLASS,\n  forceRender: false,\n  selectedClassName: DEFAULT_CLASS + \"--selected\"\n};\nexport { TabPanel as default };\nTabPanel.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object]),\n  forceRender: PropTypes.bool,\n  id: PropTypes.string,\n  // private\n  selected: PropTypes.bool,\n  // private\n  selectedClassName: PropTypes.string,\n  tabId: PropTypes.string // private\n\n} : {};\nTabPanel.tabsRole = 'TabPanel';","import _objectSpread from \"@babel/runtime/helpers/objectSpread\";\n\n/////////////////////////////////////////////////////////\n// Browser Utils\n//\n/////////////////////////////////////////////////////////\nclass Browser {\n  // Check if not running on server\n  static isBrowser() {\n    return typeof window !== 'undefined';\n  } // Opera 8.0+ (UA detection to detect Blink/v8-powered Opera)\n\n\n  static isOpera() {\n    return Browser.isBrowser() && (!!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0);\n  } // Firefox 1.0+\n\n\n  static isFirefox() {\n    return Browser.isBrowser() && typeof InstallTrigger !== 'undefined';\n  } // Safari 3.0+\n\n\n  static isSafari() {\n    if (!Browser.isBrowser()) {\n      return false;\n    }\n\n    return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  } // Internet Explorer 6-11\n\n\n  static isIE() {\n    /*@cc_on!@*/\n    return Browser.isBrowser() && !!document.documentMode;\n  } // Edge 20+\n\n\n  static isEdge() {\n    return Browser.isBrowser() && !Browser.isIE() && !!window.StyleMedia;\n  } // Chrome 1+\n\n\n  static isChrome() {\n    return Browser.isBrowser() && !!window.chrome && !!window.chrome.webstore;\n  } // Blink engine detection\n\n\n  static isBlink() {\n    return Browser.isBrowser() && (Browser.isChrome() || Browser.isOpera()) && !!window.CSS;\n  }\n\n  static getUserAgent() {\n    return typeof navigator === 'undefined' ? '' : navigator.userAgent;\n  }\n\n  static isAndroid() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/Android/i);\n  }\n\n  static isBlackBerry() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/BlackBerry/i);\n  }\n\n  static isIOS() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/iPhone|iPad|iPod/i);\n  }\n\n  static isOpera() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/Opera Mini/i);\n  }\n\n  static isWindows() {\n    return Browser.isBrowser() && Browser.isWindowsDesktop() || Browser.isWindowsMobile();\n  }\n\n  static isWindowsMobile() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/IEMobile/i);\n  }\n\n  static isWindowsDesktop() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/WPDesktop/i);\n  }\n\n  static isMobile() {\n    return Browser.isBrowser() && (Browser.isWindowsMobile() || Browser.isBlackBerry() || Browser.isAndroid() || Browser.isIOS());\n  }\n\n} /////////////////////////////////////////////////////////\n// Returns only the props that start with \"data-\"\n//\n/////////////////////////////////////////////////////////\n\n\nconst getDataProps = props => {\n  return Object.keys(props).reduce((prev, key) => {\n    if (key.substr(0, 5) === 'data-') {\n      return _objectSpread({}, prev, {\n        [key]: props[key]\n      });\n    }\n\n    return prev;\n  }, {});\n};\n\nexport { getDataProps, Browser };","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexSplitter\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nimport { Browser, getDataProps } from './utilities';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport React from 'react';\nexport default class ReflexSplitter extends React.Component {\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static isA(element) {\n    if (!element) {\n      return false;\n    } //https://github.com/leefsmp/Re-Flex/issues/49\n\n\n    return process.env.NODE_ENV === 'development' ? element.type === React.createElement(ReflexSplitter, null).type : element.type === ReflexSplitter;\n  } /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onMouseMove\", event => {\n      if (this.state.active) {\n        const domElement = ReactDOM.findDOMNode(this);\n        this.props.events.emit('resize', {\n          index: this.props.index,\n          domElement,\n          event\n        });\n\n        if (this.props.onResize) {\n          this.props.onResize({\n            component: this,\n            domElement\n          });\n        }\n\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"onMouseDown\", event => {\n      this.setState({\n        active: true\n      });\n\n      if (this.props.onStartResize) {\n        // cancels resize from controller\n        // if needed by returning true\n        // to onStartResize\n        if (this.props.onStartResize({\n          domElement: ReactDOM.findDOMNode(this),\n          component: this\n        })) {\n          return;\n        }\n      }\n\n      this.props.events.emit('startResize', {\n        index: this.props.index,\n        event\n      });\n    });\n\n    _defineProperty(this, \"onMouseUp\", event => {\n      if (this.state.active) {\n        this.setState({\n          active: false\n        });\n\n        if (this.props.onStopResize) {\n          this.props.onStopResize({\n            domElement: ReactDOM.findDOMNode(this),\n            component: this\n          });\n        }\n\n        this.props.events.emit('stopResize', {\n          index: this.props.index,\n          event\n        });\n      }\n    });\n\n    this.state = {\n      active: false\n    };\n    this.document = props.document;\n  } /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n\n  componentDidMount() {\n    if (!this.document) {\n      return;\n    }\n\n    this.document.addEventListener('touchend', this.onMouseUp);\n    this.document.addEventListener('mouseup', this.onMouseUp);\n    this.document.addEventListener('mousemove', this.onMouseMove, {\n      passive: false\n    });\n    this.document.addEventListener('touchmove', this.onMouseMove, {\n      passive: false\n    });\n  } /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n\n  componentWillUnmount() {\n    if (!this.document) {\n      return;\n    }\n\n    this.document.removeEventListener('mouseup', this.onMouseUp);\n    this.document.removeEventListener('touchend', this.onMouseUp);\n    this.document.removeEventListener('mousemove', this.onMouseMove);\n    this.document.removeEventListener('touchmove', this.onMouseMove);\n\n    if (this.state.active) {\n      this.props.events.emit('stopResize', {\n        index: this.props.index,\n        event: null\n      });\n    }\n  } /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render() {\n    const className = [Browser.isMobile() ? 'reflex-thin' : '', ...this.props.className.split(' '), this.state.active ? 'active' : '', 'reflex-splitter'].join(' ').trim();\n    return React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      onTouchStart: this.onMouseDown,\n      onMouseDown: this.onMouseDown,\n      style: this.props.style,\n      className: className,\n      id: this.props.id\n    }), this.props.children);\n  }\n\n}\n\n_defineProperty(ReflexSplitter, \"propTypes\", {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n  onStartResize: PropTypes.func,\n  onStopResize: PropTypes.func,\n  className: PropTypes.string,\n  propagate: PropTypes.bool,\n  onResize: PropTypes.func,\n  style: PropTypes.object /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n});\n\n_defineProperty(ReflexSplitter, \"defaultProps\", {\n  document: typeof document !== 'undefined' ? document : null,\n  onStartResize: null,\n  onStopResize: null,\n  propagate: false,\n  onResize: null,\n  className: '',\n  style: {} /////////////////////////////////////////////////////////\n  // Determines if element is a splitter\n  // or wraps a splitter\n  //\n  /////////////////////////////////////////////////////////\n\n});","///////////////////////////////////////////////////////////\n// ReflexEvents\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nclass ReflexEvents {\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor() {\n    this._events = {};\n  } /////////////////////////////////////////////////////////\n  // Supports multiple events space-separated\n  //\n  /////////////////////////////////////////////////////////\n\n\n  on(events, fct) {\n    events.split(' ').forEach(event => {\n      this._events[event] = this._events[event] || [];\n\n      this._events[event].push(fct);\n    });\n    return this;\n  } /////////////////////////////////////////////////////////\n  // Supports multiple events space-separated\n  //\n  /////////////////////////////////////////////////////////\n\n\n  off(events, fct) {\n    if (events == undefined) {\n      this._events = {};\n      return;\n    }\n\n    events.split(' ').forEach(event => {\n      if (event in this._events === false) return;\n\n      if (fct) {\n        this._events[event].splice(this._events[event].indexOf(fct), 1);\n      } else {\n        this._events[event] = [];\n      }\n    });\n    return this;\n  } /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n\n  emit(event\n  /* , args... */\n  ) {\n    if (this._events[event] === undefined) return;\n\n    var tmpArray = this._events[event].slice();\n\n    for (var i = 0; i < tmpArray.length; ++i) {\n      var result = tmpArray[i].apply(this, Array.prototype.slice.call(arguments, 1));\n\n      if (result !== undefined) {\n        return result;\n      }\n    }\n\n    return undefined;\n  }\n\n}\n\nexport default ReflexEvents;","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexContainer\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nimport ReflexSplitter from './ReflexSplitter';\nimport ReflexEvents from './ReflexEvents';\nimport { getDataProps } from './utilities';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport React from 'react';\nimport './Polyfills';\nexport default class ReflexContainer extends React.Component {\n  /////////////////////////////////////////////////////////\n  // orientation: Orientation of the layout container\n  //              valid values are ['horizontal', 'vertical'] \n  // maxRecDepth: Maximun recursion depth to solve initial flex\n  //              of layout elements based on user provided values\n  // className: Space separated classnames to apply custom styles \n  //            to the layout container  \n  // style: allows passing inline style to the container\n  /////////////////////////////////////////////////////////\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onWindowResize\", () => {\n      this.setState({\n        flexData: this.computeFlexData()\n      });\n    });\n\n    _defineProperty(this, \"onStartResize\", data => {\n      const pos = data.event.changedTouches ? data.event.changedTouches[0] : data.event;\n\n      switch (this.props.orientation) {\n        case 'horizontal':\n          document.body.classList.add('reflex-row-resize');\n          this.previousPos = pos.clientY;\n          break;\n\n        case 'vertical':\n        default:\n          document.body.classList.add('reflex-col-resize');\n          this.previousPos = pos.clientX;\n          break;\n      }\n\n      this.elements = [this.children[data.index - 1], this.children[data.index + 1]];\n      this.emitElementsEvent(this.elements, 'onStartResize');\n    });\n\n    _defineProperty(this, \"onResize\", data => {\n      const pos = data.event.changedTouches ? data.event.changedTouches[0] : data.event;\n      const offset = this.getOffset(pos, data.domElement);\n\n      switch (this.props.orientation) {\n        case 'horizontal':\n          this.previousPos = pos.clientY;\n          break;\n\n        case 'vertical':\n        default:\n          this.previousPos = pos.clientX;\n          break;\n      }\n\n      if (offset) {\n        const availableOffset = this.computeAvailableOffset(data.index, offset);\n\n        if (availableOffset) {\n          this.elements = this.dispatchOffset(data.index, availableOffset);\n          this.adjustFlex(this.elements);\n          this.setState({\n            resizing: true\n          }, () => {\n            this.emitElementsEvent(this.elements, 'onResize');\n          });\n        }\n      }\n    });\n\n    _defineProperty(this, \"onStopResize\", data => {\n      document.body.classList.remove('reflex-row-resize');\n      document.body.classList.remove('reflex-col-resize');\n      const resizedRefs = this.elements.map(element => {\n        return element.ref;\n      });\n      const elements = this.children.filter(child => {\n        return !ReflexSplitter.isA(child) && resizedRefs.includes(child.ref);\n      });\n      this.emitElementsEvent(elements, 'onStopResize');\n      this.setState({\n        resizing: false\n      });\n    });\n\n    _defineProperty(this, \"onElementSize\", data => {\n      return new Promise(resolve => {\n        try {\n          const idx = data.index;\n          const size = this.getSize(this.children[idx]);\n          const offset = data.size - size;\n          const dir = data.direction;\n          const splitterIdx = idx + dir;\n          const availableOffset = this.computeAvailableOffset(splitterIdx, dir * offset);\n          this.elements = null;\n\n          if (availableOffset) {\n            this.elements = this.dispatchOffset(splitterIdx, availableOffset);\n            this.adjustFlex(this.elements);\n          }\n\n          this.setState(this.state, () => {\n            this.emitElementsEvent(this.elements, 'onResize');\n            resolve();\n          });\n        } catch (ex) {\n          // TODO handle exception ...\n          console.log(ex);\n        }\n      });\n    });\n\n    this.events = new ReflexEvents();\n    this.children = [];\n    this.state = {\n      flexData: []\n    };\n    this.ref = React.createRef();\n  } /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n\n  componentDidMount() {\n    const flexData = this.computeFlexData();\n    const {\n      windowResizeAware\n    } = this.props;\n\n    if (windowResizeAware) {\n      window.addEventListener('resize', this.onWindowResize);\n    }\n\n    this.setState({\n      windowResizeAware,\n      flexData\n    });\n    this.events.on('element.size', this.onElementSize);\n    this.events.on('startResize', this.onStartResize);\n    this.events.on('stopResize', this.onStopResize);\n    this.events.on('resize', this.onResize);\n  } /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n\n  componentWillUnmount() {\n    this.events.off();\n    window.removeEventListener('resize', this.onWindowResize);\n  } /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n\n  getValidChildren(props = this.props) {\n    return this.toArray(props.children).filter(child => {\n      return !!child;\n    });\n  } /////////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////////\n  // componentDidUpdate (prevProps, prevState) {\n  //   const children = this.getValidChildren(this.props)\n  //   if ((children.length !== this.state.flexData.length) ||\n  //       (this.props.orientation !== this.props.orientation) || \n  //       this.flexHasChanged(this.props)) {\n  //     const flexData = this.computeFlexData(\n  //       children, this.props)\n  //     this.setState({\n  //       flexData\n  //     })\n  //   }\n  //   if (this.props.windowResizeAware !== this.state.windowResizeAware) {\n  //     !this.props.windowResizeAware\n  //       ?  window.removeEventListener('resize', this.onWindowResize)\n  //       : window.addEventListener('resize', this.onWindowResize)\n  //     this.setState({\n  //       windowResizeAware: this.props.windowResizeAware\n  //     })\n  //   }\n  // }\n\n\n  UNSAFE_componentWillReceiveProps(props) {\n    const children = this.getValidChildren(props);\n\n    if (children.length !== this.state.flexData.length || props.orientation !== this.props.orientation || this.flexHasChanged(props)) {\n      const flexData = this.computeFlexData(children, props);\n      this.setState({\n        flexData\n      });\n    }\n\n    if (props.windowResizeAware !== this.state.windowResizeAware) {\n      !props.windowResizeAware ? window.removeEventListener('resize', this.onWindowResize) : window.addEventListener('resize', this.onWindowResize);\n      this.setState({\n        windowResizeAware: props.windowResizeAware\n      });\n    }\n  } /////////////////////////////////////////////////////////\n  // attempts to preserve current flex on window resize\n  //\n  /////////////////////////////////////////////////////////\n\n\n  /////////////////////////////////////////////////////////\n  // Check if flex has changed: this allows updating the\n  // component when different flex is passed as property\n  // to one or several children\n  //\n  /////////////////////////////////////////////////////////\n  flexHasChanged(props) {\n    const nextChildrenFlex = this.getValidChildren(props).map(child => {\n      return child.props.flex || 0;\n    });\n    const childrenFlex = this.getValidChildren().map(child => {\n      return child.props.flex || 0;\n    });\n    return !childrenFlex.every((flex, idx) => {\n      return flex === nextChildrenFlex[idx];\n    });\n  } /////////////////////////////////////////////////////////\n  // Returns size of a ReflexElement\n  //\n  /////////////////////////////////////////////////////////\n\n\n  getSize(element) {\n    const ref = element.ref ? this.refs[element.ref] : element;\n    const domElement = ReactDOM.findDOMNode(ref);\n\n    switch (this.props.orientation) {\n      case 'horizontal':\n        return domElement.offsetHeight;\n\n      case 'vertical':\n      default:\n        return domElement.offsetWidth;\n    }\n  } /////////////////////////////////////////////////////////\n  // Computes offset from pointer position\n  //\n  /////////////////////////////////////////////////////////\n\n\n  getOffset(pos, domElement) {\n    const {\n      top,\n      bottom,\n      left,\n      right\n    } = domElement.getBoundingClientRect();\n\n    switch (this.props.orientation) {\n      case 'horizontal':\n        {\n          const offset = pos.clientY - this.previousPos;\n\n          if (offset > 0) {\n            if (pos.clientY >= top) {\n              return offset;\n            }\n          } else {\n            if (pos.clientY <= bottom) {\n              return offset;\n            }\n          }\n\n          break;\n        }\n\n      case 'vertical':\n      default:\n        {\n          const offset = pos.clientX - this.previousPos;\n\n          if (offset > 0) {\n            if (pos.clientX > left) {\n              return offset;\n            }\n          } else {\n            if (pos.clientX < right) {\n              return offset;\n            }\n          }\n        }\n        break;\n    }\n\n    return 0;\n  } /////////////////////////////////////////////////////////\n  // Handles startResize event\n  //\n  /////////////////////////////////////////////////////////\n\n\n  /////////////////////////////////////////////////////////\n  // Adjusts flex after a dispatch to make sure\n  // total flex of modified elements remains the same\n  //\n  /////////////////////////////////////////////////////////\n  adjustFlex(elements) {\n    const diffFlex = elements.reduce((sum, element) => {\n      const idx = element.props.index;\n      const previousFlex = element.props.flex;\n      const nextFlex = this.state.flexData[idx].flex;\n      return sum + (previousFlex - nextFlex) / elements.length;\n    }, 0);\n    elements.forEach(element => {\n      this.state.flexData[element.props.index].flex += diffFlex;\n    });\n  } /////////////////////////////////////////////////////////\n  // Returns available offset for a given raw offset value\n  // This checks how much the panes can be stretched and\n  // shrink, then returns the min\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computeAvailableOffset(idx, offset) {\n    const stretch = this.computeAvailableStretch(idx, offset);\n    const shrink = this.computeAvailableShrink(idx, offset);\n    const availableOffset = Math.min(stretch, shrink) * Math.sign(offset);\n    return availableOffset;\n  } /////////////////////////////////////////////////////////\n  // Returns true if the next splitter than the one at idx\n  // can propagate the drag. This can happen if that\n  // next element is actually a splitter and it has\n  // propagate=true property set\n  //\n  /////////////////////////////////////////////////////////\n\n\n  checkPropagate(idx, direction) {\n    if (direction > 0) {\n      if (idx < this.children.length - 2) {\n        const child = this.children[idx + 2];\n        const typeCheck = ReflexSplitter.isA(child);\n        return typeCheck && child.props.propagate;\n      }\n    } else {\n      if (idx > 2) {\n        const child = this.children[idx - 2];\n        const typeCheck = ReflexSplitter.isA(child);\n        return typeCheck && child.props.propagate;\n      }\n    }\n\n    return false;\n  } /////////////////////////////////////////////////////////\n  // Recursively computes available stretch at splitter\n  // idx for given raw offset\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computeAvailableStretch(idx, offset) {\n    const childIdx = offset < 0 ? idx + 1 : idx - 1;\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const maxSize = child.props.maxSize;\n    const availableStretch = maxSize - size;\n\n    if (availableStretch < Math.abs(offset)) {\n      if (this.checkPropagate(idx, -1 * offset)) {\n        const nextOffset = Math.sign(offset) * (Math.abs(offset) - availableStretch);\n        return availableStretch + this.computeAvailableStretch(offset < 0 ? idx + 2 : idx - 2, nextOffset);\n      }\n    }\n\n    return Math.min(availableStretch, Math.abs(offset));\n  } /////////////////////////////////////////////////////////\n  // Recursively computes available shrink at splitter\n  // idx for given raw offset\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computeAvailableShrink(idx, offset) {\n    const childIdx = offset > 0 ? idx + 1 : idx - 1;\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const minSize = Math.max(child.props.minSize, 0);\n    const availableShrink = size - minSize;\n\n    if (availableShrink < Math.abs(offset)) {\n      if (this.checkPropagate(idx, offset)) {\n        const nextOffset = Math.sign(offset) * (Math.abs(offset) - availableShrink);\n        return availableShrink + this.computeAvailableShrink(offset > 0 ? idx + 2 : idx - 2, nextOffset);\n      }\n    }\n\n    return Math.min(availableShrink, Math.abs(offset));\n  } /////////////////////////////////////////////////////////\n  // Returns flex value for unit pixel\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computePixelFlex(orientation = this.props.orientation) {\n    if (!this.ref.current) {\n      console.warn('Unable to locate ReflexContainer dom node');\n      return 0.0;\n    }\n\n    switch (orientation) {\n      case 'horizontal':\n        if (this.ref.current.offsetHeight === 0.0) {\n          console.warn('Found ReflexContainer with height=0, ' + 'this will cause invalid behavior...');\n          console.warn(this.ref.current);\n          return 0.0;\n        }\n\n        return 1.0 / this.ref.current.offsetHeight;\n\n      case 'vertical':\n      default:\n        if (this.ref.current.offsetWidth === 0.0) {\n          console.warn('Found ReflexContainer with width=0, ' + 'this will cause invalid behavior...');\n          console.warn(this.ref.current);\n          return 0.0;\n        }\n\n        return 1.0 / this.ref.current.offsetWidth;\n    }\n  } /////////////////////////////////////////////////////////\n  // Adds offset to a given ReflexElement\n  //\n  /////////////////////////////////////////////////////////\n\n\n  addOffset(element, offset) {\n    const size = this.getSize(element);\n    const idx = element.props.index;\n    const newSize = Math.max(size + offset, 0);\n    const currentFlex = this.state.flexData[idx].flex;\n    const newFlex = currentFlex > 0 ? currentFlex * newSize / size : this.computePixelFlex() * newSize;\n    this.state.flexData[idx].flex = !isFinite(newFlex) || isNaN(newFlex) ? 0 : newFlex;\n  } /////////////////////////////////////////////////////////\n  // Recursively dispatches stretch offset across\n  // children elements starting at splitter idx\n  //\n  /////////////////////////////////////////////////////////\n\n\n  dispatchStretch(idx, offset) {\n    const childIdx = offset < 0 ? idx + 1 : idx - 1;\n\n    if (childIdx < 0 || childIdx > this.children.length - 1) {\n      return [];\n    }\n\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const newSize = Math.min(child.props.maxSize, size + Math.abs(offset));\n    const dispatchedStretch = newSize - size;\n    this.addOffset(child, dispatchedStretch);\n\n    if (dispatchedStretch < Math.abs(offset)) {\n      const nextIdx = idx - Math.sign(offset) * 2;\n      const nextOffset = Math.sign(offset) * (Math.abs(offset) - dispatchedStretch);\n      return [child, ...this.dispatchStretch(nextIdx, nextOffset)];\n    }\n\n    return [child];\n  } /////////////////////////////////////////////////////////\n  // Recursively dispatches shrink offset across\n  // children elements starting at splitter idx\n  //\n  /////////////////////////////////////////////////////////\n\n\n  dispatchShrink(idx, offset) {\n    const childIdx = offset > 0 ? idx + 1 : idx - 1;\n\n    if (childIdx < 0 || childIdx > this.children.length - 1) {\n      return [];\n    }\n\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const newSize = Math.max(child.props.minSize, size - Math.abs(offset));\n    const dispatchedShrink = newSize - size;\n    this.addOffset(child, dispatchedShrink);\n\n    if (Math.abs(dispatchedShrink) < Math.abs(offset)) {\n      const nextIdx = idx + Math.sign(offset) * 2;\n      const nextOffset = Math.sign(offset) * (Math.abs(offset) + dispatchedShrink);\n      return [child, ...this.dispatchShrink(nextIdx, nextOffset)];\n    }\n\n    return [child];\n  } /////////////////////////////////////////////////////////\n  // Dispatch offset at splitter idx\n  //\n  /////////////////////////////////////////////////////////\n\n\n  dispatchOffset(idx, offset) {\n    return [...this.dispatchStretch(idx, offset), ...this.dispatchShrink(idx, offset)];\n  } /////////////////////////////////////////////////////////\n  // Emits given if event for each given element\n  // if present in the component props\n  //\n  /////////////////////////////////////////////////////////\n\n\n  emitElementsEvent(elements, event) {\n    this.toArray(elements).forEach(component => {\n      if (component.props[event]) {\n        const ref = this.refs[component.ref];\n        const domElement = ReactDOM.findDOMNode(ref);\n        component.props[event]({\n          domElement,\n          component\n        });\n      }\n    });\n  } /////////////////////////////////////////////////////////\n  // Computes initial flex data based on provided flex\n  // properties. By default each ReflexElement gets\n  // evenly arranged within its container\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computeFlexData(children = this.getValidChildren(), props = this.props) {\n    const pixelFlex = this.computePixelFlex(props.orientation);\n\n    const computeFreeFlex = flexData => {\n      return flexData.reduce((sum, entry) => {\n        if (!ReflexSplitter.isA(entry) && entry.constrained) {\n          return sum - entry.flex;\n        }\n\n        return sum;\n      }, 1.0);\n    };\n\n    const computeFreeElements = flexData => {\n      return flexData.reduce((sum, entry) => {\n        if (!ReflexSplitter.isA(entry) && !entry.constrained) {\n          return sum + 1;\n        }\n\n        return sum;\n      }, 0.0);\n    };\n\n    const flexDataInit = children.map(child => {\n      const props = child.props;\n      return {\n        maxFlex: (props.maxSize || Number.MAX_VALUE) * pixelFlex,\n        sizeFlex: (props.size || Number.MAX_VALUE) * pixelFlex,\n        minFlex: (props.minSize || 1) * pixelFlex,\n        constrained: props.flex !== undefined,\n        guid: props.ref || this.guid(),\n        flex: props.flex || 0,\n        type: child.type\n      };\n    });\n\n    const computeFlexDataRec = (flexDataIn, depth = 0) => {\n      let hasContrain = false;\n      const freeElements = computeFreeElements(flexDataIn);\n      const freeFlex = computeFreeFlex(flexDataIn);\n      const flexDataOut = flexDataIn.map(entry => {\n        if (ReflexSplitter.isA(entry)) {\n          return entry;\n        }\n\n        const proposedFlex = !entry.constrained ? freeFlex / freeElements : entry.flex;\n        const constrainedFlex = Math.min(entry.sizeFlex, Math.min(entry.maxFlex, Math.max(entry.minFlex, proposedFlex)));\n        const constrained = entry.constrained || constrainedFlex !== proposedFlex;\n        hasContrain = hasContrain || constrained;\n        return _objectSpread({}, entry, {\n          flex: constrainedFlex,\n          constrained\n        });\n      });\n      return hasContrain && depth < this.props.maxRecDepth ? computeFlexDataRec(flexDataOut, depth + 1) : flexDataOut;\n    };\n\n    const flexData = computeFlexDataRec(flexDataInit);\n    return flexData.map(entry => {\n      return {\n        flex: !ReflexSplitter.isA(entry) ? entry.flex : 0.0,\n        guid: entry.guid\n      };\n    });\n  } /////////////////////////////////////////////////////////\n  // Utility method that generates a new unique GUID\n  //\n  /////////////////////////////////////////////////////////\n\n\n  guid(format = 'xxxx-xxxx') {\n    let d = new Date().getTime();\n    return format.replace(/[xy]/g, function (c) {\n      var r = (d + Math.random() * 16) % 16 | 0;\n      d = Math.floor(d / 16);\n      return (c == 'x' ? r : r & 0x7 | 0x8).toString(16);\n    });\n  } /////////////////////////////////////////////////////////\n  // Utility method to ensure given argument is\n  // returned as an array\n  //\n  /////////////////////////////////////////////////////////\n\n\n  toArray(obj) {\n    return obj ? Array.isArray(obj) ? obj : [obj] : [];\n  } /////////////////////////////////////////////////////////\n  // Render container. This will clone all original child\n  // components in order to pass some internal properties\n  // used to handle resizing logic\n  //\n  /////////////////////////////////////////////////////////\n\n\n  render() {\n    const className = [this.state.resizing ? 'reflex-resizing' : '', ...this.props.className.split(' '), this.props.orientation, 'reflex-container'].join(' ').trim();\n    this.children = React.Children.map(this.getValidChildren(), (child, index) => {\n      if (index > this.state.flexData.length - 1) {\n        return React.createElement(\"div\", null);\n      }\n\n      const flexData = this.state.flexData[index];\n\n      const newProps = _objectSpread({}, child.props, {\n        maxSize: child.props.maxSize || Number.MAX_VALUE,\n        orientation: this.props.orientation,\n        minSize: child.props.minSize || 1,\n        events: this.events,\n        flex: flexData.flex,\n        ref: flexData.guid,\n        index\n      });\n\n      return React.cloneElement(child, newProps);\n    });\n    return React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      style: this.props.style,\n      className: className,\n      ref: this.ref\n    }), this.children);\n  }\n\n}\n\n_defineProperty(ReflexContainer, \"propTypes\", {\n  windowResizeAware: PropTypes.bool,\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n  maxRecDepth: PropTypes.number,\n  className: PropTypes.string,\n  style: PropTypes.object /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n});\n\n_defineProperty(ReflexContainer, \"defaultProps\", {\n  orientation: 'horizontal',\n  windowResizeAware: false,\n  maxRecDepth: 100,\n  className: '',\n  style: {} /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n});","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexHandle\n// By Philippe Leefsma\n// June 2018\n//\n///////////////////////////////////////////////////////////\nimport { getDataProps } from './utilities';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport React from 'react';\nexport default class ReflexHandle extends React.Component {\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static isA(element) {\n    if (!element) {\n      return false;\n    } //https://github.com/leefsmp/Re-Flex/issues/49\n\n\n    return process.env.NODE_ENV === 'development' ? element.type === React.createElement(ReflexHandle, null).type : element.type === ReflexHandle;\n  } /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onMouseMove\", event => {\n      if (this.state.active) {\n        const domElement = ReactDOM.findDOMNode(this);\n        this.props.events.emit('resize', {\n          index: this.props.index,\n          domElement,\n          event\n        });\n\n        if (this.props.onResize) {\n          this.props.onResize({\n            component: this,\n            domElement\n          });\n        }\n\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"onMouseDown\", event => {\n      this.setState({\n        active: true\n      });\n\n      if (this.props.onStartResize) {\n        // cancels resize from controller\n        // if needed by returning true\n        // to onStartResize\n        if (this.props.onStartResize({\n          domElement: ReactDOM.findDOMNode(this),\n          component: this\n        })) {\n          return;\n        }\n      }\n\n      this.props.events.emit('startResize', {\n        index: this.props.index,\n        event\n      });\n    });\n\n    _defineProperty(this, \"onMouseUp\", event => {\n      if (this.state.active) {\n        this.setState({\n          active: false\n        });\n\n        if (this.props.onStopResize) {\n          this.props.onStopResize({\n            domElement: ReactDOM.findDOMNode(this),\n            component: this\n          });\n        }\n\n        this.props.events.emit('stopResize', {\n          index: this.props.index,\n          event\n        });\n      }\n    });\n\n    this.state = {\n      active: false\n    };\n    this.document = props.document;\n  } /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n\n  componentDidMount() {\n    if (!this.document) {\n      return;\n    }\n\n    this.document.addEventListener('touchend', this.onMouseUp);\n    this.document.addEventListener('mouseup', this.onMouseUp);\n    this.document.addEventListener('mousemove', this.onMouseMove, {\n      passive: false\n    });\n    this.document.addEventListener('touchmove', this.onMouseMove, {\n      passive: false\n    });\n  } /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n\n  componentWillUnmount() {\n    if (!this.document) {\n      return;\n    }\n\n    this.document.removeEventListener('mouseup', this.onMouseUp);\n    this.document.removeEventListener('touchend', this.onMouseUp);\n    this.document.removeEventListener('mousemove', this.onMouseMove);\n    this.document.removeEventListener('touchmove', this.onMouseMove);\n\n    if (this.state.active) {\n      this.props.events.emit('stopResize', {\n        index: this.props.index,\n        event: null\n      });\n    }\n  } /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render() {\n    const className = [...this.props.className.split(' '), this.state.active ? 'active' : '', 'reflex-handle'].join(' ').trim();\n    return React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      onTouchStart: this.onMouseDown,\n      onMouseDown: this.onMouseDown,\n      style: this.props.style,\n      className: className,\n      id: this.props.id\n    }), this.props.children);\n  }\n\n}\n\n_defineProperty(ReflexHandle, \"propTypes\", {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n  onStartResize: PropTypes.func,\n  onStopResize: PropTypes.func,\n  className: PropTypes.string,\n  propagate: PropTypes.bool,\n  onResize: PropTypes.func,\n  style: PropTypes.object /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n});\n\n_defineProperty(ReflexHandle, \"defaultProps\", {\n  document: typeof document === 'undefined' ? null : document,\n  onStartResize: null,\n  onStopResize: null,\n  propagate: false,\n  onResize: null,\n  className: '',\n  style: {} /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n});","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport ResizeObserver from 'resize-observer-polyfill';\n\nvar types = ['client', 'offset', 'scroll', 'bounds', 'margin'];\nfunction getTypes(props) {\n  var allowedTypes = [];\n  types.forEach(function (type) {\n    if (props[type]) {\n      allowedTypes.push(type);\n    }\n  });\n  return allowedTypes;\n}\n\nfunction getContentRect(node, types) {\n  var calculations = {};\n\n  if (types.indexOf('client') > -1) {\n    calculations.client = {\n      top: node.clientTop,\n      left: node.clientLeft,\n      width: node.clientWidth,\n      height: node.clientHeight\n    };\n  }\n\n  if (types.indexOf('offset') > -1) {\n    calculations.offset = {\n      top: node.offsetTop,\n      left: node.offsetLeft,\n      width: node.offsetWidth,\n      height: node.offsetHeight\n    };\n  }\n\n  if (types.indexOf('scroll') > -1) {\n    calculations.scroll = {\n      top: node.scrollTop,\n      left: node.scrollLeft,\n      width: node.scrollWidth,\n      height: node.scrollHeight\n    };\n  }\n\n  if (types.indexOf('bounds') > -1) {\n    var rect = node.getBoundingClientRect();\n    calculations.bounds = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height\n    };\n  }\n\n  if (types.indexOf('margin') > -1) {\n    var styles = getComputedStyle(node);\n    calculations.margin = {\n      top: styles ? parseInt(styles.marginTop) : 0,\n      right: styles ? parseInt(styles.marginRight) : 0,\n      bottom: styles ? parseInt(styles.marginBottom) : 0,\n      left: styles ? parseInt(styles.marginLeft) : 0\n    };\n  }\n\n  return calculations;\n}\n\n/**\n * Returns the global window object associated with provided element.\n */\nfunction getWindowOf(target) {\n  // Assume that the element is an instance of Node, which means that it\n  // has the \"ownerDocument\" property from which we can retrieve a\n  // corresponding global object.\n  var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView; // Return the local window object if it's not possible extract one from\n  // provided element.\n\n  return ownerGlobal || window;\n}\n\nfunction withContentRect(types) {\n  return function (WrappedComponent) {\n    var _class, _temp;\n\n    return _temp = _class =\n    /*#__PURE__*/\n    function (_Component) {\n      _inheritsLoose(WithContentRect, _Component);\n\n      function WithContentRect() {\n        var _this;\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n        _this.state = {\n          contentRect: {\n            entry: {},\n            client: {},\n            offset: {},\n            scroll: {},\n            bounds: {},\n            margin: {}\n          }\n        };\n        _this._animationFrameID = null;\n        _this._resizeObserver = null;\n        _this._node = null;\n        _this._window = null;\n\n        _this.measure = function (entries) {\n          var contentRect = getContentRect(_this._node, types || getTypes(_this.props));\n\n          if (entries) {\n            contentRect.entry = entries[0].contentRect;\n          }\n\n          _this._animationFrameID = _this._window.requestAnimationFrame(function () {\n            if (_this._resizeObserver !== null) {\n              _this.setState({\n                contentRect: contentRect\n              });\n\n              if (typeof _this.props.onResize === 'function') {\n                _this.props.onResize(contentRect);\n              }\n            }\n          });\n        };\n\n        _this._handleRef = function (node) {\n          if (_this._resizeObserver !== null && _this._node !== null) {\n            _this._resizeObserver.unobserve(_this._node);\n          }\n\n          _this._node = node;\n          _this._window = getWindowOf(_this._node);\n          var innerRef = _this.props.innerRef;\n\n          if (innerRef) {\n            if (typeof innerRef === 'function') {\n              innerRef(_this._node);\n            } else {\n              innerRef.current = _this._node;\n            }\n          }\n\n          if (_this._resizeObserver !== null && _this._node !== null) {\n            _this._resizeObserver.observe(_this._node);\n          }\n        };\n\n        return _this;\n      }\n\n      var _proto = WithContentRect.prototype;\n\n      _proto.componentDidMount = function componentDidMount() {\n        this._resizeObserver = this._window !== null && this._window.ResizeObserver ? new this._window.ResizeObserver(this.measure) : new ResizeObserver(this.measure);\n\n        if (this._node !== null) {\n          this._resizeObserver.observe(this._node);\n\n          if (typeof this.props.onResize === 'function') {\n            this.props.onResize(getContentRect(this._node, types || getTypes(this.props)));\n          }\n        }\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        if (this._window !== null) {\n          this._window.cancelAnimationFrame(this._animationFrameID);\n        }\n\n        if (this._resizeObserver !== null) {\n          this._resizeObserver.disconnect();\n\n          this._resizeObserver = null;\n        }\n      };\n\n      _proto.render = function render() {\n        var _this$props = this.props,\n            innerRef = _this$props.innerRef,\n            onResize = _this$props.onResize,\n            props = _objectWithoutPropertiesLoose(_this$props, [\"innerRef\", \"onResize\"]);\n\n        return createElement(WrappedComponent, _extends({}, props, {\n          measureRef: this._handleRef,\n          measure: this.measure,\n          contentRect: this.state.contentRect\n        }));\n      };\n\n      return WithContentRect;\n    }(Component), _class.propTypes = {\n      client: PropTypes.bool,\n      offset: PropTypes.bool,\n      scroll: PropTypes.bool,\n      bounds: PropTypes.bool,\n      margin: PropTypes.bool,\n      innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n      onResize: PropTypes.func\n    }, _temp;\n  };\n}\n\nvar Measure = withContentRect()(function (_ref) {\n  var measure = _ref.measure,\n      measureRef = _ref.measureRef,\n      contentRect = _ref.contentRect,\n      children = _ref.children;\n  return children({\n    measure: measure,\n    measureRef: measureRef,\n    contentRect: contentRect\n  });\n});\nMeasure.displayName = 'Measure';\nMeasure.propTypes.children = PropTypes.func;\n\nexport default Measure;\nexport { withContentRect };\n","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexElement\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nimport ReflexHandle from './ReflexHandle';\nimport { getDataProps } from './utilities';\nimport throttle from 'lodash.throttle';\nimport Measure from 'react-measure';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nclass SizeAwareReflexElement extends React.Component {\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onResize\", rect => {\n      const {\n        resizeHeight,\n        resizeWidth\n      } = this.props;\n      const height = Math.floor(rect.bounds.height);\n      const width = Math.floor(rect.bounds.width);\n      this.setDimensions(_objectSpread({}, resizeHeight && {\n        height\n      }, resizeWidth && {\n        width\n      }));\n    });\n\n    this.setDimensions = throttle(dimensions => {\n      this.setState(dimensions);\n    }, this.props.propagateDimensionsRate / 1000);\n    this.state = {\n      height: \"100%\",\n      width: \"100%\"\n    };\n  } /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderChildren() {\n    const {\n      propagateDimensions\n    } = this.props;\n    return React.Children.map(this.props.children, child => {\n      if (this.props.withHandle || ReflexHandle.isA(child)) {\n        return React.cloneElement(child, _objectSpread({\n          dimensions: propagateDimensions && this.state\n        }, child.props, {\n          index: this.props.index - 1,\n          events: this.props.events\n        }));\n      }\n\n      if (propagateDimensions) {\n        return React.cloneElement(child, _objectSpread({}, child.props, {\n          dimensions: this.state\n        }));\n      }\n\n      return child;\n    });\n  } /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n\n  render() {\n    return React.createElement(Measure, {\n      bounds: true,\n      onResize: this.onResize\n    }, ({\n      measureRef\n    }) => {\n      return React.createElement(\"div\", {\n        ref: measureRef,\n        className: \"reflex-size-aware\"\n      }, React.createElement(\"div\", {\n        style: this.state\n      }, this.renderChildren()));\n    });\n  }\n\n}\n\nexport default class ReflexElement extends React.Component {\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor(props) {\n    super(props);\n    this.state = {\n      size: props.size\n    };\n  } /////////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////////\n\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.size !== prevState.size) {\n      return _objectSpread({}, prevState, {\n        size: nextProps.size\n      });\n    }\n\n    return null;\n  } /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n\n  async componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevState.size !== this.state.size) {\n      const directions = this.toArray(this.props.direction);\n\n      for (let direction of directions) {\n        await this.props.events.emit('element.size', {\n          index: this.props.index,\n          size: this.props.size,\n          direction\n        });\n      }\n    }\n  } /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n\n  toArray(obj) {\n    return obj ? Array.isArray(obj) ? obj : [obj] : [];\n  } /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n\n  renderChildren() {\n    return React.Children.map(this.props.children, child => {\n      if (this.props.withHandle || ReflexHandle.isA(child)) {\n        return React.cloneElement(child, _objectSpread({}, child.props, {\n          index: this.props.index - 1,\n          events: this.props.events\n        }));\n      }\n\n      return child;\n    });\n  } /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n\n  render() {\n    const className = [...this.props.className.split(' '), this.props.orientation, 'reflex-element'].join(' ').trim();\n\n    const style = _objectSpread({}, this.props.style, {\n      flexGrow: this.props.flex,\n      flexShrink: 1,\n      flexBasis: '0%'\n    });\n\n    return React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      className: className,\n      style: style\n    }), this.props.propagateDimensions ? React.createElement(SizeAwareReflexElement, this.props) : this.renderChildren());\n  }\n\n}\n\n_defineProperty(ReflexElement, \"propTypes\", {\n  renderOnResizeRate: PropTypes.number,\n  propagateDimensions: PropTypes.bool,\n  resizeHeight: PropTypes.bool,\n  resizeWidth: PropTypes.bool,\n  className: PropTypes.string,\n  size: PropTypes.number /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n});\n\n_defineProperty(ReflexElement, \"defaultProps\", {\n  propagateDimensionsRate: 100,\n  propagateDimensions: false,\n  resizeHeight: true,\n  resizeWidth: true,\n  direction: [1],\n  className: '' /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n\n});","/* eslint-env browser */\n\n/**\n * Helpers for cross-tab communication using broadcastchannel with LocalStorage fallback.\n *\n * ```js\n * // In browser window A:\n * broadcastchannel.subscribe('my events', data => console.log(data))\n * broadcastchannel.publish('my events', 'Hello world!') // => A: 'Hello world!' fires synchronously in same tab\n *\n * // In browser window B:\n * broadcastchannel.publish('my events', 'hello from tab B') // => A: 'hello from tab B'\n * ```\n *\n * @module broadcastchannel\n */\n\n// @todo before next major: use Uint8Array instead as buffer object\n\nimport * as map from './map.js'\nimport * as buffer from './buffer.js'\nimport * as storage from './storage.js'\n\n/**\n * @typedef {Object} Channel\n * @property {Set<Function>} Channel.subs\n * @property {any} Channel.bc\n */\n\n/**\n * @type {Map<string, Channel>}\n */\nconst channels = new Map()\n\nclass LocalStoragePolyfill {\n  /**\n   * @param {string} room\n   */\n  constructor (room) {\n    this.room = room\n    /**\n     * @type {null|function({data:ArrayBuffer}):void}\n     */\n    this.onmessage = null\n    storage.onChange(e => e.key === room && this.onmessage !== null && this.onmessage({ data: buffer.fromBase64(e.newValue || '') }))\n  }\n\n  /**\n   * @param {ArrayBuffer} buf\n   */\n  postMessage (buf) {\n    storage.varStorage.setItem(this.room, buffer.toBase64(buffer.createUint8ArrayFromArrayBuffer(buf)))\n  }\n}\n\n// Use BroadcastChannel or Polyfill\nconst BC = typeof BroadcastChannel === 'undefined' ? LocalStoragePolyfill : BroadcastChannel\n\n/**\n * @param {string} room\n * @return {Channel}\n */\nconst getChannel = room =>\n  map.setIfUndefined(channels, room, () => {\n    const subs = new Set()\n    const bc = new BC(room)\n    /**\n     * @param {{data:ArrayBuffer}} e\n     */\n    bc.onmessage = e => subs.forEach(sub => sub(e.data))\n    return {\n      bc, subs\n    }\n  })\n\n/**\n * Subscribe to global `publish` events.\n *\n * @function\n * @param {string} room\n * @param {function(any):any} f\n */\nexport const subscribe = (room, f) => getChannel(room).subs.add(f)\n\n/**\n * Unsubscribe from `publish` global events.\n *\n * @function\n * @param {string} room\n * @param {function(any):any} f\n */\nexport const unsubscribe = (room, f) => getChannel(room).subs.delete(f)\n\n/**\n * Publish data to all subscribers (including subscribers on this tab)\n *\n * @function\n * @param {string} room\n * @param {any} data\n */\nexport const publish = (room, data) => {\n  const c = getChannel(room)\n  c.bc.postMessage(data)\n  c.subs.forEach(sub => sub(data))\n}\n","/**\n * @module sync-protocol\n */\n\nimport * as encoding from 'lib0/encoding'\nimport * as decoding from 'lib0/decoding'\nimport * as Y from 'yjs'\n\n/**\n * @typedef {Map<number, number>} StateMap\n */\n\n/**\n * Core Yjs defines two message types:\n *  YjsSyncStep1: Includes the State Set of the sending client. When received, the client should reply with YjsSyncStep2.\n *  YjsSyncStep2: Includes all missing structs and the complete delete set. When received, the client is assured that it\n *   received all information from the remote client.\n *\n * In a peer-to-peer network, you may want to introduce a SyncDone message type. Both parties should initiate the connection\n * with SyncStep1. When a client received SyncStep2, it should reply with SyncDone. When the local client received both\n * SyncStep2 and SyncDone, it is assured that it is synced to the remote client.\n *\n * In a client-server model, you want to handle this differently: The client should initiate the connection with SyncStep1.\n * When the server receives SyncStep1, it should reply with SyncStep2 immediately followed by SyncStep1. The client replies\n * with SyncStep2 when it receives SyncStep1. Optionally the server may send a SyncDone after it received SyncStep2, so the\n * client knows that the sync is finished.  There are two reasons for this more elaborated sync model: 1. This protocol can\n * easily be implemented on top of http and websockets. 2. The server shoul only reply to requests, and not initiate them.\n * Therefore it is necesarry that the client initiates the sync.\n *\n * Construction of a message:\n * [messageType : varUint, message definition..]\n *\n * Note: A message does not include information about the room name. This must to be handled by the upper layer protocol!\n *\n * stringify[messageType] stringifies a message definition (messageType is already read from the bufffer)\n */\n\nexport const messageYjsSyncStep1 = 0\nexport const messageYjsSyncStep2 = 1\nexport const messageYjsUpdate = 2\n\n/**\n * Create a sync step 1 message based on the state of the current shared document.\n *\n * @param {encoding.Encoder} encoder\n * @param {Y.Doc} doc\n */\nexport const writeSyncStep1 = (encoder, doc) => {\n  encoding.writeVarUint(encoder, messageYjsSyncStep1)\n  const sv = Y.encodeStateVector(doc)\n  encoding.writeVarUint8Array(encoder, sv)\n}\n\n/**\n * @param {encoding.Encoder} encoder\n * @param {Y.Doc} doc\n * @param {Uint8Array} [encodedStateVector]\n */\nexport const writeSyncStep2 = (encoder, doc, encodedStateVector) => {\n  encoding.writeVarUint(encoder, messageYjsSyncStep2)\n  encoding.writeVarUint8Array(encoder, Y.encodeStateAsUpdate(doc, encodedStateVector))\n}\n\n/**\n * Read SyncStep1 message and reply with SyncStep2.\n *\n * @param {decoding.Decoder} decoder The reply to the received message\n * @param {encoding.Encoder} encoder The received message\n * @param {Y.Doc} doc\n */\nexport const readSyncStep1 = (decoder, encoder, doc) =>\n  writeSyncStep2(encoder, doc, decoding.readVarUint8Array(decoder))\n\n/**\n * Read and apply Structs and then DeleteStore to a y instance.\n *\n * @param {decoding.Decoder} decoder\n * @param {Y.Doc} doc\n * @param {any} transactionOrigin\n */\nexport const readSyncStep2 = (decoder, doc, transactionOrigin) => {\n  try {\n    Y.applyUpdate(doc, decoding.readVarUint8Array(decoder), transactionOrigin)\n  } catch (error) {\n    // This catches errors that are thrown by event handlers\n    console.error('Caught error while handling a Yjs update', error)\n  }\n}\n\n/**\n * @param {encoding.Encoder} encoder\n * @param {Uint8Array} update\n */\nexport const writeUpdate = (encoder, update) => {\n  encoding.writeVarUint(encoder, messageYjsUpdate)\n  encoding.writeVarUint8Array(encoder, update)\n}\n\n/**\n * Read and apply Structs and then DeleteStore to a y instance.\n *\n * @param {decoding.Decoder} decoder\n * @param {Y.Doc} doc\n * @param {any} transactionOrigin\n */\nexport const readUpdate = readSyncStep2\n\n/**\n * @param {decoding.Decoder} decoder A message received from another client\n * @param {encoding.Encoder} encoder The reply message. Will not be sent if empty.\n * @param {Y.Doc} doc\n * @param {any} transactionOrigin\n */\nexport const readSyncMessage = (decoder, encoder, doc, transactionOrigin) => {\n  const messageType = decoding.readVarUint(decoder)\n  switch (messageType) {\n    case messageYjsSyncStep1:\n      readSyncStep1(decoder, encoder, doc)\n      break\n    case messageYjsSyncStep2:\n      readSyncStep2(decoder, doc, transactionOrigin)\n      break\n    case messageYjsUpdate:\n      readUpdate(decoder, doc, transactionOrigin)\n      break\n    default:\n      throw new Error('Unknown message type')\n  }\n  return messageType\n}\n","/**\n * @module awareness-protocol\n */\n\nimport * as encoding from 'lib0/encoding'\nimport * as decoding from 'lib0/decoding'\nimport * as time from 'lib0/time'\nimport * as math from 'lib0/math'\nimport { Observable } from 'lib0/observable'\nimport * as f from 'lib0/function'\nimport * as Y from 'yjs' // eslint-disable-line\n\nexport const outdatedTimeout = 30000\n\n/**\n * @typedef {Object} MetaClientState\n * @property {number} MetaClientState.clock\n * @property {number} MetaClientState.lastUpdated unix timestamp\n */\n\n/**\n * The Awareness class implements a simple shared state protocol that can be used for non-persistent data like awareness information\n * (cursor, username, status, ..). Each client can update its own local state and listen to state changes of\n * remote clients. Every client may set a state of a remote peer to `null` to mark the client as offline.\n *\n * Each client is identified by a unique client id (something we borrow from `doc.clientID`). A client can override\n * its own state by propagating a message with an increasing timestamp (`clock`). If such a message is received, it is\n * applied if the known state of that client is older than the new state (`clock < newClock`). If a client thinks that\n * a remote client is offline, it may propagate a message with\n * `{ clock: currentClientClock, state: null, client: remoteClient }`. If such a\n * message is received, and the known clock of that client equals the received clock, it will override the state with `null`.\n *\n * Before a client disconnects, it should propagate a `null` state with an updated clock.\n *\n * Awareness states must be updated every 30 seconds. Otherwise the Awareness instance will delete the client state.\n *\n * @extends {Observable<string>}\n */\nexport class Awareness extends Observable {\n  /**\n   * @param {Y.Doc} doc\n   */\n  constructor (doc) {\n    super()\n    this.doc = doc\n    /**\n     * @type {number}\n     */\n    this.clientID = doc.clientID\n    /**\n     * Maps from client id to client state\n     * @type {Map<number, Object<string, any>>}\n     */\n    this.states = new Map()\n    /**\n     * @type {Map<number, MetaClientState>}\n     */\n    this.meta = new Map()\n    this._checkInterval = /** @type {any} */ (setInterval(() => {\n      const now = time.getUnixTime()\n      if (this.getLocalState() !== null && (outdatedTimeout / 2 <= now - /** @type {{lastUpdated:number}} */ (this.meta.get(this.clientID)).lastUpdated)) {\n        // renew local clock\n        this.setLocalState(this.getLocalState())\n      }\n      /**\n       * @type {Array<number>}\n       */\n      const remove = []\n      this.meta.forEach((meta, clientid) => {\n        if (clientid !== this.clientID && outdatedTimeout <= now - meta.lastUpdated && this.states.has(clientid)) {\n          remove.push(clientid)\n        }\n      })\n      if (remove.length > 0) {\n        removeAwarenessStates(this, remove, 'timeout')\n      }\n    }, math.floor(outdatedTimeout / 10)))\n    doc.on('destroy', () => {\n      this.destroy()\n    })\n    this.setLocalState({})\n  }\n\n  destroy () {\n    this.emit('destroy', [this])\n    this.setLocalState(null)\n    super.destroy()\n    clearInterval(this._checkInterval)\n  }\n\n  /**\n   * @return {Object<string,any>|null}\n   */\n  getLocalState () {\n    return this.states.get(this.clientID) || null\n  }\n\n  /**\n   * @param {Object<string,any>|null} state\n   */\n  setLocalState (state) {\n    const clientID = this.clientID\n    const currLocalMeta = this.meta.get(clientID)\n    const clock = currLocalMeta === undefined ? 0 : currLocalMeta.clock + 1\n    const prevState = this.states.get(clientID)\n    if (state === null) {\n      this.states.delete(clientID)\n    } else {\n      this.states.set(clientID, state)\n    }\n    this.meta.set(clientID, {\n      clock,\n      lastUpdated: time.getUnixTime()\n    })\n    const added = []\n    const updated = []\n    const filteredUpdated = []\n    const removed = []\n    if (state === null) {\n      removed.push(clientID)\n    } else if (prevState == null) {\n      if (state != null) {\n        added.push(clientID)\n      }\n    } else {\n      updated.push(clientID)\n      if (!f.equalityDeep(prevState, state)) {\n        filteredUpdated.push(clientID)\n      }\n    }\n    if (added.length > 0 || filteredUpdated.length > 0 || removed.length > 0) {\n      this.emit('change', [{ added, updated: filteredUpdated, removed }, 'local'])\n    }\n    this.emit('update', [{ added, updated, removed }, 'local'])\n  }\n\n  /**\n   * @param {string} field\n   * @param {any} value\n   */\n  setLocalStateField (field, value) {\n    const state = this.getLocalState()\n    if (state !== null) {\n      this.setLocalState({\n        ...state,\n        [field]: value\n      })\n    }\n  }\n\n  /**\n   * @return {Map<number,Object<string,any>>}\n   */\n  getStates () {\n    return this.states\n  }\n}\n\n/**\n * Mark (remote) clients as inactive and remove them from the list of active peers.\n * This change will be propagated to remote clients.\n *\n * @param {Awareness} awareness\n * @param {Array<number>} clients\n * @param {any} origin\n */\nexport const removeAwarenessStates = (awareness, clients, origin) => {\n  const removed = []\n  for (let i = 0; i < clients.length; i++) {\n    const clientID = clients[i]\n    if (awareness.states.has(clientID)) {\n      awareness.states.delete(clientID)\n      if (clientID === awareness.clientID) {\n        const curMeta = /** @type {MetaClientState} */ (awareness.meta.get(clientID))\n        awareness.meta.set(clientID, {\n          clock: curMeta.clock + 1,\n          lastUpdated: time.getUnixTime()\n        })\n      }\n      removed.push(clientID)\n    }\n  }\n  if (removed.length > 0) {\n    awareness.emit('change', [{ added: [], updated: [], removed }, origin])\n    awareness.emit('update', [{ added: [], updated: [], removed }, origin])\n  }\n}\n\n/**\n * @param {Awareness} awareness\n * @param {Array<number>} clients\n * @return {Uint8Array}\n */\nexport const encodeAwarenessUpdate = (awareness, clients, states = awareness.states) => {\n  const len = clients.length\n  const encoder = encoding.createEncoder()\n  encoding.writeVarUint(encoder, len)\n  for (let i = 0; i < len; i++) {\n    const clientID = clients[i]\n    const state = states.get(clientID) || null\n    const clock = /** @type {MetaClientState} */ (awareness.meta.get(clientID)).clock\n    encoding.writeVarUint(encoder, clientID)\n    encoding.writeVarUint(encoder, clock)\n    encoding.writeVarString(encoder, JSON.stringify(state))\n  }\n  return encoding.toUint8Array(encoder)\n}\n\n/**\n * Modify the content of an awareness update before re-encoding it to an awareness update.\n *\n * This might be useful when you have a central server that wants to ensure that clients\n * cant hijack somebody elses identity.\n *\n * @param {Uint8Array} update\n * @param {function(any):any} modify\n * @return {Uint8Array}\n */\nexport const modifyAwarenessUpdate = (update, modify) => {\n  const decoder = decoding.createDecoder(update)\n  const encoder = encoding.createEncoder()\n  const len = decoding.readVarUint(decoder)\n  encoding.writeVarUint(encoder, len)\n  for (let i = 0; i < len; i++) {\n    const clientID = decoding.readVarUint(decoder)\n    const clock = decoding.readVarUint(decoder)\n    const state = JSON.parse(decoding.readVarString(decoder))\n    const modifiedState = modify(state)\n    encoding.writeVarUint(encoder, clientID)\n    encoding.writeVarUint(encoder, clock)\n    encoding.writeVarString(encoder, JSON.stringify(modifiedState))\n  }\n  return encoding.toUint8Array(encoder)\n}\n\n/**\n * @param {Awareness} awareness\n * @param {Uint8Array} update\n * @param {any} origin This will be added to the emitted change event\n */\nexport const applyAwarenessUpdate = (awareness, update, origin) => {\n  const decoder = decoding.createDecoder(update)\n  const timestamp = time.getUnixTime()\n  const added = []\n  const updated = []\n  const filteredUpdated = []\n  const removed = []\n  const len = decoding.readVarUint(decoder)\n  for (let i = 0; i < len; i++) {\n    const clientID = decoding.readVarUint(decoder)\n    let clock = decoding.readVarUint(decoder)\n    const state = JSON.parse(decoding.readVarString(decoder))\n    const clientMeta = awareness.meta.get(clientID)\n    const prevState = awareness.states.get(clientID)\n    const currClock = clientMeta === undefined ? 0 : clientMeta.clock\n    if (currClock < clock || (currClock === clock && state === null && awareness.states.has(clientID))) {\n      if (state === null) {\n        // never let a remote client remove this local state\n        if (clientID === awareness.clientID && awareness.getLocalState() != null) {\n          // remote client removed the local state. Do not remote state. Broadcast a message indicating\n          // that this client still exists by increasing the clock\n          clock++\n        } else {\n          awareness.states.delete(clientID)\n        }\n      } else {\n        awareness.states.set(clientID, state)\n      }\n      awareness.meta.set(clientID, {\n        clock,\n        lastUpdated: timestamp\n      })\n      if (clientMeta === undefined && state !== null) {\n        added.push(clientID)\n      } else if (clientMeta !== undefined && state === null) {\n        removed.push(clientID)\n      } else if (state !== null) {\n        if (!f.equalityDeep(state, prevState)) {\n          filteredUpdated.push(clientID)\n        }\n        updated.push(clientID)\n      }\n    }\n  }\n  if (added.length > 0 || filteredUpdated.length > 0 || removed.length > 0) {\n    awareness.emit('change', [{\n      added, updated: filteredUpdated, removed\n    }, origin])\n  }\n  if (added.length > 0 || updated.length > 0 || removed.length > 0) {\n    awareness.emit('update', [{\n      added, updated, removed\n    }, origin])\n  }\n}\n","/**\n * Utility module to work with urls.\n *\n * @module url\n */\n\nimport * as object from './object.js'\n\n/**\n * Parse query parameters from an url.\n *\n * @param {string} url\n * @return {Object<string,string>}\n */\nexport const decodeQueryParams = url => {\n  /**\n   * @type {Object<string,string>}\n   */\n  const query = {}\n  const urlQuerySplit = url.split('?')\n  const pairs = urlQuerySplit[urlQuerySplit.length - 1].split('&')\n  for (var i = 0; i < pairs.length; i++) {\n    const item = pairs[i]\n    if (item.length > 0) {\n      const pair = item.split('=')\n      query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '')\n    }\n  }\n  return query\n}\n\n/**\n * @param {Object<string,string>} params\n * @return {string}\n */\nexport const encodeQueryParams = params =>\n  object.map(params, (val, key) => `${encodeURIComponent(key)}=${encodeURIComponent(val)}`).join('&')\n","/*\nUnlike stated in the LICENSE file, it is not necessary to include the copyright notice and permission notice when you copy code from this file.\n*/\n\n/**\n * @module provider/websocket\n */\n\n/* eslint-env browser */\n\nimport * as Y from 'yjs' // eslint-disable-line\nimport * as bc from 'lib0/broadcastchannel'\nimport * as time from 'lib0/time'\nimport * as encoding from 'lib0/encoding'\nimport * as decoding from 'lib0/decoding'\nimport * as syncProtocol from 'y-protocols/sync'\nimport * as authProtocol from 'y-protocols/auth'\nimport * as awarenessProtocol from 'y-protocols/awareness'\nimport * as mutex from 'lib0/mutex'\nimport { Observable } from 'lib0/observable'\nimport * as math from 'lib0/math'\nimport * as url from 'lib0/url'\n\nconst messageSync = 0\nconst messageQueryAwareness = 3\nconst messageAwareness = 1\nconst messageAuth = 2\n\n/**\n *                       encoder,          decoder,          provider,          emitSynced, messageType\n * @type {Array<function(encoding.Encoder, decoding.Decoder, WebsocketProvider, boolean,    number):void>}\n */\nconst messageHandlers = []\n\nmessageHandlers[messageSync] = (encoder, decoder, provider, emitSynced, messageType) => {\n  encoding.writeVarUint(encoder, messageSync)\n  const syncMessageType = syncProtocol.readSyncMessage(decoder, encoder, provider.doc, provider)\n  if (emitSynced && syncMessageType === syncProtocol.messageYjsSyncStep2 && !provider.synced) {\n    provider.synced = true\n  }\n}\n\nmessageHandlers[messageQueryAwareness] = (encoder, decoder, provider, emitSynced, messageType) => {\n  encoding.writeVarUint(encoder, messageAwareness)\n  encoding.writeVarUint8Array(encoder, awarenessProtocol.encodeAwarenessUpdate(provider.awareness, Array.from(provider.awareness.getStates().keys())))\n}\n\nmessageHandlers[messageAwareness] = (encoder, decoder, provider, emitSynced, messageType) => {\n  awarenessProtocol.applyAwarenessUpdate(provider.awareness, decoding.readVarUint8Array(decoder), provider)\n}\n\nmessageHandlers[messageAuth] = (encoder, decoder, provider, emitSynced, messageType) => {\n  authProtocol.readAuthMessage(decoder, provider.doc, permissionDeniedHandler)\n}\n\nconst reconnectTimeoutBase = 1200\nconst maxReconnectTimeout = 2500\n// @todo - this should depend on awareness.outdatedTime\nconst messageReconnectTimeout = 30000\n\n/**\n * @param {WebsocketProvider} provider\n * @param {string} reason\n */\nconst permissionDeniedHandler = (provider, reason) => console.warn(`Permission denied to access ${provider.url}.\\n${reason}`)\n\n/**\n * @param {WebsocketProvider} provider\n * @param {Uint8Array} buf\n * @param {boolean} emitSynced\n * @return {encoding.Encoder}\n */\nconst readMessage = (provider, buf, emitSynced) => {\n  const decoder = decoding.createDecoder(buf)\n  const encoder = encoding.createEncoder()\n  const messageType = decoding.readVarUint(decoder)\n  const messageHandler = provider.messageHandlers[messageType]\n  if (/** @type {any} */ (messageHandler)) {\n    messageHandler(encoder, decoder, provider, emitSynced, messageType)\n  } else {\n    console.error('Unable to compute message')\n  }\n  return encoder\n}\n\n/**\n * @param {WebsocketProvider} provider\n */\nconst setupWS = provider => {\n  if (provider.shouldConnect && provider.ws === null) {\n    const websocket = new provider._WS(provider.url)\n    websocket.binaryType = 'arraybuffer'\n    provider.ws = websocket\n    provider.wsconnecting = true\n    provider.wsconnected = false\n    provider.synced = false\n\n    websocket.onmessage = event => {\n      provider.wsLastMessageReceived = time.getUnixTime()\n      const encoder = readMessage(provider, new Uint8Array(event.data), true)\n      if (encoding.length(encoder) > 1) {\n        websocket.send(encoding.toUint8Array(encoder))\n      }\n    }\n    websocket.onclose = () => {\n      provider.ws = null\n      provider.wsconnecting = false\n      if (provider.wsconnected) {\n        provider.wsconnected = false\n        provider.synced = false\n        // update awareness (all users except local left)\n        awarenessProtocol.removeAwarenessStates(provider.awareness, Array.from(provider.awareness.getStates().keys()).filter(client => client !== provider.doc.clientID), provider)\n        provider.emit('status', [{\n          status: 'disconnected'\n        }])\n      } else {\n        provider.wsUnsuccessfulReconnects++\n      }\n      // Start with no reconnect timeout and increase timeout by\n      // log10(wsUnsuccessfulReconnects).\n      // The idea is to increase reconnect timeout slowly and have no reconnect\n      // timeout at the beginning (log(1) = 0)\n      setTimeout(setupWS, math.min(math.log10(provider.wsUnsuccessfulReconnects + 1) * reconnectTimeoutBase, maxReconnectTimeout), provider)\n    }\n    websocket.onopen = () => {\n      provider.wsLastMessageReceived = time.getUnixTime()\n      provider.wsconnecting = false\n      provider.wsconnected = true\n      provider.wsUnsuccessfulReconnects = 0\n      provider.emit('status', [{\n        status: 'connected'\n      }])\n      // always send sync step 1 when connected\n      const encoder = encoding.createEncoder()\n      encoding.writeVarUint(encoder, messageSync)\n      syncProtocol.writeSyncStep1(encoder, provider.doc)\n      websocket.send(encoding.toUint8Array(encoder))\n      // broadcast local awareness state\n      if (provider.awareness.getLocalState() !== null) {\n        const encoderAwarenessState = encoding.createEncoder()\n        encoding.writeVarUint(encoderAwarenessState, messageAwareness)\n        encoding.writeVarUint8Array(encoderAwarenessState, awarenessProtocol.encodeAwarenessUpdate(provider.awareness, [provider.doc.clientID]))\n        websocket.send(encoding.toUint8Array(encoderAwarenessState))\n      }\n    }\n\n    provider.emit('status', [{\n      status: 'connecting'\n    }])\n  }\n}\n\n/**\n * @param {WebsocketProvider} provider\n * @param {ArrayBuffer} buf\n */\nconst broadcastMessage = (provider, buf) => {\n  if (provider.wsconnected) {\n    /** @type {WebSocket} */ (provider.ws).send(buf)\n  }\n  if (provider.bcconnected) {\n    provider.mux(() => {\n      bc.publish(provider.bcChannel, buf)\n    })\n  }\n}\n\n/**\n * Websocket Provider for Yjs. Creates a websocket connection to sync the shared document.\n * The document name is attached to the provided url. I.e. the following example\n * creates a websocket connection to http://localhost:1234/my-document-name\n *\n * @example\n *   import * as Y from 'yjs'\n *   import { WebsocketProvider } from 'y-websocket'\n *   const doc = new Y.Doc()\n *   const provider = new WebsocketProvider('http://localhost:1234', 'my-document-name', doc)\n *\n * @extends {Observable<string>}\n */\nexport class WebsocketProvider extends Observable {\n  /**\n   * @param {string} serverUrl\n   * @param {string} roomname\n   * @param {Y.Doc} doc\n   * @param {object} [opts]\n   * @param {boolean} [opts.connect]\n   * @param {awarenessProtocol.Awareness} [opts.awareness]\n   * @param {Object<string,string>} [opts.params]\n   * @param {typeof WebSocket} [opts.WebSocketPolyfill] Optionall provide a WebSocket polyfill\n   * @param {number} [opts.resyncInterval] Request server state every `resyncInterval` milliseconds\n   */\n  constructor (serverUrl, roomname, doc, { connect = true, awareness = new awarenessProtocol.Awareness(doc), params = {}, WebSocketPolyfill = WebSocket, resyncInterval = -1 } = {}) {\n    super()\n    // ensure that url is always ends with /\n    while (serverUrl[serverUrl.length - 1] === '/') {\n      serverUrl = serverUrl.slice(0, serverUrl.length - 1)\n    }\n    const encodedParams = url.encodeQueryParams(params)\n    this.bcChannel = serverUrl + '/' + roomname\n    this.url = serverUrl + '/' + roomname + (encodedParams.length === 0 ? '' : '?' + encodedParams)\n    this.roomname = roomname\n    this.doc = doc\n    this._WS = WebSocketPolyfill\n    this.awareness = awareness\n    this.wsconnected = false\n    this.wsconnecting = false\n    this.bcconnected = false\n    this.wsUnsuccessfulReconnects = 0\n    this.messageHandlers = messageHandlers.slice()\n    this.mux = mutex.createMutex()\n    /**\n     * @type {boolean}\n     */\n    this._synced = false\n    /**\n     * @type {WebSocket?}\n     */\n    this.ws = null\n    this.wsLastMessageReceived = 0\n    /**\n     * Whether to connect to other peers or not\n     * @type {boolean}\n     */\n    this.shouldConnect = connect\n\n    /**\n     * @type {number}\n     */\n    this._resyncInterval = 0\n    if (resyncInterval > 0) {\n      this._resyncInterval = /** @type {any} */ (setInterval(() => {\n        if (this.ws) {\n          // resend sync step 1\n          const encoder = encoding.createEncoder()\n          encoding.writeVarUint(encoder, messageSync)\n          syncProtocol.writeSyncStep1(encoder, doc)\n          this.ws.send(encoding.toUint8Array(encoder))\n        }\n      }, resyncInterval))\n    }\n\n    /**\n     * @param {ArrayBuffer} data\n     */\n    this._bcSubscriber = data => {\n      this.mux(() => {\n        const encoder = readMessage(this, new Uint8Array(data), false)\n        if (encoding.length(encoder) > 1) {\n          bc.publish(this.bcChannel, encoding.toUint8Array(encoder))\n        }\n      })\n    }\n    /**\n     * Listens to Yjs updates and sends them to remote peers (ws and broadcastchannel)\n     * @param {Uint8Array} update\n     * @param {any} origin\n     */\n    this._updateHandler = (update, origin) => {\n      if (origin !== this) {\n        const encoder = encoding.createEncoder()\n        encoding.writeVarUint(encoder, messageSync)\n        syncProtocol.writeUpdate(encoder, update)\n        broadcastMessage(this, encoding.toUint8Array(encoder))\n      }\n    }\n    this.doc.on('update', this._updateHandler)\n    /**\n     * @param {any} changed\n     * @param {any} origin\n     */\n    this._awarenessUpdateHandler = ({ added, updated, removed }, origin) => {\n      const changedClients = added.concat(updated).concat(removed)\n      const encoder = encoding.createEncoder()\n      encoding.writeVarUint(encoder, messageAwareness)\n      encoding.writeVarUint8Array(encoder, awarenessProtocol.encodeAwarenessUpdate(awareness, changedClients))\n      broadcastMessage(this, encoding.toUint8Array(encoder))\n    }\n    if (typeof window !== 'undefined') {\n      window.addEventListener('beforeunload', () => {\n        awarenessProtocol.removeAwarenessStates(this.awareness, [doc.clientID], 'window unload')\n      })\n    }\n    awareness.on('update', this._awarenessUpdateHandler)\n    this._checkInterval = /** @type {any} */ (setInterval(() => {\n      if (this.wsconnected && messageReconnectTimeout < time.getUnixTime() - this.wsLastMessageReceived) {\n        // no message received in a long time - not even your own awareness\n        // updates (which are updated every 15 seconds)\n        /** @type {WebSocket} */ (this.ws).close()\n      }\n    }, messageReconnectTimeout / 10))\n    if (connect) {\n      this.connect()\n    }\n  }\n\n  /**\n   * @type {boolean}\n   */\n  get synced () {\n    return this._synced\n  }\n\n  set synced (state) {\n    if (this._synced !== state) {\n      this._synced = state\n      this.emit('synced', [state])\n      this.emit('sync', [state])\n    }\n  }\n\n  destroy () {\n    if (this._resyncInterval !== 0) {\n      clearInterval(this._resyncInterval)\n    }\n    clearInterval(this._checkInterval)\n    this.disconnect()\n    this.awareness.off('update', this._awarenessUpdateHandler)\n    this.doc.off('update', this._updateHandler)\n    super.destroy()\n  }\n\n  connectBc () {\n    if (!this.bcconnected) {\n      bc.subscribe(this.bcChannel, this._bcSubscriber)\n      this.bcconnected = true\n    }\n    // send sync step1 to bc\n    this.mux(() => {\n      // write sync step 1\n      const encoderSync = encoding.createEncoder()\n      encoding.writeVarUint(encoderSync, messageSync)\n      syncProtocol.writeSyncStep1(encoderSync, this.doc)\n      bc.publish(this.bcChannel, encoding.toUint8Array(encoderSync))\n      // broadcast local state\n      const encoderState = encoding.createEncoder()\n      encoding.writeVarUint(encoderState, messageSync)\n      syncProtocol.writeSyncStep2(encoderState, this.doc)\n      bc.publish(this.bcChannel, encoding.toUint8Array(encoderState))\n      // write queryAwareness\n      const encoderAwarenessQuery = encoding.createEncoder()\n      encoding.writeVarUint(encoderAwarenessQuery, messageQueryAwareness)\n      bc.publish(this.bcChannel, encoding.toUint8Array(encoderAwarenessQuery))\n      // broadcast local awareness state\n      const encoderAwarenessState = encoding.createEncoder()\n      encoding.writeVarUint(encoderAwarenessState, messageAwareness)\n      encoding.writeVarUint8Array(encoderAwarenessState, awarenessProtocol.encodeAwarenessUpdate(this.awareness, [this.doc.clientID]))\n      bc.publish(this.bcChannel, encoding.toUint8Array(encoderAwarenessState))\n    })\n  }\n\n  disconnectBc () {\n    // broadcast message with local awareness state set to null (indicating disconnect)\n    const encoder = encoding.createEncoder()\n    encoding.writeVarUint(encoder, messageAwareness)\n    encoding.writeVarUint8Array(encoder, awarenessProtocol.encodeAwarenessUpdate(this.awareness, [this.doc.clientID], new Map()))\n    broadcastMessage(this, encoding.toUint8Array(encoder))\n    if (this.bcconnected) {\n      bc.unsubscribe(this.bcChannel, this._bcSubscriber)\n      this.bcconnected = false\n    }\n  }\n\n  disconnect () {\n    this.shouldConnect = false\n    this.disconnectBc()\n    if (this.ws !== null) {\n      this.ws.close()\n    }\n  }\n\n  connect () {\n    this.shouldConnect = true\n    if (!this.wsconnected && this.ws === null) {\n      setupWS(this)\n      this.connectBc()\n    }\n  }\n}\n","\nimport * as Y from 'yjs' // eslint-disable-line\nimport * as encoding from 'lib0/encoding'\nimport * as decoding from 'lib0/decoding'\n\nexport const messagePermissionDenied = 0\n\n/**\n * @param {encoding.Encoder} encoder\n * @param {string} reason\n */\nexport const writePermissionDenied = (encoder, reason) => {\n  encoding.writeVarUint(encoder, messagePermissionDenied)\n  encoding.writeVarString(encoder, reason)\n}\n\n/**\n * @callback PermissionDeniedHandler\n * @param {any} y\n * @param {string} reason\n */\n\n/**\n *\n * @param {decoding.Decoder} decoder\n * @param {Y.Doc} y\n * @param {PermissionDeniedHandler} permissionDeniedHandler\n */\nexport const readAuthMessage = (decoder, y, permissionDeniedHandler) => {\n  switch (decoding.readVarUint(decoder)) {\n    case messagePermissionDenied: permissionDeniedHandler(y, decoding.readVarString(decoder))\n  }\n}\n","/**\n * Lexing or parsing positional information for error reporting.\n * This object is immutable.\n */\nclass SourceLocation {\n  // The + prefix indicates that these fields aren't writeable\n  // Lexer holding the input string.\n  // Start offset, zero-based inclusive.\n  // End offset, zero-based exclusive.\n  constructor(lexer, start, end) {\n    this.lexer = void 0;\n    this.start = void 0;\n    this.end = void 0;\n    this.lexer = lexer;\n    this.start = start;\n    this.end = end;\n  }\n  /**\n   * Merges two `SourceLocation`s from location providers, given they are\n   * provided in order of appearance.\n   * - Returns the first one's location if only the first is provided.\n   * - Returns a merged range of the first and the last if both are provided\n   *   and their lexers match.\n   * - Otherwise, returns null.\n   */\n\n\n  static range(first, second) {\n    if (!second) {\n      return first && first.loc;\n    } else if (!first || !first.loc || !second.loc || first.loc.lexer !== second.loc.lexer) {\n      return null;\n    } else {\n      return new SourceLocation(first.loc.lexer, first.loc.start, second.loc.end);\n    }\n  }\n\n}\n\n/**\n * Interface required to break circular dependency between Token, Lexer, and\n * ParseError.\n */\n\n/**\n * The resulting token returned from `lex`.\n *\n * It consists of the token text plus some position information.\n * The position information is essentially a range in an input string,\n * but instead of referencing the bare input string, we refer to the lexer.\n * That way it is possible to attach extra metadata to the input string,\n * like for example a file name or similar.\n *\n * The position information is optional, so it is OK to construct synthetic\n * tokens if appropriate. Not providing available position information may\n * lead to degraded error reporting, though.\n */\nclass Token {\n  // don't expand the token\n  // used in \\noexpand\n  constructor(text, // the text of this token\n  loc) {\n    this.text = void 0;\n    this.loc = void 0;\n    this.noexpand = void 0;\n    this.treatAsRelax = void 0;\n    this.text = text;\n    this.loc = loc;\n  }\n  /**\n   * Given a pair of tokens (this and endToken), compute a `Token` encompassing\n   * the whole input range enclosed by these two.\n   */\n\n\n  range(endToken, // last token of the range, inclusive\n  text) {\n    return new Token(text, SourceLocation.range(this, endToken));\n  }\n\n}\n\n/**\n * This is the ParseError class, which is the main error thrown by KaTeX\n * functions when something has gone wrong. This is used to distinguish internal\n * errors from errors in the expression that the user provided.\n *\n * If possible, a caller should provide a Token or ParseNode with information\n * about where in the source string the problem occurred.\n */\nclass ParseError {\n  // Error position based on passed-in Token or ParseNode.\n  constructor(message, // The error message\n  token) {\n    this.position = void 0;\n    var error = \"KaTeX parse error: \" + message;\n    var start;\n    var loc = token && token.loc;\n\n    if (loc && loc.start <= loc.end) {\n      // If we have the input and a position, make the error a bit fancier\n      // Get the input\n      var input = loc.lexer.input; // Prepend some information\n\n      start = loc.start;\n      var end = loc.end;\n\n      if (start === input.length) {\n        error += \" at end of input: \";\n      } else {\n        error += \" at position \" + (start + 1) + \": \";\n      } // Underline token in question using combining underscores\n\n\n      var underlined = input.slice(start, end).replace(/[^]/g, \"$&\\u0332\"); // Extract some context from the input and add it to the error\n\n      var left;\n\n      if (start > 15) {\n        left = \"\" + input.slice(start - 15, start);\n      } else {\n        left = input.slice(0, start);\n      }\n\n      var right;\n\n      if (end + 15 < input.length) {\n        right = input.slice(end, end + 15) + \"\";\n      } else {\n        right = input.slice(end);\n      }\n\n      error += left + underlined + right;\n    } // Some hackery to make ParseError a prototype of Error\n    // See http://stackoverflow.com/a/8460753\n\n\n    var self = new Error(error);\n    self.name = \"ParseError\"; // $FlowFixMe\n\n    self.__proto__ = ParseError.prototype; // $FlowFixMe\n\n    self.position = start;\n    return self;\n  }\n\n} // $FlowFixMe More hackery\n\n\nParseError.prototype.__proto__ = Error.prototype;\n\n/**\n * This file contains a list of utility functions which are useful in other\n * files.\n */\n\n/**\n * Return whether an element is contained in a list\n */\nvar contains = function contains(list, elem) {\n  return list.indexOf(elem) !== -1;\n};\n/**\n * Provide a default value if a setting is undefined\n * NOTE: Couldn't use `T` as the output type due to facebook/flow#5022.\n */\n\n\nvar deflt = function deflt(setting, defaultIfUndefined) {\n  return setting === undefined ? defaultIfUndefined : setting;\n}; // hyphenate and escape adapted from Facebook's React under Apache 2 license\n\n\nvar uppercase = /([A-Z])/g;\n\nvar hyphenate = function hyphenate(str) {\n  return str.replace(uppercase, \"-$1\").toLowerCase();\n};\n\nvar ESCAPE_LOOKUP = {\n  \"&\": \"&amp;\",\n  \">\": \"&gt;\",\n  \"<\": \"&lt;\",\n  \"\\\"\": \"&quot;\",\n  \"'\": \"&#x27;\"\n};\nvar ESCAPE_REGEX = /[&><\"']/g;\n/**\n * Escapes text to prevent scripting attacks.\n */\n\nfunction escape(text) {\n  return String(text).replace(ESCAPE_REGEX, match => ESCAPE_LOOKUP[match]);\n}\n/**\n * Sometimes we want to pull out the innermost element of a group. In most\n * cases, this will just be the group itself, but when ordgroups and colors have\n * a single element, we want to pull that out.\n */\n\n\nvar getBaseElem = function getBaseElem(group) {\n  if (group.type === \"ordgroup\") {\n    if (group.body.length === 1) {\n      return getBaseElem(group.body[0]);\n    } else {\n      return group;\n    }\n  } else if (group.type === \"color\") {\n    if (group.body.length === 1) {\n      return getBaseElem(group.body[0]);\n    } else {\n      return group;\n    }\n  } else if (group.type === \"font\") {\n    return getBaseElem(group.body);\n  } else {\n    return group;\n  }\n};\n/**\n * TeXbook algorithms often reference \"character boxes\", which are simply groups\n * with a single character in them. To decide if something is a character box,\n * we find its innermost group, and see if it is a single character.\n */\n\n\nvar isCharacterBox = function isCharacterBox(group) {\n  var baseElem = getBaseElem(group); // These are all they types of groups which hold single characters\n\n  return baseElem.type === \"mathord\" || baseElem.type === \"textord\" || baseElem.type === \"atom\";\n};\n\nvar assert = function assert(value) {\n  if (!value) {\n    throw new Error('Expected non-null, but got ' + String(value));\n  }\n\n  return value;\n};\n/**\n * Return the protocol of a URL, or \"_relative\" if the URL does not specify a\n * protocol (and thus is relative).\n */\n\nvar protocolFromUrl = function protocolFromUrl(url) {\n  var protocol = /^\\s*([^\\\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(url);\n  return protocol != null ? protocol[1] : \"_relative\";\n};\nvar utils = {\n  contains,\n  deflt,\n  escape,\n  hyphenate,\n  getBaseElem,\n  isCharacterBox,\n  protocolFromUrl\n};\n\n/* eslint no-console:0 */\n\n/**\n * The main Settings object\n *\n * The current options stored are:\n *  - displayMode: Whether the expression should be typeset as inline math\n *                 (false, the default), meaning that the math starts in\n *                 \\textstyle and is placed in an inline-block); or as display\n *                 math (true), meaning that the math starts in \\displaystyle\n *                 and is placed in a block with vertical margin.\n */\nclass Settings {\n  constructor(options) {\n    this.displayMode = void 0;\n    this.output = void 0;\n    this.leqno = void 0;\n    this.fleqn = void 0;\n    this.throwOnError = void 0;\n    this.errorColor = void 0;\n    this.macros = void 0;\n    this.minRuleThickness = void 0;\n    this.colorIsTextColor = void 0;\n    this.strict = void 0;\n    this.trust = void 0;\n    this.maxSize = void 0;\n    this.maxExpand = void 0;\n    this.globalGroup = void 0;\n    // allow null options\n    options = options || {};\n    this.displayMode = utils.deflt(options.displayMode, false);\n    this.output = utils.deflt(options.output, \"htmlAndMathml\");\n    this.leqno = utils.deflt(options.leqno, false);\n    this.fleqn = utils.deflt(options.fleqn, false);\n    this.throwOnError = utils.deflt(options.throwOnError, true);\n    this.errorColor = utils.deflt(options.errorColor, \"#cc0000\");\n    this.macros = options.macros || {};\n    this.minRuleThickness = Math.max(0, utils.deflt(options.minRuleThickness, 0));\n    this.colorIsTextColor = utils.deflt(options.colorIsTextColor, false);\n    this.strict = utils.deflt(options.strict, \"warn\");\n    this.trust = utils.deflt(options.trust, false);\n    this.maxSize = Math.max(0, utils.deflt(options.maxSize, Infinity));\n    this.maxExpand = Math.max(0, utils.deflt(options.maxExpand, 1000));\n    this.globalGroup = utils.deflt(options.globalGroup, false);\n  }\n  /**\n   * Report nonstrict (non-LaTeX-compatible) input.\n   * Can safely not be called if `this.strict` is false in JavaScript.\n   */\n\n\n  reportNonstrict(errorCode, errorMsg, token) {\n    var strict = this.strict;\n\n    if (typeof strict === \"function\") {\n      // Allow return value of strict function to be boolean or string\n      // (or null/undefined, meaning no further processing).\n      strict = strict(errorCode, errorMsg, token);\n    }\n\n    if (!strict || strict === \"ignore\") {\n      return;\n    } else if (strict === true || strict === \"error\") {\n      throw new ParseError(\"LaTeX-incompatible input and strict mode is set to 'error': \" + (errorMsg + \" [\" + errorCode + \"]\"), token);\n    } else if (strict === \"warn\") {\n      typeof console !== \"undefined\" && console.warn(\"LaTeX-incompatible input and strict mode is set to 'warn': \" + (errorMsg + \" [\" + errorCode + \"]\"));\n    } else {\n      // won't happen in type-safe code\n      typeof console !== \"undefined\" && console.warn(\"LaTeX-incompatible input and strict mode is set to \" + (\"unrecognized '\" + strict + \"': \" + errorMsg + \" [\" + errorCode + \"]\"));\n    }\n  }\n  /**\n   * Check whether to apply strict (LaTeX-adhering) behavior for unusual\n   * input (like `\\\\`).  Unlike `nonstrict`, will not throw an error;\n   * instead, \"error\" translates to a return value of `true`, while \"ignore\"\n   * translates to a return value of `false`.  May still print a warning:\n   * \"warn\" prints a warning and returns `false`.\n   * This is for the second category of `errorCode`s listed in the README.\n   */\n\n\n  useStrictBehavior(errorCode, errorMsg, token) {\n    var strict = this.strict;\n\n    if (typeof strict === \"function\") {\n      // Allow return value of strict function to be boolean or string\n      // (or null/undefined, meaning no further processing).\n      // But catch any exceptions thrown by function, treating them\n      // like \"error\".\n      try {\n        strict = strict(errorCode, errorMsg, token);\n      } catch (error) {\n        strict = \"error\";\n      }\n    }\n\n    if (!strict || strict === \"ignore\") {\n      return false;\n    } else if (strict === true || strict === \"error\") {\n      return true;\n    } else if (strict === \"warn\") {\n      typeof console !== \"undefined\" && console.warn(\"LaTeX-incompatible input and strict mode is set to 'warn': \" + (errorMsg + \" [\" + errorCode + \"]\"));\n      return false;\n    } else {\n      // won't happen in type-safe code\n      typeof console !== \"undefined\" && console.warn(\"LaTeX-incompatible input and strict mode is set to \" + (\"unrecognized '\" + strict + \"': \" + errorMsg + \" [\" + errorCode + \"]\"));\n      return false;\n    }\n  }\n  /**\n   * Check whether to test potentially dangerous input, and return\n   * `true` (trusted) or `false` (untrusted).  The sole argument `context`\n   * should be an object with `command` field specifying the relevant LaTeX\n   * command (as a string starting with `\\`), and any other arguments, etc.\n   * If `context` has a `url` field, a `protocol` field will automatically\n   * get added by this function (changing the specified object).\n   */\n\n\n  isTrusted(context) {\n    if (context.url && !context.protocol) {\n      context.protocol = utils.protocolFromUrl(context.url);\n    }\n\n    var trust = typeof this.trust === \"function\" ? this.trust(context) : this.trust;\n    return Boolean(trust);\n  }\n\n}\n\n/**\n * This file contains information and classes for the various kinds of styles\n * used in TeX. It provides a generic `Style` class, which holds information\n * about a specific style. It then provides instances of all the different kinds\n * of styles possible, and provides functions to move between them and get\n * information about them.\n */\n\n/**\n * The main style class. Contains a unique id for the style, a size (which is\n * the same for cramped and uncramped version of a style), and a cramped flag.\n */\nclass Style {\n  constructor(id, size, cramped) {\n    this.id = void 0;\n    this.size = void 0;\n    this.cramped = void 0;\n    this.id = id;\n    this.size = size;\n    this.cramped = cramped;\n  }\n  /**\n   * Get the style of a superscript given a base in the current style.\n   */\n\n\n  sup() {\n    return styles[sup[this.id]];\n  }\n  /**\n   * Get the style of a subscript given a base in the current style.\n   */\n\n\n  sub() {\n    return styles[sub[this.id]];\n  }\n  /**\n   * Get the style of a fraction numerator given the fraction in the current\n   * style.\n   */\n\n\n  fracNum() {\n    return styles[fracNum[this.id]];\n  }\n  /**\n   * Get the style of a fraction denominator given the fraction in the current\n   * style.\n   */\n\n\n  fracDen() {\n    return styles[fracDen[this.id]];\n  }\n  /**\n   * Get the cramped version of a style (in particular, cramping a cramped style\n   * doesn't change the style).\n   */\n\n\n  cramp() {\n    return styles[cramp[this.id]];\n  }\n  /**\n   * Get a text or display version of this style.\n   */\n\n\n  text() {\n    return styles[text[this.id]];\n  }\n  /**\n   * Return true if this style is tightly spaced (scriptstyle/scriptscriptstyle)\n   */\n\n\n  isTight() {\n    return this.size >= 2;\n  }\n\n} // Export an interface for type checking, but don't expose the implementation.\n// This way, no more styles can be generated.\n\n\n// IDs of the different styles\nvar D = 0;\nvar Dc = 1;\nvar T = 2;\nvar Tc = 3;\nvar S = 4;\nvar Sc = 5;\nvar SS = 6;\nvar SSc = 7; // Instances of the different styles\n\nvar styles = [new Style(D, 0, false), new Style(Dc, 0, true), new Style(T, 1, false), new Style(Tc, 1, true), new Style(S, 2, false), new Style(Sc, 2, true), new Style(SS, 3, false), new Style(SSc, 3, true)]; // Lookup tables for switching from one style to another\n\nvar sup = [S, Sc, S, Sc, SS, SSc, SS, SSc];\nvar sub = [Sc, Sc, Sc, Sc, SSc, SSc, SSc, SSc];\nvar fracNum = [T, Tc, S, Sc, SS, SSc, SS, SSc];\nvar fracDen = [Tc, Tc, Sc, Sc, SSc, SSc, SSc, SSc];\nvar cramp = [Dc, Dc, Tc, Tc, Sc, Sc, SSc, SSc];\nvar text = [D, Dc, T, Tc, T, Tc, T, Tc]; // We only export some of the styles.\n\nvar Style$1 = {\n  DISPLAY: styles[D],\n  TEXT: styles[T],\n  SCRIPT: styles[S],\n  SCRIPTSCRIPT: styles[SS]\n};\n\n/*\n * This file defines the Unicode scripts and script families that we\n * support. To add new scripts or families, just add a new entry to the\n * scriptData array below. Adding scripts to the scriptData array allows\n * characters from that script to appear in \\text{} environments.\n */\n\n/**\n * Each script or script family has a name and an array of blocks.\n * Each block is an array of two numbers which specify the start and\n * end points (inclusive) of a block of Unicode codepoints.\n */\n\n/**\n * Unicode block data for the families of scripts we support in \\text{}.\n * Scripts only need to appear here if they do not have font metrics.\n */\nvar scriptData = [{\n  // Latin characters beyond the Latin-1 characters we have metrics for.\n  // Needed for Czech, Hungarian and Turkish text, for example.\n  name: 'latin',\n  blocks: [[0x0100, 0x024f], // Latin Extended-A and Latin Extended-B\n  [0x0300, 0x036f] // Combining Diacritical marks\n  ]\n}, {\n  // The Cyrillic script used by Russian and related languages.\n  // A Cyrillic subset used to be supported as explicitly defined\n  // symbols in symbols.js\n  name: 'cyrillic',\n  blocks: [[0x0400, 0x04ff]]\n}, {\n  // Armenian\n  name: 'armenian',\n  blocks: [[0x0530, 0x058F]]\n}, {\n  // The Brahmic scripts of South and Southeast Asia\n  // Devanagari (0900097F)\n  // Bengali (098009FF)\n  // Gurmukhi (0A000A7F)\n  // Gujarati (0A800AFF)\n  // Oriya (0B000B7F)\n  // Tamil (0B800BFF)\n  // Telugu (0C000C7F)\n  // Kannada (0C800CFF)\n  // Malayalam (0D000D7F)\n  // Sinhala (0D800DFF)\n  // Thai (0E000E7F)\n  // Lao (0E800EFF)\n  // Tibetan (0F000FFF)\n  // Myanmar (1000109F)\n  name: 'brahmic',\n  blocks: [[0x0900, 0x109F]]\n}, {\n  name: 'georgian',\n  blocks: [[0x10A0, 0x10ff]]\n}, {\n  // Chinese and Japanese.\n  // The \"k\" in cjk is for Korean, but we've separated Korean out\n  name: \"cjk\",\n  blocks: [[0x3000, 0x30FF], // CJK symbols and punctuation, Hiragana, Katakana\n  [0x4E00, 0x9FAF], // CJK ideograms\n  [0xFF00, 0xFF60] // Fullwidth punctuation\n  // TODO: add halfwidth Katakana and Romanji glyphs\n  ]\n}, {\n  // Korean\n  name: 'hangul',\n  blocks: [[0xAC00, 0xD7AF]]\n}];\n/**\n * Given a codepoint, return the name of the script or script family\n * it is from, or null if it is not part of a known block\n */\n\nfunction scriptFromCodepoint(codepoint) {\n  for (var i = 0; i < scriptData.length; i++) {\n    var script = scriptData[i];\n\n    for (var _i = 0; _i < script.blocks.length; _i++) {\n      var block = script.blocks[_i];\n\n      if (codepoint >= block[0] && codepoint <= block[1]) {\n        return script.name;\n      }\n    }\n  }\n\n  return null;\n}\n/**\n * A flattened version of all the supported blocks in a single array.\n * This is an optimization to make supportedCodepoint() fast.\n */\n\nvar allBlocks = [];\nscriptData.forEach(s => s.blocks.forEach(b => allBlocks.push(...b)));\n/**\n * Given a codepoint, return true if it falls within one of the\n * scripts or script families defined above and false otherwise.\n *\n * Micro benchmarks shows that this is faster than\n * /[\\u3000-\\u30FF\\u4E00-\\u9FAF\\uFF00-\\uFF60\\uAC00-\\uD7AF\\u0900-\\u109F]/.test()\n * in Firefox, Chrome and Node.\n */\n\nfunction supportedCodepoint(codepoint) {\n  for (var i = 0; i < allBlocks.length; i += 2) {\n    if (codepoint >= allBlocks[i] && codepoint <= allBlocks[i + 1]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n/**\n * This file provides support to domTree.js and delimiter.js.\n * It's a storehouse of path geometry for SVG images.\n */\n// In all paths below, the viewBox-to-em scale is 1000:1.\nvar hLinePad = 80; // padding above a sqrt viniculum. Prevents image cropping.\n// The viniculum of a \\sqrt can be made thicker by a KaTeX rendering option.\n// Think of variable extraViniculum as two detours in the SVG path.\n// The detour begins at the lower left of the area labeled extraViniculum below.\n// The detour proceeds one extraViniculum distance up and slightly to the right,\n// displacing the radiused corner between surd and viniculum. The radius is\n// traversed as usual, then the detour resumes. It goes right, to the end of\n// the very long viniculumn, then down one extraViniculum distance,\n// after which it resumes regular path geometry for the radical.\n\n/*                                                  viniculum\n                                                   /\n         /extraViniculum\n        / 0.04em (40 unit) std viniculum thickness\n       / /\n      / /\n     / /\\\n    / / surd\n*/\n\nvar sqrtMain = function sqrtMain(extraViniculum, hLinePad) {\n  // sqrtMain path geometry is from glyph U221A in the font KaTeX Main\n  return \"M95,\" + (622 + extraViniculum + hLinePad) + \"\\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\\nc69,-144,104.5,-217.7,106.5,-221\\nl\" + extraViniculum / 2.075 + \" -\" + extraViniculum + \"\\nc5.3,-9.3,12,-14,20,-14\\nH400000v\" + (40 + extraViniculum) + \"H845.2724\\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\\nM\" + (834 + extraViniculum) + \" \" + hLinePad + \"h400000v\" + (40 + extraViniculum) + \"h-400000z\";\n};\n\nvar sqrtSize1 = function sqrtSize1(extraViniculum, hLinePad) {\n  // size1 is from glyph U221A in the font KaTeX_Size1-Regular\n  return \"M263,\" + (601 + extraViniculum + hLinePad) + \"c0.7,0,18,39.7,52,119\\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\\nc340,-704.7,510.7,-1060.3,512,-1067\\nl\" + extraViniculum / 2.084 + \" -\" + extraViniculum + \"\\nc4.7,-7.3,11,-11,19,-11\\nH40000v\" + (40 + extraViniculum) + \"H1012.3\\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\\nM\" + (1001 + extraViniculum) + \" \" + hLinePad + \"h400000v\" + (40 + extraViniculum) + \"h-400000z\";\n};\n\nvar sqrtSize2 = function sqrtSize2(extraViniculum, hLinePad) {\n  // size2 is from glyph U221A in the font KaTeX_Size2-Regular\n  return \"M983 \" + (10 + extraViniculum + hLinePad) + \"\\nl\" + extraViniculum / 3.13 + \" -\" + extraViniculum + \"\\nc4,-6.7,10,-10,18,-10 H400000v\" + (40 + extraViniculum) + \"\\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\\nM\" + (1001 + extraViniculum) + \" \" + hLinePad + \"h400000v\" + (40 + extraViniculum) + \"h-400000z\";\n};\n\nvar sqrtSize3 = function sqrtSize3(extraViniculum, hLinePad) {\n  // size3 is from glyph U221A in the font KaTeX_Size3-Regular\n  return \"M424,\" + (2398 + extraViniculum + hLinePad) + \"\\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\\nl\" + extraViniculum / 4.223 + \" -\" + extraViniculum + \"c4,-6.7,10,-10,18,-10 H400000\\nv\" + (40 + extraViniculum) + \"H1014.6\\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\\nc-2,6,-10,9,-24,9\\nc-8,0,-12,-0.7,-12,-2z M\" + (1001 + extraViniculum) + \" \" + hLinePad + \"\\nh400000v\" + (40 + extraViniculum) + \"h-400000z\";\n};\n\nvar sqrtSize4 = function sqrtSize4(extraViniculum, hLinePad) {\n  // size4 is from glyph U221A in the font KaTeX_Size4-Regular\n  return \"M473,\" + (2713 + extraViniculum + hLinePad) + \"\\nc339.3,-1799.3,509.3,-2700,510,-2702 l\" + extraViniculum / 5.298 + \" -\" + extraViniculum + \"\\nc3.3,-7.3,9.3,-11,18,-11 H400000v\" + (40 + extraViniculum) + \"H1017.7\\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\\n606zM\" + (1001 + extraViniculum) + \" \" + hLinePad + \"h400000v\" + (40 + extraViniculum) + \"H1017.7z\";\n};\n\nvar phasePath = function phasePath(y) {\n  var x = y / 2; // x coordinate at top of angle\n\n  return \"M400000 \" + y + \" H0 L\" + x + \" 0 l65 45 L145 \" + (y - 80) + \" H400000z\";\n};\n\nvar sqrtTall = function sqrtTall(extraViniculum, hLinePad, viewBoxHeight) {\n  // sqrtTall is from glyph U23B7 in the font KaTeX_Size4-Regular\n  // One path edge has a variable length. It runs vertically from the viniculumn\n  // to a point near (14 units) the bottom of the surd. The viniculum\n  // is normally 40 units thick. So the length of the line in question is:\n  var vertSegment = viewBoxHeight - 54 - hLinePad - extraViniculum;\n  return \"M702 \" + (extraViniculum + hLinePad) + \"H400000\" + (40 + extraViniculum) + \"\\nH742v\" + vertSegment + \"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\\n219 661 l218 661zM702 \" + hLinePad + \"H400000v\" + (40 + extraViniculum) + \"H742z\";\n};\n\nvar sqrtPath = function sqrtPath(size, extraViniculum, viewBoxHeight) {\n  extraViniculum = 1000 * extraViniculum; // Convert from document ems to viewBox.\n\n  var path = \"\";\n\n  switch (size) {\n    case \"sqrtMain\":\n      path = sqrtMain(extraViniculum, hLinePad);\n      break;\n\n    case \"sqrtSize1\":\n      path = sqrtSize1(extraViniculum, hLinePad);\n      break;\n\n    case \"sqrtSize2\":\n      path = sqrtSize2(extraViniculum, hLinePad);\n      break;\n\n    case \"sqrtSize3\":\n      path = sqrtSize3(extraViniculum, hLinePad);\n      break;\n\n    case \"sqrtSize4\":\n      path = sqrtSize4(extraViniculum, hLinePad);\n      break;\n\n    case \"sqrtTall\":\n      path = sqrtTall(extraViniculum, hLinePad, viewBoxHeight);\n  }\n\n  return path;\n};\nvar innerPath = function innerPath(name, height) {\n  // The inner part of stretchy tall delimiters\n  switch (name) {\n    case \"\\u239c\":\n      return \"M291 0 H417 V\" + height + \" H291z M291 0 H417 V\" + height + \" H291z\";\n\n    case \"\\u2223\":\n      return \"M145 0 H188 V\" + height + \" H145z M145 0 H188 V\" + height + \" H145z\";\n\n    case \"\\u2225\":\n      return \"M145 0 H188 V\" + height + \" H145z M145 0 H188 V\" + height + \" H145z\" + (\"M367 0 H410 V\" + height + \" H367z M367 0 H410 V\" + height + \" H367z\");\n\n    case \"\\u239f\":\n      return \"M457 0 H583 V\" + height + \" H457z M457 0 H583 V\" + height + \" H457z\";\n\n    case \"\\u23a2\":\n      return \"M319 0 H403 V\" + height + \" H319z M319 0 H403 V\" + height + \" H319z\";\n\n    case \"\\u23a5\":\n      return \"M263 0 H347 V\" + height + \" H263z M263 0 H347 V\" + height + \" H263z\";\n\n    case \"\\u23aa\":\n      return \"M384 0 H504 V\" + height + \" H384z M384 0 H504 V\" + height + \" H384z\";\n\n    case \"\\u23d0\":\n      return \"M312 0 H355 V\" + height + \" H312z M312 0 H355 V\" + height + \" H312z\";\n\n    case \"\\u2016\":\n      return \"M257 0 H300 V\" + height + \" H257z M257 0 H300 V\" + height + \" H257z\" + (\"M478 0 H521 V\" + height + \" H478z M478 0 H521 V\" + height + \" H478z\");\n\n    default:\n      return \"\";\n  }\n};\nvar path = {\n  // The doubleleftarrow geometry is from glyph U+21D0 in the font KaTeX Main\n  doubleleftarrow: \"M262 157\\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\\nm8 0v40h399730v-40zm0 194v40h399730v-40z\",\n  // doublerightarrow is from glyph U+21D2 in font KaTeX Main\n  doublerightarrow: \"M399738 392l\\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z\",\n  // leftarrow is from glyph U+2190 in font KaTeX Main\n  leftarrow: \"M400000 241H110l3-3c68.7-52.7 113.7-120\\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\\n l-3-3h399890zM100 241v40h399900v-40z\",\n  // overbrace is from glyphs U+23A9/23A8/23A7 in font KaTeX_Size4-Regular\n  leftbrace: \"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z\",\n  leftbraceunder: \"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z\",\n  // overgroup is from the MnSymbol package (public domain)\n  leftgroup: \"M400000 80\\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\\n 435 0h399565z\",\n  leftgroupunder: \"M400000 262\\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\\n 435 219h399565z\",\n  // Harpoons are from glyph U+21BD in font KaTeX Main\n  leftharpoon: \"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z\",\n  leftharpoonplus: \"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\\nm0 0v40h400000v-40z\",\n  leftharpoondown: \"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z\",\n  leftharpoondownplus: \"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z\",\n  // hook is from glyph U+21A9 in font KaTeX Main\n  lefthook: \"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\\n 71.5 23h399859zM103 281v-40h399897v40z\",\n  leftlinesegment: \"M40 281 V428 H0 V94 H40 V241 H400000 v40z\\nM40 281 V428 H0 V94 H40 V241 H400000 v40z\",\n  leftmapsto: \"M40 281 V448H0V74H40V241H400000v40z\\nM40 281 V448H0V74H40V241H400000v40z\",\n  // tofrom is from glyph U+21C4 in font KaTeX AMS Regular\n  leftToFrom: \"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z\",\n  longequal: \"M0 50 h400000 v40H0z m0 194h40000v40H0z\\nM0 50 h400000 v40H0z m0 194h40000v40H0z\",\n  midbrace: \"M200428 334\\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z\",\n  midbraceunder: \"M199572 214\\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z\",\n  oiintSize1: \"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z\",\n  oiintSize2: \"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\\nc0 110 84 276 504 276s502.4-166 502.4-276z\",\n  oiiintSize1: \"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z\",\n  oiiintSize2: \"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z\",\n  rightarrow: \"M0 241v40h399891c-47.3 35.3-84 78-110 128\\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\\n 151.7 139 205zm0 0v40h399900v-40z\",\n  rightbrace: \"M400000 542l\\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z\",\n  rightbraceunder: \"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z\",\n  rightgroup: \"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\\n 3-1 3-3v-38c-76-158-257-219-435-219H0z\",\n  rightgroupunder: \"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z\",\n  rightharpoon: \"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\\n 69.2 92 94.5zm0 0v40h399900v-40z\",\n  rightharpoonplus: \"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z\",\n  rightharpoondown: \"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z\",\n  rightharpoondownplus: \"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\\nm0-194v40h400000v-40zm0 0v40h400000v-40z\",\n  righthook: \"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z\",\n  rightlinesegment: \"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z\",\n  rightToFrom: \"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z\",\n  // twoheadleftarrow is from glyph U+219E in font KaTeX AMS Regular\n  twoheadleftarrow: \"M0 167c68 40\\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z\",\n  twoheadrightarrow: \"M400000 167\\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z\",\n  // tilde1 is a modified version of a glyph from the MnSymbol package\n  tilde1: \"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\\n-68.267.847-113-73.952-191-73.952z\",\n  // ditto tilde2, tilde3, & tilde4\n  tilde2: \"M344 55.266c-142 0-300.638 81.316-311.5 86.418\\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z\",\n  tilde3: \"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\\n -338 0-409-156.573-744-156.573z\",\n  tilde4: \"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\\n -175.236-744-175.236z\",\n  // vec is from glyph U+20D7 in font KaTeX Main\n  vec: \"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\\nc-16-25.333-24-45-24-59z\",\n  // widehat1 is a modified version of a glyph from the MnSymbol package\n  widehat1: \"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z\",\n  // ditto widehat2, widehat3, & widehat4\n  widehat2: \"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z\",\n  widehat3: \"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z\",\n  widehat4: \"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z\",\n  // widecheck paths are all inverted versions of widehat\n  widecheck1: \"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z\",\n  widecheck2: \"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z\",\n  widecheck3: \"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z\",\n  widecheck4: \"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z\",\n  // The next ten paths support reaction arrows from the mhchem package.\n  // Arrows for \\ce{<-->} are offset from xAxis by 0.22ex, per mhchem in LaTeX\n  // baraboveleftarrow is mostly from from glyph U+2190 in font KaTeX Main\n  baraboveleftarrow: \"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z\",\n  // rightarrowabovebar is mostly from glyph U+2192, KaTeX Main\n  rightarrowabovebar: \"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z\",\n  // The short left harpoon has 0.5em (i.e. 500 units) kern on the left end.\n  // Ref from mhchem.sty: \\rlap{\\raisebox{-.22ex}{$\\kern0.5em\n  baraboveshortleftharpoon: \"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z\",\n  rightharpoonaboveshortbar: \"M0,241 l0,40c399126,0,399993,0,399993,0\\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z\",\n  shortbaraboveleftharpoon: \"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z\",\n  shortrightharpoonabovebar: \"M53,241l0,40c398570,0,399437,0,399437,0\\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z\"\n};\n\n/**\n * This node represents a document fragment, which contains elements, but when\n * placed into the DOM doesn't have any representation itself. It only contains\n * children and doesn't have any DOM node properties.\n */\nclass DocumentFragment {\n  // HtmlDomNode\n  // Never used; needed for satisfying interface.\n  constructor(children) {\n    this.children = void 0;\n    this.classes = void 0;\n    this.height = void 0;\n    this.depth = void 0;\n    this.maxFontSize = void 0;\n    this.style = void 0;\n    this.children = children;\n    this.classes = [];\n    this.height = 0;\n    this.depth = 0;\n    this.maxFontSize = 0;\n    this.style = {};\n  }\n\n  hasClass(className) {\n    return utils.contains(this.classes, className);\n  }\n  /** Convert the fragment into a node. */\n\n\n  toNode() {\n    var frag = document.createDocumentFragment();\n\n    for (var i = 0; i < this.children.length; i++) {\n      frag.appendChild(this.children[i].toNode());\n    }\n\n    return frag;\n  }\n  /** Convert the fragment into HTML markup. */\n\n\n  toMarkup() {\n    var markup = \"\"; // Simply concatenate the markup for the children together.\n\n    for (var i = 0; i < this.children.length; i++) {\n      markup += this.children[i].toMarkup();\n    }\n\n    return markup;\n  }\n  /**\n   * Converts the math node into a string, similar to innerText. Applies to\n   * MathDomNode's only.\n   */\n\n\n  toText() {\n    // To avoid this, we would subclass documentFragment separately for\n    // MathML, but polyfills for subclassing is expensive per PR 1469.\n    // $FlowFixMe: Only works for ChildType = MathDomNode.\n    var toText = child => child.toText();\n\n    return this.children.map(toText).join(\"\");\n  }\n\n}\n\n/**\n * These objects store the data about the DOM nodes we create, as well as some\n * extra data. They can then be transformed into real DOM nodes with the\n * `toNode` function or HTML markup using `toMarkup`. They are useful for both\n * storing extra properties on the nodes, as well as providing a way to easily\n * work with the DOM.\n *\n * Similar functions for working with MathML nodes exist in mathMLTree.js.\n *\n * TODO: refactor `span` and `anchor` into common superclass when\n * target environments support class inheritance\n */\n\n/**\n * Create an HTML className based on a list of classes. In addition to joining\n * with spaces, we also remove empty classes.\n */\nvar createClass = function createClass(classes) {\n  return classes.filter(cls => cls).join(\" \");\n};\n\nvar initNode = function initNode(classes, options, style) {\n  this.classes = classes || [];\n  this.attributes = {};\n  this.height = 0;\n  this.depth = 0;\n  this.maxFontSize = 0;\n  this.style = style || {};\n\n  if (options) {\n    if (options.style.isTight()) {\n      this.classes.push(\"mtight\");\n    }\n\n    var color = options.getColor();\n\n    if (color) {\n      this.style.color = color;\n    }\n  }\n};\n/**\n * Convert into an HTML node\n */\n\n\nvar toNode = function toNode(tagName) {\n  var node = document.createElement(tagName); // Apply the class\n\n  node.className = createClass(this.classes); // Apply inline styles\n\n  for (var style in this.style) {\n    if (this.style.hasOwnProperty(style)) {\n      // $FlowFixMe Flow doesn't seem to understand span.style's type.\n      node.style[style] = this.style[style];\n    }\n  } // Apply attributes\n\n\n  for (var attr in this.attributes) {\n    if (this.attributes.hasOwnProperty(attr)) {\n      node.setAttribute(attr, this.attributes[attr]);\n    }\n  } // Append the children, also as HTML nodes\n\n\n  for (var i = 0; i < this.children.length; i++) {\n    node.appendChild(this.children[i].toNode());\n  }\n\n  return node;\n};\n/**\n * Convert into an HTML markup string\n */\n\n\nvar toMarkup = function toMarkup(tagName) {\n  var markup = \"<\" + tagName; // Add the class\n\n  if (this.classes.length) {\n    markup += \" class=\\\"\" + utils.escape(createClass(this.classes)) + \"\\\"\";\n  }\n\n  var styles = \"\"; // Add the styles, after hyphenation\n\n  for (var style in this.style) {\n    if (this.style.hasOwnProperty(style)) {\n      styles += utils.hyphenate(style) + \":\" + this.style[style] + \";\";\n    }\n  }\n\n  if (styles) {\n    markup += \" style=\\\"\" + utils.escape(styles) + \"\\\"\";\n  } // Add the attributes\n\n\n  for (var attr in this.attributes) {\n    if (this.attributes.hasOwnProperty(attr)) {\n      markup += \" \" + attr + \"=\\\"\" + utils.escape(this.attributes[attr]) + \"\\\"\";\n    }\n  }\n\n  markup += \">\"; // Add the markup of the children, also as markup\n\n  for (var i = 0; i < this.children.length; i++) {\n    markup += this.children[i].toMarkup();\n  }\n\n  markup += \"</\" + tagName + \">\";\n  return markup;\n}; // Making the type below exact with all optional fields doesn't work due to\n// - https://github.com/facebook/flow/issues/4582\n// - https://github.com/facebook/flow/issues/5688\n// However, since *all* fields are optional, $Shape<> works as suggested in 5688\n// above.\n// This type does not include all CSS properties. Additional properties should\n// be added as needed.\n\n\n/**\n * This node represents a span node, with a className, a list of children, and\n * an inline style. It also contains information about its height, depth, and\n * maxFontSize.\n *\n * Represents two types with different uses: SvgSpan to wrap an SVG and DomSpan\n * otherwise. This typesafety is important when HTML builders access a span's\n * children.\n */\nclass Span {\n  constructor(classes, children, options, style) {\n    this.children = void 0;\n    this.attributes = void 0;\n    this.classes = void 0;\n    this.height = void 0;\n    this.depth = void 0;\n    this.width = void 0;\n    this.maxFontSize = void 0;\n    this.style = void 0;\n    initNode.call(this, classes, options, style);\n    this.children = children || [];\n  }\n  /**\n   * Sets an arbitrary attribute on the span. Warning: use this wisely. Not\n   * all browsers support attributes the same, and having too many custom\n   * attributes is probably bad.\n   */\n\n\n  setAttribute(attribute, value) {\n    this.attributes[attribute] = value;\n  }\n\n  hasClass(className) {\n    return utils.contains(this.classes, className);\n  }\n\n  toNode() {\n    return toNode.call(this, \"span\");\n  }\n\n  toMarkup() {\n    return toMarkup.call(this, \"span\");\n  }\n\n}\n/**\n * This node represents an anchor (<a>) element with a hyperlink.  See `span`\n * for further details.\n */\n\nclass Anchor {\n  constructor(href, classes, children, options) {\n    this.children = void 0;\n    this.attributes = void 0;\n    this.classes = void 0;\n    this.height = void 0;\n    this.depth = void 0;\n    this.maxFontSize = void 0;\n    this.style = void 0;\n    initNode.call(this, classes, options);\n    this.children = children || [];\n    this.setAttribute('href', href);\n  }\n\n  setAttribute(attribute, value) {\n    this.attributes[attribute] = value;\n  }\n\n  hasClass(className) {\n    return utils.contains(this.classes, className);\n  }\n\n  toNode() {\n    return toNode.call(this, \"a\");\n  }\n\n  toMarkup() {\n    return toMarkup.call(this, \"a\");\n  }\n\n}\n/**\n * This node represents an image embed (<img>) element.\n */\n\nclass Img {\n  constructor(src, alt, style) {\n    this.src = void 0;\n    this.alt = void 0;\n    this.classes = void 0;\n    this.height = void 0;\n    this.depth = void 0;\n    this.maxFontSize = void 0;\n    this.style = void 0;\n    this.alt = alt;\n    this.src = src;\n    this.classes = [\"mord\"];\n    this.style = style;\n  }\n\n  hasClass(className) {\n    return utils.contains(this.classes, className);\n  }\n\n  toNode() {\n    var node = document.createElement(\"img\");\n    node.src = this.src;\n    node.alt = this.alt;\n    node.className = \"mord\"; // Apply inline styles\n\n    for (var style in this.style) {\n      if (this.style.hasOwnProperty(style)) {\n        // $FlowFixMe\n        node.style[style] = this.style[style];\n      }\n    }\n\n    return node;\n  }\n\n  toMarkup() {\n    var markup = \"<img  src='\" + this.src + \" 'alt='\" + this.alt + \"' \"; // Add the styles, after hyphenation\n\n    var styles = \"\";\n\n    for (var style in this.style) {\n      if (this.style.hasOwnProperty(style)) {\n        styles += utils.hyphenate(style) + \":\" + this.style[style] + \";\";\n      }\n    }\n\n    if (styles) {\n      markup += \" style=\\\"\" + utils.escape(styles) + \"\\\"\";\n    }\n\n    markup += \"'/>\";\n    return markup;\n  }\n\n}\nvar iCombinations = {\n  '': '\\u0131\\u0302',\n  '': '\\u0131\\u0308',\n  '': '\\u0131\\u0301',\n  // '': '\\u0131\\u0304', // enable when we add Extended Latin\n  '': '\\u0131\\u0300'\n};\n/**\n * A symbol node contains information about a single symbol. It either renders\n * to a single text node, or a span with a single text node in it, depending on\n * whether it has CSS classes, styles, or needs italic correction.\n */\n\nclass SymbolNode {\n  constructor(text, height, depth, italic, skew, width, classes, style) {\n    this.text = void 0;\n    this.height = void 0;\n    this.depth = void 0;\n    this.italic = void 0;\n    this.skew = void 0;\n    this.width = void 0;\n    this.maxFontSize = void 0;\n    this.classes = void 0;\n    this.style = void 0;\n    this.text = text;\n    this.height = height || 0;\n    this.depth = depth || 0;\n    this.italic = italic || 0;\n    this.skew = skew || 0;\n    this.width = width || 0;\n    this.classes = classes || [];\n    this.style = style || {};\n    this.maxFontSize = 0; // Mark text from non-Latin scripts with specific classes so that we\n    // can specify which fonts to use.  This allows us to render these\n    // characters with a serif font in situations where the browser would\n    // either default to a sans serif or render a placeholder character.\n    // We use CSS class names like cjk_fallback, hangul_fallback and\n    // brahmic_fallback. See ./unicodeScripts.js for the set of possible\n    // script names\n\n    var script = scriptFromCodepoint(this.text.charCodeAt(0));\n\n    if (script) {\n      this.classes.push(script + \"_fallback\");\n    }\n\n    if (/[]/.test(this.text)) {\n      // add  when we add Extended Latin\n      this.text = iCombinations[this.text];\n    }\n  }\n\n  hasClass(className) {\n    return utils.contains(this.classes, className);\n  }\n  /**\n   * Creates a text node or span from a symbol node. Note that a span is only\n   * created if it is needed.\n   */\n\n\n  toNode() {\n    var node = document.createTextNode(this.text);\n    var span = null;\n\n    if (this.italic > 0) {\n      span = document.createElement(\"span\");\n      span.style.marginRight = this.italic + \"em\";\n    }\n\n    if (this.classes.length > 0) {\n      span = span || document.createElement(\"span\");\n      span.className = createClass(this.classes);\n    }\n\n    for (var style in this.style) {\n      if (this.style.hasOwnProperty(style)) {\n        span = span || document.createElement(\"span\"); // $FlowFixMe Flow doesn't seem to understand span.style's type.\n\n        span.style[style] = this.style[style];\n      }\n    }\n\n    if (span) {\n      span.appendChild(node);\n      return span;\n    } else {\n      return node;\n    }\n  }\n  /**\n   * Creates markup for a symbol node.\n   */\n\n\n  toMarkup() {\n    // TODO(alpert): More duplication than I'd like from\n    // span.prototype.toMarkup and symbolNode.prototype.toNode...\n    var needsSpan = false;\n    var markup = \"<span\";\n\n    if (this.classes.length) {\n      needsSpan = true;\n      markup += \" class=\\\"\";\n      markup += utils.escape(createClass(this.classes));\n      markup += \"\\\"\";\n    }\n\n    var styles = \"\";\n\n    if (this.italic > 0) {\n      styles += \"margin-right:\" + this.italic + \"em;\";\n    }\n\n    for (var style in this.style) {\n      if (this.style.hasOwnProperty(style)) {\n        styles += utils.hyphenate(style) + \":\" + this.style[style] + \";\";\n      }\n    }\n\n    if (styles) {\n      needsSpan = true;\n      markup += \" style=\\\"\" + utils.escape(styles) + \"\\\"\";\n    }\n\n    var escaped = utils.escape(this.text);\n\n    if (needsSpan) {\n      markup += \">\";\n      markup += escaped;\n      markup += \"</span>\";\n      return markup;\n    } else {\n      return escaped;\n    }\n  }\n\n}\n/**\n * SVG nodes are used to render stretchy wide elements.\n */\n\nclass SvgNode {\n  constructor(children, attributes) {\n    this.children = void 0;\n    this.attributes = void 0;\n    this.children = children || [];\n    this.attributes = attributes || {};\n  }\n\n  toNode() {\n    var svgNS = \"http://www.w3.org/2000/svg\";\n    var node = document.createElementNS(svgNS, \"svg\"); // Apply attributes\n\n    for (var attr in this.attributes) {\n      if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {\n        node.setAttribute(attr, this.attributes[attr]);\n      }\n    }\n\n    for (var i = 0; i < this.children.length; i++) {\n      node.appendChild(this.children[i].toNode());\n    }\n\n    return node;\n  }\n\n  toMarkup() {\n    var markup = \"<svg\"; // Apply attributes\n\n    for (var attr in this.attributes) {\n      if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {\n        markup += \" \" + attr + \"='\" + this.attributes[attr] + \"'\";\n      }\n    }\n\n    markup += \">\";\n\n    for (var i = 0; i < this.children.length; i++) {\n      markup += this.children[i].toMarkup();\n    }\n\n    markup += \"</svg>\";\n    return markup;\n  }\n\n}\nclass PathNode {\n  constructor(pathName, alternate) {\n    this.pathName = void 0;\n    this.alternate = void 0;\n    this.pathName = pathName;\n    this.alternate = alternate; // Used only for \\sqrt, \\phase, & tall delims\n  }\n\n  toNode() {\n    var svgNS = \"http://www.w3.org/2000/svg\";\n    var node = document.createElementNS(svgNS, \"path\");\n\n    if (this.alternate) {\n      node.setAttribute(\"d\", this.alternate);\n    } else {\n      node.setAttribute(\"d\", path[this.pathName]);\n    }\n\n    return node;\n  }\n\n  toMarkup() {\n    if (this.alternate) {\n      return \"<path d='\" + this.alternate + \"'/>\";\n    } else {\n      return \"<path d='\" + path[this.pathName] + \"'/>\";\n    }\n  }\n\n}\nclass LineNode {\n  constructor(attributes) {\n    this.attributes = void 0;\n    this.attributes = attributes || {};\n  }\n\n  toNode() {\n    var svgNS = \"http://www.w3.org/2000/svg\";\n    var node = document.createElementNS(svgNS, \"line\"); // Apply attributes\n\n    for (var attr in this.attributes) {\n      if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {\n        node.setAttribute(attr, this.attributes[attr]);\n      }\n    }\n\n    return node;\n  }\n\n  toMarkup() {\n    var markup = \"<line\";\n\n    for (var attr in this.attributes) {\n      if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {\n        markup += \" \" + attr + \"='\" + this.attributes[attr] + \"'\";\n      }\n    }\n\n    markup += \"/>\";\n    return markup;\n  }\n\n}\nfunction assertSymbolDomNode(group) {\n  if (group instanceof SymbolNode) {\n    return group;\n  } else {\n    throw new Error(\"Expected symbolNode but got \" + String(group) + \".\");\n  }\n}\nfunction assertSpan(group) {\n  if (group instanceof Span) {\n    return group;\n  } else {\n    throw new Error(\"Expected span<HtmlDomNode> but got \" + String(group) + \".\");\n  }\n}\n\n// This file is GENERATED by buildMetrics.sh. DO NOT MODIFY.\nvar fontMetricsData = {\n  \"AMS-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"65\": [0, 0.68889, 0, 0, 0.72222],\n    \"66\": [0, 0.68889, 0, 0, 0.66667],\n    \"67\": [0, 0.68889, 0, 0, 0.72222],\n    \"68\": [0, 0.68889, 0, 0, 0.72222],\n    \"69\": [0, 0.68889, 0, 0, 0.66667],\n    \"70\": [0, 0.68889, 0, 0, 0.61111],\n    \"71\": [0, 0.68889, 0, 0, 0.77778],\n    \"72\": [0, 0.68889, 0, 0, 0.77778],\n    \"73\": [0, 0.68889, 0, 0, 0.38889],\n    \"74\": [0.16667, 0.68889, 0, 0, 0.5],\n    \"75\": [0, 0.68889, 0, 0, 0.77778],\n    \"76\": [0, 0.68889, 0, 0, 0.66667],\n    \"77\": [0, 0.68889, 0, 0, 0.94445],\n    \"78\": [0, 0.68889, 0, 0, 0.72222],\n    \"79\": [0.16667, 0.68889, 0, 0, 0.77778],\n    \"80\": [0, 0.68889, 0, 0, 0.61111],\n    \"81\": [0.16667, 0.68889, 0, 0, 0.77778],\n    \"82\": [0, 0.68889, 0, 0, 0.72222],\n    \"83\": [0, 0.68889, 0, 0, 0.55556],\n    \"84\": [0, 0.68889, 0, 0, 0.66667],\n    \"85\": [0, 0.68889, 0, 0, 0.72222],\n    \"86\": [0, 0.68889, 0, 0, 0.72222],\n    \"87\": [0, 0.68889, 0, 0, 1.0],\n    \"88\": [0, 0.68889, 0, 0, 0.72222],\n    \"89\": [0, 0.68889, 0, 0, 0.72222],\n    \"90\": [0, 0.68889, 0, 0, 0.66667],\n    \"107\": [0, 0.68889, 0, 0, 0.55556],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"165\": [0, 0.675, 0.025, 0, 0.75],\n    \"174\": [0.15559, 0.69224, 0, 0, 0.94666],\n    \"240\": [0, 0.68889, 0, 0, 0.55556],\n    \"295\": [0, 0.68889, 0, 0, 0.54028],\n    \"710\": [0, 0.825, 0, 0, 2.33334],\n    \"732\": [0, 0.9, 0, 0, 2.33334],\n    \"770\": [0, 0.825, 0, 0, 2.33334],\n    \"771\": [0, 0.9, 0, 0, 2.33334],\n    \"989\": [0.08167, 0.58167, 0, 0, 0.77778],\n    \"1008\": [0, 0.43056, 0.04028, 0, 0.66667],\n    \"8245\": [0, 0.54986, 0, 0, 0.275],\n    \"8463\": [0, 0.68889, 0, 0, 0.54028],\n    \"8487\": [0, 0.68889, 0, 0, 0.72222],\n    \"8498\": [0, 0.68889, 0, 0, 0.55556],\n    \"8502\": [0, 0.68889, 0, 0, 0.66667],\n    \"8503\": [0, 0.68889, 0, 0, 0.44445],\n    \"8504\": [0, 0.68889, 0, 0, 0.66667],\n    \"8513\": [0, 0.68889, 0, 0, 0.63889],\n    \"8592\": [-0.03598, 0.46402, 0, 0, 0.5],\n    \"8594\": [-0.03598, 0.46402, 0, 0, 0.5],\n    \"8602\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8603\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8606\": [0.01354, 0.52239, 0, 0, 1.0],\n    \"8608\": [0.01354, 0.52239, 0, 0, 1.0],\n    \"8610\": [0.01354, 0.52239, 0, 0, 1.11111],\n    \"8611\": [0.01354, 0.52239, 0, 0, 1.11111],\n    \"8619\": [0, 0.54986, 0, 0, 1.0],\n    \"8620\": [0, 0.54986, 0, 0, 1.0],\n    \"8621\": [-0.13313, 0.37788, 0, 0, 1.38889],\n    \"8622\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8624\": [0, 0.69224, 0, 0, 0.5],\n    \"8625\": [0, 0.69224, 0, 0, 0.5],\n    \"8630\": [0, 0.43056, 0, 0, 1.0],\n    \"8631\": [0, 0.43056, 0, 0, 1.0],\n    \"8634\": [0.08198, 0.58198, 0, 0, 0.77778],\n    \"8635\": [0.08198, 0.58198, 0, 0, 0.77778],\n    \"8638\": [0.19444, 0.69224, 0, 0, 0.41667],\n    \"8639\": [0.19444, 0.69224, 0, 0, 0.41667],\n    \"8642\": [0.19444, 0.69224, 0, 0, 0.41667],\n    \"8643\": [0.19444, 0.69224, 0, 0, 0.41667],\n    \"8644\": [0.1808, 0.675, 0, 0, 1.0],\n    \"8646\": [0.1808, 0.675, 0, 0, 1.0],\n    \"8647\": [0.1808, 0.675, 0, 0, 1.0],\n    \"8648\": [0.19444, 0.69224, 0, 0, 0.83334],\n    \"8649\": [0.1808, 0.675, 0, 0, 1.0],\n    \"8650\": [0.19444, 0.69224, 0, 0, 0.83334],\n    \"8651\": [0.01354, 0.52239, 0, 0, 1.0],\n    \"8652\": [0.01354, 0.52239, 0, 0, 1.0],\n    \"8653\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8654\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8655\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8666\": [0.13667, 0.63667, 0, 0, 1.0],\n    \"8667\": [0.13667, 0.63667, 0, 0, 1.0],\n    \"8669\": [-0.13313, 0.37788, 0, 0, 1.0],\n    \"8672\": [-0.064, 0.437, 0, 0, 1.334],\n    \"8674\": [-0.064, 0.437, 0, 0, 1.334],\n    \"8705\": [0, 0.825, 0, 0, 0.5],\n    \"8708\": [0, 0.68889, 0, 0, 0.55556],\n    \"8709\": [0.08167, 0.58167, 0, 0, 0.77778],\n    \"8717\": [0, 0.43056, 0, 0, 0.42917],\n    \"8722\": [-0.03598, 0.46402, 0, 0, 0.5],\n    \"8724\": [0.08198, 0.69224, 0, 0, 0.77778],\n    \"8726\": [0.08167, 0.58167, 0, 0, 0.77778],\n    \"8733\": [0, 0.69224, 0, 0, 0.77778],\n    \"8736\": [0, 0.69224, 0, 0, 0.72222],\n    \"8737\": [0, 0.69224, 0, 0, 0.72222],\n    \"8738\": [0.03517, 0.52239, 0, 0, 0.72222],\n    \"8739\": [0.08167, 0.58167, 0, 0, 0.22222],\n    \"8740\": [0.25142, 0.74111, 0, 0, 0.27778],\n    \"8741\": [0.08167, 0.58167, 0, 0, 0.38889],\n    \"8742\": [0.25142, 0.74111, 0, 0, 0.5],\n    \"8756\": [0, 0.69224, 0, 0, 0.66667],\n    \"8757\": [0, 0.69224, 0, 0, 0.66667],\n    \"8764\": [-0.13313, 0.36687, 0, 0, 0.77778],\n    \"8765\": [-0.13313, 0.37788, 0, 0, 0.77778],\n    \"8769\": [-0.13313, 0.36687, 0, 0, 0.77778],\n    \"8770\": [-0.03625, 0.46375, 0, 0, 0.77778],\n    \"8774\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"8776\": [-0.01688, 0.48312, 0, 0, 0.77778],\n    \"8778\": [0.08167, 0.58167, 0, 0, 0.77778],\n    \"8782\": [0.06062, 0.54986, 0, 0, 0.77778],\n    \"8783\": [0.06062, 0.54986, 0, 0, 0.77778],\n    \"8785\": [0.08198, 0.58198, 0, 0, 0.77778],\n    \"8786\": [0.08198, 0.58198, 0, 0, 0.77778],\n    \"8787\": [0.08198, 0.58198, 0, 0, 0.77778],\n    \"8790\": [0, 0.69224, 0, 0, 0.77778],\n    \"8791\": [0.22958, 0.72958, 0, 0, 0.77778],\n    \"8796\": [0.08198, 0.91667, 0, 0, 0.77778],\n    \"8806\": [0.25583, 0.75583, 0, 0, 0.77778],\n    \"8807\": [0.25583, 0.75583, 0, 0, 0.77778],\n    \"8808\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"8809\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"8812\": [0.25583, 0.75583, 0, 0, 0.5],\n    \"8814\": [0.20576, 0.70576, 0, 0, 0.77778],\n    \"8815\": [0.20576, 0.70576, 0, 0, 0.77778],\n    \"8816\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"8817\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"8818\": [0.22958, 0.72958, 0, 0, 0.77778],\n    \"8819\": [0.22958, 0.72958, 0, 0, 0.77778],\n    \"8822\": [0.1808, 0.675, 0, 0, 0.77778],\n    \"8823\": [0.1808, 0.675, 0, 0, 0.77778],\n    \"8828\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"8829\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"8830\": [0.22958, 0.72958, 0, 0, 0.77778],\n    \"8831\": [0.22958, 0.72958, 0, 0, 0.77778],\n    \"8832\": [0.20576, 0.70576, 0, 0, 0.77778],\n    \"8833\": [0.20576, 0.70576, 0, 0, 0.77778],\n    \"8840\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"8841\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"8842\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"8843\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"8847\": [0.03517, 0.54986, 0, 0, 0.77778],\n    \"8848\": [0.03517, 0.54986, 0, 0, 0.77778],\n    \"8858\": [0.08198, 0.58198, 0, 0, 0.77778],\n    \"8859\": [0.08198, 0.58198, 0, 0, 0.77778],\n    \"8861\": [0.08198, 0.58198, 0, 0, 0.77778],\n    \"8862\": [0, 0.675, 0, 0, 0.77778],\n    \"8863\": [0, 0.675, 0, 0, 0.77778],\n    \"8864\": [0, 0.675, 0, 0, 0.77778],\n    \"8865\": [0, 0.675, 0, 0, 0.77778],\n    \"8872\": [0, 0.69224, 0, 0, 0.61111],\n    \"8873\": [0, 0.69224, 0, 0, 0.72222],\n    \"8874\": [0, 0.69224, 0, 0, 0.88889],\n    \"8876\": [0, 0.68889, 0, 0, 0.61111],\n    \"8877\": [0, 0.68889, 0, 0, 0.61111],\n    \"8878\": [0, 0.68889, 0, 0, 0.72222],\n    \"8879\": [0, 0.68889, 0, 0, 0.72222],\n    \"8882\": [0.03517, 0.54986, 0, 0, 0.77778],\n    \"8883\": [0.03517, 0.54986, 0, 0, 0.77778],\n    \"8884\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"8885\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"8888\": [0, 0.54986, 0, 0, 1.11111],\n    \"8890\": [0.19444, 0.43056, 0, 0, 0.55556],\n    \"8891\": [0.19444, 0.69224, 0, 0, 0.61111],\n    \"8892\": [0.19444, 0.69224, 0, 0, 0.61111],\n    \"8901\": [0, 0.54986, 0, 0, 0.27778],\n    \"8903\": [0.08167, 0.58167, 0, 0, 0.77778],\n    \"8905\": [0.08167, 0.58167, 0, 0, 0.77778],\n    \"8906\": [0.08167, 0.58167, 0, 0, 0.77778],\n    \"8907\": [0, 0.69224, 0, 0, 0.77778],\n    \"8908\": [0, 0.69224, 0, 0, 0.77778],\n    \"8909\": [-0.03598, 0.46402, 0, 0, 0.77778],\n    \"8910\": [0, 0.54986, 0, 0, 0.76042],\n    \"8911\": [0, 0.54986, 0, 0, 0.76042],\n    \"8912\": [0.03517, 0.54986, 0, 0, 0.77778],\n    \"8913\": [0.03517, 0.54986, 0, 0, 0.77778],\n    \"8914\": [0, 0.54986, 0, 0, 0.66667],\n    \"8915\": [0, 0.54986, 0, 0, 0.66667],\n    \"8916\": [0, 0.69224, 0, 0, 0.66667],\n    \"8918\": [0.0391, 0.5391, 0, 0, 0.77778],\n    \"8919\": [0.0391, 0.5391, 0, 0, 0.77778],\n    \"8920\": [0.03517, 0.54986, 0, 0, 1.33334],\n    \"8921\": [0.03517, 0.54986, 0, 0, 1.33334],\n    \"8922\": [0.38569, 0.88569, 0, 0, 0.77778],\n    \"8923\": [0.38569, 0.88569, 0, 0, 0.77778],\n    \"8926\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"8927\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"8928\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"8929\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"8934\": [0.23222, 0.74111, 0, 0, 0.77778],\n    \"8935\": [0.23222, 0.74111, 0, 0, 0.77778],\n    \"8936\": [0.23222, 0.74111, 0, 0, 0.77778],\n    \"8937\": [0.23222, 0.74111, 0, 0, 0.77778],\n    \"8938\": [0.20576, 0.70576, 0, 0, 0.77778],\n    \"8939\": [0.20576, 0.70576, 0, 0, 0.77778],\n    \"8940\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"8941\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"8994\": [0.19444, 0.69224, 0, 0, 0.77778],\n    \"8995\": [0.19444, 0.69224, 0, 0, 0.77778],\n    \"9416\": [0.15559, 0.69224, 0, 0, 0.90222],\n    \"9484\": [0, 0.69224, 0, 0, 0.5],\n    \"9488\": [0, 0.69224, 0, 0, 0.5],\n    \"9492\": [0, 0.37788, 0, 0, 0.5],\n    \"9496\": [0, 0.37788, 0, 0, 0.5],\n    \"9585\": [0.19444, 0.68889, 0, 0, 0.88889],\n    \"9586\": [0.19444, 0.74111, 0, 0, 0.88889],\n    \"9632\": [0, 0.675, 0, 0, 0.77778],\n    \"9633\": [0, 0.675, 0, 0, 0.77778],\n    \"9650\": [0, 0.54986, 0, 0, 0.72222],\n    \"9651\": [0, 0.54986, 0, 0, 0.72222],\n    \"9654\": [0.03517, 0.54986, 0, 0, 0.77778],\n    \"9660\": [0, 0.54986, 0, 0, 0.72222],\n    \"9661\": [0, 0.54986, 0, 0, 0.72222],\n    \"9664\": [0.03517, 0.54986, 0, 0, 0.77778],\n    \"9674\": [0.11111, 0.69224, 0, 0, 0.66667],\n    \"9733\": [0.19444, 0.69224, 0, 0, 0.94445],\n    \"10003\": [0, 0.69224, 0, 0, 0.83334],\n    \"10016\": [0, 0.69224, 0, 0, 0.83334],\n    \"10731\": [0.11111, 0.69224, 0, 0, 0.66667],\n    \"10846\": [0.19444, 0.75583, 0, 0, 0.61111],\n    \"10877\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"10878\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"10885\": [0.25583, 0.75583, 0, 0, 0.77778],\n    \"10886\": [0.25583, 0.75583, 0, 0, 0.77778],\n    \"10887\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"10888\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"10889\": [0.26167, 0.75726, 0, 0, 0.77778],\n    \"10890\": [0.26167, 0.75726, 0, 0, 0.77778],\n    \"10891\": [0.48256, 0.98256, 0, 0, 0.77778],\n    \"10892\": [0.48256, 0.98256, 0, 0, 0.77778],\n    \"10901\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"10902\": [0.13667, 0.63667, 0, 0, 0.77778],\n    \"10933\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"10934\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"10935\": [0.26167, 0.75726, 0, 0, 0.77778],\n    \"10936\": [0.26167, 0.75726, 0, 0, 0.77778],\n    \"10937\": [0.26167, 0.75726, 0, 0, 0.77778],\n    \"10938\": [0.26167, 0.75726, 0, 0, 0.77778],\n    \"10949\": [0.25583, 0.75583, 0, 0, 0.77778],\n    \"10950\": [0.25583, 0.75583, 0, 0, 0.77778],\n    \"10955\": [0.28481, 0.79383, 0, 0, 0.77778],\n    \"10956\": [0.28481, 0.79383, 0, 0, 0.77778],\n    \"57350\": [0.08167, 0.58167, 0, 0, 0.22222],\n    \"57351\": [0.08167, 0.58167, 0, 0, 0.38889],\n    \"57352\": [0.08167, 0.58167, 0, 0, 0.77778],\n    \"57353\": [0, 0.43056, 0.04028, 0, 0.66667],\n    \"57356\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"57357\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"57358\": [0.41951, 0.91951, 0, 0, 0.77778],\n    \"57359\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"57360\": [0.30274, 0.79383, 0, 0, 0.77778],\n    \"57361\": [0.41951, 0.91951, 0, 0, 0.77778],\n    \"57366\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"57367\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"57368\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"57369\": [0.25142, 0.75726, 0, 0, 0.77778],\n    \"57370\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"57371\": [0.13597, 0.63597, 0, 0, 0.77778]\n  },\n  \"Caligraphic-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"65\": [0, 0.68333, 0, 0.19445, 0.79847],\n    \"66\": [0, 0.68333, 0.03041, 0.13889, 0.65681],\n    \"67\": [0, 0.68333, 0.05834, 0.13889, 0.52653],\n    \"68\": [0, 0.68333, 0.02778, 0.08334, 0.77139],\n    \"69\": [0, 0.68333, 0.08944, 0.11111, 0.52778],\n    \"70\": [0, 0.68333, 0.09931, 0.11111, 0.71875],\n    \"71\": [0.09722, 0.68333, 0.0593, 0.11111, 0.59487],\n    \"72\": [0, 0.68333, 0.00965, 0.11111, 0.84452],\n    \"73\": [0, 0.68333, 0.07382, 0, 0.54452],\n    \"74\": [0.09722, 0.68333, 0.18472, 0.16667, 0.67778],\n    \"75\": [0, 0.68333, 0.01445, 0.05556, 0.76195],\n    \"76\": [0, 0.68333, 0, 0.13889, 0.68972],\n    \"77\": [0, 0.68333, 0, 0.13889, 1.2009],\n    \"78\": [0, 0.68333, 0.14736, 0.08334, 0.82049],\n    \"79\": [0, 0.68333, 0.02778, 0.11111, 0.79611],\n    \"80\": [0, 0.68333, 0.08222, 0.08334, 0.69556],\n    \"81\": [0.09722, 0.68333, 0, 0.11111, 0.81667],\n    \"82\": [0, 0.68333, 0, 0.08334, 0.8475],\n    \"83\": [0, 0.68333, 0.075, 0.13889, 0.60556],\n    \"84\": [0, 0.68333, 0.25417, 0, 0.54464],\n    \"85\": [0, 0.68333, 0.09931, 0.08334, 0.62583],\n    \"86\": [0, 0.68333, 0.08222, 0, 0.61278],\n    \"87\": [0, 0.68333, 0.08222, 0.08334, 0.98778],\n    \"88\": [0, 0.68333, 0.14643, 0.13889, 0.7133],\n    \"89\": [0.09722, 0.68333, 0.08222, 0.08334, 0.66834],\n    \"90\": [0, 0.68333, 0.07944, 0.13889, 0.72473],\n    \"160\": [0, 0, 0, 0, 0.25]\n  },\n  \"Fraktur-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"33\": [0, 0.69141, 0, 0, 0.29574],\n    \"34\": [0, 0.69141, 0, 0, 0.21471],\n    \"38\": [0, 0.69141, 0, 0, 0.73786],\n    \"39\": [0, 0.69141, 0, 0, 0.21201],\n    \"40\": [0.24982, 0.74947, 0, 0, 0.38865],\n    \"41\": [0.24982, 0.74947, 0, 0, 0.38865],\n    \"42\": [0, 0.62119, 0, 0, 0.27764],\n    \"43\": [0.08319, 0.58283, 0, 0, 0.75623],\n    \"44\": [0, 0.10803, 0, 0, 0.27764],\n    \"45\": [0.08319, 0.58283, 0, 0, 0.75623],\n    \"46\": [0, 0.10803, 0, 0, 0.27764],\n    \"47\": [0.24982, 0.74947, 0, 0, 0.50181],\n    \"48\": [0, 0.47534, 0, 0, 0.50181],\n    \"49\": [0, 0.47534, 0, 0, 0.50181],\n    \"50\": [0, 0.47534, 0, 0, 0.50181],\n    \"51\": [0.18906, 0.47534, 0, 0, 0.50181],\n    \"52\": [0.18906, 0.47534, 0, 0, 0.50181],\n    \"53\": [0.18906, 0.47534, 0, 0, 0.50181],\n    \"54\": [0, 0.69141, 0, 0, 0.50181],\n    \"55\": [0.18906, 0.47534, 0, 0, 0.50181],\n    \"56\": [0, 0.69141, 0, 0, 0.50181],\n    \"57\": [0.18906, 0.47534, 0, 0, 0.50181],\n    \"58\": [0, 0.47534, 0, 0, 0.21606],\n    \"59\": [0.12604, 0.47534, 0, 0, 0.21606],\n    \"61\": [-0.13099, 0.36866, 0, 0, 0.75623],\n    \"63\": [0, 0.69141, 0, 0, 0.36245],\n    \"65\": [0, 0.69141, 0, 0, 0.7176],\n    \"66\": [0, 0.69141, 0, 0, 0.88397],\n    \"67\": [0, 0.69141, 0, 0, 0.61254],\n    \"68\": [0, 0.69141, 0, 0, 0.83158],\n    \"69\": [0, 0.69141, 0, 0, 0.66278],\n    \"70\": [0.12604, 0.69141, 0, 0, 0.61119],\n    \"71\": [0, 0.69141, 0, 0, 0.78539],\n    \"72\": [0.06302, 0.69141, 0, 0, 0.7203],\n    \"73\": [0, 0.69141, 0, 0, 0.55448],\n    \"74\": [0.12604, 0.69141, 0, 0, 0.55231],\n    \"75\": [0, 0.69141, 0, 0, 0.66845],\n    \"76\": [0, 0.69141, 0, 0, 0.66602],\n    \"77\": [0, 0.69141, 0, 0, 1.04953],\n    \"78\": [0, 0.69141, 0, 0, 0.83212],\n    \"79\": [0, 0.69141, 0, 0, 0.82699],\n    \"80\": [0.18906, 0.69141, 0, 0, 0.82753],\n    \"81\": [0.03781, 0.69141, 0, 0, 0.82699],\n    \"82\": [0, 0.69141, 0, 0, 0.82807],\n    \"83\": [0, 0.69141, 0, 0, 0.82861],\n    \"84\": [0, 0.69141, 0, 0, 0.66899],\n    \"85\": [0, 0.69141, 0, 0, 0.64576],\n    \"86\": [0, 0.69141, 0, 0, 0.83131],\n    \"87\": [0, 0.69141, 0, 0, 1.04602],\n    \"88\": [0, 0.69141, 0, 0, 0.71922],\n    \"89\": [0.18906, 0.69141, 0, 0, 0.83293],\n    \"90\": [0.12604, 0.69141, 0, 0, 0.60201],\n    \"91\": [0.24982, 0.74947, 0, 0, 0.27764],\n    \"93\": [0.24982, 0.74947, 0, 0, 0.27764],\n    \"94\": [0, 0.69141, 0, 0, 0.49965],\n    \"97\": [0, 0.47534, 0, 0, 0.50046],\n    \"98\": [0, 0.69141, 0, 0, 0.51315],\n    \"99\": [0, 0.47534, 0, 0, 0.38946],\n    \"100\": [0, 0.62119, 0, 0, 0.49857],\n    \"101\": [0, 0.47534, 0, 0, 0.40053],\n    \"102\": [0.18906, 0.69141, 0, 0, 0.32626],\n    \"103\": [0.18906, 0.47534, 0, 0, 0.5037],\n    \"104\": [0.18906, 0.69141, 0, 0, 0.52126],\n    \"105\": [0, 0.69141, 0, 0, 0.27899],\n    \"106\": [0, 0.69141, 0, 0, 0.28088],\n    \"107\": [0, 0.69141, 0, 0, 0.38946],\n    \"108\": [0, 0.69141, 0, 0, 0.27953],\n    \"109\": [0, 0.47534, 0, 0, 0.76676],\n    \"110\": [0, 0.47534, 0, 0, 0.52666],\n    \"111\": [0, 0.47534, 0, 0, 0.48885],\n    \"112\": [0.18906, 0.52396, 0, 0, 0.50046],\n    \"113\": [0.18906, 0.47534, 0, 0, 0.48912],\n    \"114\": [0, 0.47534, 0, 0, 0.38919],\n    \"115\": [0, 0.47534, 0, 0, 0.44266],\n    \"116\": [0, 0.62119, 0, 0, 0.33301],\n    \"117\": [0, 0.47534, 0, 0, 0.5172],\n    \"118\": [0, 0.52396, 0, 0, 0.5118],\n    \"119\": [0, 0.52396, 0, 0, 0.77351],\n    \"120\": [0.18906, 0.47534, 0, 0, 0.38865],\n    \"121\": [0.18906, 0.47534, 0, 0, 0.49884],\n    \"122\": [0.18906, 0.47534, 0, 0, 0.39054],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"8216\": [0, 0.69141, 0, 0, 0.21471],\n    \"8217\": [0, 0.69141, 0, 0, 0.21471],\n    \"58112\": [0, 0.62119, 0, 0, 0.49749],\n    \"58113\": [0, 0.62119, 0, 0, 0.4983],\n    \"58114\": [0.18906, 0.69141, 0, 0, 0.33328],\n    \"58115\": [0.18906, 0.69141, 0, 0, 0.32923],\n    \"58116\": [0.18906, 0.47534, 0, 0, 0.50343],\n    \"58117\": [0, 0.69141, 0, 0, 0.33301],\n    \"58118\": [0, 0.62119, 0, 0, 0.33409],\n    \"58119\": [0, 0.47534, 0, 0, 0.50073]\n  },\n  \"Main-Bold\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"33\": [0, 0.69444, 0, 0, 0.35],\n    \"34\": [0, 0.69444, 0, 0, 0.60278],\n    \"35\": [0.19444, 0.69444, 0, 0, 0.95833],\n    \"36\": [0.05556, 0.75, 0, 0, 0.575],\n    \"37\": [0.05556, 0.75, 0, 0, 0.95833],\n    \"38\": [0, 0.69444, 0, 0, 0.89444],\n    \"39\": [0, 0.69444, 0, 0, 0.31944],\n    \"40\": [0.25, 0.75, 0, 0, 0.44722],\n    \"41\": [0.25, 0.75, 0, 0, 0.44722],\n    \"42\": [0, 0.75, 0, 0, 0.575],\n    \"43\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"44\": [0.19444, 0.15556, 0, 0, 0.31944],\n    \"45\": [0, 0.44444, 0, 0, 0.38333],\n    \"46\": [0, 0.15556, 0, 0, 0.31944],\n    \"47\": [0.25, 0.75, 0, 0, 0.575],\n    \"48\": [0, 0.64444, 0, 0, 0.575],\n    \"49\": [0, 0.64444, 0, 0, 0.575],\n    \"50\": [0, 0.64444, 0, 0, 0.575],\n    \"51\": [0, 0.64444, 0, 0, 0.575],\n    \"52\": [0, 0.64444, 0, 0, 0.575],\n    \"53\": [0, 0.64444, 0, 0, 0.575],\n    \"54\": [0, 0.64444, 0, 0, 0.575],\n    \"55\": [0, 0.64444, 0, 0, 0.575],\n    \"56\": [0, 0.64444, 0, 0, 0.575],\n    \"57\": [0, 0.64444, 0, 0, 0.575],\n    \"58\": [0, 0.44444, 0, 0, 0.31944],\n    \"59\": [0.19444, 0.44444, 0, 0, 0.31944],\n    \"60\": [0.08556, 0.58556, 0, 0, 0.89444],\n    \"61\": [-0.10889, 0.39111, 0, 0, 0.89444],\n    \"62\": [0.08556, 0.58556, 0, 0, 0.89444],\n    \"63\": [0, 0.69444, 0, 0, 0.54305],\n    \"64\": [0, 0.69444, 0, 0, 0.89444],\n    \"65\": [0, 0.68611, 0, 0, 0.86944],\n    \"66\": [0, 0.68611, 0, 0, 0.81805],\n    \"67\": [0, 0.68611, 0, 0, 0.83055],\n    \"68\": [0, 0.68611, 0, 0, 0.88194],\n    \"69\": [0, 0.68611, 0, 0, 0.75555],\n    \"70\": [0, 0.68611, 0, 0, 0.72361],\n    \"71\": [0, 0.68611, 0, 0, 0.90416],\n    \"72\": [0, 0.68611, 0, 0, 0.9],\n    \"73\": [0, 0.68611, 0, 0, 0.43611],\n    \"74\": [0, 0.68611, 0, 0, 0.59444],\n    \"75\": [0, 0.68611, 0, 0, 0.90138],\n    \"76\": [0, 0.68611, 0, 0, 0.69166],\n    \"77\": [0, 0.68611, 0, 0, 1.09166],\n    \"78\": [0, 0.68611, 0, 0, 0.9],\n    \"79\": [0, 0.68611, 0, 0, 0.86388],\n    \"80\": [0, 0.68611, 0, 0, 0.78611],\n    \"81\": [0.19444, 0.68611, 0, 0, 0.86388],\n    \"82\": [0, 0.68611, 0, 0, 0.8625],\n    \"83\": [0, 0.68611, 0, 0, 0.63889],\n    \"84\": [0, 0.68611, 0, 0, 0.8],\n    \"85\": [0, 0.68611, 0, 0, 0.88472],\n    \"86\": [0, 0.68611, 0.01597, 0, 0.86944],\n    \"87\": [0, 0.68611, 0.01597, 0, 1.18888],\n    \"88\": [0, 0.68611, 0, 0, 0.86944],\n    \"89\": [0, 0.68611, 0.02875, 0, 0.86944],\n    \"90\": [0, 0.68611, 0, 0, 0.70277],\n    \"91\": [0.25, 0.75, 0, 0, 0.31944],\n    \"92\": [0.25, 0.75, 0, 0, 0.575],\n    \"93\": [0.25, 0.75, 0, 0, 0.31944],\n    \"94\": [0, 0.69444, 0, 0, 0.575],\n    \"95\": [0.31, 0.13444, 0.03194, 0, 0.575],\n    \"97\": [0, 0.44444, 0, 0, 0.55902],\n    \"98\": [0, 0.69444, 0, 0, 0.63889],\n    \"99\": [0, 0.44444, 0, 0, 0.51111],\n    \"100\": [0, 0.69444, 0, 0, 0.63889],\n    \"101\": [0, 0.44444, 0, 0, 0.52708],\n    \"102\": [0, 0.69444, 0.10903, 0, 0.35139],\n    \"103\": [0.19444, 0.44444, 0.01597, 0, 0.575],\n    \"104\": [0, 0.69444, 0, 0, 0.63889],\n    \"105\": [0, 0.69444, 0, 0, 0.31944],\n    \"106\": [0.19444, 0.69444, 0, 0, 0.35139],\n    \"107\": [0, 0.69444, 0, 0, 0.60694],\n    \"108\": [0, 0.69444, 0, 0, 0.31944],\n    \"109\": [0, 0.44444, 0, 0, 0.95833],\n    \"110\": [0, 0.44444, 0, 0, 0.63889],\n    \"111\": [0, 0.44444, 0, 0, 0.575],\n    \"112\": [0.19444, 0.44444, 0, 0, 0.63889],\n    \"113\": [0.19444, 0.44444, 0, 0, 0.60694],\n    \"114\": [0, 0.44444, 0, 0, 0.47361],\n    \"115\": [0, 0.44444, 0, 0, 0.45361],\n    \"116\": [0, 0.63492, 0, 0, 0.44722],\n    \"117\": [0, 0.44444, 0, 0, 0.63889],\n    \"118\": [0, 0.44444, 0.01597, 0, 0.60694],\n    \"119\": [0, 0.44444, 0.01597, 0, 0.83055],\n    \"120\": [0, 0.44444, 0, 0, 0.60694],\n    \"121\": [0.19444, 0.44444, 0.01597, 0, 0.60694],\n    \"122\": [0, 0.44444, 0, 0, 0.51111],\n    \"123\": [0.25, 0.75, 0, 0, 0.575],\n    \"124\": [0.25, 0.75, 0, 0, 0.31944],\n    \"125\": [0.25, 0.75, 0, 0, 0.575],\n    \"126\": [0.35, 0.34444, 0, 0, 0.575],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"163\": [0, 0.69444, 0, 0, 0.86853],\n    \"168\": [0, 0.69444, 0, 0, 0.575],\n    \"172\": [0, 0.44444, 0, 0, 0.76666],\n    \"176\": [0, 0.69444, 0, 0, 0.86944],\n    \"177\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"184\": [0.17014, 0, 0, 0, 0.51111],\n    \"198\": [0, 0.68611, 0, 0, 1.04166],\n    \"215\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"216\": [0.04861, 0.73472, 0, 0, 0.89444],\n    \"223\": [0, 0.69444, 0, 0, 0.59722],\n    \"230\": [0, 0.44444, 0, 0, 0.83055],\n    \"247\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"248\": [0.09722, 0.54167, 0, 0, 0.575],\n    \"305\": [0, 0.44444, 0, 0, 0.31944],\n    \"338\": [0, 0.68611, 0, 0, 1.16944],\n    \"339\": [0, 0.44444, 0, 0, 0.89444],\n    \"567\": [0.19444, 0.44444, 0, 0, 0.35139],\n    \"710\": [0, 0.69444, 0, 0, 0.575],\n    \"711\": [0, 0.63194, 0, 0, 0.575],\n    \"713\": [0, 0.59611, 0, 0, 0.575],\n    \"714\": [0, 0.69444, 0, 0, 0.575],\n    \"715\": [0, 0.69444, 0, 0, 0.575],\n    \"728\": [0, 0.69444, 0, 0, 0.575],\n    \"729\": [0, 0.69444, 0, 0, 0.31944],\n    \"730\": [0, 0.69444, 0, 0, 0.86944],\n    \"732\": [0, 0.69444, 0, 0, 0.575],\n    \"733\": [0, 0.69444, 0, 0, 0.575],\n    \"915\": [0, 0.68611, 0, 0, 0.69166],\n    \"916\": [0, 0.68611, 0, 0, 0.95833],\n    \"920\": [0, 0.68611, 0, 0, 0.89444],\n    \"923\": [0, 0.68611, 0, 0, 0.80555],\n    \"926\": [0, 0.68611, 0, 0, 0.76666],\n    \"928\": [0, 0.68611, 0, 0, 0.9],\n    \"931\": [0, 0.68611, 0, 0, 0.83055],\n    \"933\": [0, 0.68611, 0, 0, 0.89444],\n    \"934\": [0, 0.68611, 0, 0, 0.83055],\n    \"936\": [0, 0.68611, 0, 0, 0.89444],\n    \"937\": [0, 0.68611, 0, 0, 0.83055],\n    \"8211\": [0, 0.44444, 0.03194, 0, 0.575],\n    \"8212\": [0, 0.44444, 0.03194, 0, 1.14999],\n    \"8216\": [0, 0.69444, 0, 0, 0.31944],\n    \"8217\": [0, 0.69444, 0, 0, 0.31944],\n    \"8220\": [0, 0.69444, 0, 0, 0.60278],\n    \"8221\": [0, 0.69444, 0, 0, 0.60278],\n    \"8224\": [0.19444, 0.69444, 0, 0, 0.51111],\n    \"8225\": [0.19444, 0.69444, 0, 0, 0.51111],\n    \"8242\": [0, 0.55556, 0, 0, 0.34444],\n    \"8407\": [0, 0.72444, 0.15486, 0, 0.575],\n    \"8463\": [0, 0.69444, 0, 0, 0.66759],\n    \"8465\": [0, 0.69444, 0, 0, 0.83055],\n    \"8467\": [0, 0.69444, 0, 0, 0.47361],\n    \"8472\": [0.19444, 0.44444, 0, 0, 0.74027],\n    \"8476\": [0, 0.69444, 0, 0, 0.83055],\n    \"8501\": [0, 0.69444, 0, 0, 0.70277],\n    \"8592\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8593\": [0.19444, 0.69444, 0, 0, 0.575],\n    \"8594\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8595\": [0.19444, 0.69444, 0, 0, 0.575],\n    \"8596\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8597\": [0.25, 0.75, 0, 0, 0.575],\n    \"8598\": [0.19444, 0.69444, 0, 0, 1.14999],\n    \"8599\": [0.19444, 0.69444, 0, 0, 1.14999],\n    \"8600\": [0.19444, 0.69444, 0, 0, 1.14999],\n    \"8601\": [0.19444, 0.69444, 0, 0, 1.14999],\n    \"8636\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8637\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8640\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8641\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8656\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8657\": [0.19444, 0.69444, 0, 0, 0.70277],\n    \"8658\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8659\": [0.19444, 0.69444, 0, 0, 0.70277],\n    \"8660\": [-0.10889, 0.39111, 0, 0, 1.14999],\n    \"8661\": [0.25, 0.75, 0, 0, 0.70277],\n    \"8704\": [0, 0.69444, 0, 0, 0.63889],\n    \"8706\": [0, 0.69444, 0.06389, 0, 0.62847],\n    \"8707\": [0, 0.69444, 0, 0, 0.63889],\n    \"8709\": [0.05556, 0.75, 0, 0, 0.575],\n    \"8711\": [0, 0.68611, 0, 0, 0.95833],\n    \"8712\": [0.08556, 0.58556, 0, 0, 0.76666],\n    \"8715\": [0.08556, 0.58556, 0, 0, 0.76666],\n    \"8722\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"8723\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"8725\": [0.25, 0.75, 0, 0, 0.575],\n    \"8726\": [0.25, 0.75, 0, 0, 0.575],\n    \"8727\": [-0.02778, 0.47222, 0, 0, 0.575],\n    \"8728\": [-0.02639, 0.47361, 0, 0, 0.575],\n    \"8729\": [-0.02639, 0.47361, 0, 0, 0.575],\n    \"8730\": [0.18, 0.82, 0, 0, 0.95833],\n    \"8733\": [0, 0.44444, 0, 0, 0.89444],\n    \"8734\": [0, 0.44444, 0, 0, 1.14999],\n    \"8736\": [0, 0.69224, 0, 0, 0.72222],\n    \"8739\": [0.25, 0.75, 0, 0, 0.31944],\n    \"8741\": [0.25, 0.75, 0, 0, 0.575],\n    \"8743\": [0, 0.55556, 0, 0, 0.76666],\n    \"8744\": [0, 0.55556, 0, 0, 0.76666],\n    \"8745\": [0, 0.55556, 0, 0, 0.76666],\n    \"8746\": [0, 0.55556, 0, 0, 0.76666],\n    \"8747\": [0.19444, 0.69444, 0.12778, 0, 0.56875],\n    \"8764\": [-0.10889, 0.39111, 0, 0, 0.89444],\n    \"8768\": [0.19444, 0.69444, 0, 0, 0.31944],\n    \"8771\": [0.00222, 0.50222, 0, 0, 0.89444],\n    \"8776\": [0.02444, 0.52444, 0, 0, 0.89444],\n    \"8781\": [0.00222, 0.50222, 0, 0, 0.89444],\n    \"8801\": [0.00222, 0.50222, 0, 0, 0.89444],\n    \"8804\": [0.19667, 0.69667, 0, 0, 0.89444],\n    \"8805\": [0.19667, 0.69667, 0, 0, 0.89444],\n    \"8810\": [0.08556, 0.58556, 0, 0, 1.14999],\n    \"8811\": [0.08556, 0.58556, 0, 0, 1.14999],\n    \"8826\": [0.08556, 0.58556, 0, 0, 0.89444],\n    \"8827\": [0.08556, 0.58556, 0, 0, 0.89444],\n    \"8834\": [0.08556, 0.58556, 0, 0, 0.89444],\n    \"8835\": [0.08556, 0.58556, 0, 0, 0.89444],\n    \"8838\": [0.19667, 0.69667, 0, 0, 0.89444],\n    \"8839\": [0.19667, 0.69667, 0, 0, 0.89444],\n    \"8846\": [0, 0.55556, 0, 0, 0.76666],\n    \"8849\": [0.19667, 0.69667, 0, 0, 0.89444],\n    \"8850\": [0.19667, 0.69667, 0, 0, 0.89444],\n    \"8851\": [0, 0.55556, 0, 0, 0.76666],\n    \"8852\": [0, 0.55556, 0, 0, 0.76666],\n    \"8853\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"8854\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"8855\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"8856\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"8857\": [0.13333, 0.63333, 0, 0, 0.89444],\n    \"8866\": [0, 0.69444, 0, 0, 0.70277],\n    \"8867\": [0, 0.69444, 0, 0, 0.70277],\n    \"8868\": [0, 0.69444, 0, 0, 0.89444],\n    \"8869\": [0, 0.69444, 0, 0, 0.89444],\n    \"8900\": [-0.02639, 0.47361, 0, 0, 0.575],\n    \"8901\": [-0.02639, 0.47361, 0, 0, 0.31944],\n    \"8902\": [-0.02778, 0.47222, 0, 0, 0.575],\n    \"8968\": [0.25, 0.75, 0, 0, 0.51111],\n    \"8969\": [0.25, 0.75, 0, 0, 0.51111],\n    \"8970\": [0.25, 0.75, 0, 0, 0.51111],\n    \"8971\": [0.25, 0.75, 0, 0, 0.51111],\n    \"8994\": [-0.13889, 0.36111, 0, 0, 1.14999],\n    \"8995\": [-0.13889, 0.36111, 0, 0, 1.14999],\n    \"9651\": [0.19444, 0.69444, 0, 0, 1.02222],\n    \"9657\": [-0.02778, 0.47222, 0, 0, 0.575],\n    \"9661\": [0.19444, 0.69444, 0, 0, 1.02222],\n    \"9667\": [-0.02778, 0.47222, 0, 0, 0.575],\n    \"9711\": [0.19444, 0.69444, 0, 0, 1.14999],\n    \"9824\": [0.12963, 0.69444, 0, 0, 0.89444],\n    \"9825\": [0.12963, 0.69444, 0, 0, 0.89444],\n    \"9826\": [0.12963, 0.69444, 0, 0, 0.89444],\n    \"9827\": [0.12963, 0.69444, 0, 0, 0.89444],\n    \"9837\": [0, 0.75, 0, 0, 0.44722],\n    \"9838\": [0.19444, 0.69444, 0, 0, 0.44722],\n    \"9839\": [0.19444, 0.69444, 0, 0, 0.44722],\n    \"10216\": [0.25, 0.75, 0, 0, 0.44722],\n    \"10217\": [0.25, 0.75, 0, 0, 0.44722],\n    \"10815\": [0, 0.68611, 0, 0, 0.9],\n    \"10927\": [0.19667, 0.69667, 0, 0, 0.89444],\n    \"10928\": [0.19667, 0.69667, 0, 0, 0.89444],\n    \"57376\": [0.19444, 0.69444, 0, 0, 0]\n  },\n  \"Main-BoldItalic\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"33\": [0, 0.69444, 0.11417, 0, 0.38611],\n    \"34\": [0, 0.69444, 0.07939, 0, 0.62055],\n    \"35\": [0.19444, 0.69444, 0.06833, 0, 0.94444],\n    \"37\": [0.05556, 0.75, 0.12861, 0, 0.94444],\n    \"38\": [0, 0.69444, 0.08528, 0, 0.88555],\n    \"39\": [0, 0.69444, 0.12945, 0, 0.35555],\n    \"40\": [0.25, 0.75, 0.15806, 0, 0.47333],\n    \"41\": [0.25, 0.75, 0.03306, 0, 0.47333],\n    \"42\": [0, 0.75, 0.14333, 0, 0.59111],\n    \"43\": [0.10333, 0.60333, 0.03306, 0, 0.88555],\n    \"44\": [0.19444, 0.14722, 0, 0, 0.35555],\n    \"45\": [0, 0.44444, 0.02611, 0, 0.41444],\n    \"46\": [0, 0.14722, 0, 0, 0.35555],\n    \"47\": [0.25, 0.75, 0.15806, 0, 0.59111],\n    \"48\": [0, 0.64444, 0.13167, 0, 0.59111],\n    \"49\": [0, 0.64444, 0.13167, 0, 0.59111],\n    \"50\": [0, 0.64444, 0.13167, 0, 0.59111],\n    \"51\": [0, 0.64444, 0.13167, 0, 0.59111],\n    \"52\": [0.19444, 0.64444, 0.13167, 0, 0.59111],\n    \"53\": [0, 0.64444, 0.13167, 0, 0.59111],\n    \"54\": [0, 0.64444, 0.13167, 0, 0.59111],\n    \"55\": [0.19444, 0.64444, 0.13167, 0, 0.59111],\n    \"56\": [0, 0.64444, 0.13167, 0, 0.59111],\n    \"57\": [0, 0.64444, 0.13167, 0, 0.59111],\n    \"58\": [0, 0.44444, 0.06695, 0, 0.35555],\n    \"59\": [0.19444, 0.44444, 0.06695, 0, 0.35555],\n    \"61\": [-0.10889, 0.39111, 0.06833, 0, 0.88555],\n    \"63\": [0, 0.69444, 0.11472, 0, 0.59111],\n    \"64\": [0, 0.69444, 0.09208, 0, 0.88555],\n    \"65\": [0, 0.68611, 0, 0, 0.86555],\n    \"66\": [0, 0.68611, 0.0992, 0, 0.81666],\n    \"67\": [0, 0.68611, 0.14208, 0, 0.82666],\n    \"68\": [0, 0.68611, 0.09062, 0, 0.87555],\n    \"69\": [0, 0.68611, 0.11431, 0, 0.75666],\n    \"70\": [0, 0.68611, 0.12903, 0, 0.72722],\n    \"71\": [0, 0.68611, 0.07347, 0, 0.89527],\n    \"72\": [0, 0.68611, 0.17208, 0, 0.8961],\n    \"73\": [0, 0.68611, 0.15681, 0, 0.47166],\n    \"74\": [0, 0.68611, 0.145, 0, 0.61055],\n    \"75\": [0, 0.68611, 0.14208, 0, 0.89499],\n    \"76\": [0, 0.68611, 0, 0, 0.69777],\n    \"77\": [0, 0.68611, 0.17208, 0, 1.07277],\n    \"78\": [0, 0.68611, 0.17208, 0, 0.8961],\n    \"79\": [0, 0.68611, 0.09062, 0, 0.85499],\n    \"80\": [0, 0.68611, 0.0992, 0, 0.78721],\n    \"81\": [0.19444, 0.68611, 0.09062, 0, 0.85499],\n    \"82\": [0, 0.68611, 0.02559, 0, 0.85944],\n    \"83\": [0, 0.68611, 0.11264, 0, 0.64999],\n    \"84\": [0, 0.68611, 0.12903, 0, 0.7961],\n    \"85\": [0, 0.68611, 0.17208, 0, 0.88083],\n    \"86\": [0, 0.68611, 0.18625, 0, 0.86555],\n    \"87\": [0, 0.68611, 0.18625, 0, 1.15999],\n    \"88\": [0, 0.68611, 0.15681, 0, 0.86555],\n    \"89\": [0, 0.68611, 0.19803, 0, 0.86555],\n    \"90\": [0, 0.68611, 0.14208, 0, 0.70888],\n    \"91\": [0.25, 0.75, 0.1875, 0, 0.35611],\n    \"93\": [0.25, 0.75, 0.09972, 0, 0.35611],\n    \"94\": [0, 0.69444, 0.06709, 0, 0.59111],\n    \"95\": [0.31, 0.13444, 0.09811, 0, 0.59111],\n    \"97\": [0, 0.44444, 0.09426, 0, 0.59111],\n    \"98\": [0, 0.69444, 0.07861, 0, 0.53222],\n    \"99\": [0, 0.44444, 0.05222, 0, 0.53222],\n    \"100\": [0, 0.69444, 0.10861, 0, 0.59111],\n    \"101\": [0, 0.44444, 0.085, 0, 0.53222],\n    \"102\": [0.19444, 0.69444, 0.21778, 0, 0.4],\n    \"103\": [0.19444, 0.44444, 0.105, 0, 0.53222],\n    \"104\": [0, 0.69444, 0.09426, 0, 0.59111],\n    \"105\": [0, 0.69326, 0.11387, 0, 0.35555],\n    \"106\": [0.19444, 0.69326, 0.1672, 0, 0.35555],\n    \"107\": [0, 0.69444, 0.11111, 0, 0.53222],\n    \"108\": [0, 0.69444, 0.10861, 0, 0.29666],\n    \"109\": [0, 0.44444, 0.09426, 0, 0.94444],\n    \"110\": [0, 0.44444, 0.09426, 0, 0.64999],\n    \"111\": [0, 0.44444, 0.07861, 0, 0.59111],\n    \"112\": [0.19444, 0.44444, 0.07861, 0, 0.59111],\n    \"113\": [0.19444, 0.44444, 0.105, 0, 0.53222],\n    \"114\": [0, 0.44444, 0.11111, 0, 0.50167],\n    \"115\": [0, 0.44444, 0.08167, 0, 0.48694],\n    \"116\": [0, 0.63492, 0.09639, 0, 0.385],\n    \"117\": [0, 0.44444, 0.09426, 0, 0.62055],\n    \"118\": [0, 0.44444, 0.11111, 0, 0.53222],\n    \"119\": [0, 0.44444, 0.11111, 0, 0.76777],\n    \"120\": [0, 0.44444, 0.12583, 0, 0.56055],\n    \"121\": [0.19444, 0.44444, 0.105, 0, 0.56166],\n    \"122\": [0, 0.44444, 0.13889, 0, 0.49055],\n    \"126\": [0.35, 0.34444, 0.11472, 0, 0.59111],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"168\": [0, 0.69444, 0.11473, 0, 0.59111],\n    \"176\": [0, 0.69444, 0, 0, 0.94888],\n    \"184\": [0.17014, 0, 0, 0, 0.53222],\n    \"198\": [0, 0.68611, 0.11431, 0, 1.02277],\n    \"216\": [0.04861, 0.73472, 0.09062, 0, 0.88555],\n    \"223\": [0.19444, 0.69444, 0.09736, 0, 0.665],\n    \"230\": [0, 0.44444, 0.085, 0, 0.82666],\n    \"248\": [0.09722, 0.54167, 0.09458, 0, 0.59111],\n    \"305\": [0, 0.44444, 0.09426, 0, 0.35555],\n    \"338\": [0, 0.68611, 0.11431, 0, 1.14054],\n    \"339\": [0, 0.44444, 0.085, 0, 0.82666],\n    \"567\": [0.19444, 0.44444, 0.04611, 0, 0.385],\n    \"710\": [0, 0.69444, 0.06709, 0, 0.59111],\n    \"711\": [0, 0.63194, 0.08271, 0, 0.59111],\n    \"713\": [0, 0.59444, 0.10444, 0, 0.59111],\n    \"714\": [0, 0.69444, 0.08528, 0, 0.59111],\n    \"715\": [0, 0.69444, 0, 0, 0.59111],\n    \"728\": [0, 0.69444, 0.10333, 0, 0.59111],\n    \"729\": [0, 0.69444, 0.12945, 0, 0.35555],\n    \"730\": [0, 0.69444, 0, 0, 0.94888],\n    \"732\": [0, 0.69444, 0.11472, 0, 0.59111],\n    \"733\": [0, 0.69444, 0.11472, 0, 0.59111],\n    \"915\": [0, 0.68611, 0.12903, 0, 0.69777],\n    \"916\": [0, 0.68611, 0, 0, 0.94444],\n    \"920\": [0, 0.68611, 0.09062, 0, 0.88555],\n    \"923\": [0, 0.68611, 0, 0, 0.80666],\n    \"926\": [0, 0.68611, 0.15092, 0, 0.76777],\n    \"928\": [0, 0.68611, 0.17208, 0, 0.8961],\n    \"931\": [0, 0.68611, 0.11431, 0, 0.82666],\n    \"933\": [0, 0.68611, 0.10778, 0, 0.88555],\n    \"934\": [0, 0.68611, 0.05632, 0, 0.82666],\n    \"936\": [0, 0.68611, 0.10778, 0, 0.88555],\n    \"937\": [0, 0.68611, 0.0992, 0, 0.82666],\n    \"8211\": [0, 0.44444, 0.09811, 0, 0.59111],\n    \"8212\": [0, 0.44444, 0.09811, 0, 1.18221],\n    \"8216\": [0, 0.69444, 0.12945, 0, 0.35555],\n    \"8217\": [0, 0.69444, 0.12945, 0, 0.35555],\n    \"8220\": [0, 0.69444, 0.16772, 0, 0.62055],\n    \"8221\": [0, 0.69444, 0.07939, 0, 0.62055]\n  },\n  \"Main-Italic\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"33\": [0, 0.69444, 0.12417, 0, 0.30667],\n    \"34\": [0, 0.69444, 0.06961, 0, 0.51444],\n    \"35\": [0.19444, 0.69444, 0.06616, 0, 0.81777],\n    \"37\": [0.05556, 0.75, 0.13639, 0, 0.81777],\n    \"38\": [0, 0.69444, 0.09694, 0, 0.76666],\n    \"39\": [0, 0.69444, 0.12417, 0, 0.30667],\n    \"40\": [0.25, 0.75, 0.16194, 0, 0.40889],\n    \"41\": [0.25, 0.75, 0.03694, 0, 0.40889],\n    \"42\": [0, 0.75, 0.14917, 0, 0.51111],\n    \"43\": [0.05667, 0.56167, 0.03694, 0, 0.76666],\n    \"44\": [0.19444, 0.10556, 0, 0, 0.30667],\n    \"45\": [0, 0.43056, 0.02826, 0, 0.35778],\n    \"46\": [0, 0.10556, 0, 0, 0.30667],\n    \"47\": [0.25, 0.75, 0.16194, 0, 0.51111],\n    \"48\": [0, 0.64444, 0.13556, 0, 0.51111],\n    \"49\": [0, 0.64444, 0.13556, 0, 0.51111],\n    \"50\": [0, 0.64444, 0.13556, 0, 0.51111],\n    \"51\": [0, 0.64444, 0.13556, 0, 0.51111],\n    \"52\": [0.19444, 0.64444, 0.13556, 0, 0.51111],\n    \"53\": [0, 0.64444, 0.13556, 0, 0.51111],\n    \"54\": [0, 0.64444, 0.13556, 0, 0.51111],\n    \"55\": [0.19444, 0.64444, 0.13556, 0, 0.51111],\n    \"56\": [0, 0.64444, 0.13556, 0, 0.51111],\n    \"57\": [0, 0.64444, 0.13556, 0, 0.51111],\n    \"58\": [0, 0.43056, 0.0582, 0, 0.30667],\n    \"59\": [0.19444, 0.43056, 0.0582, 0, 0.30667],\n    \"61\": [-0.13313, 0.36687, 0.06616, 0, 0.76666],\n    \"63\": [0, 0.69444, 0.1225, 0, 0.51111],\n    \"64\": [0, 0.69444, 0.09597, 0, 0.76666],\n    \"65\": [0, 0.68333, 0, 0, 0.74333],\n    \"66\": [0, 0.68333, 0.10257, 0, 0.70389],\n    \"67\": [0, 0.68333, 0.14528, 0, 0.71555],\n    \"68\": [0, 0.68333, 0.09403, 0, 0.755],\n    \"69\": [0, 0.68333, 0.12028, 0, 0.67833],\n    \"70\": [0, 0.68333, 0.13305, 0, 0.65277],\n    \"71\": [0, 0.68333, 0.08722, 0, 0.77361],\n    \"72\": [0, 0.68333, 0.16389, 0, 0.74333],\n    \"73\": [0, 0.68333, 0.15806, 0, 0.38555],\n    \"74\": [0, 0.68333, 0.14028, 0, 0.525],\n    \"75\": [0, 0.68333, 0.14528, 0, 0.76888],\n    \"76\": [0, 0.68333, 0, 0, 0.62722],\n    \"77\": [0, 0.68333, 0.16389, 0, 0.89666],\n    \"78\": [0, 0.68333, 0.16389, 0, 0.74333],\n    \"79\": [0, 0.68333, 0.09403, 0, 0.76666],\n    \"80\": [0, 0.68333, 0.10257, 0, 0.67833],\n    \"81\": [0.19444, 0.68333, 0.09403, 0, 0.76666],\n    \"82\": [0, 0.68333, 0.03868, 0, 0.72944],\n    \"83\": [0, 0.68333, 0.11972, 0, 0.56222],\n    \"84\": [0, 0.68333, 0.13305, 0, 0.71555],\n    \"85\": [0, 0.68333, 0.16389, 0, 0.74333],\n    \"86\": [0, 0.68333, 0.18361, 0, 0.74333],\n    \"87\": [0, 0.68333, 0.18361, 0, 0.99888],\n    \"88\": [0, 0.68333, 0.15806, 0, 0.74333],\n    \"89\": [0, 0.68333, 0.19383, 0, 0.74333],\n    \"90\": [0, 0.68333, 0.14528, 0, 0.61333],\n    \"91\": [0.25, 0.75, 0.1875, 0, 0.30667],\n    \"93\": [0.25, 0.75, 0.10528, 0, 0.30667],\n    \"94\": [0, 0.69444, 0.06646, 0, 0.51111],\n    \"95\": [0.31, 0.12056, 0.09208, 0, 0.51111],\n    \"97\": [0, 0.43056, 0.07671, 0, 0.51111],\n    \"98\": [0, 0.69444, 0.06312, 0, 0.46],\n    \"99\": [0, 0.43056, 0.05653, 0, 0.46],\n    \"100\": [0, 0.69444, 0.10333, 0, 0.51111],\n    \"101\": [0, 0.43056, 0.07514, 0, 0.46],\n    \"102\": [0.19444, 0.69444, 0.21194, 0, 0.30667],\n    \"103\": [0.19444, 0.43056, 0.08847, 0, 0.46],\n    \"104\": [0, 0.69444, 0.07671, 0, 0.51111],\n    \"105\": [0, 0.65536, 0.1019, 0, 0.30667],\n    \"106\": [0.19444, 0.65536, 0.14467, 0, 0.30667],\n    \"107\": [0, 0.69444, 0.10764, 0, 0.46],\n    \"108\": [0, 0.69444, 0.10333, 0, 0.25555],\n    \"109\": [0, 0.43056, 0.07671, 0, 0.81777],\n    \"110\": [0, 0.43056, 0.07671, 0, 0.56222],\n    \"111\": [0, 0.43056, 0.06312, 0, 0.51111],\n    \"112\": [0.19444, 0.43056, 0.06312, 0, 0.51111],\n    \"113\": [0.19444, 0.43056, 0.08847, 0, 0.46],\n    \"114\": [0, 0.43056, 0.10764, 0, 0.42166],\n    \"115\": [0, 0.43056, 0.08208, 0, 0.40889],\n    \"116\": [0, 0.61508, 0.09486, 0, 0.33222],\n    \"117\": [0, 0.43056, 0.07671, 0, 0.53666],\n    \"118\": [0, 0.43056, 0.10764, 0, 0.46],\n    \"119\": [0, 0.43056, 0.10764, 0, 0.66444],\n    \"120\": [0, 0.43056, 0.12042, 0, 0.46389],\n    \"121\": [0.19444, 0.43056, 0.08847, 0, 0.48555],\n    \"122\": [0, 0.43056, 0.12292, 0, 0.40889],\n    \"126\": [0.35, 0.31786, 0.11585, 0, 0.51111],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"168\": [0, 0.66786, 0.10474, 0, 0.51111],\n    \"176\": [0, 0.69444, 0, 0, 0.83129],\n    \"184\": [0.17014, 0, 0, 0, 0.46],\n    \"198\": [0, 0.68333, 0.12028, 0, 0.88277],\n    \"216\": [0.04861, 0.73194, 0.09403, 0, 0.76666],\n    \"223\": [0.19444, 0.69444, 0.10514, 0, 0.53666],\n    \"230\": [0, 0.43056, 0.07514, 0, 0.71555],\n    \"248\": [0.09722, 0.52778, 0.09194, 0, 0.51111],\n    \"338\": [0, 0.68333, 0.12028, 0, 0.98499],\n    \"339\": [0, 0.43056, 0.07514, 0, 0.71555],\n    \"710\": [0, 0.69444, 0.06646, 0, 0.51111],\n    \"711\": [0, 0.62847, 0.08295, 0, 0.51111],\n    \"713\": [0, 0.56167, 0.10333, 0, 0.51111],\n    \"714\": [0, 0.69444, 0.09694, 0, 0.51111],\n    \"715\": [0, 0.69444, 0, 0, 0.51111],\n    \"728\": [0, 0.69444, 0.10806, 0, 0.51111],\n    \"729\": [0, 0.66786, 0.11752, 0, 0.30667],\n    \"730\": [0, 0.69444, 0, 0, 0.83129],\n    \"732\": [0, 0.66786, 0.11585, 0, 0.51111],\n    \"733\": [0, 0.69444, 0.1225, 0, 0.51111],\n    \"915\": [0, 0.68333, 0.13305, 0, 0.62722],\n    \"916\": [0, 0.68333, 0, 0, 0.81777],\n    \"920\": [0, 0.68333, 0.09403, 0, 0.76666],\n    \"923\": [0, 0.68333, 0, 0, 0.69222],\n    \"926\": [0, 0.68333, 0.15294, 0, 0.66444],\n    \"928\": [0, 0.68333, 0.16389, 0, 0.74333],\n    \"931\": [0, 0.68333, 0.12028, 0, 0.71555],\n    \"933\": [0, 0.68333, 0.11111, 0, 0.76666],\n    \"934\": [0, 0.68333, 0.05986, 0, 0.71555],\n    \"936\": [0, 0.68333, 0.11111, 0, 0.76666],\n    \"937\": [0, 0.68333, 0.10257, 0, 0.71555],\n    \"8211\": [0, 0.43056, 0.09208, 0, 0.51111],\n    \"8212\": [0, 0.43056, 0.09208, 0, 1.02222],\n    \"8216\": [0, 0.69444, 0.12417, 0, 0.30667],\n    \"8217\": [0, 0.69444, 0.12417, 0, 0.30667],\n    \"8220\": [0, 0.69444, 0.1685, 0, 0.51444],\n    \"8221\": [0, 0.69444, 0.06961, 0, 0.51444],\n    \"8463\": [0, 0.68889, 0, 0, 0.54028]\n  },\n  \"Main-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"33\": [0, 0.69444, 0, 0, 0.27778],\n    \"34\": [0, 0.69444, 0, 0, 0.5],\n    \"35\": [0.19444, 0.69444, 0, 0, 0.83334],\n    \"36\": [0.05556, 0.75, 0, 0, 0.5],\n    \"37\": [0.05556, 0.75, 0, 0, 0.83334],\n    \"38\": [0, 0.69444, 0, 0, 0.77778],\n    \"39\": [0, 0.69444, 0, 0, 0.27778],\n    \"40\": [0.25, 0.75, 0, 0, 0.38889],\n    \"41\": [0.25, 0.75, 0, 0, 0.38889],\n    \"42\": [0, 0.75, 0, 0, 0.5],\n    \"43\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"44\": [0.19444, 0.10556, 0, 0, 0.27778],\n    \"45\": [0, 0.43056, 0, 0, 0.33333],\n    \"46\": [0, 0.10556, 0, 0, 0.27778],\n    \"47\": [0.25, 0.75, 0, 0, 0.5],\n    \"48\": [0, 0.64444, 0, 0, 0.5],\n    \"49\": [0, 0.64444, 0, 0, 0.5],\n    \"50\": [0, 0.64444, 0, 0, 0.5],\n    \"51\": [0, 0.64444, 0, 0, 0.5],\n    \"52\": [0, 0.64444, 0, 0, 0.5],\n    \"53\": [0, 0.64444, 0, 0, 0.5],\n    \"54\": [0, 0.64444, 0, 0, 0.5],\n    \"55\": [0, 0.64444, 0, 0, 0.5],\n    \"56\": [0, 0.64444, 0, 0, 0.5],\n    \"57\": [0, 0.64444, 0, 0, 0.5],\n    \"58\": [0, 0.43056, 0, 0, 0.27778],\n    \"59\": [0.19444, 0.43056, 0, 0, 0.27778],\n    \"60\": [0.0391, 0.5391, 0, 0, 0.77778],\n    \"61\": [-0.13313, 0.36687, 0, 0, 0.77778],\n    \"62\": [0.0391, 0.5391, 0, 0, 0.77778],\n    \"63\": [0, 0.69444, 0, 0, 0.47222],\n    \"64\": [0, 0.69444, 0, 0, 0.77778],\n    \"65\": [0, 0.68333, 0, 0, 0.75],\n    \"66\": [0, 0.68333, 0, 0, 0.70834],\n    \"67\": [0, 0.68333, 0, 0, 0.72222],\n    \"68\": [0, 0.68333, 0, 0, 0.76389],\n    \"69\": [0, 0.68333, 0, 0, 0.68056],\n    \"70\": [0, 0.68333, 0, 0, 0.65278],\n    \"71\": [0, 0.68333, 0, 0, 0.78472],\n    \"72\": [0, 0.68333, 0, 0, 0.75],\n    \"73\": [0, 0.68333, 0, 0, 0.36111],\n    \"74\": [0, 0.68333, 0, 0, 0.51389],\n    \"75\": [0, 0.68333, 0, 0, 0.77778],\n    \"76\": [0, 0.68333, 0, 0, 0.625],\n    \"77\": [0, 0.68333, 0, 0, 0.91667],\n    \"78\": [0, 0.68333, 0, 0, 0.75],\n    \"79\": [0, 0.68333, 0, 0, 0.77778],\n    \"80\": [0, 0.68333, 0, 0, 0.68056],\n    \"81\": [0.19444, 0.68333, 0, 0, 0.77778],\n    \"82\": [0, 0.68333, 0, 0, 0.73611],\n    \"83\": [0, 0.68333, 0, 0, 0.55556],\n    \"84\": [0, 0.68333, 0, 0, 0.72222],\n    \"85\": [0, 0.68333, 0, 0, 0.75],\n    \"86\": [0, 0.68333, 0.01389, 0, 0.75],\n    \"87\": [0, 0.68333, 0.01389, 0, 1.02778],\n    \"88\": [0, 0.68333, 0, 0, 0.75],\n    \"89\": [0, 0.68333, 0.025, 0, 0.75],\n    \"90\": [0, 0.68333, 0, 0, 0.61111],\n    \"91\": [0.25, 0.75, 0, 0, 0.27778],\n    \"92\": [0.25, 0.75, 0, 0, 0.5],\n    \"93\": [0.25, 0.75, 0, 0, 0.27778],\n    \"94\": [0, 0.69444, 0, 0, 0.5],\n    \"95\": [0.31, 0.12056, 0.02778, 0, 0.5],\n    \"97\": [0, 0.43056, 0, 0, 0.5],\n    \"98\": [0, 0.69444, 0, 0, 0.55556],\n    \"99\": [0, 0.43056, 0, 0, 0.44445],\n    \"100\": [0, 0.69444, 0, 0, 0.55556],\n    \"101\": [0, 0.43056, 0, 0, 0.44445],\n    \"102\": [0, 0.69444, 0.07778, 0, 0.30556],\n    \"103\": [0.19444, 0.43056, 0.01389, 0, 0.5],\n    \"104\": [0, 0.69444, 0, 0, 0.55556],\n    \"105\": [0, 0.66786, 0, 0, 0.27778],\n    \"106\": [0.19444, 0.66786, 0, 0, 0.30556],\n    \"107\": [0, 0.69444, 0, 0, 0.52778],\n    \"108\": [0, 0.69444, 0, 0, 0.27778],\n    \"109\": [0, 0.43056, 0, 0, 0.83334],\n    \"110\": [0, 0.43056, 0, 0, 0.55556],\n    \"111\": [0, 0.43056, 0, 0, 0.5],\n    \"112\": [0.19444, 0.43056, 0, 0, 0.55556],\n    \"113\": [0.19444, 0.43056, 0, 0, 0.52778],\n    \"114\": [0, 0.43056, 0, 0, 0.39167],\n    \"115\": [0, 0.43056, 0, 0, 0.39445],\n    \"116\": [0, 0.61508, 0, 0, 0.38889],\n    \"117\": [0, 0.43056, 0, 0, 0.55556],\n    \"118\": [0, 0.43056, 0.01389, 0, 0.52778],\n    \"119\": [0, 0.43056, 0.01389, 0, 0.72222],\n    \"120\": [0, 0.43056, 0, 0, 0.52778],\n    \"121\": [0.19444, 0.43056, 0.01389, 0, 0.52778],\n    \"122\": [0, 0.43056, 0, 0, 0.44445],\n    \"123\": [0.25, 0.75, 0, 0, 0.5],\n    \"124\": [0.25, 0.75, 0, 0, 0.27778],\n    \"125\": [0.25, 0.75, 0, 0, 0.5],\n    \"126\": [0.35, 0.31786, 0, 0, 0.5],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"163\": [0, 0.69444, 0, 0, 0.76909],\n    \"167\": [0.19444, 0.69444, 0, 0, 0.44445],\n    \"168\": [0, 0.66786, 0, 0, 0.5],\n    \"172\": [0, 0.43056, 0, 0, 0.66667],\n    \"176\": [0, 0.69444, 0, 0, 0.75],\n    \"177\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"182\": [0.19444, 0.69444, 0, 0, 0.61111],\n    \"184\": [0.17014, 0, 0, 0, 0.44445],\n    \"198\": [0, 0.68333, 0, 0, 0.90278],\n    \"215\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"216\": [0.04861, 0.73194, 0, 0, 0.77778],\n    \"223\": [0, 0.69444, 0, 0, 0.5],\n    \"230\": [0, 0.43056, 0, 0, 0.72222],\n    \"247\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"248\": [0.09722, 0.52778, 0, 0, 0.5],\n    \"305\": [0, 0.43056, 0, 0, 0.27778],\n    \"338\": [0, 0.68333, 0, 0, 1.01389],\n    \"339\": [0, 0.43056, 0, 0, 0.77778],\n    \"567\": [0.19444, 0.43056, 0, 0, 0.30556],\n    \"710\": [0, 0.69444, 0, 0, 0.5],\n    \"711\": [0, 0.62847, 0, 0, 0.5],\n    \"713\": [0, 0.56778, 0, 0, 0.5],\n    \"714\": [0, 0.69444, 0, 0, 0.5],\n    \"715\": [0, 0.69444, 0, 0, 0.5],\n    \"728\": [0, 0.69444, 0, 0, 0.5],\n    \"729\": [0, 0.66786, 0, 0, 0.27778],\n    \"730\": [0, 0.69444, 0, 0, 0.75],\n    \"732\": [0, 0.66786, 0, 0, 0.5],\n    \"733\": [0, 0.69444, 0, 0, 0.5],\n    \"915\": [0, 0.68333, 0, 0, 0.625],\n    \"916\": [0, 0.68333, 0, 0, 0.83334],\n    \"920\": [0, 0.68333, 0, 0, 0.77778],\n    \"923\": [0, 0.68333, 0, 0, 0.69445],\n    \"926\": [0, 0.68333, 0, 0, 0.66667],\n    \"928\": [0, 0.68333, 0, 0, 0.75],\n    \"931\": [0, 0.68333, 0, 0, 0.72222],\n    \"933\": [0, 0.68333, 0, 0, 0.77778],\n    \"934\": [0, 0.68333, 0, 0, 0.72222],\n    \"936\": [0, 0.68333, 0, 0, 0.77778],\n    \"937\": [0, 0.68333, 0, 0, 0.72222],\n    \"8211\": [0, 0.43056, 0.02778, 0, 0.5],\n    \"8212\": [0, 0.43056, 0.02778, 0, 1.0],\n    \"8216\": [0, 0.69444, 0, 0, 0.27778],\n    \"8217\": [0, 0.69444, 0, 0, 0.27778],\n    \"8220\": [0, 0.69444, 0, 0, 0.5],\n    \"8221\": [0, 0.69444, 0, 0, 0.5],\n    \"8224\": [0.19444, 0.69444, 0, 0, 0.44445],\n    \"8225\": [0.19444, 0.69444, 0, 0, 0.44445],\n    \"8230\": [0, 0.12, 0, 0, 1.172],\n    \"8242\": [0, 0.55556, 0, 0, 0.275],\n    \"8407\": [0, 0.71444, 0.15382, 0, 0.5],\n    \"8463\": [0, 0.68889, 0, 0, 0.54028],\n    \"8465\": [0, 0.69444, 0, 0, 0.72222],\n    \"8467\": [0, 0.69444, 0, 0.11111, 0.41667],\n    \"8472\": [0.19444, 0.43056, 0, 0.11111, 0.63646],\n    \"8476\": [0, 0.69444, 0, 0, 0.72222],\n    \"8501\": [0, 0.69444, 0, 0, 0.61111],\n    \"8592\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8593\": [0.19444, 0.69444, 0, 0, 0.5],\n    \"8594\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8595\": [0.19444, 0.69444, 0, 0, 0.5],\n    \"8596\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8597\": [0.25, 0.75, 0, 0, 0.5],\n    \"8598\": [0.19444, 0.69444, 0, 0, 1.0],\n    \"8599\": [0.19444, 0.69444, 0, 0, 1.0],\n    \"8600\": [0.19444, 0.69444, 0, 0, 1.0],\n    \"8601\": [0.19444, 0.69444, 0, 0, 1.0],\n    \"8614\": [0.011, 0.511, 0, 0, 1.0],\n    \"8617\": [0.011, 0.511, 0, 0, 1.126],\n    \"8618\": [0.011, 0.511, 0, 0, 1.126],\n    \"8636\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8637\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8640\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8641\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8652\": [0.011, 0.671, 0, 0, 1.0],\n    \"8656\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8657\": [0.19444, 0.69444, 0, 0, 0.61111],\n    \"8658\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8659\": [0.19444, 0.69444, 0, 0, 0.61111],\n    \"8660\": [-0.13313, 0.36687, 0, 0, 1.0],\n    \"8661\": [0.25, 0.75, 0, 0, 0.61111],\n    \"8704\": [0, 0.69444, 0, 0, 0.55556],\n    \"8706\": [0, 0.69444, 0.05556, 0.08334, 0.5309],\n    \"8707\": [0, 0.69444, 0, 0, 0.55556],\n    \"8709\": [0.05556, 0.75, 0, 0, 0.5],\n    \"8711\": [0, 0.68333, 0, 0, 0.83334],\n    \"8712\": [0.0391, 0.5391, 0, 0, 0.66667],\n    \"8715\": [0.0391, 0.5391, 0, 0, 0.66667],\n    \"8722\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"8723\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"8725\": [0.25, 0.75, 0, 0, 0.5],\n    \"8726\": [0.25, 0.75, 0, 0, 0.5],\n    \"8727\": [-0.03472, 0.46528, 0, 0, 0.5],\n    \"8728\": [-0.05555, 0.44445, 0, 0, 0.5],\n    \"8729\": [-0.05555, 0.44445, 0, 0, 0.5],\n    \"8730\": [0.2, 0.8, 0, 0, 0.83334],\n    \"8733\": [0, 0.43056, 0, 0, 0.77778],\n    \"8734\": [0, 0.43056, 0, 0, 1.0],\n    \"8736\": [0, 0.69224, 0, 0, 0.72222],\n    \"8739\": [0.25, 0.75, 0, 0, 0.27778],\n    \"8741\": [0.25, 0.75, 0, 0, 0.5],\n    \"8743\": [0, 0.55556, 0, 0, 0.66667],\n    \"8744\": [0, 0.55556, 0, 0, 0.66667],\n    \"8745\": [0, 0.55556, 0, 0, 0.66667],\n    \"8746\": [0, 0.55556, 0, 0, 0.66667],\n    \"8747\": [0.19444, 0.69444, 0.11111, 0, 0.41667],\n    \"8764\": [-0.13313, 0.36687, 0, 0, 0.77778],\n    \"8768\": [0.19444, 0.69444, 0, 0, 0.27778],\n    \"8771\": [-0.03625, 0.46375, 0, 0, 0.77778],\n    \"8773\": [-0.022, 0.589, 0, 0, 1.0],\n    \"8776\": [-0.01688, 0.48312, 0, 0, 0.77778],\n    \"8781\": [-0.03625, 0.46375, 0, 0, 0.77778],\n    \"8784\": [-0.133, 0.67, 0, 0, 0.778],\n    \"8801\": [-0.03625, 0.46375, 0, 0, 0.77778],\n    \"8804\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"8805\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"8810\": [0.0391, 0.5391, 0, 0, 1.0],\n    \"8811\": [0.0391, 0.5391, 0, 0, 1.0],\n    \"8826\": [0.0391, 0.5391, 0, 0, 0.77778],\n    \"8827\": [0.0391, 0.5391, 0, 0, 0.77778],\n    \"8834\": [0.0391, 0.5391, 0, 0, 0.77778],\n    \"8835\": [0.0391, 0.5391, 0, 0, 0.77778],\n    \"8838\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"8839\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"8846\": [0, 0.55556, 0, 0, 0.66667],\n    \"8849\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"8850\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"8851\": [0, 0.55556, 0, 0, 0.66667],\n    \"8852\": [0, 0.55556, 0, 0, 0.66667],\n    \"8853\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"8854\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"8855\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"8856\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"8857\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"8866\": [0, 0.69444, 0, 0, 0.61111],\n    \"8867\": [0, 0.69444, 0, 0, 0.61111],\n    \"8868\": [0, 0.69444, 0, 0, 0.77778],\n    \"8869\": [0, 0.69444, 0, 0, 0.77778],\n    \"8872\": [0.249, 0.75, 0, 0, 0.867],\n    \"8900\": [-0.05555, 0.44445, 0, 0, 0.5],\n    \"8901\": [-0.05555, 0.44445, 0, 0, 0.27778],\n    \"8902\": [-0.03472, 0.46528, 0, 0, 0.5],\n    \"8904\": [0.005, 0.505, 0, 0, 0.9],\n    \"8942\": [0.03, 0.9, 0, 0, 0.278],\n    \"8943\": [-0.19, 0.31, 0, 0, 1.172],\n    \"8945\": [-0.1, 0.82, 0, 0, 1.282],\n    \"8968\": [0.25, 0.75, 0, 0, 0.44445],\n    \"8969\": [0.25, 0.75, 0, 0, 0.44445],\n    \"8970\": [0.25, 0.75, 0, 0, 0.44445],\n    \"8971\": [0.25, 0.75, 0, 0, 0.44445],\n    \"8994\": [-0.14236, 0.35764, 0, 0, 1.0],\n    \"8995\": [-0.14236, 0.35764, 0, 0, 1.0],\n    \"9136\": [0.244, 0.744, 0, 0, 0.412],\n    \"9137\": [0.244, 0.744, 0, 0, 0.412],\n    \"9651\": [0.19444, 0.69444, 0, 0, 0.88889],\n    \"9657\": [-0.03472, 0.46528, 0, 0, 0.5],\n    \"9661\": [0.19444, 0.69444, 0, 0, 0.88889],\n    \"9667\": [-0.03472, 0.46528, 0, 0, 0.5],\n    \"9711\": [0.19444, 0.69444, 0, 0, 1.0],\n    \"9824\": [0.12963, 0.69444, 0, 0, 0.77778],\n    \"9825\": [0.12963, 0.69444, 0, 0, 0.77778],\n    \"9826\": [0.12963, 0.69444, 0, 0, 0.77778],\n    \"9827\": [0.12963, 0.69444, 0, 0, 0.77778],\n    \"9837\": [0, 0.75, 0, 0, 0.38889],\n    \"9838\": [0.19444, 0.69444, 0, 0, 0.38889],\n    \"9839\": [0.19444, 0.69444, 0, 0, 0.38889],\n    \"10216\": [0.25, 0.75, 0, 0, 0.38889],\n    \"10217\": [0.25, 0.75, 0, 0, 0.38889],\n    \"10222\": [0.244, 0.744, 0, 0, 0.412],\n    \"10223\": [0.244, 0.744, 0, 0, 0.412],\n    \"10229\": [0.011, 0.511, 0, 0, 1.609],\n    \"10230\": [0.011, 0.511, 0, 0, 1.638],\n    \"10231\": [0.011, 0.511, 0, 0, 1.859],\n    \"10232\": [0.024, 0.525, 0, 0, 1.609],\n    \"10233\": [0.024, 0.525, 0, 0, 1.638],\n    \"10234\": [0.024, 0.525, 0, 0, 1.858],\n    \"10236\": [0.011, 0.511, 0, 0, 1.638],\n    \"10815\": [0, 0.68333, 0, 0, 0.75],\n    \"10927\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"10928\": [0.13597, 0.63597, 0, 0, 0.77778],\n    \"57376\": [0.19444, 0.69444, 0, 0, 0]\n  },\n  \"Math-BoldItalic\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"48\": [0, 0.44444, 0, 0, 0.575],\n    \"49\": [0, 0.44444, 0, 0, 0.575],\n    \"50\": [0, 0.44444, 0, 0, 0.575],\n    \"51\": [0.19444, 0.44444, 0, 0, 0.575],\n    \"52\": [0.19444, 0.44444, 0, 0, 0.575],\n    \"53\": [0.19444, 0.44444, 0, 0, 0.575],\n    \"54\": [0, 0.64444, 0, 0, 0.575],\n    \"55\": [0.19444, 0.44444, 0, 0, 0.575],\n    \"56\": [0, 0.64444, 0, 0, 0.575],\n    \"57\": [0.19444, 0.44444, 0, 0, 0.575],\n    \"65\": [0, 0.68611, 0, 0, 0.86944],\n    \"66\": [0, 0.68611, 0.04835, 0, 0.8664],\n    \"67\": [0, 0.68611, 0.06979, 0, 0.81694],\n    \"68\": [0, 0.68611, 0.03194, 0, 0.93812],\n    \"69\": [0, 0.68611, 0.05451, 0, 0.81007],\n    \"70\": [0, 0.68611, 0.15972, 0, 0.68889],\n    \"71\": [0, 0.68611, 0, 0, 0.88673],\n    \"72\": [0, 0.68611, 0.08229, 0, 0.98229],\n    \"73\": [0, 0.68611, 0.07778, 0, 0.51111],\n    \"74\": [0, 0.68611, 0.10069, 0, 0.63125],\n    \"75\": [0, 0.68611, 0.06979, 0, 0.97118],\n    \"76\": [0, 0.68611, 0, 0, 0.75555],\n    \"77\": [0, 0.68611, 0.11424, 0, 1.14201],\n    \"78\": [0, 0.68611, 0.11424, 0, 0.95034],\n    \"79\": [0, 0.68611, 0.03194, 0, 0.83666],\n    \"80\": [0, 0.68611, 0.15972, 0, 0.72309],\n    \"81\": [0.19444, 0.68611, 0, 0, 0.86861],\n    \"82\": [0, 0.68611, 0.00421, 0, 0.87235],\n    \"83\": [0, 0.68611, 0.05382, 0, 0.69271],\n    \"84\": [0, 0.68611, 0.15972, 0, 0.63663],\n    \"85\": [0, 0.68611, 0.11424, 0, 0.80027],\n    \"86\": [0, 0.68611, 0.25555, 0, 0.67778],\n    \"87\": [0, 0.68611, 0.15972, 0, 1.09305],\n    \"88\": [0, 0.68611, 0.07778, 0, 0.94722],\n    \"89\": [0, 0.68611, 0.25555, 0, 0.67458],\n    \"90\": [0, 0.68611, 0.06979, 0, 0.77257],\n    \"97\": [0, 0.44444, 0, 0, 0.63287],\n    \"98\": [0, 0.69444, 0, 0, 0.52083],\n    \"99\": [0, 0.44444, 0, 0, 0.51342],\n    \"100\": [0, 0.69444, 0, 0, 0.60972],\n    \"101\": [0, 0.44444, 0, 0, 0.55361],\n    \"102\": [0.19444, 0.69444, 0.11042, 0, 0.56806],\n    \"103\": [0.19444, 0.44444, 0.03704, 0, 0.5449],\n    \"104\": [0, 0.69444, 0, 0, 0.66759],\n    \"105\": [0, 0.69326, 0, 0, 0.4048],\n    \"106\": [0.19444, 0.69326, 0.0622, 0, 0.47083],\n    \"107\": [0, 0.69444, 0.01852, 0, 0.6037],\n    \"108\": [0, 0.69444, 0.0088, 0, 0.34815],\n    \"109\": [0, 0.44444, 0, 0, 1.0324],\n    \"110\": [0, 0.44444, 0, 0, 0.71296],\n    \"111\": [0, 0.44444, 0, 0, 0.58472],\n    \"112\": [0.19444, 0.44444, 0, 0, 0.60092],\n    \"113\": [0.19444, 0.44444, 0.03704, 0, 0.54213],\n    \"114\": [0, 0.44444, 0.03194, 0, 0.5287],\n    \"115\": [0, 0.44444, 0, 0, 0.53125],\n    \"116\": [0, 0.63492, 0, 0, 0.41528],\n    \"117\": [0, 0.44444, 0, 0, 0.68102],\n    \"118\": [0, 0.44444, 0.03704, 0, 0.56666],\n    \"119\": [0, 0.44444, 0.02778, 0, 0.83148],\n    \"120\": [0, 0.44444, 0, 0, 0.65903],\n    \"121\": [0.19444, 0.44444, 0.03704, 0, 0.59028],\n    \"122\": [0, 0.44444, 0.04213, 0, 0.55509],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"915\": [0, 0.68611, 0.15972, 0, 0.65694],\n    \"916\": [0, 0.68611, 0, 0, 0.95833],\n    \"920\": [0, 0.68611, 0.03194, 0, 0.86722],\n    \"923\": [0, 0.68611, 0, 0, 0.80555],\n    \"926\": [0, 0.68611, 0.07458, 0, 0.84125],\n    \"928\": [0, 0.68611, 0.08229, 0, 0.98229],\n    \"931\": [0, 0.68611, 0.05451, 0, 0.88507],\n    \"933\": [0, 0.68611, 0.15972, 0, 0.67083],\n    \"934\": [0, 0.68611, 0, 0, 0.76666],\n    \"936\": [0, 0.68611, 0.11653, 0, 0.71402],\n    \"937\": [0, 0.68611, 0.04835, 0, 0.8789],\n    \"945\": [0, 0.44444, 0, 0, 0.76064],\n    \"946\": [0.19444, 0.69444, 0.03403, 0, 0.65972],\n    \"947\": [0.19444, 0.44444, 0.06389, 0, 0.59003],\n    \"948\": [0, 0.69444, 0.03819, 0, 0.52222],\n    \"949\": [0, 0.44444, 0, 0, 0.52882],\n    \"950\": [0.19444, 0.69444, 0.06215, 0, 0.50833],\n    \"951\": [0.19444, 0.44444, 0.03704, 0, 0.6],\n    \"952\": [0, 0.69444, 0.03194, 0, 0.5618],\n    \"953\": [0, 0.44444, 0, 0, 0.41204],\n    \"954\": [0, 0.44444, 0, 0, 0.66759],\n    \"955\": [0, 0.69444, 0, 0, 0.67083],\n    \"956\": [0.19444, 0.44444, 0, 0, 0.70787],\n    \"957\": [0, 0.44444, 0.06898, 0, 0.57685],\n    \"958\": [0.19444, 0.69444, 0.03021, 0, 0.50833],\n    \"959\": [0, 0.44444, 0, 0, 0.58472],\n    \"960\": [0, 0.44444, 0.03704, 0, 0.68241],\n    \"961\": [0.19444, 0.44444, 0, 0, 0.6118],\n    \"962\": [0.09722, 0.44444, 0.07917, 0, 0.42361],\n    \"963\": [0, 0.44444, 0.03704, 0, 0.68588],\n    \"964\": [0, 0.44444, 0.13472, 0, 0.52083],\n    \"965\": [0, 0.44444, 0.03704, 0, 0.63055],\n    \"966\": [0.19444, 0.44444, 0, 0, 0.74722],\n    \"967\": [0.19444, 0.44444, 0, 0, 0.71805],\n    \"968\": [0.19444, 0.69444, 0.03704, 0, 0.75833],\n    \"969\": [0, 0.44444, 0.03704, 0, 0.71782],\n    \"977\": [0, 0.69444, 0, 0, 0.69155],\n    \"981\": [0.19444, 0.69444, 0, 0, 0.7125],\n    \"982\": [0, 0.44444, 0.03194, 0, 0.975],\n    \"1009\": [0.19444, 0.44444, 0, 0, 0.6118],\n    \"1013\": [0, 0.44444, 0, 0, 0.48333],\n    \"57649\": [0, 0.44444, 0, 0, 0.39352],\n    \"57911\": [0.19444, 0.44444, 0, 0, 0.43889]\n  },\n  \"Math-Italic\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"48\": [0, 0.43056, 0, 0, 0.5],\n    \"49\": [0, 0.43056, 0, 0, 0.5],\n    \"50\": [0, 0.43056, 0, 0, 0.5],\n    \"51\": [0.19444, 0.43056, 0, 0, 0.5],\n    \"52\": [0.19444, 0.43056, 0, 0, 0.5],\n    \"53\": [0.19444, 0.43056, 0, 0, 0.5],\n    \"54\": [0, 0.64444, 0, 0, 0.5],\n    \"55\": [0.19444, 0.43056, 0, 0, 0.5],\n    \"56\": [0, 0.64444, 0, 0, 0.5],\n    \"57\": [0.19444, 0.43056, 0, 0, 0.5],\n    \"65\": [0, 0.68333, 0, 0.13889, 0.75],\n    \"66\": [0, 0.68333, 0.05017, 0.08334, 0.75851],\n    \"67\": [0, 0.68333, 0.07153, 0.08334, 0.71472],\n    \"68\": [0, 0.68333, 0.02778, 0.05556, 0.82792],\n    \"69\": [0, 0.68333, 0.05764, 0.08334, 0.7382],\n    \"70\": [0, 0.68333, 0.13889, 0.08334, 0.64306],\n    \"71\": [0, 0.68333, 0, 0.08334, 0.78625],\n    \"72\": [0, 0.68333, 0.08125, 0.05556, 0.83125],\n    \"73\": [0, 0.68333, 0.07847, 0.11111, 0.43958],\n    \"74\": [0, 0.68333, 0.09618, 0.16667, 0.55451],\n    \"75\": [0, 0.68333, 0.07153, 0.05556, 0.84931],\n    \"76\": [0, 0.68333, 0, 0.02778, 0.68056],\n    \"77\": [0, 0.68333, 0.10903, 0.08334, 0.97014],\n    \"78\": [0, 0.68333, 0.10903, 0.08334, 0.80347],\n    \"79\": [0, 0.68333, 0.02778, 0.08334, 0.76278],\n    \"80\": [0, 0.68333, 0.13889, 0.08334, 0.64201],\n    \"81\": [0.19444, 0.68333, 0, 0.08334, 0.79056],\n    \"82\": [0, 0.68333, 0.00773, 0.08334, 0.75929],\n    \"83\": [0, 0.68333, 0.05764, 0.08334, 0.6132],\n    \"84\": [0, 0.68333, 0.13889, 0.08334, 0.58438],\n    \"85\": [0, 0.68333, 0.10903, 0.02778, 0.68278],\n    \"86\": [0, 0.68333, 0.22222, 0, 0.58333],\n    \"87\": [0, 0.68333, 0.13889, 0, 0.94445],\n    \"88\": [0, 0.68333, 0.07847, 0.08334, 0.82847],\n    \"89\": [0, 0.68333, 0.22222, 0, 0.58056],\n    \"90\": [0, 0.68333, 0.07153, 0.08334, 0.68264],\n    \"97\": [0, 0.43056, 0, 0, 0.52859],\n    \"98\": [0, 0.69444, 0, 0, 0.42917],\n    \"99\": [0, 0.43056, 0, 0.05556, 0.43276],\n    \"100\": [0, 0.69444, 0, 0.16667, 0.52049],\n    \"101\": [0, 0.43056, 0, 0.05556, 0.46563],\n    \"102\": [0.19444, 0.69444, 0.10764, 0.16667, 0.48959],\n    \"103\": [0.19444, 0.43056, 0.03588, 0.02778, 0.47697],\n    \"104\": [0, 0.69444, 0, 0, 0.57616],\n    \"105\": [0, 0.65952, 0, 0, 0.34451],\n    \"106\": [0.19444, 0.65952, 0.05724, 0, 0.41181],\n    \"107\": [0, 0.69444, 0.03148, 0, 0.5206],\n    \"108\": [0, 0.69444, 0.01968, 0.08334, 0.29838],\n    \"109\": [0, 0.43056, 0, 0, 0.87801],\n    \"110\": [0, 0.43056, 0, 0, 0.60023],\n    \"111\": [0, 0.43056, 0, 0.05556, 0.48472],\n    \"112\": [0.19444, 0.43056, 0, 0.08334, 0.50313],\n    \"113\": [0.19444, 0.43056, 0.03588, 0.08334, 0.44641],\n    \"114\": [0, 0.43056, 0.02778, 0.05556, 0.45116],\n    \"115\": [0, 0.43056, 0, 0.05556, 0.46875],\n    \"116\": [0, 0.61508, 0, 0.08334, 0.36111],\n    \"117\": [0, 0.43056, 0, 0.02778, 0.57246],\n    \"118\": [0, 0.43056, 0.03588, 0.02778, 0.48472],\n    \"119\": [0, 0.43056, 0.02691, 0.08334, 0.71592],\n    \"120\": [0, 0.43056, 0, 0.02778, 0.57153],\n    \"121\": [0.19444, 0.43056, 0.03588, 0.05556, 0.49028],\n    \"122\": [0, 0.43056, 0.04398, 0.05556, 0.46505],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"915\": [0, 0.68333, 0.13889, 0.08334, 0.61528],\n    \"916\": [0, 0.68333, 0, 0.16667, 0.83334],\n    \"920\": [0, 0.68333, 0.02778, 0.08334, 0.76278],\n    \"923\": [0, 0.68333, 0, 0.16667, 0.69445],\n    \"926\": [0, 0.68333, 0.07569, 0.08334, 0.74236],\n    \"928\": [0, 0.68333, 0.08125, 0.05556, 0.83125],\n    \"931\": [0, 0.68333, 0.05764, 0.08334, 0.77986],\n    \"933\": [0, 0.68333, 0.13889, 0.05556, 0.58333],\n    \"934\": [0, 0.68333, 0, 0.08334, 0.66667],\n    \"936\": [0, 0.68333, 0.11, 0.05556, 0.61222],\n    \"937\": [0, 0.68333, 0.05017, 0.08334, 0.7724],\n    \"945\": [0, 0.43056, 0.0037, 0.02778, 0.6397],\n    \"946\": [0.19444, 0.69444, 0.05278, 0.08334, 0.56563],\n    \"947\": [0.19444, 0.43056, 0.05556, 0, 0.51773],\n    \"948\": [0, 0.69444, 0.03785, 0.05556, 0.44444],\n    \"949\": [0, 0.43056, 0, 0.08334, 0.46632],\n    \"950\": [0.19444, 0.69444, 0.07378, 0.08334, 0.4375],\n    \"951\": [0.19444, 0.43056, 0.03588, 0.05556, 0.49653],\n    \"952\": [0, 0.69444, 0.02778, 0.08334, 0.46944],\n    \"953\": [0, 0.43056, 0, 0.05556, 0.35394],\n    \"954\": [0, 0.43056, 0, 0, 0.57616],\n    \"955\": [0, 0.69444, 0, 0, 0.58334],\n    \"956\": [0.19444, 0.43056, 0, 0.02778, 0.60255],\n    \"957\": [0, 0.43056, 0.06366, 0.02778, 0.49398],\n    \"958\": [0.19444, 0.69444, 0.04601, 0.11111, 0.4375],\n    \"959\": [0, 0.43056, 0, 0.05556, 0.48472],\n    \"960\": [0, 0.43056, 0.03588, 0, 0.57003],\n    \"961\": [0.19444, 0.43056, 0, 0.08334, 0.51702],\n    \"962\": [0.09722, 0.43056, 0.07986, 0.08334, 0.36285],\n    \"963\": [0, 0.43056, 0.03588, 0, 0.57141],\n    \"964\": [0, 0.43056, 0.1132, 0.02778, 0.43715],\n    \"965\": [0, 0.43056, 0.03588, 0.02778, 0.54028],\n    \"966\": [0.19444, 0.43056, 0, 0.08334, 0.65417],\n    \"967\": [0.19444, 0.43056, 0, 0.05556, 0.62569],\n    \"968\": [0.19444, 0.69444, 0.03588, 0.11111, 0.65139],\n    \"969\": [0, 0.43056, 0.03588, 0, 0.62245],\n    \"977\": [0, 0.69444, 0, 0.08334, 0.59144],\n    \"981\": [0.19444, 0.69444, 0, 0.08334, 0.59583],\n    \"982\": [0, 0.43056, 0.02778, 0, 0.82813],\n    \"1009\": [0.19444, 0.43056, 0, 0.08334, 0.51702],\n    \"1013\": [0, 0.43056, 0, 0.05556, 0.4059],\n    \"57649\": [0, 0.43056, 0, 0.02778, 0.32246],\n    \"57911\": [0.19444, 0.43056, 0, 0.08334, 0.38403]\n  },\n  \"SansSerif-Bold\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"33\": [0, 0.69444, 0, 0, 0.36667],\n    \"34\": [0, 0.69444, 0, 0, 0.55834],\n    \"35\": [0.19444, 0.69444, 0, 0, 0.91667],\n    \"36\": [0.05556, 0.75, 0, 0, 0.55],\n    \"37\": [0.05556, 0.75, 0, 0, 1.02912],\n    \"38\": [0, 0.69444, 0, 0, 0.83056],\n    \"39\": [0, 0.69444, 0, 0, 0.30556],\n    \"40\": [0.25, 0.75, 0, 0, 0.42778],\n    \"41\": [0.25, 0.75, 0, 0, 0.42778],\n    \"42\": [0, 0.75, 0, 0, 0.55],\n    \"43\": [0.11667, 0.61667, 0, 0, 0.85556],\n    \"44\": [0.10556, 0.13056, 0, 0, 0.30556],\n    \"45\": [0, 0.45833, 0, 0, 0.36667],\n    \"46\": [0, 0.13056, 0, 0, 0.30556],\n    \"47\": [0.25, 0.75, 0, 0, 0.55],\n    \"48\": [0, 0.69444, 0, 0, 0.55],\n    \"49\": [0, 0.69444, 0, 0, 0.55],\n    \"50\": [0, 0.69444, 0, 0, 0.55],\n    \"51\": [0, 0.69444, 0, 0, 0.55],\n    \"52\": [0, 0.69444, 0, 0, 0.55],\n    \"53\": [0, 0.69444, 0, 0, 0.55],\n    \"54\": [0, 0.69444, 0, 0, 0.55],\n    \"55\": [0, 0.69444, 0, 0, 0.55],\n    \"56\": [0, 0.69444, 0, 0, 0.55],\n    \"57\": [0, 0.69444, 0, 0, 0.55],\n    \"58\": [0, 0.45833, 0, 0, 0.30556],\n    \"59\": [0.10556, 0.45833, 0, 0, 0.30556],\n    \"61\": [-0.09375, 0.40625, 0, 0, 0.85556],\n    \"63\": [0, 0.69444, 0, 0, 0.51945],\n    \"64\": [0, 0.69444, 0, 0, 0.73334],\n    \"65\": [0, 0.69444, 0, 0, 0.73334],\n    \"66\": [0, 0.69444, 0, 0, 0.73334],\n    \"67\": [0, 0.69444, 0, 0, 0.70278],\n    \"68\": [0, 0.69444, 0, 0, 0.79445],\n    \"69\": [0, 0.69444, 0, 0, 0.64167],\n    \"70\": [0, 0.69444, 0, 0, 0.61111],\n    \"71\": [0, 0.69444, 0, 0, 0.73334],\n    \"72\": [0, 0.69444, 0, 0, 0.79445],\n    \"73\": [0, 0.69444, 0, 0, 0.33056],\n    \"74\": [0, 0.69444, 0, 0, 0.51945],\n    \"75\": [0, 0.69444, 0, 0, 0.76389],\n    \"76\": [0, 0.69444, 0, 0, 0.58056],\n    \"77\": [0, 0.69444, 0, 0, 0.97778],\n    \"78\": [0, 0.69444, 0, 0, 0.79445],\n    \"79\": [0, 0.69444, 0, 0, 0.79445],\n    \"80\": [0, 0.69444, 0, 0, 0.70278],\n    \"81\": [0.10556, 0.69444, 0, 0, 0.79445],\n    \"82\": [0, 0.69444, 0, 0, 0.70278],\n    \"83\": [0, 0.69444, 0, 0, 0.61111],\n    \"84\": [0, 0.69444, 0, 0, 0.73334],\n    \"85\": [0, 0.69444, 0, 0, 0.76389],\n    \"86\": [0, 0.69444, 0.01528, 0, 0.73334],\n    \"87\": [0, 0.69444, 0.01528, 0, 1.03889],\n    \"88\": [0, 0.69444, 0, 0, 0.73334],\n    \"89\": [0, 0.69444, 0.0275, 0, 0.73334],\n    \"90\": [0, 0.69444, 0, 0, 0.67223],\n    \"91\": [0.25, 0.75, 0, 0, 0.34306],\n    \"93\": [0.25, 0.75, 0, 0, 0.34306],\n    \"94\": [0, 0.69444, 0, 0, 0.55],\n    \"95\": [0.35, 0.10833, 0.03056, 0, 0.55],\n    \"97\": [0, 0.45833, 0, 0, 0.525],\n    \"98\": [0, 0.69444, 0, 0, 0.56111],\n    \"99\": [0, 0.45833, 0, 0, 0.48889],\n    \"100\": [0, 0.69444, 0, 0, 0.56111],\n    \"101\": [0, 0.45833, 0, 0, 0.51111],\n    \"102\": [0, 0.69444, 0.07639, 0, 0.33611],\n    \"103\": [0.19444, 0.45833, 0.01528, 0, 0.55],\n    \"104\": [0, 0.69444, 0, 0, 0.56111],\n    \"105\": [0, 0.69444, 0, 0, 0.25556],\n    \"106\": [0.19444, 0.69444, 0, 0, 0.28611],\n    \"107\": [0, 0.69444, 0, 0, 0.53056],\n    \"108\": [0, 0.69444, 0, 0, 0.25556],\n    \"109\": [0, 0.45833, 0, 0, 0.86667],\n    \"110\": [0, 0.45833, 0, 0, 0.56111],\n    \"111\": [0, 0.45833, 0, 0, 0.55],\n    \"112\": [0.19444, 0.45833, 0, 0, 0.56111],\n    \"113\": [0.19444, 0.45833, 0, 0, 0.56111],\n    \"114\": [0, 0.45833, 0.01528, 0, 0.37222],\n    \"115\": [0, 0.45833, 0, 0, 0.42167],\n    \"116\": [0, 0.58929, 0, 0, 0.40417],\n    \"117\": [0, 0.45833, 0, 0, 0.56111],\n    \"118\": [0, 0.45833, 0.01528, 0, 0.5],\n    \"119\": [0, 0.45833, 0.01528, 0, 0.74445],\n    \"120\": [0, 0.45833, 0, 0, 0.5],\n    \"121\": [0.19444, 0.45833, 0.01528, 0, 0.5],\n    \"122\": [0, 0.45833, 0, 0, 0.47639],\n    \"126\": [0.35, 0.34444, 0, 0, 0.55],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"168\": [0, 0.69444, 0, 0, 0.55],\n    \"176\": [0, 0.69444, 0, 0, 0.73334],\n    \"180\": [0, 0.69444, 0, 0, 0.55],\n    \"184\": [0.17014, 0, 0, 0, 0.48889],\n    \"305\": [0, 0.45833, 0, 0, 0.25556],\n    \"567\": [0.19444, 0.45833, 0, 0, 0.28611],\n    \"710\": [0, 0.69444, 0, 0, 0.55],\n    \"711\": [0, 0.63542, 0, 0, 0.55],\n    \"713\": [0, 0.63778, 0, 0, 0.55],\n    \"728\": [0, 0.69444, 0, 0, 0.55],\n    \"729\": [0, 0.69444, 0, 0, 0.30556],\n    \"730\": [0, 0.69444, 0, 0, 0.73334],\n    \"732\": [0, 0.69444, 0, 0, 0.55],\n    \"733\": [0, 0.69444, 0, 0, 0.55],\n    \"915\": [0, 0.69444, 0, 0, 0.58056],\n    \"916\": [0, 0.69444, 0, 0, 0.91667],\n    \"920\": [0, 0.69444, 0, 0, 0.85556],\n    \"923\": [0, 0.69444, 0, 0, 0.67223],\n    \"926\": [0, 0.69444, 0, 0, 0.73334],\n    \"928\": [0, 0.69444, 0, 0, 0.79445],\n    \"931\": [0, 0.69444, 0, 0, 0.79445],\n    \"933\": [0, 0.69444, 0, 0, 0.85556],\n    \"934\": [0, 0.69444, 0, 0, 0.79445],\n    \"936\": [0, 0.69444, 0, 0, 0.85556],\n    \"937\": [0, 0.69444, 0, 0, 0.79445],\n    \"8211\": [0, 0.45833, 0.03056, 0, 0.55],\n    \"8212\": [0, 0.45833, 0.03056, 0, 1.10001],\n    \"8216\": [0, 0.69444, 0, 0, 0.30556],\n    \"8217\": [0, 0.69444, 0, 0, 0.30556],\n    \"8220\": [0, 0.69444, 0, 0, 0.55834],\n    \"8221\": [0, 0.69444, 0, 0, 0.55834]\n  },\n  \"SansSerif-Italic\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"33\": [0, 0.69444, 0.05733, 0, 0.31945],\n    \"34\": [0, 0.69444, 0.00316, 0, 0.5],\n    \"35\": [0.19444, 0.69444, 0.05087, 0, 0.83334],\n    \"36\": [0.05556, 0.75, 0.11156, 0, 0.5],\n    \"37\": [0.05556, 0.75, 0.03126, 0, 0.83334],\n    \"38\": [0, 0.69444, 0.03058, 0, 0.75834],\n    \"39\": [0, 0.69444, 0.07816, 0, 0.27778],\n    \"40\": [0.25, 0.75, 0.13164, 0, 0.38889],\n    \"41\": [0.25, 0.75, 0.02536, 0, 0.38889],\n    \"42\": [0, 0.75, 0.11775, 0, 0.5],\n    \"43\": [0.08333, 0.58333, 0.02536, 0, 0.77778],\n    \"44\": [0.125, 0.08333, 0, 0, 0.27778],\n    \"45\": [0, 0.44444, 0.01946, 0, 0.33333],\n    \"46\": [0, 0.08333, 0, 0, 0.27778],\n    \"47\": [0.25, 0.75, 0.13164, 0, 0.5],\n    \"48\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"49\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"50\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"51\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"52\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"53\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"54\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"55\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"56\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"57\": [0, 0.65556, 0.11156, 0, 0.5],\n    \"58\": [0, 0.44444, 0.02502, 0, 0.27778],\n    \"59\": [0.125, 0.44444, 0.02502, 0, 0.27778],\n    \"61\": [-0.13, 0.37, 0.05087, 0, 0.77778],\n    \"63\": [0, 0.69444, 0.11809, 0, 0.47222],\n    \"64\": [0, 0.69444, 0.07555, 0, 0.66667],\n    \"65\": [0, 0.69444, 0, 0, 0.66667],\n    \"66\": [0, 0.69444, 0.08293, 0, 0.66667],\n    \"67\": [0, 0.69444, 0.11983, 0, 0.63889],\n    \"68\": [0, 0.69444, 0.07555, 0, 0.72223],\n    \"69\": [0, 0.69444, 0.11983, 0, 0.59722],\n    \"70\": [0, 0.69444, 0.13372, 0, 0.56945],\n    \"71\": [0, 0.69444, 0.11983, 0, 0.66667],\n    \"72\": [0, 0.69444, 0.08094, 0, 0.70834],\n    \"73\": [0, 0.69444, 0.13372, 0, 0.27778],\n    \"74\": [0, 0.69444, 0.08094, 0, 0.47222],\n    \"75\": [0, 0.69444, 0.11983, 0, 0.69445],\n    \"76\": [0, 0.69444, 0, 0, 0.54167],\n    \"77\": [0, 0.69444, 0.08094, 0, 0.875],\n    \"78\": [0, 0.69444, 0.08094, 0, 0.70834],\n    \"79\": [0, 0.69444, 0.07555, 0, 0.73611],\n    \"80\": [0, 0.69444, 0.08293, 0, 0.63889],\n    \"81\": [0.125, 0.69444, 0.07555, 0, 0.73611],\n    \"82\": [0, 0.69444, 0.08293, 0, 0.64584],\n    \"83\": [0, 0.69444, 0.09205, 0, 0.55556],\n    \"84\": [0, 0.69444, 0.13372, 0, 0.68056],\n    \"85\": [0, 0.69444, 0.08094, 0, 0.6875],\n    \"86\": [0, 0.69444, 0.1615, 0, 0.66667],\n    \"87\": [0, 0.69444, 0.1615, 0, 0.94445],\n    \"88\": [0, 0.69444, 0.13372, 0, 0.66667],\n    \"89\": [0, 0.69444, 0.17261, 0, 0.66667],\n    \"90\": [0, 0.69444, 0.11983, 0, 0.61111],\n    \"91\": [0.25, 0.75, 0.15942, 0, 0.28889],\n    \"93\": [0.25, 0.75, 0.08719, 0, 0.28889],\n    \"94\": [0, 0.69444, 0.0799, 0, 0.5],\n    \"95\": [0.35, 0.09444, 0.08616, 0, 0.5],\n    \"97\": [0, 0.44444, 0.00981, 0, 0.48056],\n    \"98\": [0, 0.69444, 0.03057, 0, 0.51667],\n    \"99\": [0, 0.44444, 0.08336, 0, 0.44445],\n    \"100\": [0, 0.69444, 0.09483, 0, 0.51667],\n    \"101\": [0, 0.44444, 0.06778, 0, 0.44445],\n    \"102\": [0, 0.69444, 0.21705, 0, 0.30556],\n    \"103\": [0.19444, 0.44444, 0.10836, 0, 0.5],\n    \"104\": [0, 0.69444, 0.01778, 0, 0.51667],\n    \"105\": [0, 0.67937, 0.09718, 0, 0.23889],\n    \"106\": [0.19444, 0.67937, 0.09162, 0, 0.26667],\n    \"107\": [0, 0.69444, 0.08336, 0, 0.48889],\n    \"108\": [0, 0.69444, 0.09483, 0, 0.23889],\n    \"109\": [0, 0.44444, 0.01778, 0, 0.79445],\n    \"110\": [0, 0.44444, 0.01778, 0, 0.51667],\n    \"111\": [0, 0.44444, 0.06613, 0, 0.5],\n    \"112\": [0.19444, 0.44444, 0.0389, 0, 0.51667],\n    \"113\": [0.19444, 0.44444, 0.04169, 0, 0.51667],\n    \"114\": [0, 0.44444, 0.10836, 0, 0.34167],\n    \"115\": [0, 0.44444, 0.0778, 0, 0.38333],\n    \"116\": [0, 0.57143, 0.07225, 0, 0.36111],\n    \"117\": [0, 0.44444, 0.04169, 0, 0.51667],\n    \"118\": [0, 0.44444, 0.10836, 0, 0.46111],\n    \"119\": [0, 0.44444, 0.10836, 0, 0.68334],\n    \"120\": [0, 0.44444, 0.09169, 0, 0.46111],\n    \"121\": [0.19444, 0.44444, 0.10836, 0, 0.46111],\n    \"122\": [0, 0.44444, 0.08752, 0, 0.43472],\n    \"126\": [0.35, 0.32659, 0.08826, 0, 0.5],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"168\": [0, 0.67937, 0.06385, 0, 0.5],\n    \"176\": [0, 0.69444, 0, 0, 0.73752],\n    \"184\": [0.17014, 0, 0, 0, 0.44445],\n    \"305\": [0, 0.44444, 0.04169, 0, 0.23889],\n    \"567\": [0.19444, 0.44444, 0.04169, 0, 0.26667],\n    \"710\": [0, 0.69444, 0.0799, 0, 0.5],\n    \"711\": [0, 0.63194, 0.08432, 0, 0.5],\n    \"713\": [0, 0.60889, 0.08776, 0, 0.5],\n    \"714\": [0, 0.69444, 0.09205, 0, 0.5],\n    \"715\": [0, 0.69444, 0, 0, 0.5],\n    \"728\": [0, 0.69444, 0.09483, 0, 0.5],\n    \"729\": [0, 0.67937, 0.07774, 0, 0.27778],\n    \"730\": [0, 0.69444, 0, 0, 0.73752],\n    \"732\": [0, 0.67659, 0.08826, 0, 0.5],\n    \"733\": [0, 0.69444, 0.09205, 0, 0.5],\n    \"915\": [0, 0.69444, 0.13372, 0, 0.54167],\n    \"916\": [0, 0.69444, 0, 0, 0.83334],\n    \"920\": [0, 0.69444, 0.07555, 0, 0.77778],\n    \"923\": [0, 0.69444, 0, 0, 0.61111],\n    \"926\": [0, 0.69444, 0.12816, 0, 0.66667],\n    \"928\": [0, 0.69444, 0.08094, 0, 0.70834],\n    \"931\": [0, 0.69444, 0.11983, 0, 0.72222],\n    \"933\": [0, 0.69444, 0.09031, 0, 0.77778],\n    \"934\": [0, 0.69444, 0.04603, 0, 0.72222],\n    \"936\": [0, 0.69444, 0.09031, 0, 0.77778],\n    \"937\": [0, 0.69444, 0.08293, 0, 0.72222],\n    \"8211\": [0, 0.44444, 0.08616, 0, 0.5],\n    \"8212\": [0, 0.44444, 0.08616, 0, 1.0],\n    \"8216\": [0, 0.69444, 0.07816, 0, 0.27778],\n    \"8217\": [0, 0.69444, 0.07816, 0, 0.27778],\n    \"8220\": [0, 0.69444, 0.14205, 0, 0.5],\n    \"8221\": [0, 0.69444, 0.00316, 0, 0.5]\n  },\n  \"SansSerif-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"33\": [0, 0.69444, 0, 0, 0.31945],\n    \"34\": [0, 0.69444, 0, 0, 0.5],\n    \"35\": [0.19444, 0.69444, 0, 0, 0.83334],\n    \"36\": [0.05556, 0.75, 0, 0, 0.5],\n    \"37\": [0.05556, 0.75, 0, 0, 0.83334],\n    \"38\": [0, 0.69444, 0, 0, 0.75834],\n    \"39\": [0, 0.69444, 0, 0, 0.27778],\n    \"40\": [0.25, 0.75, 0, 0, 0.38889],\n    \"41\": [0.25, 0.75, 0, 0, 0.38889],\n    \"42\": [0, 0.75, 0, 0, 0.5],\n    \"43\": [0.08333, 0.58333, 0, 0, 0.77778],\n    \"44\": [0.125, 0.08333, 0, 0, 0.27778],\n    \"45\": [0, 0.44444, 0, 0, 0.33333],\n    \"46\": [0, 0.08333, 0, 0, 0.27778],\n    \"47\": [0.25, 0.75, 0, 0, 0.5],\n    \"48\": [0, 0.65556, 0, 0, 0.5],\n    \"49\": [0, 0.65556, 0, 0, 0.5],\n    \"50\": [0, 0.65556, 0, 0, 0.5],\n    \"51\": [0, 0.65556, 0, 0, 0.5],\n    \"52\": [0, 0.65556, 0, 0, 0.5],\n    \"53\": [0, 0.65556, 0, 0, 0.5],\n    \"54\": [0, 0.65556, 0, 0, 0.5],\n    \"55\": [0, 0.65556, 0, 0, 0.5],\n    \"56\": [0, 0.65556, 0, 0, 0.5],\n    \"57\": [0, 0.65556, 0, 0, 0.5],\n    \"58\": [0, 0.44444, 0, 0, 0.27778],\n    \"59\": [0.125, 0.44444, 0, 0, 0.27778],\n    \"61\": [-0.13, 0.37, 0, 0, 0.77778],\n    \"63\": [0, 0.69444, 0, 0, 0.47222],\n    \"64\": [0, 0.69444, 0, 0, 0.66667],\n    \"65\": [0, 0.69444, 0, 0, 0.66667],\n    \"66\": [0, 0.69444, 0, 0, 0.66667],\n    \"67\": [0, 0.69444, 0, 0, 0.63889],\n    \"68\": [0, 0.69444, 0, 0, 0.72223],\n    \"69\": [0, 0.69444, 0, 0, 0.59722],\n    \"70\": [0, 0.69444, 0, 0, 0.56945],\n    \"71\": [0, 0.69444, 0, 0, 0.66667],\n    \"72\": [0, 0.69444, 0, 0, 0.70834],\n    \"73\": [0, 0.69444, 0, 0, 0.27778],\n    \"74\": [0, 0.69444, 0, 0, 0.47222],\n    \"75\": [0, 0.69444, 0, 0, 0.69445],\n    \"76\": [0, 0.69444, 0, 0, 0.54167],\n    \"77\": [0, 0.69444, 0, 0, 0.875],\n    \"78\": [0, 0.69444, 0, 0, 0.70834],\n    \"79\": [0, 0.69444, 0, 0, 0.73611],\n    \"80\": [0, 0.69444, 0, 0, 0.63889],\n    \"81\": [0.125, 0.69444, 0, 0, 0.73611],\n    \"82\": [0, 0.69444, 0, 0, 0.64584],\n    \"83\": [0, 0.69444, 0, 0, 0.55556],\n    \"84\": [0, 0.69444, 0, 0, 0.68056],\n    \"85\": [0, 0.69444, 0, 0, 0.6875],\n    \"86\": [0, 0.69444, 0.01389, 0, 0.66667],\n    \"87\": [0, 0.69444, 0.01389, 0, 0.94445],\n    \"88\": [0, 0.69444, 0, 0, 0.66667],\n    \"89\": [0, 0.69444, 0.025, 0, 0.66667],\n    \"90\": [0, 0.69444, 0, 0, 0.61111],\n    \"91\": [0.25, 0.75, 0, 0, 0.28889],\n    \"93\": [0.25, 0.75, 0, 0, 0.28889],\n    \"94\": [0, 0.69444, 0, 0, 0.5],\n    \"95\": [0.35, 0.09444, 0.02778, 0, 0.5],\n    \"97\": [0, 0.44444, 0, 0, 0.48056],\n    \"98\": [0, 0.69444, 0, 0, 0.51667],\n    \"99\": [0, 0.44444, 0, 0, 0.44445],\n    \"100\": [0, 0.69444, 0, 0, 0.51667],\n    \"101\": [0, 0.44444, 0, 0, 0.44445],\n    \"102\": [0, 0.69444, 0.06944, 0, 0.30556],\n    \"103\": [0.19444, 0.44444, 0.01389, 0, 0.5],\n    \"104\": [0, 0.69444, 0, 0, 0.51667],\n    \"105\": [0, 0.67937, 0, 0, 0.23889],\n    \"106\": [0.19444, 0.67937, 0, 0, 0.26667],\n    \"107\": [0, 0.69444, 0, 0, 0.48889],\n    \"108\": [0, 0.69444, 0, 0, 0.23889],\n    \"109\": [0, 0.44444, 0, 0, 0.79445],\n    \"110\": [0, 0.44444, 0, 0, 0.51667],\n    \"111\": [0, 0.44444, 0, 0, 0.5],\n    \"112\": [0.19444, 0.44444, 0, 0, 0.51667],\n    \"113\": [0.19444, 0.44444, 0, 0, 0.51667],\n    \"114\": [0, 0.44444, 0.01389, 0, 0.34167],\n    \"115\": [0, 0.44444, 0, 0, 0.38333],\n    \"116\": [0, 0.57143, 0, 0, 0.36111],\n    \"117\": [0, 0.44444, 0, 0, 0.51667],\n    \"118\": [0, 0.44444, 0.01389, 0, 0.46111],\n    \"119\": [0, 0.44444, 0.01389, 0, 0.68334],\n    \"120\": [0, 0.44444, 0, 0, 0.46111],\n    \"121\": [0.19444, 0.44444, 0.01389, 0, 0.46111],\n    \"122\": [0, 0.44444, 0, 0, 0.43472],\n    \"126\": [0.35, 0.32659, 0, 0, 0.5],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"168\": [0, 0.67937, 0, 0, 0.5],\n    \"176\": [0, 0.69444, 0, 0, 0.66667],\n    \"184\": [0.17014, 0, 0, 0, 0.44445],\n    \"305\": [0, 0.44444, 0, 0, 0.23889],\n    \"567\": [0.19444, 0.44444, 0, 0, 0.26667],\n    \"710\": [0, 0.69444, 0, 0, 0.5],\n    \"711\": [0, 0.63194, 0, 0, 0.5],\n    \"713\": [0, 0.60889, 0, 0, 0.5],\n    \"714\": [0, 0.69444, 0, 0, 0.5],\n    \"715\": [0, 0.69444, 0, 0, 0.5],\n    \"728\": [0, 0.69444, 0, 0, 0.5],\n    \"729\": [0, 0.67937, 0, 0, 0.27778],\n    \"730\": [0, 0.69444, 0, 0, 0.66667],\n    \"732\": [0, 0.67659, 0, 0, 0.5],\n    \"733\": [0, 0.69444, 0, 0, 0.5],\n    \"915\": [0, 0.69444, 0, 0, 0.54167],\n    \"916\": [0, 0.69444, 0, 0, 0.83334],\n    \"920\": [0, 0.69444, 0, 0, 0.77778],\n    \"923\": [0, 0.69444, 0, 0, 0.61111],\n    \"926\": [0, 0.69444, 0, 0, 0.66667],\n    \"928\": [0, 0.69444, 0, 0, 0.70834],\n    \"931\": [0, 0.69444, 0, 0, 0.72222],\n    \"933\": [0, 0.69444, 0, 0, 0.77778],\n    \"934\": [0, 0.69444, 0, 0, 0.72222],\n    \"936\": [0, 0.69444, 0, 0, 0.77778],\n    \"937\": [0, 0.69444, 0, 0, 0.72222],\n    \"8211\": [0, 0.44444, 0.02778, 0, 0.5],\n    \"8212\": [0, 0.44444, 0.02778, 0, 1.0],\n    \"8216\": [0, 0.69444, 0, 0, 0.27778],\n    \"8217\": [0, 0.69444, 0, 0, 0.27778],\n    \"8220\": [0, 0.69444, 0, 0, 0.5],\n    \"8221\": [0, 0.69444, 0, 0, 0.5]\n  },\n  \"Script-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"65\": [0, 0.7, 0.22925, 0, 0.80253],\n    \"66\": [0, 0.7, 0.04087, 0, 0.90757],\n    \"67\": [0, 0.7, 0.1689, 0, 0.66619],\n    \"68\": [0, 0.7, 0.09371, 0, 0.77443],\n    \"69\": [0, 0.7, 0.18583, 0, 0.56162],\n    \"70\": [0, 0.7, 0.13634, 0, 0.89544],\n    \"71\": [0, 0.7, 0.17322, 0, 0.60961],\n    \"72\": [0, 0.7, 0.29694, 0, 0.96919],\n    \"73\": [0, 0.7, 0.19189, 0, 0.80907],\n    \"74\": [0.27778, 0.7, 0.19189, 0, 1.05159],\n    \"75\": [0, 0.7, 0.31259, 0, 0.91364],\n    \"76\": [0, 0.7, 0.19189, 0, 0.87373],\n    \"77\": [0, 0.7, 0.15981, 0, 1.08031],\n    \"78\": [0, 0.7, 0.3525, 0, 0.9015],\n    \"79\": [0, 0.7, 0.08078, 0, 0.73787],\n    \"80\": [0, 0.7, 0.08078, 0, 1.01262],\n    \"81\": [0, 0.7, 0.03305, 0, 0.88282],\n    \"82\": [0, 0.7, 0.06259, 0, 0.85],\n    \"83\": [0, 0.7, 0.19189, 0, 0.86767],\n    \"84\": [0, 0.7, 0.29087, 0, 0.74697],\n    \"85\": [0, 0.7, 0.25815, 0, 0.79996],\n    \"86\": [0, 0.7, 0.27523, 0, 0.62204],\n    \"87\": [0, 0.7, 0.27523, 0, 0.80532],\n    \"88\": [0, 0.7, 0.26006, 0, 0.94445],\n    \"89\": [0, 0.7, 0.2939, 0, 0.70961],\n    \"90\": [0, 0.7, 0.24037, 0, 0.8212],\n    \"160\": [0, 0, 0, 0, 0.25]\n  },\n  \"Size1-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"40\": [0.35001, 0.85, 0, 0, 0.45834],\n    \"41\": [0.35001, 0.85, 0, 0, 0.45834],\n    \"47\": [0.35001, 0.85, 0, 0, 0.57778],\n    \"91\": [0.35001, 0.85, 0, 0, 0.41667],\n    \"92\": [0.35001, 0.85, 0, 0, 0.57778],\n    \"93\": [0.35001, 0.85, 0, 0, 0.41667],\n    \"123\": [0.35001, 0.85, 0, 0, 0.58334],\n    \"125\": [0.35001, 0.85, 0, 0, 0.58334],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"710\": [0, 0.72222, 0, 0, 0.55556],\n    \"732\": [0, 0.72222, 0, 0, 0.55556],\n    \"770\": [0, 0.72222, 0, 0, 0.55556],\n    \"771\": [0, 0.72222, 0, 0, 0.55556],\n    \"8214\": [-0.00099, 0.601, 0, 0, 0.77778],\n    \"8593\": [1e-05, 0.6, 0, 0, 0.66667],\n    \"8595\": [1e-05, 0.6, 0, 0, 0.66667],\n    \"8657\": [1e-05, 0.6, 0, 0, 0.77778],\n    \"8659\": [1e-05, 0.6, 0, 0, 0.77778],\n    \"8719\": [0.25001, 0.75, 0, 0, 0.94445],\n    \"8720\": [0.25001, 0.75, 0, 0, 0.94445],\n    \"8721\": [0.25001, 0.75, 0, 0, 1.05556],\n    \"8730\": [0.35001, 0.85, 0, 0, 1.0],\n    \"8739\": [-0.00599, 0.606, 0, 0, 0.33333],\n    \"8741\": [-0.00599, 0.606, 0, 0, 0.55556],\n    \"8747\": [0.30612, 0.805, 0.19445, 0, 0.47222],\n    \"8748\": [0.306, 0.805, 0.19445, 0, 0.47222],\n    \"8749\": [0.306, 0.805, 0.19445, 0, 0.47222],\n    \"8750\": [0.30612, 0.805, 0.19445, 0, 0.47222],\n    \"8896\": [0.25001, 0.75, 0, 0, 0.83334],\n    \"8897\": [0.25001, 0.75, 0, 0, 0.83334],\n    \"8898\": [0.25001, 0.75, 0, 0, 0.83334],\n    \"8899\": [0.25001, 0.75, 0, 0, 0.83334],\n    \"8968\": [0.35001, 0.85, 0, 0, 0.47222],\n    \"8969\": [0.35001, 0.85, 0, 0, 0.47222],\n    \"8970\": [0.35001, 0.85, 0, 0, 0.47222],\n    \"8971\": [0.35001, 0.85, 0, 0, 0.47222],\n    \"9168\": [-0.00099, 0.601, 0, 0, 0.66667],\n    \"10216\": [0.35001, 0.85, 0, 0, 0.47222],\n    \"10217\": [0.35001, 0.85, 0, 0, 0.47222],\n    \"10752\": [0.25001, 0.75, 0, 0, 1.11111],\n    \"10753\": [0.25001, 0.75, 0, 0, 1.11111],\n    \"10754\": [0.25001, 0.75, 0, 0, 1.11111],\n    \"10756\": [0.25001, 0.75, 0, 0, 0.83334],\n    \"10758\": [0.25001, 0.75, 0, 0, 0.83334]\n  },\n  \"Size2-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"40\": [0.65002, 1.15, 0, 0, 0.59722],\n    \"41\": [0.65002, 1.15, 0, 0, 0.59722],\n    \"47\": [0.65002, 1.15, 0, 0, 0.81111],\n    \"91\": [0.65002, 1.15, 0, 0, 0.47222],\n    \"92\": [0.65002, 1.15, 0, 0, 0.81111],\n    \"93\": [0.65002, 1.15, 0, 0, 0.47222],\n    \"123\": [0.65002, 1.15, 0, 0, 0.66667],\n    \"125\": [0.65002, 1.15, 0, 0, 0.66667],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"710\": [0, 0.75, 0, 0, 1.0],\n    \"732\": [0, 0.75, 0, 0, 1.0],\n    \"770\": [0, 0.75, 0, 0, 1.0],\n    \"771\": [0, 0.75, 0, 0, 1.0],\n    \"8719\": [0.55001, 1.05, 0, 0, 1.27778],\n    \"8720\": [0.55001, 1.05, 0, 0, 1.27778],\n    \"8721\": [0.55001, 1.05, 0, 0, 1.44445],\n    \"8730\": [0.65002, 1.15, 0, 0, 1.0],\n    \"8747\": [0.86225, 1.36, 0.44445, 0, 0.55556],\n    \"8748\": [0.862, 1.36, 0.44445, 0, 0.55556],\n    \"8749\": [0.862, 1.36, 0.44445, 0, 0.55556],\n    \"8750\": [0.86225, 1.36, 0.44445, 0, 0.55556],\n    \"8896\": [0.55001, 1.05, 0, 0, 1.11111],\n    \"8897\": [0.55001, 1.05, 0, 0, 1.11111],\n    \"8898\": [0.55001, 1.05, 0, 0, 1.11111],\n    \"8899\": [0.55001, 1.05, 0, 0, 1.11111],\n    \"8968\": [0.65002, 1.15, 0, 0, 0.52778],\n    \"8969\": [0.65002, 1.15, 0, 0, 0.52778],\n    \"8970\": [0.65002, 1.15, 0, 0, 0.52778],\n    \"8971\": [0.65002, 1.15, 0, 0, 0.52778],\n    \"10216\": [0.65002, 1.15, 0, 0, 0.61111],\n    \"10217\": [0.65002, 1.15, 0, 0, 0.61111],\n    \"10752\": [0.55001, 1.05, 0, 0, 1.51112],\n    \"10753\": [0.55001, 1.05, 0, 0, 1.51112],\n    \"10754\": [0.55001, 1.05, 0, 0, 1.51112],\n    \"10756\": [0.55001, 1.05, 0, 0, 1.11111],\n    \"10758\": [0.55001, 1.05, 0, 0, 1.11111]\n  },\n  \"Size3-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"40\": [0.95003, 1.45, 0, 0, 0.73611],\n    \"41\": [0.95003, 1.45, 0, 0, 0.73611],\n    \"47\": [0.95003, 1.45, 0, 0, 1.04445],\n    \"91\": [0.95003, 1.45, 0, 0, 0.52778],\n    \"92\": [0.95003, 1.45, 0, 0, 1.04445],\n    \"93\": [0.95003, 1.45, 0, 0, 0.52778],\n    \"123\": [0.95003, 1.45, 0, 0, 0.75],\n    \"125\": [0.95003, 1.45, 0, 0, 0.75],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"710\": [0, 0.75, 0, 0, 1.44445],\n    \"732\": [0, 0.75, 0, 0, 1.44445],\n    \"770\": [0, 0.75, 0, 0, 1.44445],\n    \"771\": [0, 0.75, 0, 0, 1.44445],\n    \"8730\": [0.95003, 1.45, 0, 0, 1.0],\n    \"8968\": [0.95003, 1.45, 0, 0, 0.58334],\n    \"8969\": [0.95003, 1.45, 0, 0, 0.58334],\n    \"8970\": [0.95003, 1.45, 0, 0, 0.58334],\n    \"8971\": [0.95003, 1.45, 0, 0, 0.58334],\n    \"10216\": [0.95003, 1.45, 0, 0, 0.75],\n    \"10217\": [0.95003, 1.45, 0, 0, 0.75]\n  },\n  \"Size4-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.25],\n    \"40\": [1.25003, 1.75, 0, 0, 0.79167],\n    \"41\": [1.25003, 1.75, 0, 0, 0.79167],\n    \"47\": [1.25003, 1.75, 0, 0, 1.27778],\n    \"91\": [1.25003, 1.75, 0, 0, 0.58334],\n    \"92\": [1.25003, 1.75, 0, 0, 1.27778],\n    \"93\": [1.25003, 1.75, 0, 0, 0.58334],\n    \"123\": [1.25003, 1.75, 0, 0, 0.80556],\n    \"125\": [1.25003, 1.75, 0, 0, 0.80556],\n    \"160\": [0, 0, 0, 0, 0.25],\n    \"710\": [0, 0.825, 0, 0, 1.8889],\n    \"732\": [0, 0.825, 0, 0, 1.8889],\n    \"770\": [0, 0.825, 0, 0, 1.8889],\n    \"771\": [0, 0.825, 0, 0, 1.8889],\n    \"8730\": [1.25003, 1.75, 0, 0, 1.0],\n    \"8968\": [1.25003, 1.75, 0, 0, 0.63889],\n    \"8969\": [1.25003, 1.75, 0, 0, 0.63889],\n    \"8970\": [1.25003, 1.75, 0, 0, 0.63889],\n    \"8971\": [1.25003, 1.75, 0, 0, 0.63889],\n    \"9115\": [0.64502, 1.155, 0, 0, 0.875],\n    \"9116\": [1e-05, 0.6, 0, 0, 0.875],\n    \"9117\": [0.64502, 1.155, 0, 0, 0.875],\n    \"9118\": [0.64502, 1.155, 0, 0, 0.875],\n    \"9119\": [1e-05, 0.6, 0, 0, 0.875],\n    \"9120\": [0.64502, 1.155, 0, 0, 0.875],\n    \"9121\": [0.64502, 1.155, 0, 0, 0.66667],\n    \"9122\": [-0.00099, 0.601, 0, 0, 0.66667],\n    \"9123\": [0.64502, 1.155, 0, 0, 0.66667],\n    \"9124\": [0.64502, 1.155, 0, 0, 0.66667],\n    \"9125\": [-0.00099, 0.601, 0, 0, 0.66667],\n    \"9126\": [0.64502, 1.155, 0, 0, 0.66667],\n    \"9127\": [1e-05, 0.9, 0, 0, 0.88889],\n    \"9128\": [0.65002, 1.15, 0, 0, 0.88889],\n    \"9129\": [0.90001, 0, 0, 0, 0.88889],\n    \"9130\": [0, 0.3, 0, 0, 0.88889],\n    \"9131\": [1e-05, 0.9, 0, 0, 0.88889],\n    \"9132\": [0.65002, 1.15, 0, 0, 0.88889],\n    \"9133\": [0.90001, 0, 0, 0, 0.88889],\n    \"9143\": [0.88502, 0.915, 0, 0, 1.05556],\n    \"10216\": [1.25003, 1.75, 0, 0, 0.80556],\n    \"10217\": [1.25003, 1.75, 0, 0, 0.80556],\n    \"57344\": [-0.00499, 0.605, 0, 0, 1.05556],\n    \"57345\": [-0.00499, 0.605, 0, 0, 1.05556],\n    \"57680\": [0, 0.12, 0, 0, 0.45],\n    \"57681\": [0, 0.12, 0, 0, 0.45],\n    \"57682\": [0, 0.12, 0, 0, 0.45],\n    \"57683\": [0, 0.12, 0, 0, 0.45]\n  },\n  \"Typewriter-Regular\": {\n    \"32\": [0, 0, 0, 0, 0.525],\n    \"33\": [0, 0.61111, 0, 0, 0.525],\n    \"34\": [0, 0.61111, 0, 0, 0.525],\n    \"35\": [0, 0.61111, 0, 0, 0.525],\n    \"36\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"37\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"38\": [0, 0.61111, 0, 0, 0.525],\n    \"39\": [0, 0.61111, 0, 0, 0.525],\n    \"40\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"41\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"42\": [0, 0.52083, 0, 0, 0.525],\n    \"43\": [-0.08056, 0.53055, 0, 0, 0.525],\n    \"44\": [0.13889, 0.125, 0, 0, 0.525],\n    \"45\": [-0.08056, 0.53055, 0, 0, 0.525],\n    \"46\": [0, 0.125, 0, 0, 0.525],\n    \"47\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"48\": [0, 0.61111, 0, 0, 0.525],\n    \"49\": [0, 0.61111, 0, 0, 0.525],\n    \"50\": [0, 0.61111, 0, 0, 0.525],\n    \"51\": [0, 0.61111, 0, 0, 0.525],\n    \"52\": [0, 0.61111, 0, 0, 0.525],\n    \"53\": [0, 0.61111, 0, 0, 0.525],\n    \"54\": [0, 0.61111, 0, 0, 0.525],\n    \"55\": [0, 0.61111, 0, 0, 0.525],\n    \"56\": [0, 0.61111, 0, 0, 0.525],\n    \"57\": [0, 0.61111, 0, 0, 0.525],\n    \"58\": [0, 0.43056, 0, 0, 0.525],\n    \"59\": [0.13889, 0.43056, 0, 0, 0.525],\n    \"60\": [-0.05556, 0.55556, 0, 0, 0.525],\n    \"61\": [-0.19549, 0.41562, 0, 0, 0.525],\n    \"62\": [-0.05556, 0.55556, 0, 0, 0.525],\n    \"63\": [0, 0.61111, 0, 0, 0.525],\n    \"64\": [0, 0.61111, 0, 0, 0.525],\n    \"65\": [0, 0.61111, 0, 0, 0.525],\n    \"66\": [0, 0.61111, 0, 0, 0.525],\n    \"67\": [0, 0.61111, 0, 0, 0.525],\n    \"68\": [0, 0.61111, 0, 0, 0.525],\n    \"69\": [0, 0.61111, 0, 0, 0.525],\n    \"70\": [0, 0.61111, 0, 0, 0.525],\n    \"71\": [0, 0.61111, 0, 0, 0.525],\n    \"72\": [0, 0.61111, 0, 0, 0.525],\n    \"73\": [0, 0.61111, 0, 0, 0.525],\n    \"74\": [0, 0.61111, 0, 0, 0.525],\n    \"75\": [0, 0.61111, 0, 0, 0.525],\n    \"76\": [0, 0.61111, 0, 0, 0.525],\n    \"77\": [0, 0.61111, 0, 0, 0.525],\n    \"78\": [0, 0.61111, 0, 0, 0.525],\n    \"79\": [0, 0.61111, 0, 0, 0.525],\n    \"80\": [0, 0.61111, 0, 0, 0.525],\n    \"81\": [0.13889, 0.61111, 0, 0, 0.525],\n    \"82\": [0, 0.61111, 0, 0, 0.525],\n    \"83\": [0, 0.61111, 0, 0, 0.525],\n    \"84\": [0, 0.61111, 0, 0, 0.525],\n    \"85\": [0, 0.61111, 0, 0, 0.525],\n    \"86\": [0, 0.61111, 0, 0, 0.525],\n    \"87\": [0, 0.61111, 0, 0, 0.525],\n    \"88\": [0, 0.61111, 0, 0, 0.525],\n    \"89\": [0, 0.61111, 0, 0, 0.525],\n    \"90\": [0, 0.61111, 0, 0, 0.525],\n    \"91\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"92\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"93\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"94\": [0, 0.61111, 0, 0, 0.525],\n    \"95\": [0.09514, 0, 0, 0, 0.525],\n    \"96\": [0, 0.61111, 0, 0, 0.525],\n    \"97\": [0, 0.43056, 0, 0, 0.525],\n    \"98\": [0, 0.61111, 0, 0, 0.525],\n    \"99\": [0, 0.43056, 0, 0, 0.525],\n    \"100\": [0, 0.61111, 0, 0, 0.525],\n    \"101\": [0, 0.43056, 0, 0, 0.525],\n    \"102\": [0, 0.61111, 0, 0, 0.525],\n    \"103\": [0.22222, 0.43056, 0, 0, 0.525],\n    \"104\": [0, 0.61111, 0, 0, 0.525],\n    \"105\": [0, 0.61111, 0, 0, 0.525],\n    \"106\": [0.22222, 0.61111, 0, 0, 0.525],\n    \"107\": [0, 0.61111, 0, 0, 0.525],\n    \"108\": [0, 0.61111, 0, 0, 0.525],\n    \"109\": [0, 0.43056, 0, 0, 0.525],\n    \"110\": [0, 0.43056, 0, 0, 0.525],\n    \"111\": [0, 0.43056, 0, 0, 0.525],\n    \"112\": [0.22222, 0.43056, 0, 0, 0.525],\n    \"113\": [0.22222, 0.43056, 0, 0, 0.525],\n    \"114\": [0, 0.43056, 0, 0, 0.525],\n    \"115\": [0, 0.43056, 0, 0, 0.525],\n    \"116\": [0, 0.55358, 0, 0, 0.525],\n    \"117\": [0, 0.43056, 0, 0, 0.525],\n    \"118\": [0, 0.43056, 0, 0, 0.525],\n    \"119\": [0, 0.43056, 0, 0, 0.525],\n    \"120\": [0, 0.43056, 0, 0, 0.525],\n    \"121\": [0.22222, 0.43056, 0, 0, 0.525],\n    \"122\": [0, 0.43056, 0, 0, 0.525],\n    \"123\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"124\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"125\": [0.08333, 0.69444, 0, 0, 0.525],\n    \"126\": [0, 0.61111, 0, 0, 0.525],\n    \"127\": [0, 0.61111, 0, 0, 0.525],\n    \"160\": [0, 0, 0, 0, 0.525],\n    \"176\": [0, 0.61111, 0, 0, 0.525],\n    \"184\": [0.19445, 0, 0, 0, 0.525],\n    \"305\": [0, 0.43056, 0, 0, 0.525],\n    \"567\": [0.22222, 0.43056, 0, 0, 0.525],\n    \"711\": [0, 0.56597, 0, 0, 0.525],\n    \"713\": [0, 0.56555, 0, 0, 0.525],\n    \"714\": [0, 0.61111, 0, 0, 0.525],\n    \"715\": [0, 0.61111, 0, 0, 0.525],\n    \"728\": [0, 0.61111, 0, 0, 0.525],\n    \"730\": [0, 0.61111, 0, 0, 0.525],\n    \"770\": [0, 0.61111, 0, 0, 0.525],\n    \"771\": [0, 0.61111, 0, 0, 0.525],\n    \"776\": [0, 0.61111, 0, 0, 0.525],\n    \"915\": [0, 0.61111, 0, 0, 0.525],\n    \"916\": [0, 0.61111, 0, 0, 0.525],\n    \"920\": [0, 0.61111, 0, 0, 0.525],\n    \"923\": [0, 0.61111, 0, 0, 0.525],\n    \"926\": [0, 0.61111, 0, 0, 0.525],\n    \"928\": [0, 0.61111, 0, 0, 0.525],\n    \"931\": [0, 0.61111, 0, 0, 0.525],\n    \"933\": [0, 0.61111, 0, 0, 0.525],\n    \"934\": [0, 0.61111, 0, 0, 0.525],\n    \"936\": [0, 0.61111, 0, 0, 0.525],\n    \"937\": [0, 0.61111, 0, 0, 0.525],\n    \"8216\": [0, 0.61111, 0, 0, 0.525],\n    \"8217\": [0, 0.61111, 0, 0, 0.525],\n    \"8242\": [0, 0.61111, 0, 0, 0.525],\n    \"9251\": [0.11111, 0.21944, 0, 0, 0.525]\n  }\n};\n\n/**\n * This file contains metrics regarding fonts and individual symbols. The sigma\n * and xi variables, as well as the metricMap map contain data extracted from\n * TeX, TeX font metrics, and the TTF files. These data are then exposed via the\n * `metrics` variable and the getCharacterMetrics function.\n */\n// In TeX, there are actually three sets of dimensions, one for each of\n// textstyle (size index 5 and higher: >=9pt), scriptstyle (size index 3 and 4:\n// 7-8pt), and scriptscriptstyle (size index 1 and 2: 5-6pt).  These are\n// provided in the the arrays below, in that order.\n//\n// The font metrics are stored in fonts cmsy10, cmsy7, and cmsy5 respsectively.\n// This was determined by running the following script:\n//\n//     latex -interaction=nonstopmode \\\n//     '\\documentclass{article}\\usepackage{amsmath}\\begin{document}' \\\n//     '$a$ \\expandafter\\show\\the\\textfont2' \\\n//     '\\expandafter\\show\\the\\scriptfont2' \\\n//     '\\expandafter\\show\\the\\scriptscriptfont2' \\\n//     '\\stop'\n//\n// The metrics themselves were retreived using the following commands:\n//\n//     tftopl cmsy10\n//     tftopl cmsy7\n//     tftopl cmsy5\n//\n// The output of each of these commands is quite lengthy.  The only part we\n// care about is the FONTDIMEN section. Each value is measured in EMs.\nvar sigmasAndXis = {\n  slant: [0.250, 0.250, 0.250],\n  // sigma1\n  space: [0.000, 0.000, 0.000],\n  // sigma2\n  stretch: [0.000, 0.000, 0.000],\n  // sigma3\n  shrink: [0.000, 0.000, 0.000],\n  // sigma4\n  xHeight: [0.431, 0.431, 0.431],\n  // sigma5\n  quad: [1.000, 1.171, 1.472],\n  // sigma6\n  extraSpace: [0.000, 0.000, 0.000],\n  // sigma7\n  num1: [0.677, 0.732, 0.925],\n  // sigma8\n  num2: [0.394, 0.384, 0.387],\n  // sigma9\n  num3: [0.444, 0.471, 0.504],\n  // sigma10\n  denom1: [0.686, 0.752, 1.025],\n  // sigma11\n  denom2: [0.345, 0.344, 0.532],\n  // sigma12\n  sup1: [0.413, 0.503, 0.504],\n  // sigma13\n  sup2: [0.363, 0.431, 0.404],\n  // sigma14\n  sup3: [0.289, 0.286, 0.294],\n  // sigma15\n  sub1: [0.150, 0.143, 0.200],\n  // sigma16\n  sub2: [0.247, 0.286, 0.400],\n  // sigma17\n  supDrop: [0.386, 0.353, 0.494],\n  // sigma18\n  subDrop: [0.050, 0.071, 0.100],\n  // sigma19\n  delim1: [2.390, 1.700, 1.980],\n  // sigma20\n  delim2: [1.010, 1.157, 1.420],\n  // sigma21\n  axisHeight: [0.250, 0.250, 0.250],\n  // sigma22\n  // These font metrics are extracted from TeX by using tftopl on cmex10.tfm;\n  // they correspond to the font parameters of the extension fonts (family 3).\n  // See the TeXbook, page 441. In AMSTeX, the extension fonts scale; to\n  // match cmex7, we'd use cmex7.tfm values for script and scriptscript\n  // values.\n  defaultRuleThickness: [0.04, 0.049, 0.049],\n  // xi8; cmex7: 0.049\n  bigOpSpacing1: [0.111, 0.111, 0.111],\n  // xi9\n  bigOpSpacing2: [0.166, 0.166, 0.166],\n  // xi10\n  bigOpSpacing3: [0.2, 0.2, 0.2],\n  // xi11\n  bigOpSpacing4: [0.6, 0.611, 0.611],\n  // xi12; cmex7: 0.611\n  bigOpSpacing5: [0.1, 0.143, 0.143],\n  // xi13; cmex7: 0.143\n  // The \\sqrt rule width is taken from the height of the surd character.\n  // Since we use the same font at all sizes, this thickness doesn't scale.\n  sqrtRuleThickness: [0.04, 0.04, 0.04],\n  // This value determines how large a pt is, for metrics which are defined\n  // in terms of pts.\n  // This value is also used in katex.less; if you change it make sure the\n  // values match.\n  ptPerEm: [10.0, 10.0, 10.0],\n  // The space between adjacent `|` columns in an array definition. From\n  // `\\showthe\\doublerulesep` in LaTeX. Equals 2.0 / ptPerEm.\n  doubleRuleSep: [0.2, 0.2, 0.2],\n  // The width of separator lines in {array} environments. From\n  // `\\showthe\\arrayrulewidth` in LaTeX. Equals 0.4 / ptPerEm.\n  arrayRuleWidth: [0.04, 0.04, 0.04],\n  // Two values from LaTeX source2e:\n  fboxsep: [0.3, 0.3, 0.3],\n  //        3 pt / ptPerEm\n  fboxrule: [0.04, 0.04, 0.04] // 0.4 pt / ptPerEm\n\n}; // This map contains a mapping from font name and character code to character\n// should have Latin-1 and Cyrillic characters, but may not depending on the\n// operating system.  The metrics do not account for extra height from the\n// accents.  In the case of Cyrillic characters which have both ascenders and\n// descenders we prefer approximations with ascenders, primarily to prevent\n// the fraction bar or root line from intersecting the glyph.\n// TODO(kevinb) allow union of multiple glyph metrics for better accuracy.\n\nvar extraCharacterMap = {\n  // Latin-1\n  '': 'A',\n  '': 'C',\n  '': 'D',\n  '': 'o',\n  '': 'a',\n  '': 'c',\n  '': 'd',\n  '': 'o',\n  // Cyrillic\n  '': 'A',\n  '': 'B',\n  '': 'B',\n  '': 'F',\n  '': 'A',\n  '': 'E',\n  '': 'K',\n  '': '3',\n  '': 'N',\n  '': 'N',\n  '': 'K',\n  '': 'N',\n  '': 'M',\n  '': 'H',\n  '': 'O',\n  '': 'N',\n  '': 'P',\n  '': 'C',\n  '': 'T',\n  '': 'y',\n  '': 'O',\n  '': 'X',\n  '': 'U',\n  '': 'h',\n  '': 'W',\n  '': 'W',\n  '': 'B',\n  '': 'X',\n  '': 'B',\n  '': '3',\n  '': 'X',\n  '': 'R',\n  '': 'a',\n  '': 'b',\n  '': 'a',\n  '': 'r',\n  '': 'y',\n  '': 'e',\n  '': 'm',\n  '': 'e',\n  '': 'n',\n  '': 'n',\n  '': 'n',\n  '': 'n',\n  '': 'm',\n  '': 'n',\n  '': 'o',\n  '': 'n',\n  '': 'p',\n  '': 'c',\n  '': 'o',\n  '': 'y',\n  '': 'b',\n  '': 'x',\n  '': 'n',\n  '': 'n',\n  '': 'w',\n  '': 'w',\n  '': 'a',\n  '': 'm',\n  '': 'a',\n  '': 'e',\n  '': 'm',\n  '': 'r'\n};\n\n/**\n * This function adds new font metrics to default metricMap\n * It can also override existing metrics\n */\nfunction setFontMetrics(fontName, metrics) {\n  fontMetricsData[fontName] = metrics;\n}\n/**\n * This function is a convenience function for looking up information in the\n * metricMap table. It takes a character as a string, and a font.\n *\n * Note: the `width` property may be undefined if fontMetricsData.js wasn't\n * built using `Make extended_metrics`.\n */\n\nfunction getCharacterMetrics(character, font, mode) {\n  if (!fontMetricsData[font]) {\n    throw new Error(\"Font metrics not found for font: \" + font + \".\");\n  }\n\n  var ch = character.charCodeAt(0);\n  var metrics = fontMetricsData[font][ch];\n\n  if (!metrics && character[0] in extraCharacterMap) {\n    ch = extraCharacterMap[character[0]].charCodeAt(0);\n    metrics = fontMetricsData[font][ch];\n  }\n\n  if (!metrics && mode === 'text') {\n    // We don't typically have font metrics for Asian scripts.\n    // But since we support them in text mode, we need to return\n    // some sort of metrics.\n    // So if the character is in a script we support but we\n    // don't have metrics for it, just use the metrics for\n    // the Latin capital letter M. This is close enough because\n    // we (currently) only care about the height of the glpyh\n    // not its width.\n    if (supportedCodepoint(ch)) {\n      metrics = fontMetricsData[font][77]; // 77 is the charcode for 'M'\n    }\n  }\n\n  if (metrics) {\n    return {\n      depth: metrics[0],\n      height: metrics[1],\n      italic: metrics[2],\n      skew: metrics[3],\n      width: metrics[4]\n    };\n  }\n}\nvar fontMetricsBySizeIndex = {};\n/**\n * Get the font metrics for a given size.\n */\n\nfunction getGlobalMetrics(size) {\n  var sizeIndex;\n\n  if (size >= 5) {\n    sizeIndex = 0;\n  } else if (size >= 3) {\n    sizeIndex = 1;\n  } else {\n    sizeIndex = 2;\n  }\n\n  if (!fontMetricsBySizeIndex[sizeIndex]) {\n    var metrics = fontMetricsBySizeIndex[sizeIndex] = {\n      cssEmPerMu: sigmasAndXis.quad[sizeIndex] / 18\n    };\n\n    for (var key in sigmasAndXis) {\n      if (sigmasAndXis.hasOwnProperty(key)) {\n        metrics[key] = sigmasAndXis[key][sizeIndex];\n      }\n    }\n  }\n\n  return fontMetricsBySizeIndex[sizeIndex];\n}\n\n/**\n * This file holds a list of all no-argument functions and single-character\n * symbols (like 'a' or ';').\n *\n * For each of the symbols, there are three properties they can have:\n * - font (required): the font to be used for this symbol. Either \"main\" (the\n     normal font), or \"ams\" (the ams fonts).\n * - group (required): the ParseNode group type the symbol should have (i.e.\n     \"textord\", \"mathord\", etc).\n     See https://github.com/KaTeX/KaTeX/wiki/Examining-TeX#group-types\n * - replace: the character that this symbol or function should be\n *   replaced with (i.e. \"\\phi\" has a replace value of \"\\u03d5\", the phi\n *   character in the main font).\n *\n * The outermost map in the table indicates what mode the symbols should be\n * accepted in (e.g. \"math\" or \"text\").\n */\n// Some of these have a \"-token\" suffix since these are also used as `ParseNode`\n// types for raw text tokens, and we want to avoid conflicts with higher-level\n// `ParseNode` types. These `ParseNode`s are constructed within `Parser` by\n// looking up the `symbols` map.\nvar ATOMS = {\n  \"bin\": 1,\n  \"close\": 1,\n  \"inner\": 1,\n  \"open\": 1,\n  \"punct\": 1,\n  \"rel\": 1\n};\nvar NON_ATOMS = {\n  \"accent-token\": 1,\n  \"mathord\": 1,\n  \"op-token\": 1,\n  \"spacing\": 1,\n  \"textord\": 1\n};\nvar symbols = {\n  \"math\": {},\n  \"text\": {}\n};\n/** `acceptUnicodeChar = true` is only applicable if `replace` is set. */\n\nfunction defineSymbol(mode, font, group, replace, name, acceptUnicodeChar) {\n  symbols[mode][name] = {\n    font,\n    group,\n    replace\n  };\n\n  if (acceptUnicodeChar && replace) {\n    symbols[mode][replace] = symbols[mode][name];\n  }\n} // Some abbreviations for commonly used strings.\n// This helps minify the code, and also spotting typos using jshint.\n// modes:\n\nvar math = \"math\";\nvar text$1 = \"text\"; // fonts:\n\nvar main = \"main\";\nvar ams = \"ams\"; // groups:\n\nvar accent = \"accent-token\";\nvar bin = \"bin\";\nvar close = \"close\";\nvar inner = \"inner\";\nvar mathord = \"mathord\";\nvar op = \"op-token\";\nvar open = \"open\";\nvar punct = \"punct\";\nvar rel = \"rel\";\nvar spacing = \"spacing\";\nvar textord = \"textord\"; // Now comes the symbol table\n// Relation Symbols\n\ndefineSymbol(math, main, rel, \"\\u2261\", \"\\\\equiv\", true);\ndefineSymbol(math, main, rel, \"\\u227a\", \"\\\\prec\", true);\ndefineSymbol(math, main, rel, \"\\u227b\", \"\\\\succ\", true);\ndefineSymbol(math, main, rel, \"\\u223c\", \"\\\\sim\", true);\ndefineSymbol(math, main, rel, \"\\u22a5\", \"\\\\perp\");\ndefineSymbol(math, main, rel, \"\\u2aaf\", \"\\\\preceq\", true);\ndefineSymbol(math, main, rel, \"\\u2ab0\", \"\\\\succeq\", true);\ndefineSymbol(math, main, rel, \"\\u2243\", \"\\\\simeq\", true);\ndefineSymbol(math, main, rel, \"\\u2223\", \"\\\\mid\", true);\ndefineSymbol(math, main, rel, \"\\u226a\", \"\\\\ll\", true);\ndefineSymbol(math, main, rel, \"\\u226b\", \"\\\\gg\", true);\ndefineSymbol(math, main, rel, \"\\u224d\", \"\\\\asymp\", true);\ndefineSymbol(math, main, rel, \"\\u2225\", \"\\\\parallel\");\ndefineSymbol(math, main, rel, \"\\u22c8\", \"\\\\bowtie\", true);\ndefineSymbol(math, main, rel, \"\\u2323\", \"\\\\smile\", true);\ndefineSymbol(math, main, rel, \"\\u2291\", \"\\\\sqsubseteq\", true);\ndefineSymbol(math, main, rel, \"\\u2292\", \"\\\\sqsupseteq\", true);\ndefineSymbol(math, main, rel, \"\\u2250\", \"\\\\doteq\", true);\ndefineSymbol(math, main, rel, \"\\u2322\", \"\\\\frown\", true);\ndefineSymbol(math, main, rel, \"\\u220b\", \"\\\\ni\", true);\ndefineSymbol(math, main, rel, \"\\u221d\", \"\\\\propto\", true);\ndefineSymbol(math, main, rel, \"\\u22a2\", \"\\\\vdash\", true);\ndefineSymbol(math, main, rel, \"\\u22a3\", \"\\\\dashv\", true);\ndefineSymbol(math, main, rel, \"\\u220b\", \"\\\\owns\"); // Punctuation\n\ndefineSymbol(math, main, punct, \"\\u002e\", \"\\\\ldotp\");\ndefineSymbol(math, main, punct, \"\\u22c5\", \"\\\\cdotp\"); // Misc Symbols\n\ndefineSymbol(math, main, textord, \"\\u0023\", \"\\\\#\");\ndefineSymbol(text$1, main, textord, \"\\u0023\", \"\\\\#\");\ndefineSymbol(math, main, textord, \"\\u0026\", \"\\\\&\");\ndefineSymbol(text$1, main, textord, \"\\u0026\", \"\\\\&\");\ndefineSymbol(math, main, textord, \"\\u2135\", \"\\\\aleph\", true);\ndefineSymbol(math, main, textord, \"\\u2200\", \"\\\\forall\", true);\ndefineSymbol(math, main, textord, \"\\u210f\", \"\\\\hbar\", true);\ndefineSymbol(math, main, textord, \"\\u2203\", \"\\\\exists\", true);\ndefineSymbol(math, main, textord, \"\\u2207\", \"\\\\nabla\", true);\ndefineSymbol(math, main, textord, \"\\u266d\", \"\\\\flat\", true);\ndefineSymbol(math, main, textord, \"\\u2113\", \"\\\\ell\", true);\ndefineSymbol(math, main, textord, \"\\u266e\", \"\\\\natural\", true);\ndefineSymbol(math, main, textord, \"\\u2663\", \"\\\\clubsuit\", true);\ndefineSymbol(math, main, textord, \"\\u2118\", \"\\\\wp\", true);\ndefineSymbol(math, main, textord, \"\\u266f\", \"\\\\sharp\", true);\ndefineSymbol(math, main, textord, \"\\u2662\", \"\\\\diamondsuit\", true);\ndefineSymbol(math, main, textord, \"\\u211c\", \"\\\\Re\", true);\ndefineSymbol(math, main, textord, \"\\u2661\", \"\\\\heartsuit\", true);\ndefineSymbol(math, main, textord, \"\\u2111\", \"\\\\Im\", true);\ndefineSymbol(math, main, textord, \"\\u2660\", \"\\\\spadesuit\", true);\ndefineSymbol(text$1, main, textord, \"\\u00a7\", \"\\\\S\", true);\ndefineSymbol(text$1, main, textord, \"\\u00b6\", \"\\\\P\", true); // Math and Text\n\ndefineSymbol(math, main, textord, \"\\u2020\", \"\\\\dag\");\ndefineSymbol(text$1, main, textord, \"\\u2020\", \"\\\\dag\");\ndefineSymbol(text$1, main, textord, \"\\u2020\", \"\\\\textdagger\");\ndefineSymbol(math, main, textord, \"\\u2021\", \"\\\\ddag\");\ndefineSymbol(text$1, main, textord, \"\\u2021\", \"\\\\ddag\");\ndefineSymbol(text$1, main, textord, \"\\u2021\", \"\\\\textdaggerdbl\"); // Large Delimiters\n\ndefineSymbol(math, main, close, \"\\u23b1\", \"\\\\rmoustache\", true);\ndefineSymbol(math, main, open, \"\\u23b0\", \"\\\\lmoustache\", true);\ndefineSymbol(math, main, close, \"\\u27ef\", \"\\\\rgroup\", true);\ndefineSymbol(math, main, open, \"\\u27ee\", \"\\\\lgroup\", true); // Binary Operators\n\ndefineSymbol(math, main, bin, \"\\u2213\", \"\\\\mp\", true);\ndefineSymbol(math, main, bin, \"\\u2296\", \"\\\\ominus\", true);\ndefineSymbol(math, main, bin, \"\\u228e\", \"\\\\uplus\", true);\ndefineSymbol(math, main, bin, \"\\u2293\", \"\\\\sqcap\", true);\ndefineSymbol(math, main, bin, \"\\u2217\", \"\\\\ast\");\ndefineSymbol(math, main, bin, \"\\u2294\", \"\\\\sqcup\", true);\ndefineSymbol(math, main, bin, \"\\u25ef\", \"\\\\bigcirc\", true);\ndefineSymbol(math, main, bin, \"\\u2219\", \"\\\\bullet\");\ndefineSymbol(math, main, bin, \"\\u2021\", \"\\\\ddagger\");\ndefineSymbol(math, main, bin, \"\\u2240\", \"\\\\wr\", true);\ndefineSymbol(math, main, bin, \"\\u2a3f\", \"\\\\amalg\");\ndefineSymbol(math, main, bin, \"\\u0026\", \"\\\\And\"); // from amsmath\n// Arrow Symbols\n\ndefineSymbol(math, main, rel, \"\\u27f5\", \"\\\\longleftarrow\", true);\ndefineSymbol(math, main, rel, \"\\u21d0\", \"\\\\Leftarrow\", true);\ndefineSymbol(math, main, rel, \"\\u27f8\", \"\\\\Longleftarrow\", true);\ndefineSymbol(math, main, rel, \"\\u27f6\", \"\\\\longrightarrow\", true);\ndefineSymbol(math, main, rel, \"\\u21d2\", \"\\\\Rightarrow\", true);\ndefineSymbol(math, main, rel, \"\\u27f9\", \"\\\\Longrightarrow\", true);\ndefineSymbol(math, main, rel, \"\\u2194\", \"\\\\leftrightarrow\", true);\ndefineSymbol(math, main, rel, \"\\u27f7\", \"\\\\longleftrightarrow\", true);\ndefineSymbol(math, main, rel, \"\\u21d4\", \"\\\\Leftrightarrow\", true);\ndefineSymbol(math, main, rel, \"\\u27fa\", \"\\\\Longleftrightarrow\", true);\ndefineSymbol(math, main, rel, \"\\u21a6\", \"\\\\mapsto\", true);\ndefineSymbol(math, main, rel, \"\\u27fc\", \"\\\\longmapsto\", true);\ndefineSymbol(math, main, rel, \"\\u2197\", \"\\\\nearrow\", true);\ndefineSymbol(math, main, rel, \"\\u21a9\", \"\\\\hookleftarrow\", true);\ndefineSymbol(math, main, rel, \"\\u21aa\", \"\\\\hookrightarrow\", true);\ndefineSymbol(math, main, rel, \"\\u2198\", \"\\\\searrow\", true);\ndefineSymbol(math, main, rel, \"\\u21bc\", \"\\\\leftharpoonup\", true);\ndefineSymbol(math, main, rel, \"\\u21c0\", \"\\\\rightharpoonup\", true);\ndefineSymbol(math, main, rel, \"\\u2199\", \"\\\\swarrow\", true);\ndefineSymbol(math, main, rel, \"\\u21bd\", \"\\\\leftharpoondown\", true);\ndefineSymbol(math, main, rel, \"\\u21c1\", \"\\\\rightharpoondown\", true);\ndefineSymbol(math, main, rel, \"\\u2196\", \"\\\\nwarrow\", true);\ndefineSymbol(math, main, rel, \"\\u21cc\", \"\\\\rightleftharpoons\", true); // AMS Negated Binary Relations\n\ndefineSymbol(math, ams, rel, \"\\u226e\", \"\\\\nless\", true); // Symbol names preceeded by \"@\" each have a corresponding macro.\n\ndefineSymbol(math, ams, rel, \"\\ue010\", \"\\\\@nleqslant\");\ndefineSymbol(math, ams, rel, \"\\ue011\", \"\\\\@nleqq\");\ndefineSymbol(math, ams, rel, \"\\u2a87\", \"\\\\lneq\", true);\ndefineSymbol(math, ams, rel, \"\\u2268\", \"\\\\lneqq\", true);\ndefineSymbol(math, ams, rel, \"\\ue00c\", \"\\\\@lvertneqq\");\ndefineSymbol(math, ams, rel, \"\\u22e6\", \"\\\\lnsim\", true);\ndefineSymbol(math, ams, rel, \"\\u2a89\", \"\\\\lnapprox\", true);\ndefineSymbol(math, ams, rel, \"\\u2280\", \"\\\\nprec\", true); // unicode-math maps \\u22e0 to \\npreccurlyeq. We'll use the AMS synonym.\n\ndefineSymbol(math, ams, rel, \"\\u22e0\", \"\\\\npreceq\", true);\ndefineSymbol(math, ams, rel, \"\\u22e8\", \"\\\\precnsim\", true);\ndefineSymbol(math, ams, rel, \"\\u2ab9\", \"\\\\precnapprox\", true);\ndefineSymbol(math, ams, rel, \"\\u2241\", \"\\\\nsim\", true);\ndefineSymbol(math, ams, rel, \"\\ue006\", \"\\\\@nshortmid\");\ndefineSymbol(math, ams, rel, \"\\u2224\", \"\\\\nmid\", true);\ndefineSymbol(math, ams, rel, \"\\u22ac\", \"\\\\nvdash\", true);\ndefineSymbol(math, ams, rel, \"\\u22ad\", \"\\\\nvDash\", true);\ndefineSymbol(math, ams, rel, \"\\u22ea\", \"\\\\ntriangleleft\");\ndefineSymbol(math, ams, rel, \"\\u22ec\", \"\\\\ntrianglelefteq\", true);\ndefineSymbol(math, ams, rel, \"\\u228a\", \"\\\\subsetneq\", true);\ndefineSymbol(math, ams, rel, \"\\ue01a\", \"\\\\@varsubsetneq\");\ndefineSymbol(math, ams, rel, \"\\u2acb\", \"\\\\subsetneqq\", true);\ndefineSymbol(math, ams, rel, \"\\ue017\", \"\\\\@varsubsetneqq\");\ndefineSymbol(math, ams, rel, \"\\u226f\", \"\\\\ngtr\", true);\ndefineSymbol(math, ams, rel, \"\\ue00f\", \"\\\\@ngeqslant\");\ndefineSymbol(math, ams, rel, \"\\ue00e\", \"\\\\@ngeqq\");\ndefineSymbol(math, ams, rel, \"\\u2a88\", \"\\\\gneq\", true);\ndefineSymbol(math, ams, rel, \"\\u2269\", \"\\\\gneqq\", true);\ndefineSymbol(math, ams, rel, \"\\ue00d\", \"\\\\@gvertneqq\");\ndefineSymbol(math, ams, rel, \"\\u22e7\", \"\\\\gnsim\", true);\ndefineSymbol(math, ams, rel, \"\\u2a8a\", \"\\\\gnapprox\", true);\ndefineSymbol(math, ams, rel, \"\\u2281\", \"\\\\nsucc\", true); // unicode-math maps \\u22e1 to \\nsucccurlyeq. We'll use the AMS synonym.\n\ndefineSymbol(math, ams, rel, \"\\u22e1\", \"\\\\nsucceq\", true);\ndefineSymbol(math, ams, rel, \"\\u22e9\", \"\\\\succnsim\", true);\ndefineSymbol(math, ams, rel, \"\\u2aba\", \"\\\\succnapprox\", true); // unicode-math maps \\u2246 to \\simneqq. We'll use the AMS synonym.\n\ndefineSymbol(math, ams, rel, \"\\u2246\", \"\\\\ncong\", true);\ndefineSymbol(math, ams, rel, \"\\ue007\", \"\\\\@nshortparallel\");\ndefineSymbol(math, ams, rel, \"\\u2226\", \"\\\\nparallel\", true);\ndefineSymbol(math, ams, rel, \"\\u22af\", \"\\\\nVDash\", true);\ndefineSymbol(math, ams, rel, \"\\u22eb\", \"\\\\ntriangleright\");\ndefineSymbol(math, ams, rel, \"\\u22ed\", \"\\\\ntrianglerighteq\", true);\ndefineSymbol(math, ams, rel, \"\\ue018\", \"\\\\@nsupseteqq\");\ndefineSymbol(math, ams, rel, \"\\u228b\", \"\\\\supsetneq\", true);\ndefineSymbol(math, ams, rel, \"\\ue01b\", \"\\\\@varsupsetneq\");\ndefineSymbol(math, ams, rel, \"\\u2acc\", \"\\\\supsetneqq\", true);\ndefineSymbol(math, ams, rel, \"\\ue019\", \"\\\\@varsupsetneqq\");\ndefineSymbol(math, ams, rel, \"\\u22ae\", \"\\\\nVdash\", true);\ndefineSymbol(math, ams, rel, \"\\u2ab5\", \"\\\\precneqq\", true);\ndefineSymbol(math, ams, rel, \"\\u2ab6\", \"\\\\succneqq\", true);\ndefineSymbol(math, ams, rel, \"\\ue016\", \"\\\\@nsubseteqq\");\ndefineSymbol(math, ams, bin, \"\\u22b4\", \"\\\\unlhd\");\ndefineSymbol(math, ams, bin, \"\\u22b5\", \"\\\\unrhd\"); // AMS Negated Arrows\n\ndefineSymbol(math, ams, rel, \"\\u219a\", \"\\\\nleftarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u219b\", \"\\\\nrightarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21cd\", \"\\\\nLeftarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21cf\", \"\\\\nRightarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21ae\", \"\\\\nleftrightarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21ce\", \"\\\\nLeftrightarrow\", true); // AMS Misc\n\ndefineSymbol(math, ams, rel, \"\\u25b3\", \"\\\\vartriangle\");\ndefineSymbol(math, ams, textord, \"\\u210f\", \"\\\\hslash\");\ndefineSymbol(math, ams, textord, \"\\u25bd\", \"\\\\triangledown\");\ndefineSymbol(math, ams, textord, \"\\u25ca\", \"\\\\lozenge\");\ndefineSymbol(math, ams, textord, \"\\u24c8\", \"\\\\circledS\");\ndefineSymbol(math, ams, textord, \"\\u00ae\", \"\\\\circledR\");\ndefineSymbol(text$1, ams, textord, \"\\u00ae\", \"\\\\circledR\");\ndefineSymbol(math, ams, textord, \"\\u2221\", \"\\\\measuredangle\", true);\ndefineSymbol(math, ams, textord, \"\\u2204\", \"\\\\nexists\");\ndefineSymbol(math, ams, textord, \"\\u2127\", \"\\\\mho\");\ndefineSymbol(math, ams, textord, \"\\u2132\", \"\\\\Finv\", true);\ndefineSymbol(math, ams, textord, \"\\u2141\", \"\\\\Game\", true);\ndefineSymbol(math, ams, textord, \"\\u2035\", \"\\\\backprime\");\ndefineSymbol(math, ams, textord, \"\\u25b2\", \"\\\\blacktriangle\");\ndefineSymbol(math, ams, textord, \"\\u25bc\", \"\\\\blacktriangledown\");\ndefineSymbol(math, ams, textord, \"\\u25a0\", \"\\\\blacksquare\");\ndefineSymbol(math, ams, textord, \"\\u29eb\", \"\\\\blacklozenge\");\ndefineSymbol(math, ams, textord, \"\\u2605\", \"\\\\bigstar\");\ndefineSymbol(math, ams, textord, \"\\u2222\", \"\\\\sphericalangle\", true);\ndefineSymbol(math, ams, textord, \"\\u2201\", \"\\\\complement\", true); // unicode-math maps U+F0 to \\matheth. We map to AMS function \\eth\n\ndefineSymbol(math, ams, textord, \"\\u00f0\", \"\\\\eth\", true);\ndefineSymbol(text$1, main, textord, \"\\u00f0\", \"\\u00f0\");\ndefineSymbol(math, ams, textord, \"\\u2571\", \"\\\\diagup\");\ndefineSymbol(math, ams, textord, \"\\u2572\", \"\\\\diagdown\");\ndefineSymbol(math, ams, textord, \"\\u25a1\", \"\\\\square\");\ndefineSymbol(math, ams, textord, \"\\u25a1\", \"\\\\Box\");\ndefineSymbol(math, ams, textord, \"\\u25ca\", \"\\\\Diamond\"); // unicode-math maps U+A5 to \\mathyen. We map to AMS function \\yen\n\ndefineSymbol(math, ams, textord, \"\\u00a5\", \"\\\\yen\", true);\ndefineSymbol(text$1, ams, textord, \"\\u00a5\", \"\\\\yen\", true);\ndefineSymbol(math, ams, textord, \"\\u2713\", \"\\\\checkmark\", true);\ndefineSymbol(text$1, ams, textord, \"\\u2713\", \"\\\\checkmark\"); // AMS Hebrew\n\ndefineSymbol(math, ams, textord, \"\\u2136\", \"\\\\beth\", true);\ndefineSymbol(math, ams, textord, \"\\u2138\", \"\\\\daleth\", true);\ndefineSymbol(math, ams, textord, \"\\u2137\", \"\\\\gimel\", true); // AMS Greek\n\ndefineSymbol(math, ams, textord, \"\\u03dd\", \"\\\\digamma\", true);\ndefineSymbol(math, ams, textord, \"\\u03f0\", \"\\\\varkappa\"); // AMS Delimiters\n\ndefineSymbol(math, ams, open, \"\\u250c\", \"\\\\@ulcorner\", true);\ndefineSymbol(math, ams, close, \"\\u2510\", \"\\\\@urcorner\", true);\ndefineSymbol(math, ams, open, \"\\u2514\", \"\\\\@llcorner\", true);\ndefineSymbol(math, ams, close, \"\\u2518\", \"\\\\@lrcorner\", true); // AMS Binary Relations\n\ndefineSymbol(math, ams, rel, \"\\u2266\", \"\\\\leqq\", true);\ndefineSymbol(math, ams, rel, \"\\u2a7d\", \"\\\\leqslant\", true);\ndefineSymbol(math, ams, rel, \"\\u2a95\", \"\\\\eqslantless\", true);\ndefineSymbol(math, ams, rel, \"\\u2272\", \"\\\\lesssim\", true);\ndefineSymbol(math, ams, rel, \"\\u2a85\", \"\\\\lessapprox\", true);\ndefineSymbol(math, ams, rel, \"\\u224a\", \"\\\\approxeq\", true);\ndefineSymbol(math, ams, bin, \"\\u22d6\", \"\\\\lessdot\");\ndefineSymbol(math, ams, rel, \"\\u22d8\", \"\\\\lll\", true);\ndefineSymbol(math, ams, rel, \"\\u2276\", \"\\\\lessgtr\", true);\ndefineSymbol(math, ams, rel, \"\\u22da\", \"\\\\lesseqgtr\", true);\ndefineSymbol(math, ams, rel, \"\\u2a8b\", \"\\\\lesseqqgtr\", true);\ndefineSymbol(math, ams, rel, \"\\u2251\", \"\\\\doteqdot\");\ndefineSymbol(math, ams, rel, \"\\u2253\", \"\\\\risingdotseq\", true);\ndefineSymbol(math, ams, rel, \"\\u2252\", \"\\\\fallingdotseq\", true);\ndefineSymbol(math, ams, rel, \"\\u223d\", \"\\\\backsim\", true);\ndefineSymbol(math, ams, rel, \"\\u22cd\", \"\\\\backsimeq\", true);\ndefineSymbol(math, ams, rel, \"\\u2ac5\", \"\\\\subseteqq\", true);\ndefineSymbol(math, ams, rel, \"\\u22d0\", \"\\\\Subset\", true);\ndefineSymbol(math, ams, rel, \"\\u228f\", \"\\\\sqsubset\", true);\ndefineSymbol(math, ams, rel, \"\\u227c\", \"\\\\preccurlyeq\", true);\ndefineSymbol(math, ams, rel, \"\\u22de\", \"\\\\curlyeqprec\", true);\ndefineSymbol(math, ams, rel, \"\\u227e\", \"\\\\precsim\", true);\ndefineSymbol(math, ams, rel, \"\\u2ab7\", \"\\\\precapprox\", true);\ndefineSymbol(math, ams, rel, \"\\u22b2\", \"\\\\vartriangleleft\");\ndefineSymbol(math, ams, rel, \"\\u22b4\", \"\\\\trianglelefteq\");\ndefineSymbol(math, ams, rel, \"\\u22a8\", \"\\\\vDash\", true);\ndefineSymbol(math, ams, rel, \"\\u22aa\", \"\\\\Vvdash\", true);\ndefineSymbol(math, ams, rel, \"\\u2323\", \"\\\\smallsmile\");\ndefineSymbol(math, ams, rel, \"\\u2322\", \"\\\\smallfrown\");\ndefineSymbol(math, ams, rel, \"\\u224f\", \"\\\\bumpeq\", true);\ndefineSymbol(math, ams, rel, \"\\u224e\", \"\\\\Bumpeq\", true);\ndefineSymbol(math, ams, rel, \"\\u2267\", \"\\\\geqq\", true);\ndefineSymbol(math, ams, rel, \"\\u2a7e\", \"\\\\geqslant\", true);\ndefineSymbol(math, ams, rel, \"\\u2a96\", \"\\\\eqslantgtr\", true);\ndefineSymbol(math, ams, rel, \"\\u2273\", \"\\\\gtrsim\", true);\ndefineSymbol(math, ams, rel, \"\\u2a86\", \"\\\\gtrapprox\", true);\ndefineSymbol(math, ams, bin, \"\\u22d7\", \"\\\\gtrdot\");\ndefineSymbol(math, ams, rel, \"\\u22d9\", \"\\\\ggg\", true);\ndefineSymbol(math, ams, rel, \"\\u2277\", \"\\\\gtrless\", true);\ndefineSymbol(math, ams, rel, \"\\u22db\", \"\\\\gtreqless\", true);\ndefineSymbol(math, ams, rel, \"\\u2a8c\", \"\\\\gtreqqless\", true);\ndefineSymbol(math, ams, rel, \"\\u2256\", \"\\\\eqcirc\", true);\ndefineSymbol(math, ams, rel, \"\\u2257\", \"\\\\circeq\", true);\ndefineSymbol(math, ams, rel, \"\\u225c\", \"\\\\triangleq\", true);\ndefineSymbol(math, ams, rel, \"\\u223c\", \"\\\\thicksim\");\ndefineSymbol(math, ams, rel, \"\\u2248\", \"\\\\thickapprox\");\ndefineSymbol(math, ams, rel, \"\\u2ac6\", \"\\\\supseteqq\", true);\ndefineSymbol(math, ams, rel, \"\\u22d1\", \"\\\\Supset\", true);\ndefineSymbol(math, ams, rel, \"\\u2290\", \"\\\\sqsupset\", true);\ndefineSymbol(math, ams, rel, \"\\u227d\", \"\\\\succcurlyeq\", true);\ndefineSymbol(math, ams, rel, \"\\u22df\", \"\\\\curlyeqsucc\", true);\ndefineSymbol(math, ams, rel, \"\\u227f\", \"\\\\succsim\", true);\ndefineSymbol(math, ams, rel, \"\\u2ab8\", \"\\\\succapprox\", true);\ndefineSymbol(math, ams, rel, \"\\u22b3\", \"\\\\vartriangleright\");\ndefineSymbol(math, ams, rel, \"\\u22b5\", \"\\\\trianglerighteq\");\ndefineSymbol(math, ams, rel, \"\\u22a9\", \"\\\\Vdash\", true);\ndefineSymbol(math, ams, rel, \"\\u2223\", \"\\\\shortmid\");\ndefineSymbol(math, ams, rel, \"\\u2225\", \"\\\\shortparallel\");\ndefineSymbol(math, ams, rel, \"\\u226c\", \"\\\\between\", true);\ndefineSymbol(math, ams, rel, \"\\u22d4\", \"\\\\pitchfork\", true);\ndefineSymbol(math, ams, rel, \"\\u221d\", \"\\\\varpropto\");\ndefineSymbol(math, ams, rel, \"\\u25c0\", \"\\\\blacktriangleleft\"); // unicode-math says that \\therefore is a mathord atom.\n// We kept the amssymb atom type, which is rel.\n\ndefineSymbol(math, ams, rel, \"\\u2234\", \"\\\\therefore\", true);\ndefineSymbol(math, ams, rel, \"\\u220d\", \"\\\\backepsilon\");\ndefineSymbol(math, ams, rel, \"\\u25b6\", \"\\\\blacktriangleright\"); // unicode-math says that \\because is a mathord atom.\n// We kept the amssymb atom type, which is rel.\n\ndefineSymbol(math, ams, rel, \"\\u2235\", \"\\\\because\", true);\ndefineSymbol(math, ams, rel, \"\\u22d8\", \"\\\\llless\");\ndefineSymbol(math, ams, rel, \"\\u22d9\", \"\\\\gggtr\");\ndefineSymbol(math, ams, bin, \"\\u22b2\", \"\\\\lhd\");\ndefineSymbol(math, ams, bin, \"\\u22b3\", \"\\\\rhd\");\ndefineSymbol(math, ams, rel, \"\\u2242\", \"\\\\eqsim\", true);\ndefineSymbol(math, main, rel, \"\\u22c8\", \"\\\\Join\");\ndefineSymbol(math, ams, rel, \"\\u2251\", \"\\\\Doteq\", true); // AMS Binary Operators\n\ndefineSymbol(math, ams, bin, \"\\u2214\", \"\\\\dotplus\", true);\ndefineSymbol(math, ams, bin, \"\\u2216\", \"\\\\smallsetminus\");\ndefineSymbol(math, ams, bin, \"\\u22d2\", \"\\\\Cap\", true);\ndefineSymbol(math, ams, bin, \"\\u22d3\", \"\\\\Cup\", true);\ndefineSymbol(math, ams, bin, \"\\u2a5e\", \"\\\\doublebarwedge\", true);\ndefineSymbol(math, ams, bin, \"\\u229f\", \"\\\\boxminus\", true);\ndefineSymbol(math, ams, bin, \"\\u229e\", \"\\\\boxplus\", true);\ndefineSymbol(math, ams, bin, \"\\u22c7\", \"\\\\divideontimes\", true);\ndefineSymbol(math, ams, bin, \"\\u22c9\", \"\\\\ltimes\", true);\ndefineSymbol(math, ams, bin, \"\\u22ca\", \"\\\\rtimes\", true);\ndefineSymbol(math, ams, bin, \"\\u22cb\", \"\\\\leftthreetimes\", true);\ndefineSymbol(math, ams, bin, \"\\u22cc\", \"\\\\rightthreetimes\", true);\ndefineSymbol(math, ams, bin, \"\\u22cf\", \"\\\\curlywedge\", true);\ndefineSymbol(math, ams, bin, \"\\u22ce\", \"\\\\curlyvee\", true);\ndefineSymbol(math, ams, bin, \"\\u229d\", \"\\\\circleddash\", true);\ndefineSymbol(math, ams, bin, \"\\u229b\", \"\\\\circledast\", true);\ndefineSymbol(math, ams, bin, \"\\u22c5\", \"\\\\centerdot\");\ndefineSymbol(math, ams, bin, \"\\u22ba\", \"\\\\intercal\", true);\ndefineSymbol(math, ams, bin, \"\\u22d2\", \"\\\\doublecap\");\ndefineSymbol(math, ams, bin, \"\\u22d3\", \"\\\\doublecup\");\ndefineSymbol(math, ams, bin, \"\\u22a0\", \"\\\\boxtimes\", true); // AMS Arrows\n// Note: unicode-math maps \\u21e2 to their own function \\rightdasharrow.\n// We'll map it to AMS function \\dashrightarrow. It produces the same atom.\n\ndefineSymbol(math, ams, rel, \"\\u21e2\", \"\\\\dashrightarrow\", true); // unicode-math maps \\u21e0 to \\leftdasharrow. We'll use the AMS synonym.\n\ndefineSymbol(math, ams, rel, \"\\u21e0\", \"\\\\dashleftarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21c7\", \"\\\\leftleftarrows\", true);\ndefineSymbol(math, ams, rel, \"\\u21c6\", \"\\\\leftrightarrows\", true);\ndefineSymbol(math, ams, rel, \"\\u21da\", \"\\\\Lleftarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u219e\", \"\\\\twoheadleftarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21a2\", \"\\\\leftarrowtail\", true);\ndefineSymbol(math, ams, rel, \"\\u21ab\", \"\\\\looparrowleft\", true);\ndefineSymbol(math, ams, rel, \"\\u21cb\", \"\\\\leftrightharpoons\", true);\ndefineSymbol(math, ams, rel, \"\\u21b6\", \"\\\\curvearrowleft\", true); // unicode-math maps \\u21ba to \\acwopencirclearrow. We'll use the AMS synonym.\n\ndefineSymbol(math, ams, rel, \"\\u21ba\", \"\\\\circlearrowleft\", true);\ndefineSymbol(math, ams, rel, \"\\u21b0\", \"\\\\Lsh\", true);\ndefineSymbol(math, ams, rel, \"\\u21c8\", \"\\\\upuparrows\", true);\ndefineSymbol(math, ams, rel, \"\\u21bf\", \"\\\\upharpoonleft\", true);\ndefineSymbol(math, ams, rel, \"\\u21c3\", \"\\\\downharpoonleft\", true);\ndefineSymbol(math, main, rel, \"\\u22b6\", \"\\\\origof\", true); // not in font\n\ndefineSymbol(math, main, rel, \"\\u22b7\", \"\\\\imageof\", true); // not in font\n\ndefineSymbol(math, ams, rel, \"\\u22b8\", \"\\\\multimap\", true);\ndefineSymbol(math, ams, rel, \"\\u21ad\", \"\\\\leftrightsquigarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21c9\", \"\\\\rightrightarrows\", true);\ndefineSymbol(math, ams, rel, \"\\u21c4\", \"\\\\rightleftarrows\", true);\ndefineSymbol(math, ams, rel, \"\\u21a0\", \"\\\\twoheadrightarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21a3\", \"\\\\rightarrowtail\", true);\ndefineSymbol(math, ams, rel, \"\\u21ac\", \"\\\\looparrowright\", true);\ndefineSymbol(math, ams, rel, \"\\u21b7\", \"\\\\curvearrowright\", true); // unicode-math maps \\u21bb to \\cwopencirclearrow. We'll use the AMS synonym.\n\ndefineSymbol(math, ams, rel, \"\\u21bb\", \"\\\\circlearrowright\", true);\ndefineSymbol(math, ams, rel, \"\\u21b1\", \"\\\\Rsh\", true);\ndefineSymbol(math, ams, rel, \"\\u21ca\", \"\\\\downdownarrows\", true);\ndefineSymbol(math, ams, rel, \"\\u21be\", \"\\\\upharpoonright\", true);\ndefineSymbol(math, ams, rel, \"\\u21c2\", \"\\\\downharpoonright\", true);\ndefineSymbol(math, ams, rel, \"\\u21dd\", \"\\\\rightsquigarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21dd\", \"\\\\leadsto\");\ndefineSymbol(math, ams, rel, \"\\u21db\", \"\\\\Rrightarrow\", true);\ndefineSymbol(math, ams, rel, \"\\u21be\", \"\\\\restriction\");\ndefineSymbol(math, main, textord, \"\\u2018\", \"`\");\ndefineSymbol(math, main, textord, \"$\", \"\\\\$\");\ndefineSymbol(text$1, main, textord, \"$\", \"\\\\$\");\ndefineSymbol(text$1, main, textord, \"$\", \"\\\\textdollar\");\ndefineSymbol(math, main, textord, \"%\", \"\\\\%\");\ndefineSymbol(text$1, main, textord, \"%\", \"\\\\%\");\ndefineSymbol(math, main, textord, \"_\", \"\\\\_\");\ndefineSymbol(text$1, main, textord, \"_\", \"\\\\_\");\ndefineSymbol(text$1, main, textord, \"_\", \"\\\\textunderscore\");\ndefineSymbol(math, main, textord, \"\\u2220\", \"\\\\angle\", true);\ndefineSymbol(math, main, textord, \"\\u221e\", \"\\\\infty\", true);\ndefineSymbol(math, main, textord, \"\\u2032\", \"\\\\prime\");\ndefineSymbol(math, main, textord, \"\\u25b3\", \"\\\\triangle\");\ndefineSymbol(math, main, textord, \"\\u0393\", \"\\\\Gamma\", true);\ndefineSymbol(math, main, textord, \"\\u0394\", \"\\\\Delta\", true);\ndefineSymbol(math, main, textord, \"\\u0398\", \"\\\\Theta\", true);\ndefineSymbol(math, main, textord, \"\\u039b\", \"\\\\Lambda\", true);\ndefineSymbol(math, main, textord, \"\\u039e\", \"\\\\Xi\", true);\ndefineSymbol(math, main, textord, \"\\u03a0\", \"\\\\Pi\", true);\ndefineSymbol(math, main, textord, \"\\u03a3\", \"\\\\Sigma\", true);\ndefineSymbol(math, main, textord, \"\\u03a5\", \"\\\\Upsilon\", true);\ndefineSymbol(math, main, textord, \"\\u03a6\", \"\\\\Phi\", true);\ndefineSymbol(math, main, textord, \"\\u03a8\", \"\\\\Psi\", true);\ndefineSymbol(math, main, textord, \"\\u03a9\", \"\\\\Omega\", true);\ndefineSymbol(math, main, textord, \"A\", \"\\u0391\");\ndefineSymbol(math, main, textord, \"B\", \"\\u0392\");\ndefineSymbol(math, main, textord, \"E\", \"\\u0395\");\ndefineSymbol(math, main, textord, \"Z\", \"\\u0396\");\ndefineSymbol(math, main, textord, \"H\", \"\\u0397\");\ndefineSymbol(math, main, textord, \"I\", \"\\u0399\");\ndefineSymbol(math, main, textord, \"K\", \"\\u039A\");\ndefineSymbol(math, main, textord, \"M\", \"\\u039C\");\ndefineSymbol(math, main, textord, \"N\", \"\\u039D\");\ndefineSymbol(math, main, textord, \"O\", \"\\u039F\");\ndefineSymbol(math, main, textord, \"P\", \"\\u03A1\");\ndefineSymbol(math, main, textord, \"T\", \"\\u03A4\");\ndefineSymbol(math, main, textord, \"X\", \"\\u03A7\");\ndefineSymbol(math, main, textord, \"\\u00ac\", \"\\\\neg\", true);\ndefineSymbol(math, main, textord, \"\\u00ac\", \"\\\\lnot\");\ndefineSymbol(math, main, textord, \"\\u22a4\", \"\\\\top\");\ndefineSymbol(math, main, textord, \"\\u22a5\", \"\\\\bot\");\ndefineSymbol(math, main, textord, \"\\u2205\", \"\\\\emptyset\");\ndefineSymbol(math, ams, textord, \"\\u2205\", \"\\\\varnothing\");\ndefineSymbol(math, main, mathord, \"\\u03b1\", \"\\\\alpha\", true);\ndefineSymbol(math, main, mathord, \"\\u03b2\", \"\\\\beta\", true);\ndefineSymbol(math, main, mathord, \"\\u03b3\", \"\\\\gamma\", true);\ndefineSymbol(math, main, mathord, \"\\u03b4\", \"\\\\delta\", true);\ndefineSymbol(math, main, mathord, \"\\u03f5\", \"\\\\epsilon\", true);\ndefineSymbol(math, main, mathord, \"\\u03b6\", \"\\\\zeta\", true);\ndefineSymbol(math, main, mathord, \"\\u03b7\", \"\\\\eta\", true);\ndefineSymbol(math, main, mathord, \"\\u03b8\", \"\\\\theta\", true);\ndefineSymbol(math, main, mathord, \"\\u03b9\", \"\\\\iota\", true);\ndefineSymbol(math, main, mathord, \"\\u03ba\", \"\\\\kappa\", true);\ndefineSymbol(math, main, mathord, \"\\u03bb\", \"\\\\lambda\", true);\ndefineSymbol(math, main, mathord, \"\\u03bc\", \"\\\\mu\", true);\ndefineSymbol(math, main, mathord, \"\\u03bd\", \"\\\\nu\", true);\ndefineSymbol(math, main, mathord, \"\\u03be\", \"\\\\xi\", true);\ndefineSymbol(math, main, mathord, \"\\u03bf\", \"\\\\omicron\", true);\ndefineSymbol(math, main, mathord, \"\\u03c0\", \"\\\\pi\", true);\ndefineSymbol(math, main, mathord, \"\\u03c1\", \"\\\\rho\", true);\ndefineSymbol(math, main, mathord, \"\\u03c3\", \"\\\\sigma\", true);\ndefineSymbol(math, main, mathord, \"\\u03c4\", \"\\\\tau\", true);\ndefineSymbol(math, main, mathord, \"\\u03c5\", \"\\\\upsilon\", true);\ndefineSymbol(math, main, mathord, \"\\u03d5\", \"\\\\phi\", true);\ndefineSymbol(math, main, mathord, \"\\u03c7\", \"\\\\chi\", true);\ndefineSymbol(math, main, mathord, \"\\u03c8\", \"\\\\psi\", true);\ndefineSymbol(math, main, mathord, \"\\u03c9\", \"\\\\omega\", true);\ndefineSymbol(math, main, mathord, \"\\u03b5\", \"\\\\varepsilon\", true);\ndefineSymbol(math, main, mathord, \"\\u03d1\", \"\\\\vartheta\", true);\ndefineSymbol(math, main, mathord, \"\\u03d6\", \"\\\\varpi\", true);\ndefineSymbol(math, main, mathord, \"\\u03f1\", \"\\\\varrho\", true);\ndefineSymbol(math, main, mathord, \"\\u03c2\", \"\\\\varsigma\", true);\ndefineSymbol(math, main, mathord, \"\\u03c6\", \"\\\\varphi\", true);\ndefineSymbol(math, main, bin, \"\\u2217\", \"*\");\ndefineSymbol(math, main, bin, \"+\", \"+\");\ndefineSymbol(math, main, bin, \"\\u2212\", \"-\");\ndefineSymbol(math, main, bin, \"\\u22c5\", \"\\\\cdot\", true);\ndefineSymbol(math, main, bin, \"\\u2218\", \"\\\\circ\");\ndefineSymbol(math, main, bin, \"\\u00f7\", \"\\\\div\", true);\ndefineSymbol(math, main, bin, \"\\u00b1\", \"\\\\pm\", true);\ndefineSymbol(math, main, bin, \"\\u00d7\", \"\\\\times\", true);\ndefineSymbol(math, main, bin, \"\\u2229\", \"\\\\cap\", true);\ndefineSymbol(math, main, bin, \"\\u222a\", \"\\\\cup\", true);\ndefineSymbol(math, main, bin, \"\\u2216\", \"\\\\setminus\");\ndefineSymbol(math, main, bin, \"\\u2227\", \"\\\\land\");\ndefineSymbol(math, main, bin, \"\\u2228\", \"\\\\lor\");\ndefineSymbol(math, main, bin, \"\\u2227\", \"\\\\wedge\", true);\ndefineSymbol(math, main, bin, \"\\u2228\", \"\\\\vee\", true);\ndefineSymbol(math, main, textord, \"\\u221a\", \"\\\\surd\");\ndefineSymbol(math, main, open, \"\\u27e8\", \"\\\\langle\", true);\ndefineSymbol(math, main, open, \"\\u2223\", \"\\\\lvert\");\ndefineSymbol(math, main, open, \"\\u2225\", \"\\\\lVert\");\ndefineSymbol(math, main, close, \"?\", \"?\");\ndefineSymbol(math, main, close, \"!\", \"!\");\ndefineSymbol(math, main, close, \"\\u27e9\", \"\\\\rangle\", true);\ndefineSymbol(math, main, close, \"\\u2223\", \"\\\\rvert\");\ndefineSymbol(math, main, close, \"\\u2225\", \"\\\\rVert\");\ndefineSymbol(math, main, rel, \"=\", \"=\");\ndefineSymbol(math, main, rel, \":\", \":\");\ndefineSymbol(math, main, rel, \"\\u2248\", \"\\\\approx\", true);\ndefineSymbol(math, main, rel, \"\\u2245\", \"\\\\cong\", true);\ndefineSymbol(math, main, rel, \"\\u2265\", \"\\\\ge\");\ndefineSymbol(math, main, rel, \"\\u2265\", \"\\\\geq\", true);\ndefineSymbol(math, main, rel, \"\\u2190\", \"\\\\gets\");\ndefineSymbol(math, main, rel, \">\", \"\\\\gt\", true);\ndefineSymbol(math, main, rel, \"\\u2208\", \"\\\\in\", true);\ndefineSymbol(math, main, rel, \"\\ue020\", \"\\\\@not\");\ndefineSymbol(math, main, rel, \"\\u2282\", \"\\\\subset\", true);\ndefineSymbol(math, main, rel, \"\\u2283\", \"\\\\supset\", true);\ndefineSymbol(math, main, rel, \"\\u2286\", \"\\\\subseteq\", true);\ndefineSymbol(math, main, rel, \"\\u2287\", \"\\\\supseteq\", true);\ndefineSymbol(math, ams, rel, \"\\u2288\", \"\\\\nsubseteq\", true);\ndefineSymbol(math, ams, rel, \"\\u2289\", \"\\\\nsupseteq\", true);\ndefineSymbol(math, main, rel, \"\\u22a8\", \"\\\\models\");\ndefineSymbol(math, main, rel, \"\\u2190\", \"\\\\leftarrow\", true);\ndefineSymbol(math, main, rel, \"\\u2264\", \"\\\\le\");\ndefineSymbol(math, main, rel, \"\\u2264\", \"\\\\leq\", true);\ndefineSymbol(math, main, rel, \"<\", \"\\\\lt\", true);\ndefineSymbol(math, main, rel, \"\\u2192\", \"\\\\rightarrow\", true);\ndefineSymbol(math, main, rel, \"\\u2192\", \"\\\\to\");\ndefineSymbol(math, ams, rel, \"\\u2271\", \"\\\\ngeq\", true);\ndefineSymbol(math, ams, rel, \"\\u2270\", \"\\\\nleq\", true);\ndefineSymbol(math, main, spacing, \"\\u00a0\", \"\\\\ \");\ndefineSymbol(math, main, spacing, \"\\u00a0\", \"~\");\ndefineSymbol(math, main, spacing, \"\\u00a0\", \"\\\\space\"); // Ref: LaTeX Source 2e: \\DeclareRobustCommand{\\nobreakspace}{%\n\ndefineSymbol(math, main, spacing, \"\\u00a0\", \"\\\\nobreakspace\");\ndefineSymbol(text$1, main, spacing, \"\\u00a0\", \"\\\\ \");\ndefineSymbol(text$1, main, spacing, \"\\u00a0\", \" \");\ndefineSymbol(text$1, main, spacing, \"\\u00a0\", \"~\");\ndefineSymbol(text$1, main, spacing, \"\\u00a0\", \"\\\\space\");\ndefineSymbol(text$1, main, spacing, \"\\u00a0\", \"\\\\nobreakspace\");\ndefineSymbol(math, main, spacing, null, \"\\\\nobreak\");\ndefineSymbol(math, main, spacing, null, \"\\\\allowbreak\");\ndefineSymbol(math, main, punct, \",\", \",\");\ndefineSymbol(math, main, punct, \";\", \";\");\ndefineSymbol(math, ams, bin, \"\\u22bc\", \"\\\\barwedge\", true);\ndefineSymbol(math, ams, bin, \"\\u22bb\", \"\\\\veebar\", true);\ndefineSymbol(math, main, bin, \"\\u2299\", \"\\\\odot\", true);\ndefineSymbol(math, main, bin, \"\\u2295\", \"\\\\oplus\", true);\ndefineSymbol(math, main, bin, \"\\u2297\", \"\\\\otimes\", true);\ndefineSymbol(math, main, textord, \"\\u2202\", \"\\\\partial\", true);\ndefineSymbol(math, main, bin, \"\\u2298\", \"\\\\oslash\", true);\ndefineSymbol(math, ams, bin, \"\\u229a\", \"\\\\circledcirc\", true);\ndefineSymbol(math, ams, bin, \"\\u22a1\", \"\\\\boxdot\", true);\ndefineSymbol(math, main, bin, \"\\u25b3\", \"\\\\bigtriangleup\");\ndefineSymbol(math, main, bin, \"\\u25bd\", \"\\\\bigtriangledown\");\ndefineSymbol(math, main, bin, \"\\u2020\", \"\\\\dagger\");\ndefineSymbol(math, main, bin, \"\\u22c4\", \"\\\\diamond\");\ndefineSymbol(math, main, bin, \"\\u22c6\", \"\\\\star\");\ndefineSymbol(math, main, bin, \"\\u25c3\", \"\\\\triangleleft\");\ndefineSymbol(math, main, bin, \"\\u25b9\", \"\\\\triangleright\");\ndefineSymbol(math, main, open, \"{\", \"\\\\{\");\ndefineSymbol(text$1, main, textord, \"{\", \"\\\\{\");\ndefineSymbol(text$1, main, textord, \"{\", \"\\\\textbraceleft\");\ndefineSymbol(math, main, close, \"}\", \"\\\\}\");\ndefineSymbol(text$1, main, textord, \"}\", \"\\\\}\");\ndefineSymbol(text$1, main, textord, \"}\", \"\\\\textbraceright\");\ndefineSymbol(math, main, open, \"{\", \"\\\\lbrace\");\ndefineSymbol(math, main, close, \"}\", \"\\\\rbrace\");\ndefineSymbol(math, main, open, \"[\", \"\\\\lbrack\", true);\ndefineSymbol(text$1, main, textord, \"[\", \"\\\\lbrack\", true);\ndefineSymbol(math, main, close, \"]\", \"\\\\rbrack\", true);\ndefineSymbol(text$1, main, textord, \"]\", \"\\\\rbrack\", true);\ndefineSymbol(math, main, open, \"(\", \"\\\\lparen\", true);\ndefineSymbol(math, main, close, \")\", \"\\\\rparen\", true);\ndefineSymbol(text$1, main, textord, \"<\", \"\\\\textless\", true); // in T1 fontenc\n\ndefineSymbol(text$1, main, textord, \">\", \"\\\\textgreater\", true); // in T1 fontenc\n\ndefineSymbol(math, main, open, \"\\u230a\", \"\\\\lfloor\", true);\ndefineSymbol(math, main, close, \"\\u230b\", \"\\\\rfloor\", true);\ndefineSymbol(math, main, open, \"\\u2308\", \"\\\\lceil\", true);\ndefineSymbol(math, main, close, \"\\u2309\", \"\\\\rceil\", true);\ndefineSymbol(math, main, textord, \"\\\\\", \"\\\\backslash\");\ndefineSymbol(math, main, textord, \"\\u2223\", \"|\");\ndefineSymbol(math, main, textord, \"\\u2223\", \"\\\\vert\");\ndefineSymbol(text$1, main, textord, \"|\", \"\\\\textbar\", true); // in T1 fontenc\n\ndefineSymbol(math, main, textord, \"\\u2225\", \"\\\\|\");\ndefineSymbol(math, main, textord, \"\\u2225\", \"\\\\Vert\");\ndefineSymbol(text$1, main, textord, \"\\u2225\", \"\\\\textbardbl\");\ndefineSymbol(text$1, main, textord, \"~\", \"\\\\textasciitilde\");\ndefineSymbol(text$1, main, textord, \"\\\\\", \"\\\\textbackslash\");\ndefineSymbol(text$1, main, textord, \"^\", \"\\\\textasciicircum\");\ndefineSymbol(math, main, rel, \"\\u2191\", \"\\\\uparrow\", true);\ndefineSymbol(math, main, rel, \"\\u21d1\", \"\\\\Uparrow\", true);\ndefineSymbol(math, main, rel, \"\\u2193\", \"\\\\downarrow\", true);\ndefineSymbol(math, main, rel, \"\\u21d3\", \"\\\\Downarrow\", true);\ndefineSymbol(math, main, rel, \"\\u2195\", \"\\\\updownarrow\", true);\ndefineSymbol(math, main, rel, \"\\u21d5\", \"\\\\Updownarrow\", true);\ndefineSymbol(math, main, op, \"\\u2210\", \"\\\\coprod\");\ndefineSymbol(math, main, op, \"\\u22c1\", \"\\\\bigvee\");\ndefineSymbol(math, main, op, \"\\u22c0\", \"\\\\bigwedge\");\ndefineSymbol(math, main, op, \"\\u2a04\", \"\\\\biguplus\");\ndefineSymbol(math, main, op, \"\\u22c2\", \"\\\\bigcap\");\ndefineSymbol(math, main, op, \"\\u22c3\", \"\\\\bigcup\");\ndefineSymbol(math, main, op, \"\\u222b\", \"\\\\int\");\ndefineSymbol(math, main, op, \"\\u222b\", \"\\\\intop\");\ndefineSymbol(math, main, op, \"\\u222c\", \"\\\\iint\");\ndefineSymbol(math, main, op, \"\\u222d\", \"\\\\iiint\");\ndefineSymbol(math, main, op, \"\\u220f\", \"\\\\prod\");\ndefineSymbol(math, main, op, \"\\u2211\", \"\\\\sum\");\ndefineSymbol(math, main, op, \"\\u2a02\", \"\\\\bigotimes\");\ndefineSymbol(math, main, op, \"\\u2a01\", \"\\\\bigoplus\");\ndefineSymbol(math, main, op, \"\\u2a00\", \"\\\\bigodot\");\ndefineSymbol(math, main, op, \"\\u222e\", \"\\\\oint\");\ndefineSymbol(math, main, op, \"\\u222f\", \"\\\\oiint\");\ndefineSymbol(math, main, op, \"\\u2230\", \"\\\\oiiint\");\ndefineSymbol(math, main, op, \"\\u2a06\", \"\\\\bigsqcup\");\ndefineSymbol(math, main, op, \"\\u222b\", \"\\\\smallint\");\ndefineSymbol(text$1, main, inner, \"\\u2026\", \"\\\\textellipsis\");\ndefineSymbol(math, main, inner, \"\\u2026\", \"\\\\mathellipsis\");\ndefineSymbol(text$1, main, inner, \"\\u2026\", \"\\\\ldots\", true);\ndefineSymbol(math, main, inner, \"\\u2026\", \"\\\\ldots\", true);\ndefineSymbol(math, main, inner, \"\\u22ef\", \"\\\\@cdots\", true);\ndefineSymbol(math, main, inner, \"\\u22f1\", \"\\\\ddots\", true);\ndefineSymbol(math, main, textord, \"\\u22ee\", \"\\\\varvdots\"); // \\vdots is a macro\n\ndefineSymbol(math, main, accent, \"\\u02ca\", \"\\\\acute\");\ndefineSymbol(math, main, accent, \"\\u02cb\", \"\\\\grave\");\ndefineSymbol(math, main, accent, \"\\u00a8\", \"\\\\ddot\");\ndefineSymbol(math, main, accent, \"\\u007e\", \"\\\\tilde\");\ndefineSymbol(math, main, accent, \"\\u02c9\", \"\\\\bar\");\ndefineSymbol(math, main, accent, \"\\u02d8\", \"\\\\breve\");\ndefineSymbol(math, main, accent, \"\\u02c7\", \"\\\\check\");\ndefineSymbol(math, main, accent, \"\\u005e\", \"\\\\hat\");\ndefineSymbol(math, main, accent, \"\\u20d7\", \"\\\\vec\");\ndefineSymbol(math, main, accent, \"\\u02d9\", \"\\\\dot\");\ndefineSymbol(math, main, accent, \"\\u02da\", \"\\\\mathring\"); // \\imath and \\jmath should be invariant to \\mathrm, \\mathbf, etc., so use PUA\n\ndefineSymbol(math, main, mathord, \"\\ue131\", \"\\\\@imath\");\ndefineSymbol(math, main, mathord, \"\\ue237\", \"\\\\@jmath\");\ndefineSymbol(math, main, textord, \"\\u0131\", \"\\u0131\");\ndefineSymbol(math, main, textord, \"\\u0237\", \"\\u0237\");\ndefineSymbol(text$1, main, textord, \"\\u0131\", \"\\\\i\", true);\ndefineSymbol(text$1, main, textord, \"\\u0237\", \"\\\\j\", true);\ndefineSymbol(text$1, main, textord, \"\\u00df\", \"\\\\ss\", true);\ndefineSymbol(text$1, main, textord, \"\\u00e6\", \"\\\\ae\", true);\ndefineSymbol(text$1, main, textord, \"\\u0153\", \"\\\\oe\", true);\ndefineSymbol(text$1, main, textord, \"\\u00f8\", \"\\\\o\", true);\ndefineSymbol(text$1, main, textord, \"\\u00c6\", \"\\\\AE\", true);\ndefineSymbol(text$1, main, textord, \"\\u0152\", \"\\\\OE\", true);\ndefineSymbol(text$1, main, textord, \"\\u00d8\", \"\\\\O\", true);\ndefineSymbol(text$1, main, accent, \"\\u02ca\", \"\\\\'\"); // acute\n\ndefineSymbol(text$1, main, accent, \"\\u02cb\", \"\\\\`\"); // grave\n\ndefineSymbol(text$1, main, accent, \"\\u02c6\", \"\\\\^\"); // circumflex\n\ndefineSymbol(text$1, main, accent, \"\\u02dc\", \"\\\\~\"); // tilde\n\ndefineSymbol(text$1, main, accent, \"\\u02c9\", \"\\\\=\"); // macron\n\ndefineSymbol(text$1, main, accent, \"\\u02d8\", \"\\\\u\"); // breve\n\ndefineSymbol(text$1, main, accent, \"\\u02d9\", \"\\\\.\"); // dot above\n\ndefineSymbol(text$1, main, accent, \"\\u02da\", \"\\\\r\"); // ring above\n\ndefineSymbol(text$1, main, accent, \"\\u02c7\", \"\\\\v\"); // caron\n\ndefineSymbol(text$1, main, accent, \"\\u00a8\", '\\\\\"'); // diaresis\n\ndefineSymbol(text$1, main, accent, \"\\u02dd\", \"\\\\H\"); // double acute\n\ndefineSymbol(text$1, main, accent, \"\\u25ef\", \"\\\\textcircled\"); // \\bigcirc glyph\n// These ligatures are detected and created in Parser.js's `formLigatures`.\n\nvar ligatures = {\n  \"--\": true,\n  \"---\": true,\n  \"``\": true,\n  \"''\": true\n};\ndefineSymbol(text$1, main, textord, \"\\u2013\", \"--\", true);\ndefineSymbol(text$1, main, textord, \"\\u2013\", \"\\\\textendash\");\ndefineSymbol(text$1, main, textord, \"\\u2014\", \"---\", true);\ndefineSymbol(text$1, main, textord, \"\\u2014\", \"\\\\textemdash\");\ndefineSymbol(text$1, main, textord, \"\\u2018\", \"`\", true);\ndefineSymbol(text$1, main, textord, \"\\u2018\", \"\\\\textquoteleft\");\ndefineSymbol(text$1, main, textord, \"\\u2019\", \"'\", true);\ndefineSymbol(text$1, main, textord, \"\\u2019\", \"\\\\textquoteright\");\ndefineSymbol(text$1, main, textord, \"\\u201c\", \"``\", true);\ndefineSymbol(text$1, main, textord, \"\\u201c\", \"\\\\textquotedblleft\");\ndefineSymbol(text$1, main, textord, \"\\u201d\", \"''\", true);\ndefineSymbol(text$1, main, textord, \"\\u201d\", \"\\\\textquotedblright\"); //  \\degree from gensymb package\n\ndefineSymbol(math, main, textord, \"\\u00b0\", \"\\\\degree\", true);\ndefineSymbol(text$1, main, textord, \"\\u00b0\", \"\\\\degree\"); // \\textdegree from inputenc package\n\ndefineSymbol(text$1, main, textord, \"\\u00b0\", \"\\\\textdegree\", true); // TODO: In LaTeX, \\pounds can generate a different character in text and math\n// mode, but among our fonts, only Main-Regular defines this character \"163\".\n\ndefineSymbol(math, main, textord, \"\\u00a3\", \"\\\\pounds\");\ndefineSymbol(math, main, textord, \"\\u00a3\", \"\\\\mathsterling\", true);\ndefineSymbol(text$1, main, textord, \"\\u00a3\", \"\\\\pounds\");\ndefineSymbol(text$1, main, textord, \"\\u00a3\", \"\\\\textsterling\", true);\ndefineSymbol(math, ams, textord, \"\\u2720\", \"\\\\maltese\");\ndefineSymbol(text$1, ams, textord, \"\\u2720\", \"\\\\maltese\"); // There are lots of symbols which are the same, so we add them in afterwards.\n// All of these are textords in math mode\n\nvar mathTextSymbols = \"0123456789/@.\\\"\";\n\nfor (var i = 0; i < mathTextSymbols.length; i++) {\n  var ch = mathTextSymbols.charAt(i);\n  defineSymbol(math, main, textord, ch, ch);\n} // All of these are textords in text mode\n\n\nvar textSymbols = \"0123456789!@*()-=+\\\";:?/.,\";\n\nfor (var _i = 0; _i < textSymbols.length; _i++) {\n  var _ch = textSymbols.charAt(_i);\n\n  defineSymbol(text$1, main, textord, _ch, _ch);\n} // All of these are textords in text mode, and mathords in math mode\n\n\nvar letters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n\nfor (var _i2 = 0; _i2 < letters.length; _i2++) {\n  var _ch2 = letters.charAt(_i2);\n\n  defineSymbol(math, main, mathord, _ch2, _ch2);\n  defineSymbol(text$1, main, textord, _ch2, _ch2);\n} // Blackboard bold and script letters in Unicode range\n\n\ndefineSymbol(math, ams, textord, \"C\", \"\\u2102\"); // blackboard bold\n\ndefineSymbol(text$1, ams, textord, \"C\", \"\\u2102\");\ndefineSymbol(math, ams, textord, \"H\", \"\\u210D\");\ndefineSymbol(text$1, ams, textord, \"H\", \"\\u210D\");\ndefineSymbol(math, ams, textord, \"N\", \"\\u2115\");\ndefineSymbol(text$1, ams, textord, \"N\", \"\\u2115\");\ndefineSymbol(math, ams, textord, \"P\", \"\\u2119\");\ndefineSymbol(text$1, ams, textord, \"P\", \"\\u2119\");\ndefineSymbol(math, ams, textord, \"Q\", \"\\u211A\");\ndefineSymbol(text$1, ams, textord, \"Q\", \"\\u211A\");\ndefineSymbol(math, ams, textord, \"R\", \"\\u211D\");\ndefineSymbol(text$1, ams, textord, \"R\", \"\\u211D\");\ndefineSymbol(math, ams, textord, \"Z\", \"\\u2124\");\ndefineSymbol(text$1, ams, textord, \"Z\", \"\\u2124\");\ndefineSymbol(math, main, mathord, \"h\", \"\\u210E\"); // italic h, Planck constant\n\ndefineSymbol(text$1, main, mathord, \"h\", \"\\u210E\"); // The next loop loads wide (surrogate pair) characters.\n// We support some letters in the Unicode range U+1D400 to U+1D7FF,\n// Mathematical Alphanumeric Symbols.\n// Some editors do not deal well with wide characters. So don't write the\n// string into this file. Instead, create the string from the surrogate pair.\n\nvar wideChar = \"\";\n\nfor (var _i3 = 0; _i3 < letters.length; _i3++) {\n  var _ch3 = letters.charAt(_i3); // The hex numbers in the next line are a surrogate pair.\n  // 0xD835 is the high surrogate for all letters in the range we support.\n  // 0xDC00 is the low surrogate for bold A.\n\n\n  wideChar = String.fromCharCode(0xD835, 0xDC00 + _i3); // A-Z a-z bold\n\n  defineSymbol(math, main, mathord, _ch3, wideChar);\n  defineSymbol(text$1, main, textord, _ch3, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDC34 + _i3); // A-Z a-z italic\n\n  defineSymbol(math, main, mathord, _ch3, wideChar);\n  defineSymbol(text$1, main, textord, _ch3, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDC68 + _i3); // A-Z a-z bold italic\n\n  defineSymbol(math, main, mathord, _ch3, wideChar);\n  defineSymbol(text$1, main, textord, _ch3, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDD04 + _i3); // A-Z a-z Fractur\n\n  defineSymbol(math, main, mathord, _ch3, wideChar);\n  defineSymbol(text$1, main, textord, _ch3, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDDA0 + _i3); // A-Z a-z sans-serif\n\n  defineSymbol(math, main, mathord, _ch3, wideChar);\n  defineSymbol(text$1, main, textord, _ch3, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDDD4 + _i3); // A-Z a-z sans bold\n\n  defineSymbol(math, main, mathord, _ch3, wideChar);\n  defineSymbol(text$1, main, textord, _ch3, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDE08 + _i3); // A-Z a-z sans italic\n\n  defineSymbol(math, main, mathord, _ch3, wideChar);\n  defineSymbol(text$1, main, textord, _ch3, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDE70 + _i3); // A-Z a-z monospace\n\n  defineSymbol(math, main, mathord, _ch3, wideChar);\n  defineSymbol(text$1, main, textord, _ch3, wideChar);\n\n  if (_i3 < 26) {\n    // KaTeX fonts have only capital letters for blackboard bold and script.\n    // See exception for k below.\n    wideChar = String.fromCharCode(0xD835, 0xDD38 + _i3); // A-Z double struck\n\n    defineSymbol(math, main, mathord, _ch3, wideChar);\n    defineSymbol(text$1, main, textord, _ch3, wideChar);\n    wideChar = String.fromCharCode(0xD835, 0xDC9C + _i3); // A-Z script\n\n    defineSymbol(math, main, mathord, _ch3, wideChar);\n    defineSymbol(text$1, main, textord, _ch3, wideChar);\n  } // TODO: Add bold script when it is supported by a KaTeX font.\n\n} // \"k\" is the only double struck lower case letter in the KaTeX fonts.\n\n\nwideChar = String.fromCharCode(0xD835, 0xDD5C); // k double struck\n\ndefineSymbol(math, main, mathord, \"k\", wideChar);\ndefineSymbol(text$1, main, textord, \"k\", wideChar); // Next, some wide character numerals\n\nfor (var _i4 = 0; _i4 < 10; _i4++) {\n  var _ch4 = _i4.toString();\n\n  wideChar = String.fromCharCode(0xD835, 0xDFCE + _i4); // 0-9 bold\n\n  defineSymbol(math, main, mathord, _ch4, wideChar);\n  defineSymbol(text$1, main, textord, _ch4, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDFE2 + _i4); // 0-9 sans serif\n\n  defineSymbol(math, main, mathord, _ch4, wideChar);\n  defineSymbol(text$1, main, textord, _ch4, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDFEC + _i4); // 0-9 bold sans\n\n  defineSymbol(math, main, mathord, _ch4, wideChar);\n  defineSymbol(text$1, main, textord, _ch4, wideChar);\n  wideChar = String.fromCharCode(0xD835, 0xDFF6 + _i4); // 0-9 monospace\n\n  defineSymbol(math, main, mathord, _ch4, wideChar);\n  defineSymbol(text$1, main, textord, _ch4, wideChar);\n} // We add these Latin-1 letters as symbols for backwards-compatibility,\n// but they are not actually in the font, nor are they supported by the\n// Unicode accent mechanism, so they fall back to Times font and look ugly.\n// TODO(edemaine): Fix this.\n\n\nvar extraLatin = \"\\u00c7\\u00d0\\u00de\\u00e7\\u00fe\";\n\nfor (var _i5 = 0; _i5 < extraLatin.length; _i5++) {\n  var _ch5 = extraLatin.charAt(_i5);\n\n  defineSymbol(math, main, mathord, _ch5, _ch5);\n  defineSymbol(text$1, main, textord, _ch5, _ch5);\n}\n\n/**\n * This file provides support for Unicode range U+1D400 to U+1D7FF,\n * Mathematical Alphanumeric Symbols.\n *\n * Function wideCharacterFont takes a wide character as input and returns\n * the font information necessary to render it properly.\n */\n/**\n * Data below is from https://www.unicode.org/charts/PDF/U1D400.pdf\n * That document sorts characters into groups by font type, say bold or italic.\n *\n * In the arrays below, each subarray consists three elements:\n *      * The CSS class of that group when in math mode.\n *      * The CSS class of that group when in text mode.\n *      * The font name, so that KaTeX can get font metrics.\n */\n\nvar wideLatinLetterData = [[\"mathbf\", \"textbf\", \"Main-Bold\"], // A-Z bold upright\n[\"mathbf\", \"textbf\", \"Main-Bold\"], // a-z bold upright\n[\"mathnormal\", \"textit\", \"Math-Italic\"], // A-Z italic\n[\"mathnormal\", \"textit\", \"Math-Italic\"], // a-z italic\n[\"boldsymbol\", \"boldsymbol\", \"Main-BoldItalic\"], // A-Z bold italic\n[\"boldsymbol\", \"boldsymbol\", \"Main-BoldItalic\"], // a-z bold italic\n// Map fancy A-Z letters to script, not calligraphic.\n// This aligns with unicode-math and math fonts (except Cambria Math).\n[\"mathscr\", \"textscr\", \"Script-Regular\"], // A-Z script\n[\"\", \"\", \"\"], // a-z script.  No font\n[\"\", \"\", \"\"], // A-Z bold script. No font\n[\"\", \"\", \"\"], // a-z bold script. No font\n[\"mathfrak\", \"textfrak\", \"Fraktur-Regular\"], // A-Z Fraktur\n[\"mathfrak\", \"textfrak\", \"Fraktur-Regular\"], // a-z Fraktur\n[\"mathbb\", \"textbb\", \"AMS-Regular\"], // A-Z double-struck\n[\"mathbb\", \"textbb\", \"AMS-Regular\"], // k double-struck\n[\"\", \"\", \"\"], // A-Z bold Fraktur No font metrics\n[\"\", \"\", \"\"], // a-z bold Fraktur.   No font.\n[\"mathsf\", \"textsf\", \"SansSerif-Regular\"], // A-Z sans-serif\n[\"mathsf\", \"textsf\", \"SansSerif-Regular\"], // a-z sans-serif\n[\"mathboldsf\", \"textboldsf\", \"SansSerif-Bold\"], // A-Z bold sans-serif\n[\"mathboldsf\", \"textboldsf\", \"SansSerif-Bold\"], // a-z bold sans-serif\n[\"mathitsf\", \"textitsf\", \"SansSerif-Italic\"], // A-Z italic sans-serif\n[\"mathitsf\", \"textitsf\", \"SansSerif-Italic\"], // a-z italic sans-serif\n[\"\", \"\", \"\"], // A-Z bold italic sans. No font\n[\"\", \"\", \"\"], // a-z bold italic sans. No font\n[\"mathtt\", \"texttt\", \"Typewriter-Regular\"], // A-Z monospace\n[\"mathtt\", \"texttt\", \"Typewriter-Regular\"] // a-z monospace\n];\nvar wideNumeralData = [[\"mathbf\", \"textbf\", \"Main-Bold\"], // 0-9 bold\n[\"\", \"\", \"\"], // 0-9 double-struck. No KaTeX font.\n[\"mathsf\", \"textsf\", \"SansSerif-Regular\"], // 0-9 sans-serif\n[\"mathboldsf\", \"textboldsf\", \"SansSerif-Bold\"], // 0-9 bold sans-serif\n[\"mathtt\", \"texttt\", \"Typewriter-Regular\"] // 0-9 monospace\n];\nvar wideCharacterFont = function wideCharacterFont(wideChar, mode) {\n  // IE doesn't support codePointAt(). So work with the surrogate pair.\n  var H = wideChar.charCodeAt(0); // high surrogate\n\n  var L = wideChar.charCodeAt(1); // low surrogate\n\n  var codePoint = (H - 0xD800) * 0x400 + (L - 0xDC00) + 0x10000;\n  var j = mode === \"math\" ? 0 : 1; // column index for CSS class.\n\n  if (0x1D400 <= codePoint && codePoint < 0x1D6A4) {\n    // wideLatinLetterData contains exactly 26 chars on each row.\n    // So we can calculate the relevant row. No traverse necessary.\n    var i = Math.floor((codePoint - 0x1D400) / 26);\n    return [wideLatinLetterData[i][2], wideLatinLetterData[i][j]];\n  } else if (0x1D7CE <= codePoint && codePoint <= 0x1D7FF) {\n    // Numerals, ten per row.\n    var _i = Math.floor((codePoint - 0x1D7CE) / 10);\n\n    return [wideNumeralData[_i][2], wideNumeralData[_i][j]];\n  } else if (codePoint === 0x1D6A5 || codePoint === 0x1D6A6) {\n    // dotless i or j\n    return [wideLatinLetterData[0][2], wideLatinLetterData[0][j]];\n  } else if (0x1D6A6 < codePoint && codePoint < 0x1D7CE) {\n    // Greek letters. Not supported, yet.\n    return [\"\", \"\"];\n  } else {\n    // We don't support any wide characters outside 1D4001D7FF.\n    throw new ParseError(\"Unsupported character: \" + wideChar);\n  }\n};\n\n/**\n * This file contains information about the options that the Parser carries\n * around with it while parsing. Data is held in an `Options` object, and when\n * recursing, a new `Options` object can be created with the `.with*` and\n * `.reset` functions.\n */\nvar sizeStyleMap = [// Each element contains [textsize, scriptsize, scriptscriptsize].\n// The size mappings are taken from TeX with \\normalsize=10pt.\n[1, 1, 1], // size1: [5, 5, 5]              \\tiny\n[2, 1, 1], // size2: [6, 5, 5]\n[3, 1, 1], // size3: [7, 5, 5]              \\scriptsize\n[4, 2, 1], // size4: [8, 6, 5]              \\footnotesize\n[5, 2, 1], // size5: [9, 6, 5]              \\small\n[6, 3, 1], // size6: [10, 7, 5]             \\normalsize\n[7, 4, 2], // size7: [12, 8, 6]             \\large\n[8, 6, 3], // size8: [14.4, 10, 7]          \\Large\n[9, 7, 6], // size9: [17.28, 12, 10]        \\LARGE\n[10, 8, 7], // size10: [20.74, 14.4, 12]     \\huge\n[11, 10, 9] // size11: [24.88, 20.74, 17.28] \\HUGE\n];\nvar sizeMultipliers = [// fontMetrics.js:getGlobalMetrics also uses size indexes, so if\n// you change size indexes, change that function.\n0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 1.2, 1.44, 1.728, 2.074, 2.488];\n\nvar sizeAtStyle = function sizeAtStyle(size, style) {\n  return style.size < 2 ? size : sizeStyleMap[size - 1][style.size - 1];\n}; // In these types, \"\" (empty string) means \"no change\".\n\n\n/**\n * This is the main options class. It contains the current style, size, color,\n * and font.\n *\n * Options objects should not be modified. To create a new Options with\n * different properties, call a `.having*` method.\n */\nclass Options {\n  // A font family applies to a group of fonts (i.e. SansSerif), while a font\n  // represents a specific font (i.e. SansSerif Bold).\n  // See: https://tex.stackexchange.com/questions/22350/difference-between-textrm-and-mathrm\n\n  /**\n   * The base size index.\n   */\n  constructor(data) {\n    this.style = void 0;\n    this.color = void 0;\n    this.size = void 0;\n    this.textSize = void 0;\n    this.phantom = void 0;\n    this.font = void 0;\n    this.fontFamily = void 0;\n    this.fontWeight = void 0;\n    this.fontShape = void 0;\n    this.sizeMultiplier = void 0;\n    this.maxSize = void 0;\n    this.minRuleThickness = void 0;\n    this._fontMetrics = void 0;\n    this.style = data.style;\n    this.color = data.color;\n    this.size = data.size || Options.BASESIZE;\n    this.textSize = data.textSize || this.size;\n    this.phantom = !!data.phantom;\n    this.font = data.font || \"\";\n    this.fontFamily = data.fontFamily || \"\";\n    this.fontWeight = data.fontWeight || '';\n    this.fontShape = data.fontShape || '';\n    this.sizeMultiplier = sizeMultipliers[this.size - 1];\n    this.maxSize = data.maxSize;\n    this.minRuleThickness = data.minRuleThickness;\n    this._fontMetrics = undefined;\n  }\n  /**\n   * Returns a new options object with the same properties as \"this\".  Properties\n   * from \"extension\" will be copied to the new options object.\n   */\n\n\n  extend(extension) {\n    var data = {\n      style: this.style,\n      size: this.size,\n      textSize: this.textSize,\n      color: this.color,\n      phantom: this.phantom,\n      font: this.font,\n      fontFamily: this.fontFamily,\n      fontWeight: this.fontWeight,\n      fontShape: this.fontShape,\n      maxSize: this.maxSize,\n      minRuleThickness: this.minRuleThickness\n    };\n\n    for (var key in extension) {\n      if (extension.hasOwnProperty(key)) {\n        data[key] = extension[key];\n      }\n    }\n\n    return new Options(data);\n  }\n  /**\n   * Return an options object with the given style. If `this.style === style`,\n   * returns `this`.\n   */\n\n\n  havingStyle(style) {\n    if (this.style === style) {\n      return this;\n    } else {\n      return this.extend({\n        style: style,\n        size: sizeAtStyle(this.textSize, style)\n      });\n    }\n  }\n  /**\n   * Return an options object with a cramped version of the current style. If\n   * the current style is cramped, returns `this`.\n   */\n\n\n  havingCrampedStyle() {\n    return this.havingStyle(this.style.cramp());\n  }\n  /**\n   * Return an options object with the given size and in at least `\\textstyle`.\n   * Returns `this` if appropriate.\n   */\n\n\n  havingSize(size) {\n    if (this.size === size && this.textSize === size) {\n      return this;\n    } else {\n      return this.extend({\n        style: this.style.text(),\n        size: size,\n        textSize: size,\n        sizeMultiplier: sizeMultipliers[size - 1]\n      });\n    }\n  }\n  /**\n   * Like `this.havingSize(BASESIZE).havingStyle(style)`. If `style` is omitted,\n   * changes to at least `\\textstyle`.\n   */\n\n\n  havingBaseStyle(style) {\n    style = style || this.style.text();\n    var wantSize = sizeAtStyle(Options.BASESIZE, style);\n\n    if (this.size === wantSize && this.textSize === Options.BASESIZE && this.style === style) {\n      return this;\n    } else {\n      return this.extend({\n        style: style,\n        size: wantSize\n      });\n    }\n  }\n  /**\n   * Remove the effect of sizing changes such as \\Huge.\n   * Keep the effect of the current style, such as \\scriptstyle.\n   */\n\n\n  havingBaseSizing() {\n    var size;\n\n    switch (this.style.id) {\n      case 4:\n      case 5:\n        size = 3; // normalsize in scriptstyle\n\n        break;\n\n      case 6:\n      case 7:\n        size = 1; // normalsize in scriptscriptstyle\n\n        break;\n\n      default:\n        size = 6;\n      // normalsize in textstyle or displaystyle\n    }\n\n    return this.extend({\n      style: this.style.text(),\n      size: size\n    });\n  }\n  /**\n   * Create a new options object with the given color.\n   */\n\n\n  withColor(color) {\n    return this.extend({\n      color: color\n    });\n  }\n  /**\n   * Create a new options object with \"phantom\" set to true.\n   */\n\n\n  withPhantom() {\n    return this.extend({\n      phantom: true\n    });\n  }\n  /**\n   * Creates a new options object with the given math font or old text font.\n   * @type {[type]}\n   */\n\n\n  withFont(font) {\n    return this.extend({\n      font\n    });\n  }\n  /**\n   * Create a new options objects with the given fontFamily.\n   */\n\n\n  withTextFontFamily(fontFamily) {\n    return this.extend({\n      fontFamily,\n      font: \"\"\n    });\n  }\n  /**\n   * Creates a new options object with the given font weight\n   */\n\n\n  withTextFontWeight(fontWeight) {\n    return this.extend({\n      fontWeight,\n      font: \"\"\n    });\n  }\n  /**\n   * Creates a new options object with the given font weight\n   */\n\n\n  withTextFontShape(fontShape) {\n    return this.extend({\n      fontShape,\n      font: \"\"\n    });\n  }\n  /**\n   * Return the CSS sizing classes required to switch from enclosing options\n   * `oldOptions` to `this`. Returns an array of classes.\n   */\n\n\n  sizingClasses(oldOptions) {\n    if (oldOptions.size !== this.size) {\n      return [\"sizing\", \"reset-size\" + oldOptions.size, \"size\" + this.size];\n    } else {\n      return [];\n    }\n  }\n  /**\n   * Return the CSS sizing classes required to switch to the base size. Like\n   * `this.havingSize(BASESIZE).sizingClasses(this)`.\n   */\n\n\n  baseSizingClasses() {\n    if (this.size !== Options.BASESIZE) {\n      return [\"sizing\", \"reset-size\" + this.size, \"size\" + Options.BASESIZE];\n    } else {\n      return [];\n    }\n  }\n  /**\n   * Return the font metrics for this size.\n   */\n\n\n  fontMetrics() {\n    if (!this._fontMetrics) {\n      this._fontMetrics = getGlobalMetrics(this.size);\n    }\n\n    return this._fontMetrics;\n  }\n  /**\n   * Gets the CSS color of the current options object\n   */\n\n\n  getColor() {\n    if (this.phantom) {\n      return \"transparent\";\n    } else {\n      return this.color;\n    }\n  }\n\n}\n\nOptions.BASESIZE = 6;\n\n/**\n * This file does conversion between units.  In particular, it provides\n * calculateSize to convert other units into ems.\n */\n// Thus, multiplying a length by this number converts the length from units\n// into pts.  Dividing the result by ptPerEm gives the number of ems\n// *assuming* a font size of ptPerEm (normal size, normal style).\n\nvar ptPerUnit = {\n  // https://en.wikibooks.org/wiki/LaTeX/Lengths and\n  // https://tex.stackexchange.com/a/8263\n  \"pt\": 1,\n  // TeX point\n  \"mm\": 7227 / 2540,\n  // millimeter\n  \"cm\": 7227 / 254,\n  // centimeter\n  \"in\": 72.27,\n  // inch\n  \"bp\": 803 / 800,\n  // big (PostScript) points\n  \"pc\": 12,\n  // pica\n  \"dd\": 1238 / 1157,\n  // didot\n  \"cc\": 14856 / 1157,\n  // cicero (12 didot)\n  \"nd\": 685 / 642,\n  // new didot\n  \"nc\": 1370 / 107,\n  // new cicero (12 new didot)\n  \"sp\": 1 / 65536,\n  // scaled point (TeX's internal smallest unit)\n  // https://tex.stackexchange.com/a/41371\n  \"px\": 803 / 800 // \\pdfpxdimen defaults to 1 bp in pdfTeX and LuaTeX\n\n}; // Dictionary of relative units, for fast validity testing.\n\nvar relativeUnit = {\n  \"ex\": true,\n  \"em\": true,\n  \"mu\": true\n};\n\n/**\n * Determine whether the specified unit (either a string defining the unit\n * or a \"size\" parse node containing a unit field) is valid.\n */\nvar validUnit = function validUnit(unit) {\n  if (typeof unit !== \"string\") {\n    unit = unit.unit;\n  }\n\n  return unit in ptPerUnit || unit in relativeUnit || unit === \"ex\";\n};\n/*\n * Convert a \"size\" parse node (with numeric \"number\" and string \"unit\" fields,\n * as parsed by functions.js argType \"size\") into a CSS em value for the\n * current style/scale.  `options` gives the current options.\n */\n\nvar calculateSize = function calculateSize(sizeValue, options) {\n  var scale;\n\n  if (sizeValue.unit in ptPerUnit) {\n    // Absolute units\n    scale = ptPerUnit[sizeValue.unit] // Convert unit to pt\n    / options.fontMetrics().ptPerEm // Convert pt to CSS em\n    / options.sizeMultiplier; // Unscale to make absolute units\n  } else if (sizeValue.unit === \"mu\") {\n    // `mu` units scale with scriptstyle/scriptscriptstyle.\n    scale = options.fontMetrics().cssEmPerMu;\n  } else {\n    // Other relative units always refer to the *textstyle* font\n    // in the current size.\n    var unitOptions;\n\n    if (options.style.isTight()) {\n      // isTight() means current style is script/scriptscript.\n      unitOptions = options.havingStyle(options.style.text());\n    } else {\n      unitOptions = options;\n    } // TODO: In TeX these units are relative to the quad of the current\n    // *text* font, e.g. cmr10. KaTeX instead uses values from the\n    // comparably-sized *Computer Modern symbol* font. At 10pt, these\n    // match. At 7pt and 5pt, they differ: cmr7=1.138894, cmsy7=1.170641;\n    // cmr5=1.361133, cmsy5=1.472241. Consider $\\scriptsize a\\kern1emb$.\n    // TeX \\showlists shows a kern of 1.13889 * fontsize;\n    // KaTeX shows a kern of 1.171 * fontsize.\n\n\n    if (sizeValue.unit === \"ex\") {\n      scale = unitOptions.fontMetrics().xHeight;\n    } else if (sizeValue.unit === \"em\") {\n      scale = unitOptions.fontMetrics().quad;\n    } else {\n      throw new ParseError(\"Invalid unit: '\" + sizeValue.unit + \"'\");\n    }\n\n    if (unitOptions !== options) {\n      scale *= unitOptions.sizeMultiplier / options.sizeMultiplier;\n    }\n  }\n\n  return Math.min(sizeValue.number * scale, options.maxSize);\n};\n\n/* eslint no-console:0 */\n\n/**\n * Looks up the given symbol in fontMetrics, after applying any symbol\n * replacements defined in symbol.js\n */\nvar lookupSymbol = function lookupSymbol(value, // TODO(#963): Use a union type for this.\nfontName, mode) {\n  // Replace the value with its replaced value from symbol.js\n  if (symbols[mode][value] && symbols[mode][value].replace) {\n    value = symbols[mode][value].replace;\n  }\n\n  return {\n    value: value,\n    metrics: getCharacterMetrics(value, fontName, mode)\n  };\n};\n/**\n * Makes a symbolNode after translation via the list of symbols in symbols.js.\n * Correctly pulls out metrics for the character, and optionally takes a list of\n * classes to be attached to the node.\n *\n * TODO: make argument order closer to makeSpan\n * TODO: add a separate argument for math class (e.g. `mop`, `mbin`), which\n * should if present come first in `classes`.\n * TODO(#953): Make `options` mandatory and always pass it in.\n */\n\n\nvar makeSymbol = function makeSymbol(value, fontName, mode, options, classes) {\n  var lookup = lookupSymbol(value, fontName, mode);\n  var metrics = lookup.metrics;\n  value = lookup.value;\n  var symbolNode;\n\n  if (metrics) {\n    var italic = metrics.italic;\n\n    if (mode === \"text\" || options && options.font === \"mathit\") {\n      italic = 0;\n    }\n\n    symbolNode = new SymbolNode(value, metrics.height, metrics.depth, italic, metrics.skew, metrics.width, classes);\n  } else {\n    // TODO(emily): Figure out a good way to only print this in development\n    typeof console !== \"undefined\" && console.warn(\"No character metrics \" + (\"for '\" + value + \"' in style '\" + fontName + \"' and mode '\" + mode + \"'\"));\n    symbolNode = new SymbolNode(value, 0, 0, 0, 0, 0, classes);\n  }\n\n  if (options) {\n    symbolNode.maxFontSize = options.sizeMultiplier;\n\n    if (options.style.isTight()) {\n      symbolNode.classes.push(\"mtight\");\n    }\n\n    var color = options.getColor();\n\n    if (color) {\n      symbolNode.style.color = color;\n    }\n  }\n\n  return symbolNode;\n};\n/**\n * Makes a symbol in Main-Regular or AMS-Regular.\n * Used for rel, bin, open, close, inner, and punct.\n */\n\n\nvar mathsym = function mathsym(value, mode, options, classes) {\n  if (classes === void 0) {\n    classes = [];\n  }\n\n  // Decide what font to render the symbol in by its entry in the symbols\n  // table.\n  // Have a special case for when the value = \\ because the \\ is used as a\n  // textord in unsupported command errors but cannot be parsed as a regular\n  // text ordinal and is therefore not present as a symbol in the symbols\n  // table for text, as well as a special case for boldsymbol because it\n  // can be used for bold + and -\n  if (options.font === \"boldsymbol\" && lookupSymbol(value, \"Main-Bold\", mode).metrics) {\n    return makeSymbol(value, \"Main-Bold\", mode, options, classes.concat([\"mathbf\"]));\n  } else if (value === \"\\\\\" || symbols[mode][value].font === \"main\") {\n    return makeSymbol(value, \"Main-Regular\", mode, options, classes);\n  } else {\n    return makeSymbol(value, \"AMS-Regular\", mode, options, classes.concat([\"amsrm\"]));\n  }\n};\n/**\n * Determines which of the two font names (Main-Bold and Math-BoldItalic) and\n * corresponding style tags (mathbf or boldsymbol) to use for font \"boldsymbol\",\n * depending on the symbol.  Use this function instead of fontMap for font\n * \"boldsymbol\".\n */\n\n\nvar boldsymbol = function boldsymbol(value, mode, options, classes, type) {\n  if (type !== \"textord\" && lookupSymbol(value, \"Math-BoldItalic\", mode).metrics) {\n    return {\n      fontName: \"Math-BoldItalic\",\n      fontClass: \"boldsymbol\"\n    };\n  } else {\n    // Some glyphs do not exist in Math-BoldItalic so we need to use\n    // Main-Bold instead.\n    return {\n      fontName: \"Main-Bold\",\n      fontClass: \"mathbf\"\n    };\n  }\n};\n/**\n * Makes either a mathord or textord in the correct font and color.\n */\n\n\nvar makeOrd = function makeOrd(group, options, type) {\n  var mode = group.mode;\n  var text = group.text;\n  var classes = [\"mord\"]; // Math mode or Old font (i.e. \\rm)\n\n  var isFont = mode === \"math\" || mode === \"text\" && options.font;\n  var fontOrFamily = isFont ? options.font : options.fontFamily;\n\n  if (text.charCodeAt(0) === 0xD835) {\n    // surrogate pairs get special treatment\n    var [wideFontName, wideFontClass] = wideCharacterFont(text, mode);\n    return makeSymbol(text, wideFontName, mode, options, classes.concat(wideFontClass));\n  } else if (fontOrFamily) {\n    var fontName;\n    var fontClasses;\n\n    if (fontOrFamily === \"boldsymbol\") {\n      var fontData = boldsymbol(text, mode, options, classes, type);\n      fontName = fontData.fontName;\n      fontClasses = [fontData.fontClass];\n    } else if (isFont) {\n      fontName = fontMap[fontOrFamily].fontName;\n      fontClasses = [fontOrFamily];\n    } else {\n      fontName = retrieveTextFontName(fontOrFamily, options.fontWeight, options.fontShape);\n      fontClasses = [fontOrFamily, options.fontWeight, options.fontShape];\n    }\n\n    if (lookupSymbol(text, fontName, mode).metrics) {\n      return makeSymbol(text, fontName, mode, options, classes.concat(fontClasses));\n    } else if (ligatures.hasOwnProperty(text) && fontName.substr(0, 10) === \"Typewriter\") {\n      // Deconstruct ligatures in monospace fonts (\\texttt, \\tt).\n      var parts = [];\n\n      for (var i = 0; i < text.length; i++) {\n        parts.push(makeSymbol(text[i], fontName, mode, options, classes.concat(fontClasses)));\n      }\n\n      return makeFragment(parts);\n    }\n  } // Makes a symbol in the default font for mathords and textords.\n\n\n  if (type === \"mathord\") {\n    return makeSymbol(text, \"Math-Italic\", mode, options, classes.concat([\"mathnormal\"]));\n  } else if (type === \"textord\") {\n    var font = symbols[mode][text] && symbols[mode][text].font;\n\n    if (font === \"ams\") {\n      var _fontName = retrieveTextFontName(\"amsrm\", options.fontWeight, options.fontShape);\n\n      return makeSymbol(text, _fontName, mode, options, classes.concat(\"amsrm\", options.fontWeight, options.fontShape));\n    } else if (font === \"main\" || !font) {\n      var _fontName2 = retrieveTextFontName(\"textrm\", options.fontWeight, options.fontShape);\n\n      return makeSymbol(text, _fontName2, mode, options, classes.concat(options.fontWeight, options.fontShape));\n    } else {\n      // fonts added by plugins\n      var _fontName3 = retrieveTextFontName(font, options.fontWeight, options.fontShape); // We add font name as a css class\n\n\n      return makeSymbol(text, _fontName3, mode, options, classes.concat(_fontName3, options.fontWeight, options.fontShape));\n    }\n  } else {\n    throw new Error(\"unexpected type: \" + type + \" in makeOrd\");\n  }\n};\n/**\n * Returns true if subsequent symbolNodes have the same classes, skew, maxFont,\n * and styles.\n */\n\n\nvar canCombine = (prev, next) => {\n  if (createClass(prev.classes) !== createClass(next.classes) || prev.skew !== next.skew || prev.maxFontSize !== next.maxFontSize) {\n    return false;\n  } // If prev and next both are just \"mbin\"s or \"mord\"s we don't combine them\n  // so that the proper spacing can be preserved.\n\n\n  if (prev.classes.length === 1) {\n    var cls = prev.classes[0];\n\n    if (cls === \"mbin\" || cls === \"mord\") {\n      return false;\n    }\n  }\n\n  for (var style in prev.style) {\n    if (prev.style.hasOwnProperty(style) && prev.style[style] !== next.style[style]) {\n      return false;\n    }\n  }\n\n  for (var _style in next.style) {\n    if (next.style.hasOwnProperty(_style) && prev.style[_style] !== next.style[_style]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n/**\n * Combine consecutive domTree.symbolNodes into a single symbolNode.\n * Note: this function mutates the argument.\n */\n\n\nvar tryCombineChars = chars => {\n  for (var i = 0; i < chars.length - 1; i++) {\n    var prev = chars[i];\n    var next = chars[i + 1];\n\n    if (prev instanceof SymbolNode && next instanceof SymbolNode && canCombine(prev, next)) {\n      prev.text += next.text;\n      prev.height = Math.max(prev.height, next.height);\n      prev.depth = Math.max(prev.depth, next.depth); // Use the last character's italic correction since we use\n      // it to add padding to the right of the span created from\n      // the combined characters.\n\n      prev.italic = next.italic;\n      chars.splice(i + 1, 1);\n      i--;\n    }\n  }\n\n  return chars;\n};\n/**\n * Calculate the height, depth, and maxFontSize of an element based on its\n * children.\n */\n\n\nvar sizeElementFromChildren = function sizeElementFromChildren(elem) {\n  var height = 0;\n  var depth = 0;\n  var maxFontSize = 0;\n\n  for (var i = 0; i < elem.children.length; i++) {\n    var child = elem.children[i];\n\n    if (child.height > height) {\n      height = child.height;\n    }\n\n    if (child.depth > depth) {\n      depth = child.depth;\n    }\n\n    if (child.maxFontSize > maxFontSize) {\n      maxFontSize = child.maxFontSize;\n    }\n  }\n\n  elem.height = height;\n  elem.depth = depth;\n  elem.maxFontSize = maxFontSize;\n};\n/**\n * Makes a span with the given list of classes, list of children, and options.\n *\n * TODO(#953): Ensure that `options` is always provided (currently some call\n * sites don't pass it) and make the type below mandatory.\n * TODO: add a separate argument for math class (e.g. `mop`, `mbin`), which\n * should if present come first in `classes`.\n */\n\n\nvar makeSpan = function makeSpan(classes, children, options, style) {\n  var span = new Span(classes, children, options, style);\n  sizeElementFromChildren(span);\n  return span;\n}; // SVG one is simpler -- doesn't require height, depth, max-font setting.\n// This is also a separate method for typesafety.\n\n\nvar makeSvgSpan = (classes, children, options, style) => new Span(classes, children, options, style);\n\nvar makeLineSpan = function makeLineSpan(className, options, thickness) {\n  var line = makeSpan([className], [], options);\n  line.height = Math.max(thickness || options.fontMetrics().defaultRuleThickness, options.minRuleThickness);\n  line.style.borderBottomWidth = line.height + \"em\";\n  line.maxFontSize = 1.0;\n  return line;\n};\n/**\n * Makes an anchor with the given href, list of classes, list of children,\n * and options.\n */\n\n\nvar makeAnchor = function makeAnchor(href, classes, children, options) {\n  var anchor = new Anchor(href, classes, children, options);\n  sizeElementFromChildren(anchor);\n  return anchor;\n};\n/**\n * Makes a document fragment with the given list of children.\n */\n\n\nvar makeFragment = function makeFragment(children) {\n  var fragment = new DocumentFragment(children);\n  sizeElementFromChildren(fragment);\n  return fragment;\n};\n/**\n * Wraps group in a span if it's a document fragment, allowing to apply classes\n * and styles\n */\n\n\nvar wrapFragment = function wrapFragment(group, options) {\n  if (group instanceof DocumentFragment) {\n    return makeSpan([], [group], options);\n  }\n\n  return group;\n}; // These are exact object types to catch typos in the names of the optional fields.\n\n\n// Computes the updated `children` list and the overall depth.\n//\n// This helper function for makeVList makes it easier to enforce type safety by\n// allowing early exits (returns) in the logic.\nvar getVListChildrenAndDepth = function getVListChildrenAndDepth(params) {\n  if (params.positionType === \"individualShift\") {\n    var oldChildren = params.children;\n    var children = [oldChildren[0]]; // Add in kerns to the list of params.children to get each element to be\n    // shifted to the correct specified shift\n\n    var _depth = -oldChildren[0].shift - oldChildren[0].elem.depth;\n\n    var currPos = _depth;\n\n    for (var i = 1; i < oldChildren.length; i++) {\n      var diff = -oldChildren[i].shift - currPos - oldChildren[i].elem.depth;\n      var size = diff - (oldChildren[i - 1].elem.height + oldChildren[i - 1].elem.depth);\n      currPos = currPos + diff;\n      children.push({\n        type: \"kern\",\n        size\n      });\n      children.push(oldChildren[i]);\n    }\n\n    return {\n      children,\n      depth: _depth\n    };\n  }\n\n  var depth;\n\n  if (params.positionType === \"top\") {\n    // We always start at the bottom, so calculate the bottom by adding up\n    // all the sizes\n    var bottom = params.positionData;\n\n    for (var _i = 0; _i < params.children.length; _i++) {\n      var child = params.children[_i];\n      bottom -= child.type === \"kern\" ? child.size : child.elem.height + child.elem.depth;\n    }\n\n    depth = bottom;\n  } else if (params.positionType === \"bottom\") {\n    depth = -params.positionData;\n  } else {\n    var firstChild = params.children[0];\n\n    if (firstChild.type !== \"elem\") {\n      throw new Error('First child must have type \"elem\".');\n    }\n\n    if (params.positionType === \"shift\") {\n      depth = -firstChild.elem.depth - params.positionData;\n    } else if (params.positionType === \"firstBaseline\") {\n      depth = -firstChild.elem.depth;\n    } else {\n      throw new Error(\"Invalid positionType \" + params.positionType + \".\");\n    }\n  }\n\n  return {\n    children: params.children,\n    depth\n  };\n};\n/**\n * Makes a vertical list by stacking elements and kerns on top of each other.\n * Allows for many different ways of specifying the positioning method.\n *\n * See VListParam documentation above.\n */\n\n\nvar makeVList = function makeVList(params, options) {\n  var {\n    children,\n    depth\n  } = getVListChildrenAndDepth(params); // Create a strut that is taller than any list item. The strut is added to\n  // each item, where it will determine the item's baseline. Since it has\n  // `overflow:hidden`, the strut's top edge will sit on the item's line box's\n  // top edge and the strut's bottom edge will sit on the item's baseline,\n  // with no additional line-height spacing. This allows the item baseline to\n  // be positioned precisely without worrying about font ascent and\n  // line-height.\n\n  var pstrutSize = 0;\n\n  for (var i = 0; i < children.length; i++) {\n    var child = children[i];\n\n    if (child.type === \"elem\") {\n      var elem = child.elem;\n      pstrutSize = Math.max(pstrutSize, elem.maxFontSize, elem.height);\n    }\n  }\n\n  pstrutSize += 2;\n  var pstrut = makeSpan([\"pstrut\"], []);\n  pstrut.style.height = pstrutSize + \"em\"; // Create a new list of actual children at the correct offsets\n\n  var realChildren = [];\n  var minPos = depth;\n  var maxPos = depth;\n  var currPos = depth;\n\n  for (var _i2 = 0; _i2 < children.length; _i2++) {\n    var _child = children[_i2];\n\n    if (_child.type === \"kern\") {\n      currPos += _child.size;\n    } else {\n      var _elem = _child.elem;\n      var classes = _child.wrapperClasses || [];\n      var style = _child.wrapperStyle || {};\n      var childWrap = makeSpan(classes, [pstrut, _elem], undefined, style);\n      childWrap.style.top = -pstrutSize - currPos - _elem.depth + \"em\";\n\n      if (_child.marginLeft) {\n        childWrap.style.marginLeft = _child.marginLeft;\n      }\n\n      if (_child.marginRight) {\n        childWrap.style.marginRight = _child.marginRight;\n      }\n\n      realChildren.push(childWrap);\n      currPos += _elem.height + _elem.depth;\n    }\n\n    minPos = Math.min(minPos, currPos);\n    maxPos = Math.max(maxPos, currPos);\n  } // The vlist contents go in a table-cell with `vertical-align:bottom`.\n  // This cell's bottom edge will determine the containing table's baseline\n  // without overly expanding the containing line-box.\n\n\n  var vlist = makeSpan([\"vlist\"], realChildren);\n  vlist.style.height = maxPos + \"em\"; // A second row is used if necessary to represent the vlist's depth.\n\n  var rows;\n\n  if (minPos < 0) {\n    // We will define depth in an empty span with display: table-cell.\n    // It should render with the height that we define. But Chrome, in\n    // contenteditable mode only, treats that span as if it contains some\n    // text content. And that min-height over-rides our desired height.\n    // So we put another empty span inside the depth strut span.\n    var emptySpan = makeSpan([], []);\n    var depthStrut = makeSpan([\"vlist\"], [emptySpan]);\n    depthStrut.style.height = -minPos + \"em\"; // Safari wants the first row to have inline content; otherwise it\n    // puts the bottom of the *second* row on the baseline.\n\n    var topStrut = makeSpan([\"vlist-s\"], [new SymbolNode(\"\\u200b\")]);\n    rows = [makeSpan([\"vlist-r\"], [vlist, topStrut]), makeSpan([\"vlist-r\"], [depthStrut])];\n  } else {\n    rows = [makeSpan([\"vlist-r\"], [vlist])];\n  }\n\n  var vtable = makeSpan([\"vlist-t\"], rows);\n\n  if (rows.length === 2) {\n    vtable.classes.push(\"vlist-t2\");\n  }\n\n  vtable.height = maxPos;\n  vtable.depth = -minPos;\n  return vtable;\n}; // Glue is a concept from TeX which is a flexible space between elements in\n// either a vertical or horizontal list. In KaTeX, at least for now, it's\n// static space between elements in a horizontal layout.\n\n\nvar makeGlue = (measurement, options) => {\n  // Make an empty span for the space\n  var rule = makeSpan([\"mspace\"], [], options);\n  var size = calculateSize(measurement, options);\n  rule.style.marginRight = size + \"em\";\n  return rule;\n}; // Takes font options, and returns the appropriate fontLookup name\n\n\nvar retrieveTextFontName = function retrieveTextFontName(fontFamily, fontWeight, fontShape) {\n  var baseFontName = \"\";\n\n  switch (fontFamily) {\n    case \"amsrm\":\n      baseFontName = \"AMS\";\n      break;\n\n    case \"textrm\":\n      baseFontName = \"Main\";\n      break;\n\n    case \"textsf\":\n      baseFontName = \"SansSerif\";\n      break;\n\n    case \"texttt\":\n      baseFontName = \"Typewriter\";\n      break;\n\n    default:\n      baseFontName = fontFamily;\n    // use fonts added by a plugin\n  }\n\n  var fontStylesName;\n\n  if (fontWeight === \"textbf\" && fontShape === \"textit\") {\n    fontStylesName = \"BoldItalic\";\n  } else if (fontWeight === \"textbf\") {\n    fontStylesName = \"Bold\";\n  } else if (fontWeight === \"textit\") {\n    fontStylesName = \"Italic\";\n  } else {\n    fontStylesName = \"Regular\";\n  }\n\n  return baseFontName + \"-\" + fontStylesName;\n};\n/**\n * Maps TeX font commands to objects containing:\n * - variant: string used for \"mathvariant\" attribute in buildMathML.js\n * - fontName: the \"style\" parameter to fontMetrics.getCharacterMetrics\n */\n// A map between tex font commands an MathML mathvariant attribute values\n\n\nvar fontMap = {\n  // styles\n  \"mathbf\": {\n    variant: \"bold\",\n    fontName: \"Main-Bold\"\n  },\n  \"mathrm\": {\n    variant: \"normal\",\n    fontName: \"Main-Regular\"\n  },\n  \"textit\": {\n    variant: \"italic\",\n    fontName: \"Main-Italic\"\n  },\n  \"mathit\": {\n    variant: \"italic\",\n    fontName: \"Main-Italic\"\n  },\n  \"mathnormal\": {\n    variant: \"italic\",\n    fontName: \"Math-Italic\"\n  },\n  // \"boldsymbol\" is missing because they require the use of multiple fonts:\n  // Math-BoldItalic and Main-Bold.  This is handled by a special case in\n  // makeOrd which ends up calling boldsymbol.\n  // families\n  \"mathbb\": {\n    variant: \"double-struck\",\n    fontName: \"AMS-Regular\"\n  },\n  \"mathcal\": {\n    variant: \"script\",\n    fontName: \"Caligraphic-Regular\"\n  },\n  \"mathfrak\": {\n    variant: \"fraktur\",\n    fontName: \"Fraktur-Regular\"\n  },\n  \"mathscr\": {\n    variant: \"script\",\n    fontName: \"Script-Regular\"\n  },\n  \"mathsf\": {\n    variant: \"sans-serif\",\n    fontName: \"SansSerif-Regular\"\n  },\n  \"mathtt\": {\n    variant: \"monospace\",\n    fontName: \"Typewriter-Regular\"\n  }\n};\nvar svgData = {\n  //   path, width, height\n  vec: [\"vec\", 0.471, 0.714],\n  // values from the font glyph\n  oiintSize1: [\"oiintSize1\", 0.957, 0.499],\n  // oval to overlay the integrand\n  oiintSize2: [\"oiintSize2\", 1.472, 0.659],\n  oiiintSize1: [\"oiiintSize1\", 1.304, 0.499],\n  oiiintSize2: [\"oiiintSize2\", 1.98, 0.659]\n};\n\nvar staticSvg = function staticSvg(value, options) {\n  // Create a span with inline SVG for the element.\n  var [pathName, width, height] = svgData[value];\n  var path = new PathNode(pathName);\n  var svgNode = new SvgNode([path], {\n    \"width\": width + \"em\",\n    \"height\": height + \"em\",\n    // Override CSS rule `.katex svg { width: 100% }`\n    \"style\": \"width:\" + width + \"em\",\n    \"viewBox\": \"0 0 \" + 1000 * width + \" \" + 1000 * height,\n    \"preserveAspectRatio\": \"xMinYMin\"\n  });\n  var span = makeSvgSpan([\"overlay\"], [svgNode], options);\n  span.height = height;\n  span.style.height = height + \"em\";\n  span.style.width = width + \"em\";\n  return span;\n};\n\nvar buildCommon = {\n  fontMap,\n  makeSymbol,\n  mathsym,\n  makeSpan,\n  makeSvgSpan,\n  makeLineSpan,\n  makeAnchor,\n  makeFragment,\n  wrapFragment,\n  makeVList,\n  makeOrd,\n  makeGlue,\n  staticSvg,\n  svgData,\n  tryCombineChars\n};\n\n/**\n * Describes spaces between different classes of atoms.\n */\nvar thinspace = {\n  number: 3,\n  unit: \"mu\"\n};\nvar mediumspace = {\n  number: 4,\n  unit: \"mu\"\n};\nvar thickspace = {\n  number: 5,\n  unit: \"mu\"\n}; // Making the type below exact with all optional fields doesn't work due to\n// - https://github.com/facebook/flow/issues/4582\n// - https://github.com/facebook/flow/issues/5688\n// However, since *all* fields are optional, $Shape<> works as suggested in 5688\n// above.\n\n// Spacing relationships for display and text styles\nvar spacings = {\n  mord: {\n    mop: thinspace,\n    mbin: mediumspace,\n    mrel: thickspace,\n    minner: thinspace\n  },\n  mop: {\n    mord: thinspace,\n    mop: thinspace,\n    mrel: thickspace,\n    minner: thinspace\n  },\n  mbin: {\n    mord: mediumspace,\n    mop: mediumspace,\n    mopen: mediumspace,\n    minner: mediumspace\n  },\n  mrel: {\n    mord: thickspace,\n    mop: thickspace,\n    mopen: thickspace,\n    minner: thickspace\n  },\n  mopen: {},\n  mclose: {\n    mop: thinspace,\n    mbin: mediumspace,\n    mrel: thickspace,\n    minner: thinspace\n  },\n  mpunct: {\n    mord: thinspace,\n    mop: thinspace,\n    mrel: thickspace,\n    mopen: thinspace,\n    mclose: thinspace,\n    mpunct: thinspace,\n    minner: thinspace\n  },\n  minner: {\n    mord: thinspace,\n    mop: thinspace,\n    mbin: mediumspace,\n    mrel: thickspace,\n    mopen: thinspace,\n    mpunct: thinspace,\n    minner: thinspace\n  }\n}; // Spacing relationships for script and scriptscript styles\n\nvar tightSpacings = {\n  mord: {\n    mop: thinspace\n  },\n  mop: {\n    mord: thinspace,\n    mop: thinspace\n  },\n  mbin: {},\n  mrel: {},\n  mopen: {},\n  mclose: {\n    mop: thinspace\n  },\n  mpunct: {},\n  minner: {\n    mop: thinspace\n  }\n};\n\n/** Context provided to function handlers for error messages. */\n// Note: reverse the order of the return type union will cause a flow error.\n// See https://github.com/facebook/flow/issues/3663.\n// More general version of `HtmlBuilder` for nodes (e.g. \\sum, accent types)\n// whose presence impacts super/subscripting. In this case, ParseNode<\"supsub\">\n// delegates its HTML building to the HtmlBuilder corresponding to these nodes.\n\n/**\n * Final function spec for use at parse time.\n * This is almost identical to `FunctionPropSpec`, except it\n * 1. includes the function handler, and\n * 2. requires all arguments except argTypes.\n * It is generated by `defineFunction()` below.\n */\n\n/**\n * All registered functions.\n * `functions.js` just exports this same dictionary again and makes it public.\n * `Parser.js` requires this dictionary.\n */\nvar _functions = {};\n/**\n * All HTML builders. Should be only used in the `define*` and the `build*ML`\n * functions.\n */\n\nvar _htmlGroupBuilders = {};\n/**\n * All MathML builders. Should be only used in the `define*` and the `build*ML`\n * functions.\n */\n\nvar _mathmlGroupBuilders = {};\nfunction defineFunction(_ref) {\n  var {\n    type,\n    names,\n    props,\n    handler,\n    htmlBuilder,\n    mathmlBuilder\n  } = _ref;\n  // Set default values of functions\n  var data = {\n    type,\n    numArgs: props.numArgs,\n    argTypes: props.argTypes,\n    allowedInArgument: !!props.allowedInArgument,\n    allowedInText: !!props.allowedInText,\n    allowedInMath: props.allowedInMath === undefined ? true : props.allowedInMath,\n    numOptionalArgs: props.numOptionalArgs || 0,\n    infix: !!props.infix,\n    primitive: !!props.primitive,\n    handler: handler\n  };\n\n  for (var i = 0; i < names.length; ++i) {\n    _functions[names[i]] = data;\n  }\n\n  if (type) {\n    if (htmlBuilder) {\n      _htmlGroupBuilders[type] = htmlBuilder;\n    }\n\n    if (mathmlBuilder) {\n      _mathmlGroupBuilders[type] = mathmlBuilder;\n    }\n  }\n}\n/**\n * Use this to register only the HTML and MathML builders for a function (e.g.\n * if the function's ParseNode is generated in Parser.js rather than via a\n * stand-alone handler provided to `defineFunction`).\n */\n\nfunction defineFunctionBuilders(_ref2) {\n  var {\n    type,\n    htmlBuilder,\n    mathmlBuilder\n  } = _ref2;\n  defineFunction({\n    type,\n    names: [],\n    props: {\n      numArgs: 0\n    },\n\n    handler() {\n      throw new Error('Should never be called.');\n    },\n\n    htmlBuilder,\n    mathmlBuilder\n  });\n}\nvar normalizeArgument = function normalizeArgument(arg) {\n  return arg.type === \"ordgroup\" && arg.body.length === 1 ? arg.body[0] : arg;\n}; // Since the corresponding buildHTML/buildMathML function expects a\n// list of elements, we normalize for different kinds of arguments\n\nvar ordargument = function ordargument(arg) {\n  return arg.type === \"ordgroup\" ? arg.body : [arg];\n};\n\n/**\n * This file does the main work of building a domTree structure from a parse\n * tree. The entry point is the `buildHTML` function, which takes a parse tree.\n * Then, the buildExpression, buildGroup, and various groupBuilders functions\n * are called, to produce a final HTML tree.\n */\nvar makeSpan$1 = buildCommon.makeSpan; // Binary atoms (first class `mbin`) change into ordinary atoms (`mord`)\n// depending on their surroundings. See TeXbook pg. 442-446, Rules 5 and 6,\n// and the text before Rule 19.\n\nvar binLeftCanceller = [\"leftmost\", \"mbin\", \"mopen\", \"mrel\", \"mop\", \"mpunct\"];\nvar binRightCanceller = [\"rightmost\", \"mrel\", \"mclose\", \"mpunct\"];\nvar styleMap = {\n  \"display\": Style$1.DISPLAY,\n  \"text\": Style$1.TEXT,\n  \"script\": Style$1.SCRIPT,\n  \"scriptscript\": Style$1.SCRIPTSCRIPT\n};\nvar DomEnum = {\n  mord: \"mord\",\n  mop: \"mop\",\n  mbin: \"mbin\",\n  mrel: \"mrel\",\n  mopen: \"mopen\",\n  mclose: \"mclose\",\n  mpunct: \"mpunct\",\n  minner: \"minner\"\n};\n\n/**\n * Take a list of nodes, build them in order, and return a list of the built\n * nodes. documentFragments are flattened into their contents, so the\n * returned list contains no fragments. `isRealGroup` is true if `expression`\n * is a real group (no atoms will be added on either side), as opposed to\n * a partial group (e.g. one created by \\color). `surrounding` is an array\n * consisting type of nodes that will be added to the left and right.\n */\nvar buildExpression = function buildExpression(expression, options, isRealGroup, surrounding) {\n  if (surrounding === void 0) {\n    surrounding = [null, null];\n  }\n\n  // Parse expressions into `groups`.\n  var groups = [];\n\n  for (var i = 0; i < expression.length; i++) {\n    var output = buildGroup(expression[i], options);\n\n    if (output instanceof DocumentFragment) {\n      var children = output.children;\n      groups.push(...children);\n    } else {\n      groups.push(output);\n    }\n  } // Combine consecutive domTree.symbolNodes into a single symbolNode.\n\n\n  buildCommon.tryCombineChars(groups); // If `expression` is a partial group, let the parent handle spacings\n  // to avoid processing groups multiple times.\n\n  if (!isRealGroup) {\n    return groups;\n  }\n\n  var glueOptions = options;\n\n  if (expression.length === 1) {\n    var node = expression[0];\n\n    if (node.type === \"sizing\") {\n      glueOptions = options.havingSize(node.size);\n    } else if (node.type === \"styling\") {\n      glueOptions = options.havingStyle(styleMap[node.style]);\n    }\n  } // Dummy spans for determining spacings between surrounding atoms.\n  // If `expression` has no atoms on the left or right, class \"leftmost\"\n  // or \"rightmost\", respectively, is used to indicate it.\n\n\n  var dummyPrev = makeSpan$1([surrounding[0] || \"leftmost\"], [], options);\n  var dummyNext = makeSpan$1([surrounding[1] || \"rightmost\"], [], options); // TODO: These code assumes that a node's math class is the first element\n  // of its `classes` array. A later cleanup should ensure this, for\n  // instance by changing the signature of `makeSpan`.\n  // Before determining what spaces to insert, perform bin cancellation.\n  // Binary operators change to ordinary symbols in some contexts.\n\n  var isRoot = isRealGroup === \"root\";\n  traverseNonSpaceNodes(groups, (node, prev) => {\n    var prevType = prev.classes[0];\n    var type = node.classes[0];\n\n    if (prevType === \"mbin\" && utils.contains(binRightCanceller, type)) {\n      prev.classes[0] = \"mord\";\n    } else if (type === \"mbin\" && utils.contains(binLeftCanceller, prevType)) {\n      node.classes[0] = \"mord\";\n    }\n  }, {\n    node: dummyPrev\n  }, dummyNext, isRoot);\n  traverseNonSpaceNodes(groups, (node, prev) => {\n    var prevType = getTypeOfDomTree(prev);\n    var type = getTypeOfDomTree(node); // 'mtight' indicates that the node is script or scriptscript style.\n\n    var space = prevType && type ? node.hasClass(\"mtight\") ? tightSpacings[prevType][type] : spacings[prevType][type] : null;\n\n    if (space) {\n      // Insert glue (spacing) after the `prev`.\n      return buildCommon.makeGlue(space, glueOptions);\n    }\n  }, {\n    node: dummyPrev\n  }, dummyNext, isRoot);\n  return groups;\n}; // Depth-first traverse non-space `nodes`, calling `callback` with the current and\n// previous node as arguments, optionally returning a node to insert after the\n// previous node. `prev` is an object with the previous node and `insertAfter`\n// function to insert after it. `next` is a node that will be added to the right.\n// Used for bin cancellation and inserting spacings.\n\nvar traverseNonSpaceNodes = function traverseNonSpaceNodes(nodes, callback, prev, next, isRoot) {\n  if (next) {\n    // temporarily append the right node, if exists\n    nodes.push(next);\n  }\n\n  var i = 0;\n\n  for (; i < nodes.length; i++) {\n    var node = nodes[i];\n    var partialGroup = checkPartialGroup(node);\n\n    if (partialGroup) {\n      // Recursive DFS\n      // $FlowFixMe: make nodes a $ReadOnlyArray by returning a new array\n      traverseNonSpaceNodes(partialGroup.children, callback, prev, null, isRoot);\n      continue;\n    } // Ignore explicit spaces (e.g., \\;, \\,) when determining what implicit\n    // spacing should go between atoms of different classes\n\n\n    var nonspace = !node.hasClass(\"mspace\");\n\n    if (nonspace) {\n      var result = callback(node, prev.node);\n\n      if (result) {\n        if (prev.insertAfter) {\n          prev.insertAfter(result);\n        } else {\n          // insert at front\n          nodes.unshift(result);\n          i++;\n        }\n      }\n    }\n\n    if (nonspace) {\n      prev.node = node;\n    } else if (isRoot && node.hasClass(\"newline\")) {\n      prev.node = makeSpan$1([\"leftmost\"]); // treat like beginning of line\n    }\n\n    prev.insertAfter = (index => n => {\n      nodes.splice(index + 1, 0, n);\n      i++;\n    })(i);\n  }\n\n  if (next) {\n    nodes.pop();\n  }\n}; // Check if given node is a partial group, i.e., does not affect spacing around.\n\n\nvar checkPartialGroup = function checkPartialGroup(node) {\n  if (node instanceof DocumentFragment || node instanceof Anchor || node instanceof Span && node.hasClass(\"enclosing\")) {\n    return node;\n  }\n\n  return null;\n}; // Return the outermost node of a domTree.\n\n\nvar getOutermostNode = function getOutermostNode(node, side) {\n  var partialGroup = checkPartialGroup(node);\n\n  if (partialGroup) {\n    var children = partialGroup.children;\n\n    if (children.length) {\n      if (side === \"right\") {\n        return getOutermostNode(children[children.length - 1], \"right\");\n      } else if (side === \"left\") {\n        return getOutermostNode(children[0], \"left\");\n      }\n    }\n  }\n\n  return node;\n}; // Return math atom class (mclass) of a domTree.\n// If `side` is given, it will get the type of the outermost node at given side.\n\n\nvar getTypeOfDomTree = function getTypeOfDomTree(node, side) {\n  if (!node) {\n    return null;\n  }\n\n  if (side) {\n    node = getOutermostNode(node, side);\n  } // This makes a lot of assumptions as to where the type of atom\n  // appears.  We should do a better job of enforcing this.\n\n\n  return DomEnum[node.classes[0]] || null;\n};\nvar makeNullDelimiter = function makeNullDelimiter(options, classes) {\n  var moreClasses = [\"nulldelimiter\"].concat(options.baseSizingClasses());\n  return makeSpan$1(classes.concat(moreClasses));\n};\n/**\n * buildGroup is the function that takes a group and calls the correct groupType\n * function for it. It also handles the interaction of size and style changes\n * between parents and children.\n */\n\nvar buildGroup = function buildGroup(group, options, baseOptions) {\n  if (!group) {\n    return makeSpan$1();\n  }\n\n  if (_htmlGroupBuilders[group.type]) {\n    // Call the groupBuilders function\n    // $FlowFixMe\n    var groupNode = _htmlGroupBuilders[group.type](group, options); // If the size changed between the parent and the current group, account\n    // for that size difference.\n\n    if (baseOptions && options.size !== baseOptions.size) {\n      groupNode = makeSpan$1(options.sizingClasses(baseOptions), [groupNode], options);\n      var multiplier = options.sizeMultiplier / baseOptions.sizeMultiplier;\n      groupNode.height *= multiplier;\n      groupNode.depth *= multiplier;\n    }\n\n    return groupNode;\n  } else {\n    throw new ParseError(\"Got group of unknown type: '\" + group.type + \"'\");\n  }\n};\n/**\n * Combine an array of HTML DOM nodes (e.g., the output of `buildExpression`)\n * into an unbreakable HTML node of class .base, with proper struts to\n * guarantee correct vertical extent.  `buildHTML` calls this repeatedly to\n * make up the entire expression as a sequence of unbreakable units.\n */\n\nfunction buildHTMLUnbreakable(children, options) {\n  // Compute height and depth of this chunk.\n  var body = makeSpan$1([\"base\"], children, options); // Add strut, which ensures that the top of the HTML element falls at\n  // the height of the expression, and the bottom of the HTML element\n  // falls at the depth of the expression.\n\n  var strut = makeSpan$1([\"strut\"]);\n  strut.style.height = body.height + body.depth + \"em\";\n  strut.style.verticalAlign = -body.depth + \"em\";\n  body.children.unshift(strut);\n  return body;\n}\n/**\n * Take an entire parse tree, and build it into an appropriate set of HTML\n * nodes.\n */\n\n\nfunction buildHTML(tree, options) {\n  // Strip off outer tag wrapper for processing below.\n  var tag = null;\n\n  if (tree.length === 1 && tree[0].type === \"tag\") {\n    tag = tree[0].tag;\n    tree = tree[0].body;\n  } // Build the expression contained in the tree\n\n\n  var expression = buildExpression(tree, options, \"root\");\n  var eqnNum;\n\n  if (expression.length === 2 && expression[1].hasClass(\"tag\")) {\n    // An environment with automatic equation numbers, e.g. {gather}.\n    eqnNum = expression.pop();\n  }\n\n  var children = []; // Create one base node for each chunk between potential line breaks.\n  // The TeXBook [p.173] says \"A formula will be broken only after a\n  // relation symbol like $=$ or $<$ or $\\rightarrow$, or after a binary\n  // operation symbol like $+$ or $-$ or $\\times$, where the relation or\n  // binary operation is on the ``outer level'' of the formula (i.e., not\n  // enclosed in {...} and not part of an \\over construction).\"\n\n  var parts = [];\n\n  for (var i = 0; i < expression.length; i++) {\n    parts.push(expression[i]);\n\n    if (expression[i].hasClass(\"mbin\") || expression[i].hasClass(\"mrel\") || expression[i].hasClass(\"allowbreak\")) {\n      // Put any post-operator glue on same line as operator.\n      // Watch for \\nobreak along the way, and stop at \\newline.\n      var nobreak = false;\n\n      while (i < expression.length - 1 && expression[i + 1].hasClass(\"mspace\") && !expression[i + 1].hasClass(\"newline\")) {\n        i++;\n        parts.push(expression[i]);\n\n        if (expression[i].hasClass(\"nobreak\")) {\n          nobreak = true;\n        }\n      } // Don't allow break if \\nobreak among the post-operator glue.\n\n\n      if (!nobreak) {\n        children.push(buildHTMLUnbreakable(parts, options));\n        parts = [];\n      }\n    } else if (expression[i].hasClass(\"newline\")) {\n      // Write the line except the newline\n      parts.pop();\n\n      if (parts.length > 0) {\n        children.push(buildHTMLUnbreakable(parts, options));\n        parts = [];\n      } // Put the newline at the top level\n\n\n      children.push(expression[i]);\n    }\n  }\n\n  if (parts.length > 0) {\n    children.push(buildHTMLUnbreakable(parts, options));\n  } // Now, if there was a tag, build it too and append it as a final child.\n\n\n  var tagChild;\n\n  if (tag) {\n    tagChild = buildHTMLUnbreakable(buildExpression(tag, options, true));\n    tagChild.classes = [\"tag\"];\n    children.push(tagChild);\n  } else if (eqnNum) {\n    children.push(eqnNum);\n  }\n\n  var htmlNode = makeSpan$1([\"katex-html\"], children);\n  htmlNode.setAttribute(\"aria-hidden\", \"true\"); // Adjust the strut of the tag to be the maximum height of all children\n  // (the height of the enclosing htmlNode) for proper vertical alignment.\n\n  if (tagChild) {\n    var strut = tagChild.children[0];\n    strut.style.height = htmlNode.height + htmlNode.depth + \"em\";\n    strut.style.verticalAlign = -htmlNode.depth + \"em\";\n  }\n\n  return htmlNode;\n}\n\n/**\n * These objects store data about MathML nodes. This is the MathML equivalent\n * of the types in domTree.js. Since MathML handles its own rendering, and\n * since we're mainly using MathML to improve accessibility, we don't manage\n * any of the styling state that the plain DOM nodes do.\n *\n * The `toNode` and `toMarkup` functions work simlarly to how they do in\n * domTree.js, creating namespaced DOM nodes and HTML text markup respectively.\n */\nfunction newDocumentFragment(children) {\n  return new DocumentFragment(children);\n}\n/**\n * This node represents a general purpose MathML node of any type. The\n * constructor requires the type of node to create (for example, `\"mo\"` or\n * `\"mspace\"`, corresponding to `<mo>` and `<mspace>` tags).\n */\n\nclass MathNode {\n  constructor(type, children, classes) {\n    this.type = void 0;\n    this.attributes = void 0;\n    this.children = void 0;\n    this.classes = void 0;\n    this.type = type;\n    this.attributes = {};\n    this.children = children || [];\n    this.classes = classes || [];\n  }\n  /**\n   * Sets an attribute on a MathML node. MathML depends on attributes to convey a\n   * semantic content, so this is used heavily.\n   */\n\n\n  setAttribute(name, value) {\n    this.attributes[name] = value;\n  }\n  /**\n   * Gets an attribute on a MathML node.\n   */\n\n\n  getAttribute(name) {\n    return this.attributes[name];\n  }\n  /**\n   * Converts the math node into a MathML-namespaced DOM element.\n   */\n\n\n  toNode() {\n    var node = document.createElementNS(\"http://www.w3.org/1998/Math/MathML\", this.type);\n\n    for (var attr in this.attributes) {\n      if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {\n        node.setAttribute(attr, this.attributes[attr]);\n      }\n    }\n\n    if (this.classes.length > 0) {\n      node.className = createClass(this.classes);\n    }\n\n    for (var i = 0; i < this.children.length; i++) {\n      node.appendChild(this.children[i].toNode());\n    }\n\n    return node;\n  }\n  /**\n   * Converts the math node into an HTML markup string.\n   */\n\n\n  toMarkup() {\n    var markup = \"<\" + this.type; // Add the attributes\n\n    for (var attr in this.attributes) {\n      if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {\n        markup += \" \" + attr + \"=\\\"\";\n        markup += utils.escape(this.attributes[attr]);\n        markup += \"\\\"\";\n      }\n    }\n\n    if (this.classes.length > 0) {\n      markup += \" class =\\\"\" + utils.escape(createClass(this.classes)) + \"\\\"\";\n    }\n\n    markup += \">\";\n\n    for (var i = 0; i < this.children.length; i++) {\n      markup += this.children[i].toMarkup();\n    }\n\n    markup += \"</\" + this.type + \">\";\n    return markup;\n  }\n  /**\n   * Converts the math node into a string, similar to innerText, but escaped.\n   */\n\n\n  toText() {\n    return this.children.map(child => child.toText()).join(\"\");\n  }\n\n}\n/**\n * This node represents a piece of text.\n */\n\nclass TextNode {\n  constructor(text) {\n    this.text = void 0;\n    this.text = text;\n  }\n  /**\n   * Converts the text node into a DOM text node.\n   */\n\n\n  toNode() {\n    return document.createTextNode(this.text);\n  }\n  /**\n   * Converts the text node into escaped HTML markup\n   * (representing the text itself).\n   */\n\n\n  toMarkup() {\n    return utils.escape(this.toText());\n  }\n  /**\n   * Converts the text node into a string\n   * (representing the text iteself).\n   */\n\n\n  toText() {\n    return this.text;\n  }\n\n}\n/**\n * This node represents a space, but may render as <mspace.../> or as text,\n * depending on the width.\n */\n\nclass SpaceNode {\n  /**\n   * Create a Space node with width given in CSS ems.\n   */\n  constructor(width) {\n    this.width = void 0;\n    this.character = void 0;\n    this.width = width; // See https://www.w3.org/TR/2000/WD-MathML2-20000328/chapter6.html\n    // for a table of space-like characters.  We use Unicode\n    // representations instead of &LongNames; as it's not clear how to\n    // make the latter via document.createTextNode.\n\n    if (width >= 0.05555 && width <= 0.05556) {\n      this.character = \"\\u200a\"; // &VeryThinSpace;\n    } else if (width >= 0.1666 && width <= 0.1667) {\n      this.character = \"\\u2009\"; // &ThinSpace;\n    } else if (width >= 0.2222 && width <= 0.2223) {\n      this.character = \"\\u2005\"; // &MediumSpace;\n    } else if (width >= 0.2777 && width <= 0.2778) {\n      this.character = \"\\u2005\\u200a\"; // &ThickSpace;\n    } else if (width >= -0.05556 && width <= -0.05555) {\n      this.character = \"\\u200a\\u2063\"; // &NegativeVeryThinSpace;\n    } else if (width >= -0.1667 && width <= -0.1666) {\n      this.character = \"\\u2009\\u2063\"; // &NegativeThinSpace;\n    } else if (width >= -0.2223 && width <= -0.2222) {\n      this.character = \"\\u205f\\u2063\"; // &NegativeMediumSpace;\n    } else if (width >= -0.2778 && width <= -0.2777) {\n      this.character = \"\\u2005\\u2063\"; // &NegativeThickSpace;\n    } else {\n      this.character = null;\n    }\n  }\n  /**\n   * Converts the math node into a MathML-namespaced DOM element.\n   */\n\n\n  toNode() {\n    if (this.character) {\n      return document.createTextNode(this.character);\n    } else {\n      var node = document.createElementNS(\"http://www.w3.org/1998/Math/MathML\", \"mspace\");\n      node.setAttribute(\"width\", this.width + \"em\");\n      return node;\n    }\n  }\n  /**\n   * Converts the math node into an HTML markup string.\n   */\n\n\n  toMarkup() {\n    if (this.character) {\n      return \"<mtext>\" + this.character + \"</mtext>\";\n    } else {\n      return \"<mspace width=\\\"\" + this.width + \"em\\\"/>\";\n    }\n  }\n  /**\n   * Converts the math node into a string, similar to innerText.\n   */\n\n\n  toText() {\n    if (this.character) {\n      return this.character;\n    } else {\n      return \" \";\n    }\n  }\n\n}\n\nvar mathMLTree = {\n  MathNode,\n  TextNode,\n  SpaceNode,\n  newDocumentFragment\n};\n\n/**\n * This file converts a parse tree into a cooresponding MathML tree. The main\n * entry point is the `buildMathML` function, which takes a parse tree from the\n * parser.\n */\n\n/**\n * Takes a symbol and converts it into a MathML text node after performing\n * optional replacement from symbols.js.\n */\nvar makeText = function makeText(text, mode, options) {\n  if (symbols[mode][text] && symbols[mode][text].replace && text.charCodeAt(0) !== 0xD835 && !(ligatures.hasOwnProperty(text) && options && (options.fontFamily && options.fontFamily.substr(4, 2) === \"tt\" || options.font && options.font.substr(4, 2) === \"tt\"))) {\n    text = symbols[mode][text].replace;\n  }\n\n  return new mathMLTree.TextNode(text);\n};\n/**\n * Wrap the given array of nodes in an <mrow> node if needed, i.e.,\n * unless the array has length 1.  Always returns a single node.\n */\n\nvar makeRow = function makeRow(body) {\n  if (body.length === 1) {\n    return body[0];\n  } else {\n    return new mathMLTree.MathNode(\"mrow\", body);\n  }\n};\n/**\n * Returns the math variant as a string or null if none is required.\n */\n\nvar getVariant = function getVariant(group, options) {\n  // Handle \\text... font specifiers as best we can.\n  // MathML has a limited list of allowable mathvariant specifiers; see\n  // https://www.w3.org/TR/MathML3/chapter3.html#presm.commatt\n  if (options.fontFamily === \"texttt\") {\n    return \"monospace\";\n  } else if (options.fontFamily === \"textsf\") {\n    if (options.fontShape === \"textit\" && options.fontWeight === \"textbf\") {\n      return \"sans-serif-bold-italic\";\n    } else if (options.fontShape === \"textit\") {\n      return \"sans-serif-italic\";\n    } else if (options.fontWeight === \"textbf\") {\n      return \"bold-sans-serif\";\n    } else {\n      return \"sans-serif\";\n    }\n  } else if (options.fontShape === \"textit\" && options.fontWeight === \"textbf\") {\n    return \"bold-italic\";\n  } else if (options.fontShape === \"textit\") {\n    return \"italic\";\n  } else if (options.fontWeight === \"textbf\") {\n    return \"bold\";\n  }\n\n  var font = options.font;\n\n  if (!font || font === \"mathnormal\") {\n    return null;\n  }\n\n  var mode = group.mode;\n\n  if (font === \"mathit\") {\n    return \"italic\";\n  } else if (font === \"boldsymbol\") {\n    return group.type === \"textord\" ? \"bold\" : \"bold-italic\";\n  } else if (font === \"mathbf\") {\n    return \"bold\";\n  } else if (font === \"mathbb\") {\n    return \"double-struck\";\n  } else if (font === \"mathfrak\") {\n    return \"fraktur\";\n  } else if (font === \"mathscr\" || font === \"mathcal\") {\n    // MathML makes no distinction between script and caligrahpic\n    return \"script\";\n  } else if (font === \"mathsf\") {\n    return \"sans-serif\";\n  } else if (font === \"mathtt\") {\n    return \"monospace\";\n  }\n\n  var text = group.text;\n\n  if (utils.contains([\"\\\\imath\", \"\\\\jmath\"], text)) {\n    return null;\n  }\n\n  if (symbols[mode][text] && symbols[mode][text].replace) {\n    text = symbols[mode][text].replace;\n  }\n\n  var fontName = buildCommon.fontMap[font].fontName;\n\n  if (getCharacterMetrics(text, fontName, mode)) {\n    return buildCommon.fontMap[font].variant;\n  }\n\n  return null;\n};\n/**\n * Takes a list of nodes, builds them, and returns a list of the generated\n * MathML nodes.  Also combine consecutive <mtext> outputs into a single\n * <mtext> tag.\n */\n\nvar buildExpression$1 = function buildExpression(expression, options, isOrdgroup) {\n  if (expression.length === 1) {\n    var group = buildGroup$1(expression[0], options);\n\n    if (isOrdgroup && group instanceof MathNode && group.type === \"mo\") {\n      // When TeX writers want to suppress spacing on an operator,\n      // they often put the operator by itself inside braces.\n      group.setAttribute(\"lspace\", \"0em\");\n      group.setAttribute(\"rspace\", \"0em\");\n    }\n\n    return [group];\n  }\n\n  var groups = [];\n  var lastGroup;\n\n  for (var i = 0; i < expression.length; i++) {\n    var _group = buildGroup$1(expression[i], options);\n\n    if (_group instanceof MathNode && lastGroup instanceof MathNode) {\n      // Concatenate adjacent <mtext>s\n      if (_group.type === 'mtext' && lastGroup.type === 'mtext' && _group.getAttribute('mathvariant') === lastGroup.getAttribute('mathvariant')) {\n        lastGroup.children.push(..._group.children);\n        continue; // Concatenate adjacent <mn>s\n      } else if (_group.type === 'mn' && lastGroup.type === 'mn') {\n        lastGroup.children.push(..._group.children);\n        continue; // Concatenate <mn>...</mn> followed by <mi>.</mi>\n      } else if (_group.type === 'mi' && _group.children.length === 1 && lastGroup.type === 'mn') {\n        var child = _group.children[0];\n\n        if (child instanceof TextNode && child.text === '.') {\n          lastGroup.children.push(..._group.children);\n          continue;\n        }\n      } else if (lastGroup.type === 'mi' && lastGroup.children.length === 1) {\n        var lastChild = lastGroup.children[0];\n\n        if (lastChild instanceof TextNode && lastChild.text === '\\u0338' && (_group.type === 'mo' || _group.type === 'mi' || _group.type === 'mn')) {\n          var _child = _group.children[0];\n\n          if (_child instanceof TextNode && _child.text.length > 0) {\n            // Overlay with combining character long solidus\n            _child.text = _child.text.slice(0, 1) + \"\\u0338\" + _child.text.slice(1);\n            groups.pop();\n          }\n        }\n      }\n    }\n\n    groups.push(_group);\n    lastGroup = _group;\n  }\n\n  return groups;\n};\n/**\n * Equivalent to buildExpression, but wraps the elements in an <mrow>\n * if there's more than one.  Returns a single node instead of an array.\n */\n\nvar buildExpressionRow = function buildExpressionRow(expression, options, isOrdgroup) {\n  return makeRow(buildExpression$1(expression, options, isOrdgroup));\n};\n/**\n * Takes a group from the parser and calls the appropriate groupBuilders function\n * on it to produce a MathML node.\n */\n\nvar buildGroup$1 = function buildGroup(group, options) {\n  if (!group) {\n    return new mathMLTree.MathNode(\"mrow\");\n  }\n\n  if (_mathmlGroupBuilders[group.type]) {\n    // Call the groupBuilders function\n    // $FlowFixMe\n    var result = _mathmlGroupBuilders[group.type](group, options); // $FlowFixMe\n\n    return result;\n  } else {\n    throw new ParseError(\"Got group of unknown type: '\" + group.type + \"'\");\n  }\n};\n/**\n * Takes a full parse tree and settings and builds a MathML representation of\n * it. In particular, we put the elements from building the parse tree into a\n * <semantics> tag so we can also include that TeX source as an annotation.\n *\n * Note that we actually return a domTree element with a `<math>` inside it so\n * we can do appropriate styling.\n */\n\nfunction buildMathML(tree, texExpression, options, isDisplayMode, forMathmlOnly) {\n  var expression = buildExpression$1(tree, options); // TODO: Make a pass thru the MathML similar to buildHTML.traverseNonSpaceNodes\n  // and add spacing nodes. This is necessary only adjacent to math operators\n  // like \\sin or \\lim or to subsup elements that contain math operators.\n  // MathML takes care of the other spacing issues.\n  // Wrap up the expression in an mrow so it is presented in the semantics\n  // tag correctly, unless it's a single <mrow> or <mtable>.\n\n  var wrapper;\n\n  if (expression.length === 1 && expression[0] instanceof MathNode && utils.contains([\"mrow\", \"mtable\"], expression[0].type)) {\n    wrapper = expression[0];\n  } else {\n    wrapper = new mathMLTree.MathNode(\"mrow\", expression);\n  } // Build a TeX annotation of the source\n\n\n  var annotation = new mathMLTree.MathNode(\"annotation\", [new mathMLTree.TextNode(texExpression)]);\n  annotation.setAttribute(\"encoding\", \"application/x-tex\");\n  var semantics = new mathMLTree.MathNode(\"semantics\", [wrapper, annotation]);\n  var math = new mathMLTree.MathNode(\"math\", [semantics]);\n  math.setAttribute(\"xmlns\", \"http://www.w3.org/1998/Math/MathML\");\n\n  if (isDisplayMode) {\n    math.setAttribute(\"display\", \"block\");\n  } // You can't style <math> nodes, so we wrap the node in a span.\n  // NOTE: The span class is not typed to have <math> nodes as children, and\n  // we don't want to make the children type more generic since the children\n  // of span are expected to have more fields in `buildHtml` contexts.\n\n\n  var wrapperClass = forMathmlOnly ? \"katex\" : \"katex-mathml\"; // $FlowFixMe\n\n  return buildCommon.makeSpan([wrapperClass], [math]);\n}\n\nvar optionsFromSettings = function optionsFromSettings(settings) {\n  return new Options({\n    style: settings.displayMode ? Style$1.DISPLAY : Style$1.TEXT,\n    maxSize: settings.maxSize,\n    minRuleThickness: settings.minRuleThickness\n  });\n};\n\nvar displayWrap = function displayWrap(node, settings) {\n  if (settings.displayMode) {\n    var classes = [\"katex-display\"];\n\n    if (settings.leqno) {\n      classes.push(\"leqno\");\n    }\n\n    if (settings.fleqn) {\n      classes.push(\"fleqn\");\n    }\n\n    node = buildCommon.makeSpan(classes, [node]);\n  }\n\n  return node;\n};\n\nvar buildTree = function buildTree(tree, expression, settings) {\n  var options = optionsFromSettings(settings);\n  var katexNode;\n\n  if (settings.output === \"mathml\") {\n    return buildMathML(tree, expression, options, settings.displayMode, true);\n  } else if (settings.output === \"html\") {\n    var htmlNode = buildHTML(tree, options);\n    katexNode = buildCommon.makeSpan([\"katex\"], [htmlNode]);\n  } else {\n    var mathMLNode = buildMathML(tree, expression, options, settings.displayMode, false);\n\n    var _htmlNode = buildHTML(tree, options);\n\n    katexNode = buildCommon.makeSpan([\"katex\"], [mathMLNode, _htmlNode]);\n  }\n\n  return displayWrap(katexNode, settings);\n};\nvar buildHTMLTree = function buildHTMLTree(tree, expression, settings) {\n  var options = optionsFromSettings(settings);\n  var htmlNode = buildHTML(tree, options);\n  var katexNode = buildCommon.makeSpan([\"katex\"], [htmlNode]);\n  return displayWrap(katexNode, settings);\n};\n\n/**\n * This file provides support to buildMathML.js and buildHTML.js\n * for stretchy wide elements rendered from SVG files\n * and other CSS trickery.\n */\nvar stretchyCodePoint = {\n  widehat: \"^\",\n  widecheck: \"\",\n  widetilde: \"~\",\n  utilde: \"~\",\n  overleftarrow: \"\\u2190\",\n  underleftarrow: \"\\u2190\",\n  xleftarrow: \"\\u2190\",\n  overrightarrow: \"\\u2192\",\n  underrightarrow: \"\\u2192\",\n  xrightarrow: \"\\u2192\",\n  underbrace: \"\\u23df\",\n  overbrace: \"\\u23de\",\n  overgroup: \"\\u23e0\",\n  undergroup: \"\\u23e1\",\n  overleftrightarrow: \"\\u2194\",\n  underleftrightarrow: \"\\u2194\",\n  xleftrightarrow: \"\\u2194\",\n  Overrightarrow: \"\\u21d2\",\n  xRightarrow: \"\\u21d2\",\n  overleftharpoon: \"\\u21bc\",\n  xleftharpoonup: \"\\u21bc\",\n  overrightharpoon: \"\\u21c0\",\n  xrightharpoonup: \"\\u21c0\",\n  xLeftarrow: \"\\u21d0\",\n  xLeftrightarrow: \"\\u21d4\",\n  xhookleftarrow: \"\\u21a9\",\n  xhookrightarrow: \"\\u21aa\",\n  xmapsto: \"\\u21a6\",\n  xrightharpoondown: \"\\u21c1\",\n  xleftharpoondown: \"\\u21bd\",\n  xrightleftharpoons: \"\\u21cc\",\n  xleftrightharpoons: \"\\u21cb\",\n  xtwoheadleftarrow: \"\\u219e\",\n  xtwoheadrightarrow: \"\\u21a0\",\n  xlongequal: \"=\",\n  xtofrom: \"\\u21c4\",\n  xrightleftarrows: \"\\u21c4\",\n  xrightequilibrium: \"\\u21cc\",\n  // Not a perfect match.\n  xleftequilibrium: \"\\u21cb\",\n  // None better available.\n  \"\\\\\\\\cdrightarrow\": \"\\u2192\",\n  \"\\\\\\\\cdleftarrow\": \"\\u2190\",\n  \"\\\\\\\\cdlongequal\": \"=\"\n};\n\nvar mathMLnode = function mathMLnode(label) {\n  var node = new mathMLTree.MathNode(\"mo\", [new mathMLTree.TextNode(stretchyCodePoint[label])]);\n  node.setAttribute(\"stretchy\", \"true\");\n  return node;\n}; // Many of the KaTeX SVG images have been adapted from glyphs in KaTeX fonts.\n// Copyright (c) 2009-2010, Design Science, Inc. (<www.mathjax.org>)\n// Copyright (c) 2014-2017 Khan Academy (<www.khanacademy.org>)\n// Licensed under the SIL Open Font License, Version 1.1.\n// See \\nhttp://scripts.sil.org/OFL\n// Very Long SVGs\n//    Many of the KaTeX stretchy wide elements use a long SVG image and an\n//    overflow: hidden tactic to achieve a stretchy image while avoiding\n//    distortion of arrowheads or brace corners.\n//    The SVG typically contains a very long (400 em) arrow.\n//    The SVG is in a container span that has overflow: hidden, so the span\n//    acts like a window that exposes only part of the  SVG.\n//    The SVG always has a longer, thinner aspect ratio than the container span.\n//    After the SVG fills 100% of the height of the container span,\n//    there is a long arrow shaft left over. That left-over shaft is not shown.\n//    Instead, it is sliced off because the span's CSS has overflow: hidden.\n//    Thus, the reader sees an arrow that matches the subject matter width\n//    without distortion.\n//    Some functions, such as \\cancel, need to vary their aspect ratio. These\n//    functions do not get the overflow SVG treatment.\n// Second Brush Stroke\n//    Low resolution monitors struggle to display images in fine detail.\n//    So browsers apply anti-aliasing. A long straight arrow shaft therefore\n//    will sometimes appear as if it has a blurred edge.\n//    To mitigate this, these SVG files contain a second \"brush-stroke\" on the\n//    arrow shafts. That is, a second long thin rectangular SVG path has been\n//    written directly on top of each arrow shaft. This reinforcement causes\n//    some of the screen pixels to display as black instead of the anti-aliased\n//    gray pixel that a  single path would generate. So we get arrow shafts\n//    whose edges appear to be sharper.\n// In the katexImagesData object just below, the dimensions all\n// correspond to path geometry inside the relevant SVG.\n// For example, \\overrightarrow uses the same arrowhead as glyph U+2192\n// from the KaTeX Main font. The scaling factor is 1000.\n// That is, inside the font, that arrowhead is 522 units tall, which\n// corresponds to 0.522 em inside the document.\n\n\nvar katexImagesData = {\n  //   path(s), minWidth, height, align\n  overrightarrow: [[\"rightarrow\"], 0.888, 522, \"xMaxYMin\"],\n  overleftarrow: [[\"leftarrow\"], 0.888, 522, \"xMinYMin\"],\n  underrightarrow: [[\"rightarrow\"], 0.888, 522, \"xMaxYMin\"],\n  underleftarrow: [[\"leftarrow\"], 0.888, 522, \"xMinYMin\"],\n  xrightarrow: [[\"rightarrow\"], 1.469, 522, \"xMaxYMin\"],\n  \"\\\\cdrightarrow\": [[\"rightarrow\"], 3.0, 522, \"xMaxYMin\"],\n  // CD minwwidth2.5pc\n  xleftarrow: [[\"leftarrow\"], 1.469, 522, \"xMinYMin\"],\n  \"\\\\cdleftarrow\": [[\"leftarrow\"], 3.0, 522, \"xMinYMin\"],\n  Overrightarrow: [[\"doublerightarrow\"], 0.888, 560, \"xMaxYMin\"],\n  xRightarrow: [[\"doublerightarrow\"], 1.526, 560, \"xMaxYMin\"],\n  xLeftarrow: [[\"doubleleftarrow\"], 1.526, 560, \"xMinYMin\"],\n  overleftharpoon: [[\"leftharpoon\"], 0.888, 522, \"xMinYMin\"],\n  xleftharpoonup: [[\"leftharpoon\"], 0.888, 522, \"xMinYMin\"],\n  xleftharpoondown: [[\"leftharpoondown\"], 0.888, 522, \"xMinYMin\"],\n  overrightharpoon: [[\"rightharpoon\"], 0.888, 522, \"xMaxYMin\"],\n  xrightharpoonup: [[\"rightharpoon\"], 0.888, 522, \"xMaxYMin\"],\n  xrightharpoondown: [[\"rightharpoondown\"], 0.888, 522, \"xMaxYMin\"],\n  xlongequal: [[\"longequal\"], 0.888, 334, \"xMinYMin\"],\n  \"\\\\cdlongequal\": [[\"longequal\"], 3.0, 334, \"xMinYMin\"],\n  xtwoheadleftarrow: [[\"twoheadleftarrow\"], 0.888, 334, \"xMinYMin\"],\n  xtwoheadrightarrow: [[\"twoheadrightarrow\"], 0.888, 334, \"xMaxYMin\"],\n  overleftrightarrow: [[\"leftarrow\", \"rightarrow\"], 0.888, 522],\n  overbrace: [[\"leftbrace\", \"midbrace\", \"rightbrace\"], 1.6, 548],\n  underbrace: [[\"leftbraceunder\", \"midbraceunder\", \"rightbraceunder\"], 1.6, 548],\n  underleftrightarrow: [[\"leftarrow\", \"rightarrow\"], 0.888, 522],\n  xleftrightarrow: [[\"leftarrow\", \"rightarrow\"], 1.75, 522],\n  xLeftrightarrow: [[\"doubleleftarrow\", \"doublerightarrow\"], 1.75, 560],\n  xrightleftharpoons: [[\"leftharpoondownplus\", \"rightharpoonplus\"], 1.75, 716],\n  xleftrightharpoons: [[\"leftharpoonplus\", \"rightharpoondownplus\"], 1.75, 716],\n  xhookleftarrow: [[\"leftarrow\", \"righthook\"], 1.08, 522],\n  xhookrightarrow: [[\"lefthook\", \"rightarrow\"], 1.08, 522],\n  overlinesegment: [[\"leftlinesegment\", \"rightlinesegment\"], 0.888, 522],\n  underlinesegment: [[\"leftlinesegment\", \"rightlinesegment\"], 0.888, 522],\n  overgroup: [[\"leftgroup\", \"rightgroup\"], 0.888, 342],\n  undergroup: [[\"leftgroupunder\", \"rightgroupunder\"], 0.888, 342],\n  xmapsto: [[\"leftmapsto\", \"rightarrow\"], 1.5, 522],\n  xtofrom: [[\"leftToFrom\", \"rightToFrom\"], 1.75, 528],\n  // The next three arrows are from the mhchem package.\n  // In mhchem.sty, min-length is 2.0em. But these arrows might appear in the\n  // document as \\xrightarrow or \\xrightleftharpoons. Those have\n  // min-length = 1.75em, so we set min-length on these next three to match.\n  xrightleftarrows: [[\"baraboveleftarrow\", \"rightarrowabovebar\"], 1.75, 901],\n  xrightequilibrium: [[\"baraboveshortleftharpoon\", \"rightharpoonaboveshortbar\"], 1.75, 716],\n  xleftequilibrium: [[\"shortbaraboveleftharpoon\", \"shortrightharpoonabovebar\"], 1.75, 716]\n};\n\nvar groupLength = function groupLength(arg) {\n  if (arg.type === \"ordgroup\") {\n    return arg.body.length;\n  } else {\n    return 1;\n  }\n};\n\nvar svgSpan = function svgSpan(group, options) {\n  // Create a span with inline SVG for the element.\n  function buildSvgSpan_() {\n    var viewBoxWidth = 400000; // default\n\n    var label = group.label.substr(1);\n\n    if (utils.contains([\"widehat\", \"widecheck\", \"widetilde\", \"utilde\"], label)) {\n      // Each type in the `if` statement corresponds to one of the ParseNode\n      // types below. This narrowing is required to access `grp.base`.\n      // $FlowFixMe\n      var grp = group; // There are four SVG images available for each function.\n      // Choose a taller image when there are more characters.\n\n      var numChars = groupLength(grp.base);\n      var viewBoxHeight;\n      var pathName;\n\n      var _height;\n\n      if (numChars > 5) {\n        if (label === \"widehat\" || label === \"widecheck\") {\n          viewBoxHeight = 420;\n          viewBoxWidth = 2364;\n          _height = 0.42;\n          pathName = label + \"4\";\n        } else {\n          viewBoxHeight = 312;\n          viewBoxWidth = 2340;\n          _height = 0.34;\n          pathName = \"tilde4\";\n        }\n      } else {\n        var imgIndex = [1, 1, 2, 2, 3, 3][numChars];\n\n        if (label === \"widehat\" || label === \"widecheck\") {\n          viewBoxWidth = [0, 1062, 2364, 2364, 2364][imgIndex];\n          viewBoxHeight = [0, 239, 300, 360, 420][imgIndex];\n          _height = [0, 0.24, 0.3, 0.3, 0.36, 0.42][imgIndex];\n          pathName = label + imgIndex;\n        } else {\n          viewBoxWidth = [0, 600, 1033, 2339, 2340][imgIndex];\n          viewBoxHeight = [0, 260, 286, 306, 312][imgIndex];\n          _height = [0, 0.26, 0.286, 0.3, 0.306, 0.34][imgIndex];\n          pathName = \"tilde\" + imgIndex;\n        }\n      }\n\n      var path = new PathNode(pathName);\n      var svgNode = new SvgNode([path], {\n        \"width\": \"100%\",\n        \"height\": _height + \"em\",\n        \"viewBox\": \"0 0 \" + viewBoxWidth + \" \" + viewBoxHeight,\n        \"preserveAspectRatio\": \"none\"\n      });\n      return {\n        span: buildCommon.makeSvgSpan([], [svgNode], options),\n        minWidth: 0,\n        height: _height\n      };\n    } else {\n      var spans = [];\n      var data = katexImagesData[label];\n      var [paths, _minWidth, _viewBoxHeight] = data;\n\n      var _height2 = _viewBoxHeight / 1000;\n\n      var numSvgChildren = paths.length;\n      var widthClasses;\n      var aligns;\n\n      if (numSvgChildren === 1) {\n        // $FlowFixMe: All these cases must be of the 4-tuple type.\n        var align1 = data[3];\n        widthClasses = [\"hide-tail\"];\n        aligns = [align1];\n      } else if (numSvgChildren === 2) {\n        widthClasses = [\"halfarrow-left\", \"halfarrow-right\"];\n        aligns = [\"xMinYMin\", \"xMaxYMin\"];\n      } else if (numSvgChildren === 3) {\n        widthClasses = [\"brace-left\", \"brace-center\", \"brace-right\"];\n        aligns = [\"xMinYMin\", \"xMidYMin\", \"xMaxYMin\"];\n      } else {\n        throw new Error(\"Correct katexImagesData or update code here to support\\n                    \" + numSvgChildren + \" children.\");\n      }\n\n      for (var i = 0; i < numSvgChildren; i++) {\n        var _path = new PathNode(paths[i]);\n\n        var _svgNode = new SvgNode([_path], {\n          \"width\": \"400em\",\n          \"height\": _height2 + \"em\",\n          \"viewBox\": \"0 0 \" + viewBoxWidth + \" \" + _viewBoxHeight,\n          \"preserveAspectRatio\": aligns[i] + \" slice\"\n        });\n\n        var _span = buildCommon.makeSvgSpan([widthClasses[i]], [_svgNode], options);\n\n        if (numSvgChildren === 1) {\n          return {\n            span: _span,\n            minWidth: _minWidth,\n            height: _height2\n          };\n        } else {\n          _span.style.height = _height2 + \"em\";\n          spans.push(_span);\n        }\n      }\n\n      return {\n        span: buildCommon.makeSpan([\"stretchy\"], spans, options),\n        minWidth: _minWidth,\n        height: _height2\n      };\n    }\n  } // buildSvgSpan_()\n\n\n  var {\n    span,\n    minWidth,\n    height\n  } = buildSvgSpan_(); // Note that we are returning span.depth = 0.\n  // Any adjustments relative to the baseline must be done in buildHTML.\n\n  span.height = height;\n  span.style.height = height + \"em\";\n\n  if (minWidth > 0) {\n    span.style.minWidth = minWidth + \"em\";\n  }\n\n  return span;\n};\n\nvar encloseSpan = function encloseSpan(inner, label, topPad, bottomPad, options) {\n  // Return an image span for \\cancel, \\bcancel, \\xcancel, \\fbox, or \\angl\n  var img;\n  var totalHeight = inner.height + inner.depth + topPad + bottomPad;\n\n  if (/fbox|color|angl/.test(label)) {\n    img = buildCommon.makeSpan([\"stretchy\", label], [], options);\n\n    if (label === \"fbox\") {\n      var color = options.color && options.getColor();\n\n      if (color) {\n        img.style.borderColor = color;\n      }\n    }\n  } else {\n    // \\cancel, \\bcancel, or \\xcancel\n    // Since \\cancel's SVG is inline and it omits the viewBox attribute,\n    // its stroke-width will not vary with span area.\n    var lines = [];\n\n    if (/^[bx]cancel$/.test(label)) {\n      lines.push(new LineNode({\n        \"x1\": \"0\",\n        \"y1\": \"0\",\n        \"x2\": \"100%\",\n        \"y2\": \"100%\",\n        \"stroke-width\": \"0.046em\"\n      }));\n    }\n\n    if (/^x?cancel$/.test(label)) {\n      lines.push(new LineNode({\n        \"x1\": \"0\",\n        \"y1\": \"100%\",\n        \"x2\": \"100%\",\n        \"y2\": \"0\",\n        \"stroke-width\": \"0.046em\"\n      }));\n    }\n\n    var svgNode = new SvgNode(lines, {\n      \"width\": \"100%\",\n      \"height\": totalHeight + \"em\"\n    });\n    img = buildCommon.makeSvgSpan([], [svgNode], options);\n  }\n\n  img.height = totalHeight;\n  img.style.height = totalHeight + \"em\";\n  return img;\n};\n\nvar stretchy = {\n  encloseSpan,\n  mathMLnode,\n  svgSpan\n};\n\n/**\n * Asserts that the node is of the given type and returns it with stricter\n * typing. Throws if the node's type does not match.\n */\nfunction assertNodeType(node, type) {\n  if (!node || node.type !== type) {\n    throw new Error(\"Expected node of type \" + type + \", but got \" + (node ? \"node of type \" + node.type : String(node)));\n  } // $FlowFixMe, >=0.125\n\n\n  return node;\n}\n/**\n * Returns the node more strictly typed iff it is of the given type. Otherwise,\n * returns null.\n */\n\nfunction assertSymbolNodeType(node) {\n  var typedNode = checkSymbolNodeType(node);\n\n  if (!typedNode) {\n    throw new Error(\"Expected node of symbol group type, but got \" + (node ? \"node of type \" + node.type : String(node)));\n  }\n\n  return typedNode;\n}\n/**\n * Returns the node more strictly typed iff it is of the given type. Otherwise,\n * returns null.\n */\n\nfunction checkSymbolNodeType(node) {\n  if (node && (node.type === \"atom\" || NON_ATOMS.hasOwnProperty(node.type))) {\n    // $FlowFixMe\n    return node;\n  }\n\n  return null;\n}\n\n// NOTE: Unlike most `htmlBuilder`s, this one handles not only \"accent\", but\n// also \"supsub\" since an accent can affect super/subscripting.\nvar htmlBuilder = (grp, options) => {\n  // Accents are handled in the TeXbook pg. 443, rule 12.\n  var base;\n  var group;\n  var supSubGroup;\n\n  if (grp && grp.type === \"supsub\") {\n    // If our base is a character box, and we have superscripts and\n    // subscripts, the supsub will defer to us. In particular, we want\n    // to attach the superscripts and subscripts to the inner body (so\n    // that the position of the superscripts and subscripts won't be\n    // affected by the height of the accent). We accomplish this by\n    // sticking the base of the accent into the base of the supsub, and\n    // rendering that, while keeping track of where the accent is.\n    // The real accent group is the base of the supsub group\n    group = assertNodeType(grp.base, \"accent\"); // The character box is the base of the accent group\n\n    base = group.base; // Stick the character box into the base of the supsub group\n\n    grp.base = base; // Rerender the supsub group with its new base, and store that\n    // result.\n\n    supSubGroup = assertSpan(buildGroup(grp, options)); // reset original base\n\n    grp.base = group;\n  } else {\n    group = assertNodeType(grp, \"accent\");\n    base = group.base;\n  } // Build the base group\n\n\n  var body = buildGroup(base, options.havingCrampedStyle()); // Does the accent need to shift for the skew of a character?\n\n  var mustShift = group.isShifty && utils.isCharacterBox(base); // Calculate the skew of the accent. This is based on the line \"If the\n  // nucleus is not a single character, let s = 0; otherwise set s to the\n  // kern amount for the nucleus followed by the \\skewchar of its font.\"\n  // Note that our skew metrics are just the kern between each character\n  // and the skewchar.\n\n  var skew = 0;\n\n  if (mustShift) {\n    // If the base is a character box, then we want the skew of the\n    // innermost character. To do that, we find the innermost character:\n    var baseChar = utils.getBaseElem(base); // Then, we render its group to get the symbol inside it\n\n    var baseGroup = buildGroup(baseChar, options.havingCrampedStyle()); // Finally, we pull the skew off of the symbol.\n\n    skew = assertSymbolDomNode(baseGroup).skew; // Note that we now throw away baseGroup, because the layers we\n    // removed with getBaseElem might contain things like \\color which\n    // we can't get rid of.\n    // TODO(emily): Find a better way to get the skew\n  } // calculate the amount of space between the body and the accent\n\n\n  var clearance = Math.min(body.height, options.fontMetrics().xHeight); // Build the accent\n\n  var accentBody;\n\n  if (!group.isStretchy) {\n    var accent;\n    var width;\n\n    if (group.label === \"\\\\vec\") {\n      // Before version 0.9, \\vec used the combining font glyph U+20D7.\n      // But browsers, especially Safari, are not consistent in how they\n      // render combining characters when not preceded by a character.\n      // So now we use an SVG.\n      // If Safari reforms, we should consider reverting to the glyph.\n      accent = buildCommon.staticSvg(\"vec\", options);\n      width = buildCommon.svgData.vec[1];\n    } else {\n      accent = buildCommon.makeOrd({\n        mode: group.mode,\n        text: group.label\n      }, options, \"textord\");\n      accent = assertSymbolDomNode(accent); // Remove the italic correction of the accent, because it only serves to\n      // shift the accent over to a place we don't want.\n\n      accent.italic = 0;\n      width = accent.width;\n    }\n\n    accentBody = buildCommon.makeSpan([\"accent-body\"], [accent]); // \"Full\" accents expand the width of the resulting symbol to be\n    // at least the width of the accent, and overlap directly onto the\n    // character without any vertical offset.\n\n    var accentFull = group.label === \"\\\\textcircled\";\n\n    if (accentFull) {\n      accentBody.classes.push('accent-full');\n      clearance = body.height;\n    } // Shift the accent over by the skew.\n\n\n    var left = skew; // CSS defines `.katex .accent .accent-body:not(.accent-full) { width: 0 }`\n    // so that the accent doesn't contribute to the bounding box.\n    // We need to shift the character by its width (effectively half\n    // its width) to compensate.\n\n    if (!accentFull) {\n      left -= width / 2;\n    }\n\n    accentBody.style.left = left + \"em\"; // \\textcircled uses the \\bigcirc glyph, so it needs some\n    // vertical adjustment to match LaTeX.\n\n    if (group.label === \"\\\\textcircled\") {\n      accentBody.style.top = \".2em\";\n    }\n\n    accentBody = buildCommon.makeVList({\n      positionType: \"firstBaseline\",\n      children: [{\n        type: \"elem\",\n        elem: body\n      }, {\n        type: \"kern\",\n        size: -clearance\n      }, {\n        type: \"elem\",\n        elem: accentBody\n      }]\n    }, options);\n  } else {\n    accentBody = stretchy.svgSpan(group, options);\n    accentBody = buildCommon.makeVList({\n      positionType: \"firstBaseline\",\n      children: [{\n        type: \"elem\",\n        elem: body\n      }, {\n        type: \"elem\",\n        elem: accentBody,\n        wrapperClasses: [\"svg-align\"],\n        wrapperStyle: skew > 0 ? {\n          width: \"calc(100% - \" + 2 * skew + \"em)\",\n          marginLeft: 2 * skew + \"em\"\n        } : undefined\n      }]\n    }, options);\n  }\n\n  var accentWrap = buildCommon.makeSpan([\"mord\", \"accent\"], [accentBody], options);\n\n  if (supSubGroup) {\n    // Here, we replace the \"base\" child of the supsub with our newly\n    // generated accent.\n    supSubGroup.children[0] = accentWrap; // Since we don't rerun the height calculation after replacing the\n    // accent, we manually recalculate height.\n\n    supSubGroup.height = Math.max(accentWrap.height, supSubGroup.height); // Accents should always be ords, even when their innards are not.\n\n    supSubGroup.classes[0] = \"mord\";\n    return supSubGroup;\n  } else {\n    return accentWrap;\n  }\n};\n\nvar mathmlBuilder = (group, options) => {\n  var accentNode = group.isStretchy ? stretchy.mathMLnode(group.label) : new mathMLTree.MathNode(\"mo\", [makeText(group.label, group.mode)]);\n  var node = new mathMLTree.MathNode(\"mover\", [buildGroup$1(group.base, options), accentNode]);\n  node.setAttribute(\"accent\", \"true\");\n  return node;\n};\n\nvar NON_STRETCHY_ACCENT_REGEX = new RegExp([\"\\\\acute\", \"\\\\grave\", \"\\\\ddot\", \"\\\\tilde\", \"\\\\bar\", \"\\\\breve\", \"\\\\check\", \"\\\\hat\", \"\\\\vec\", \"\\\\dot\", \"\\\\mathring\"].map(accent => \"\\\\\" + accent).join(\"|\")); // Accents\n\ndefineFunction({\n  type: \"accent\",\n  names: [\"\\\\acute\", \"\\\\grave\", \"\\\\ddot\", \"\\\\tilde\", \"\\\\bar\", \"\\\\breve\", \"\\\\check\", \"\\\\hat\", \"\\\\vec\", \"\\\\dot\", \"\\\\mathring\", \"\\\\widecheck\", \"\\\\widehat\", \"\\\\widetilde\", \"\\\\overrightarrow\", \"\\\\overleftarrow\", \"\\\\Overrightarrow\", \"\\\\overleftrightarrow\", \"\\\\overgroup\", \"\\\\overlinesegment\", \"\\\\overleftharpoon\", \"\\\\overrightharpoon\"],\n  props: {\n    numArgs: 1\n  },\n  handler: (context, args) => {\n    var base = normalizeArgument(args[0]);\n    var isStretchy = !NON_STRETCHY_ACCENT_REGEX.test(context.funcName);\n    var isShifty = !isStretchy || context.funcName === \"\\\\widehat\" || context.funcName === \"\\\\widetilde\" || context.funcName === \"\\\\widecheck\";\n    return {\n      type: \"accent\",\n      mode: context.parser.mode,\n      label: context.funcName,\n      isStretchy: isStretchy,\n      isShifty: isShifty,\n      base: base\n    };\n  },\n  htmlBuilder,\n  mathmlBuilder\n}); // Text-mode accents\n\ndefineFunction({\n  type: \"accent\",\n  names: [\"\\\\'\", \"\\\\`\", \"\\\\^\", \"\\\\~\", \"\\\\=\", \"\\\\u\", \"\\\\.\", '\\\\\"', \"\\\\r\", \"\\\\H\", \"\\\\v\", \"\\\\textcircled\"],\n  props: {\n    numArgs: 1,\n    allowedInText: true,\n    allowedInMath: false,\n    argTypes: [\"primitive\"]\n  },\n  handler: (context, args) => {\n    var base = args[0];\n    return {\n      type: \"accent\",\n      mode: context.parser.mode,\n      label: context.funcName,\n      isStretchy: false,\n      isShifty: true,\n      base: base\n    };\n  },\n  htmlBuilder,\n  mathmlBuilder\n});\n\n// Horizontal overlap functions\ndefineFunction({\n  type: \"accentUnder\",\n  names: [\"\\\\underleftarrow\", \"\\\\underrightarrow\", \"\\\\underleftrightarrow\", \"\\\\undergroup\", \"\\\\underlinesegment\", \"\\\\utilde\"],\n  props: {\n    numArgs: 1\n  },\n  handler: (_ref, args) => {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var base = args[0];\n    return {\n      type: \"accentUnder\",\n      mode: parser.mode,\n      label: funcName,\n      base: base\n    };\n  },\n  htmlBuilder: (group, options) => {\n    // Treat under accents much like underlines.\n    var innerGroup = buildGroup(group.base, options);\n    var accentBody = stretchy.svgSpan(group, options);\n    var kern = group.label === \"\\\\utilde\" ? 0.12 : 0; // Generate the vlist, with the appropriate kerns\n\n    var vlist = buildCommon.makeVList({\n      positionType: \"top\",\n      positionData: innerGroup.height,\n      children: [{\n        type: \"elem\",\n        elem: accentBody,\n        wrapperClasses: [\"svg-align\"]\n      }, {\n        type: \"kern\",\n        size: kern\n      }, {\n        type: \"elem\",\n        elem: innerGroup\n      }]\n    }, options);\n    return buildCommon.makeSpan([\"mord\", \"accentunder\"], [vlist], options);\n  },\n  mathmlBuilder: (group, options) => {\n    var accentNode = stretchy.mathMLnode(group.label);\n    var node = new mathMLTree.MathNode(\"munder\", [buildGroup$1(group.base, options), accentNode]);\n    node.setAttribute(\"accentunder\", \"true\");\n    return node;\n  }\n});\n\n// Helper function\nvar paddedNode = group => {\n  var node = new mathMLTree.MathNode(\"mpadded\", group ? [group] : []);\n  node.setAttribute(\"width\", \"+0.6em\");\n  node.setAttribute(\"lspace\", \"0.3em\");\n  return node;\n}; // Stretchy arrows with an optional argument\n\n\ndefineFunction({\n  type: \"xArrow\",\n  names: [\"\\\\xleftarrow\", \"\\\\xrightarrow\", \"\\\\xLeftarrow\", \"\\\\xRightarrow\", \"\\\\xleftrightarrow\", \"\\\\xLeftrightarrow\", \"\\\\xhookleftarrow\", \"\\\\xhookrightarrow\", \"\\\\xmapsto\", \"\\\\xrightharpoondown\", \"\\\\xrightharpoonup\", \"\\\\xleftharpoondown\", \"\\\\xleftharpoonup\", \"\\\\xrightleftharpoons\", \"\\\\xleftrightharpoons\", \"\\\\xlongequal\", \"\\\\xtwoheadrightarrow\", \"\\\\xtwoheadleftarrow\", \"\\\\xtofrom\", // The next 3 functions are here to support the mhchem extension.\n  // Direct use of these functions is discouraged and may break someday.\n  \"\\\\xrightleftarrows\", \"\\\\xrightequilibrium\", \"\\\\xleftequilibrium\", // The next 3 functions are here only to support the {CD} environment.\n  \"\\\\\\\\cdrightarrow\", \"\\\\\\\\cdleftarrow\", \"\\\\\\\\cdlongequal\"],\n  props: {\n    numArgs: 1,\n    numOptionalArgs: 1\n  },\n\n  handler(_ref, args, optArgs) {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    return {\n      type: \"xArrow\",\n      mode: parser.mode,\n      label: funcName,\n      body: args[0],\n      below: optArgs[0]\n    };\n  },\n\n  // Flow is unable to correctly infer the type of `group`, even though it's\n  // unamibiguously determined from the passed-in `type` above.\n  htmlBuilder(group, options) {\n    var style = options.style; // Build the argument groups in the appropriate style.\n    // Ref: amsmath.dtx:   \\hbox{$\\scriptstyle\\mkern#3mu{#6}\\mkern#4mu$}%\n    // Some groups can return document fragments.  Handle those by wrapping\n    // them in a span.\n\n    var newOptions = options.havingStyle(style.sup());\n    var upperGroup = buildCommon.wrapFragment(buildGroup(group.body, newOptions, options), options);\n    var arrowPrefix = group.label.slice(0, 2) === \"\\\\x\" ? \"x\" : \"cd\";\n    upperGroup.classes.push(arrowPrefix + \"-arrow-pad\");\n    var lowerGroup;\n\n    if (group.below) {\n      // Build the lower group\n      newOptions = options.havingStyle(style.sub());\n      lowerGroup = buildCommon.wrapFragment(buildGroup(group.below, newOptions, options), options);\n      lowerGroup.classes.push(arrowPrefix + \"-arrow-pad\");\n    }\n\n    var arrowBody = stretchy.svgSpan(group, options); // Re shift: Note that stretchy.svgSpan returned arrowBody.depth = 0.\n    // The point we want on the math axis is at 0.5 * arrowBody.height.\n\n    var arrowShift = -options.fontMetrics().axisHeight + 0.5 * arrowBody.height; // 2 mu kern. Ref: amsmath.dtx: #7\\if0#2\\else\\mkern#2mu\\fi\n\n    var upperShift = -options.fontMetrics().axisHeight - 0.5 * arrowBody.height - 0.111; // 0.111 em = 2 mu\n\n    if (upperGroup.depth > 0.25 || group.label === \"\\\\xleftequilibrium\") {\n      upperShift -= upperGroup.depth; // shift up if depth encroaches\n    } // Generate the vlist\n\n\n    var vlist;\n\n    if (lowerGroup) {\n      var lowerShift = -options.fontMetrics().axisHeight + lowerGroup.height + 0.5 * arrowBody.height + 0.111;\n      vlist = buildCommon.makeVList({\n        positionType: \"individualShift\",\n        children: [{\n          type: \"elem\",\n          elem: upperGroup,\n          shift: upperShift\n        }, {\n          type: \"elem\",\n          elem: arrowBody,\n          shift: arrowShift\n        }, {\n          type: \"elem\",\n          elem: lowerGroup,\n          shift: lowerShift\n        }]\n      }, options);\n    } else {\n      vlist = buildCommon.makeVList({\n        positionType: \"individualShift\",\n        children: [{\n          type: \"elem\",\n          elem: upperGroup,\n          shift: upperShift\n        }, {\n          type: \"elem\",\n          elem: arrowBody,\n          shift: arrowShift\n        }]\n      }, options);\n    } // $FlowFixMe: Replace this with passing \"svg-align\" into makeVList.\n\n\n    vlist.children[0].children[0].children[1].classes.push(\"svg-align\");\n    return buildCommon.makeSpan([\"mrel\", \"x-arrow\"], [vlist], options);\n  },\n\n  mathmlBuilder(group, options) {\n    var arrowNode = stretchy.mathMLnode(group.label);\n    arrowNode.setAttribute(\"minsize\", group.label.charAt(0) === \"x\" ? \"1.75em\" : \"3.0em\");\n    var node;\n\n    if (group.body) {\n      var upperNode = paddedNode(buildGroup$1(group.body, options));\n\n      if (group.below) {\n        var lowerNode = paddedNode(buildGroup$1(group.below, options));\n        node = new mathMLTree.MathNode(\"munderover\", [arrowNode, lowerNode, upperNode]);\n      } else {\n        node = new mathMLTree.MathNode(\"mover\", [arrowNode, upperNode]);\n      }\n    } else if (group.below) {\n      var _lowerNode = paddedNode(buildGroup$1(group.below, options));\n\n      node = new mathMLTree.MathNode(\"munder\", [arrowNode, _lowerNode]);\n    } else {\n      // This should never happen.\n      // Parser.js throws an error if there is no argument.\n      node = paddedNode();\n      node = new mathMLTree.MathNode(\"mover\", [arrowNode, node]);\n    }\n\n    return node;\n  }\n\n});\n\nvar cdArrowFunctionName = {\n  \">\": \"\\\\\\\\cdrightarrow\",\n  \"<\": \"\\\\\\\\cdleftarrow\",\n  \"=\": \"\\\\\\\\cdlongequal\",\n  \"A\": \"\\\\uparrow\",\n  \"V\": \"\\\\downarrow\",\n  \"|\": \"\\\\Vert\",\n  \".\": \"no arrow\"\n};\n\nvar newCell = () => {\n  // Create an empty cell, to be filled below with parse nodes.\n  // The parseTree from this module must be constructed like the\n  // one created by parseArray(), so an empty CD cell must\n  // be a ParseNode<\"styling\">. And CD is always displaystyle.\n  // So these values are fixed and flow can do implicit typing.\n  return {\n    type: \"styling\",\n    body: [],\n    mode: \"math\",\n    style: \"display\"\n  };\n};\n\nvar isStartOfArrow = node => {\n  return node.type === \"textord\" && node.text === \"@\";\n};\n\nvar isLabelEnd = (node, endChar) => {\n  return (node.type === \"mathord\" || node.type === \"atom\") && node.text === endChar;\n};\n\nfunction cdArrow(arrowChar, labels, parser) {\n  // Return a parse tree of an arrow and its labels.\n  // This acts in a way similar to a macro expansion.\n  var funcName = cdArrowFunctionName[arrowChar];\n\n  switch (funcName) {\n    case \"\\\\\\\\cdrightarrow\":\n    case \"\\\\\\\\cdleftarrow\":\n      return parser.callFunction(funcName, [labels[0]], [labels[1]]);\n\n    case \"\\\\uparrow\":\n    case \"\\\\downarrow\":\n      {\n        var leftLabel = parser.callFunction(\"\\\\\\\\cdleft\", [labels[0]], []);\n        var bareArrow = {\n          type: \"atom\",\n          text: funcName,\n          mode: \"math\",\n          family: \"rel\"\n        };\n        var sizedArrow = parser.callFunction(\"\\\\Big\", [bareArrow], []);\n        var rightLabel = parser.callFunction(\"\\\\\\\\cdright\", [labels[1]], []);\n        var arrowGroup = {\n          type: \"ordgroup\",\n          mode: \"math\",\n          body: [leftLabel, sizedArrow, rightLabel]\n        };\n        return parser.callFunction(\"\\\\\\\\cdparent\", [arrowGroup], []);\n      }\n\n    case \"\\\\\\\\cdlongequal\":\n      return parser.callFunction(\"\\\\\\\\cdlongequal\", [], []);\n\n    case \"\\\\Vert\":\n      {\n        var arrow = {\n          type: \"textord\",\n          text: \"\\\\Vert\",\n          mode: \"math\"\n        };\n        return parser.callFunction(\"\\\\Big\", [arrow], []);\n      }\n\n    default:\n      return {\n        type: \"textord\",\n        text: \" \",\n        mode: \"math\"\n      };\n  }\n}\n\nfunction parseCD(parser) {\n  // Get the array's parse nodes with \\\\ temporarily mapped to \\cr.\n  var parsedRows = [];\n  parser.gullet.beginGroup();\n  parser.gullet.macros.set(\"\\\\cr\", \"\\\\\\\\\\\\relax\");\n  parser.gullet.beginGroup();\n\n  while (true) {\n    // eslint-disable-line no-constant-condition\n    // Get the parse nodes for the next row.\n    parsedRows.push(parser.parseExpression(false, \"\\\\\\\\\"));\n    parser.gullet.endGroup();\n    parser.gullet.beginGroup();\n    var next = parser.fetch().text;\n\n    if (next === \"&\" || next === \"\\\\\\\\\") {\n      parser.consume();\n    } else if (next === \"\\\\end\") {\n      if (parsedRows[parsedRows.length - 1].length === 0) {\n        parsedRows.pop(); // final row ended in \\\\\n      }\n\n      break;\n    } else {\n      throw new ParseError(\"Expected \\\\\\\\ or \\\\cr or \\\\end\", parser.nextToken);\n    }\n  }\n\n  var row = [];\n  var body = [row]; // Loop thru the parse nodes. Collect them into cells and arrows.\n\n  for (var i = 0; i < parsedRows.length; i++) {\n    // Start a new row.\n    var rowNodes = parsedRows[i]; // Create the first cell.\n\n    var cell = newCell();\n\n    for (var j = 0; j < rowNodes.length; j++) {\n      if (!isStartOfArrow(rowNodes[j])) {\n        // If a parseNode is not an arrow, it goes into a cell.\n        cell.body.push(rowNodes[j]);\n      } else {\n        // Parse node j is an \"@\", the start of an arrow.\n        // Before starting on the arrow, push the cell into `row`.\n        row.push(cell); // Now collect parseNodes into an arrow.\n        // The character after \"@\" defines the arrow type.\n\n        j += 1;\n        var arrowChar = assertSymbolNodeType(rowNodes[j]).text; // Create two empty label nodes. We may or may not use them.\n\n        var labels = new Array(2);\n        labels[0] = {\n          type: \"ordgroup\",\n          mode: \"math\",\n          body: []\n        };\n        labels[1] = {\n          type: \"ordgroup\",\n          mode: \"math\",\n          body: []\n        }; // Process the arrow.\n\n        if (\"=|.\".indexOf(arrowChar) > -1) ; else if (\"<>AV\".indexOf(arrowChar) > -1) {\n          // Four arrows, `@>>>`, `@<<<`, `@AAA`, and `@VVV`, each take\n          // two optional labels. E.g. the right-point arrow syntax is\n          // really:  @>{optional label}>{optional label}>\n          // Collect parseNodes into labels.\n          for (var labelNum = 0; labelNum < 2; labelNum++) {\n            var inLabel = true;\n\n            for (var k = j + 1; k < rowNodes.length; k++) {\n              if (isLabelEnd(rowNodes[k], arrowChar)) {\n                inLabel = false;\n                j = k;\n                break;\n              }\n\n              if (isStartOfArrow(rowNodes[k])) {\n                throw new ParseError(\"Missing a \" + arrowChar + \" character to complete a CD arrow.\", rowNodes[k]);\n              }\n\n              labels[labelNum].body.push(rowNodes[k]);\n            }\n\n            if (inLabel) {\n              // isLabelEnd never returned a true.\n              throw new ParseError(\"Missing a \" + arrowChar + \" character to complete a CD arrow.\", rowNodes[j]);\n            }\n          }\n        } else {\n          throw new ParseError(\"Expected one of \\\"<>AV=|.\\\" after @\", rowNodes[j]);\n        } // Now join the arrow to its labels.\n\n\n        var arrow = cdArrow(arrowChar, labels, parser); // Wrap the arrow in  ParseNode<\"styling\">.\n        // This is done to match parseArray() behavior.\n\n        var wrappedArrow = {\n          type: \"styling\",\n          body: [arrow],\n          mode: \"math\",\n          style: \"display\" // CD is always displaystyle.\n\n        };\n        row.push(wrappedArrow); // In CD's syntax, cells are implicit. That is, everything that\n        // is not an arrow gets collected into a cell. So create an empty\n        // cell now. It will collect upcoming parseNodes.\n\n        cell = newCell();\n      }\n    }\n\n    if (i % 2 === 0) {\n      // Even-numbered rows consist of: cell, arrow, cell, arrow, ... cell\n      // The last cell is not yet pushed into `row`, so:\n      row.push(cell);\n    } else {\n      // Odd-numbered rows consist of: vert arrow, empty cell, ... vert arrow\n      // Remove the empty cell that was placed at the beginning of `row`.\n      row.shift();\n    }\n\n    row = [];\n    body.push(row);\n  } // End row group\n\n\n  parser.gullet.endGroup(); // End array group defining \\\\\n\n  parser.gullet.endGroup(); // define column separation.\n\n  var cols = new Array(body[0].length).fill({\n    type: \"align\",\n    align: \"c\",\n    pregap: 0.25,\n    // CD package sets \\enskip between columns.\n    postgap: 0.25 // So pre and post each get half an \\enskip, i.e. 0.25em.\n\n  });\n  return {\n    type: \"array\",\n    mode: \"math\",\n    body,\n    arraystretch: 1,\n    addJot: true,\n    rowGaps: [null],\n    cols,\n    colSeparationType: \"CD\",\n    hLinesBeforeRow: new Array(body.length + 1).fill([])\n  };\n} // The functions below are not available for general use.\n// They are here only for internal use by the {CD} environment in placing labels\n// next to vertical arrows.\n// We don't need any such functions for horizontal arrows because we can reuse\n// the functionality that already exists for extensible arrows.\n\ndefineFunction({\n  type: \"cdlabel\",\n  names: [\"\\\\\\\\cdleft\", \"\\\\\\\\cdright\"],\n  props: {\n    numArgs: 1\n  },\n\n  handler(_ref, args) {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    return {\n      type: \"cdlabel\",\n      mode: parser.mode,\n      side: funcName.slice(4),\n      label: args[0]\n    };\n  },\n\n  htmlBuilder(group, options) {\n    var newOptions = options.havingStyle(options.style.sup());\n    var label = buildCommon.wrapFragment(buildGroup(group.label, newOptions, options), options);\n    label.classes.push(\"cd-label-\" + group.side);\n    label.style.bottom = 0.8 - label.depth + \"em\"; // Zero out label height & depth, so vertical align of arrow is set\n    // by the arrow height, not by the label.\n\n    label.height = 0;\n    label.depth = 0;\n    return label;\n  },\n\n  mathmlBuilder(group, options) {\n    var label = new mathMLTree.MathNode(\"mrow\", [buildGroup$1(group.label, options)]);\n    label = new mathMLTree.MathNode(\"mpadded\", [label]);\n    label.setAttribute(\"width\", \"0\");\n\n    if (group.side === \"left\") {\n      label.setAttribute(\"lspace\", \"-1width\");\n    } // We have to guess at vertical alignment. We know the arrow is 1.8em tall,\n    // But we don't know the height or depth of the label.\n\n\n    label.setAttribute(\"voffset\", \"0.7em\");\n    label = new mathMLTree.MathNode(\"mstyle\", [label]);\n    label.setAttribute(\"displaystyle\", \"false\");\n    label.setAttribute(\"scriptlevel\", \"1\");\n    return label;\n  }\n\n});\ndefineFunction({\n  type: \"cdlabelparent\",\n  names: [\"\\\\\\\\cdparent\"],\n  props: {\n    numArgs: 1\n  },\n\n  handler(_ref2, args) {\n    var {\n      parser\n    } = _ref2;\n    return {\n      type: \"cdlabelparent\",\n      mode: parser.mode,\n      fragment: args[0]\n    };\n  },\n\n  htmlBuilder(group, options) {\n    // Wrap the vertical arrow and its labels.\n    // The parent gets position: relative. The child gets position: absolute.\n    // So CSS can locate the label correctly.\n    var parent = buildCommon.wrapFragment(buildGroup(group.fragment, options), options);\n    parent.classes.push(\"cd-vert-arrow\");\n    return parent;\n  },\n\n  mathmlBuilder(group, options) {\n    return new mathMLTree.MathNode(\"mrow\", [buildGroup$1(group.fragment, options)]);\n  }\n\n});\n\n// {123} and converts into symbol with code 123.  It is used by the *macro*\n// \\char defined in macros.js.\n\ndefineFunction({\n  type: \"textord\",\n  names: [\"\\\\@char\"],\n  props: {\n    numArgs: 1,\n    allowedInText: true\n  },\n\n  handler(_ref, args) {\n    var {\n      parser\n    } = _ref;\n    var arg = assertNodeType(args[0], \"ordgroup\");\n    var group = arg.body;\n    var number = \"\";\n\n    for (var i = 0; i < group.length; i++) {\n      var node = assertNodeType(group[i], \"textord\");\n      number += node.text;\n    }\n\n    var code = parseInt(number);\n\n    if (isNaN(code)) {\n      throw new ParseError(\"\\\\@char has non-numeric argument \" + number);\n    }\n\n    return {\n      type: \"textord\",\n      mode: parser.mode,\n      text: String.fromCharCode(code)\n    };\n  }\n\n});\n\nvar htmlBuilder$1 = (group, options) => {\n  var elements = buildExpression(group.body, options.withColor(group.color), false); // \\color isn't supposed to affect the type of the elements it contains.\n  // To accomplish this, we wrap the results in a fragment, so the inner\n  // elements will be able to directly interact with their neighbors. For\n  // example, `\\color{red}{2 +} 3` has the same spacing as `2 + 3`\n\n  return buildCommon.makeFragment(elements);\n};\n\nvar mathmlBuilder$1 = (group, options) => {\n  var inner = buildExpression$1(group.body, options.withColor(group.color));\n  var node = new mathMLTree.MathNode(\"mstyle\", inner);\n  node.setAttribute(\"mathcolor\", group.color);\n  return node;\n};\n\ndefineFunction({\n  type: \"color\",\n  names: [\"\\\\textcolor\"],\n  props: {\n    numArgs: 2,\n    allowedInText: true,\n    argTypes: [\"color\", \"original\"]\n  },\n\n  handler(_ref, args) {\n    var {\n      parser\n    } = _ref;\n    var color = assertNodeType(args[0], \"color-token\").color;\n    var body = args[1];\n    return {\n      type: \"color\",\n      mode: parser.mode,\n      color,\n      body: ordargument(body)\n    };\n  },\n\n  htmlBuilder: htmlBuilder$1,\n  mathmlBuilder: mathmlBuilder$1\n});\ndefineFunction({\n  type: \"color\",\n  names: [\"\\\\color\"],\n  props: {\n    numArgs: 1,\n    allowedInText: true,\n    argTypes: [\"color\"]\n  },\n\n  handler(_ref2, args) {\n    var {\n      parser,\n      breakOnTokenText\n    } = _ref2;\n    var color = assertNodeType(args[0], \"color-token\").color; // Set macro \\current@color in current namespace to store the current\n    // color, mimicking the behavior of color.sty.\n    // This is currently used just to correctly color a \\right\n    // that follows a \\color command.\n\n    parser.gullet.macros.set(\"\\\\current@color\", color); // Parse out the implicit body that should be colored.\n\n    var body = parser.parseExpression(true, breakOnTokenText);\n    return {\n      type: \"color\",\n      mode: parser.mode,\n      color,\n      body\n    };\n  },\n\n  htmlBuilder: htmlBuilder$1,\n  mathmlBuilder: mathmlBuilder$1\n});\n\n// Row breaks within tabular environments, and line breaks at top level\n\ndefineFunction({\n  type: \"cr\",\n  names: [\"\\\\\\\\\"],\n  props: {\n    numArgs: 0,\n    numOptionalArgs: 1,\n    argTypes: [\"size\"],\n    allowedInText: true\n  },\n\n  handler(_ref, args, optArgs) {\n    var {\n      parser\n    } = _ref;\n    var size = optArgs[0];\n    var newLine = !parser.settings.displayMode || !parser.settings.useStrictBehavior(\"newLineInDisplayMode\", \"In LaTeX, \\\\\\\\ or \\\\newline \" + \"does nothing in display mode\");\n    return {\n      type: \"cr\",\n      mode: parser.mode,\n      newLine,\n      size: size && assertNodeType(size, \"size\").value\n    };\n  },\n\n  // The following builders are called only at the top level,\n  // not within tabular/array environments.\n  htmlBuilder(group, options) {\n    var span = buildCommon.makeSpan([\"mspace\"], [], options);\n\n    if (group.newLine) {\n      span.classes.push(\"newline\");\n\n      if (group.size) {\n        span.style.marginTop = calculateSize(group.size, options) + \"em\";\n      }\n    }\n\n    return span;\n  },\n\n  mathmlBuilder(group, options) {\n    var node = new mathMLTree.MathNode(\"mspace\");\n\n    if (group.newLine) {\n      node.setAttribute(\"linebreak\", \"newline\");\n\n      if (group.size) {\n        node.setAttribute(\"height\", calculateSize(group.size, options) + \"em\");\n      }\n    }\n\n    return node;\n  }\n\n});\n\nvar globalMap = {\n  \"\\\\global\": \"\\\\global\",\n  \"\\\\long\": \"\\\\\\\\globallong\",\n  \"\\\\\\\\globallong\": \"\\\\\\\\globallong\",\n  \"\\\\def\": \"\\\\gdef\",\n  \"\\\\gdef\": \"\\\\gdef\",\n  \"\\\\edef\": \"\\\\xdef\",\n  \"\\\\xdef\": \"\\\\xdef\",\n  \"\\\\let\": \"\\\\\\\\globallet\",\n  \"\\\\futurelet\": \"\\\\\\\\globalfuture\"\n};\n\nvar checkControlSequence = tok => {\n  var name = tok.text;\n\n  if (/^(?:[\\\\{}$&#^_]|EOF)$/.test(name)) {\n    throw new ParseError(\"Expected a control sequence\", tok);\n  }\n\n  return name;\n};\n\nvar getRHS = parser => {\n  var tok = parser.gullet.popToken();\n\n  if (tok.text === \"=\") {\n    // consume optional equals\n    tok = parser.gullet.popToken();\n\n    if (tok.text === \" \") {\n      // consume one optional space\n      tok = parser.gullet.popToken();\n    }\n  }\n\n  return tok;\n};\n\nvar letCommand = (parser, name, tok, global) => {\n  var macro = parser.gullet.macros.get(tok.text);\n\n  if (macro == null) {\n    // don't expand it later even if a macro with the same name is defined\n    // e.g., \\let\\foo=\\frac \\def\\frac{\\relax} \\frac12\n    tok.noexpand = true;\n    macro = {\n      tokens: [tok],\n      numArgs: 0,\n      // reproduce the same behavior in expansion\n      unexpandable: !parser.gullet.isExpandable(tok.text)\n    };\n  }\n\n  parser.gullet.macros.set(name, macro, global);\n}; // <assignment> -> <non-macro assignment>|<macro assignment>\n// <non-macro assignment> -> <simple assignment>|\\global<non-macro assignment>\n// <macro assignment> -> <definition>|<prefix><macro assignment>\n// <prefix> -> \\global|\\long|\\outer\n\n\ndefineFunction({\n  type: \"internal\",\n  names: [\"\\\\global\", \"\\\\long\", \"\\\\\\\\globallong\" // cant be entered directly\n  ],\n  props: {\n    numArgs: 0,\n    allowedInText: true\n  },\n\n  handler(_ref) {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    parser.consumeSpaces();\n    var token = parser.fetch();\n\n    if (globalMap[token.text]) {\n      // KaTeX doesn't have \\par, so ignore \\long\n      if (funcName === \"\\\\global\" || funcName === \"\\\\\\\\globallong\") {\n        token.text = globalMap[token.text];\n      }\n\n      return assertNodeType(parser.parseFunction(), \"internal\");\n    }\n\n    throw new ParseError(\"Invalid token after macro prefix\", token);\n  }\n\n}); // Basic support for macro definitions: \\def, \\gdef, \\edef, \\xdef\n// <definition> -> <def><control sequence><definition text>\n// <def> -> \\def|\\gdef|\\edef|\\xdef\n// <definition text> -> <parameter text><left brace><balanced text><right brace>\n\ndefineFunction({\n  type: \"internal\",\n  names: [\"\\\\def\", \"\\\\gdef\", \"\\\\edef\", \"\\\\xdef\"],\n  props: {\n    numArgs: 0,\n    allowedInText: true,\n    primitive: true\n  },\n\n  handler(_ref2) {\n    var {\n      parser,\n      funcName\n    } = _ref2;\n    var tok = parser.gullet.popToken();\n    var name = tok.text;\n\n    if (/^(?:[\\\\{}$&#^_]|EOF)$/.test(name)) {\n      throw new ParseError(\"Expected a control sequence\", tok);\n    }\n\n    var numArgs = 0;\n    var insert;\n    var delimiters = [[]]; // <parameter text> contains no braces\n\n    while (parser.gullet.future().text !== \"{\") {\n      tok = parser.gullet.popToken();\n\n      if (tok.text === \"#\") {\n        // If the very last character of the <parameter text> is #, so that\n        // this # is immediately followed by {, TeX will behave as if the {\n        // had been inserted at the right end of both the parameter text\n        // and the replacement text.\n        if (parser.gullet.future().text === \"{\") {\n          insert = parser.gullet.future();\n          delimiters[numArgs].push(\"{\");\n          break;\n        } // A parameter, the first appearance of # must be followed by 1,\n        // the next by 2, and so on; up to nine #s are allowed\n\n\n        tok = parser.gullet.popToken();\n\n        if (!/^[1-9]$/.test(tok.text)) {\n          throw new ParseError(\"Invalid argument number \\\"\" + tok.text + \"\\\"\");\n        }\n\n        if (parseInt(tok.text) !== numArgs + 1) {\n          throw new ParseError(\"Argument number \\\"\" + tok.text + \"\\\" out of order\");\n        }\n\n        numArgs++;\n        delimiters.push([]);\n      } else if (tok.text === \"EOF\") {\n        throw new ParseError(\"Expected a macro definition\");\n      } else {\n        delimiters[numArgs].push(tok.text);\n      }\n    } // replacement text, enclosed in '{' and '}' and properly nested\n\n\n    var {\n      tokens\n    } = parser.gullet.consumeArg();\n\n    if (insert) {\n      tokens.unshift(insert);\n    }\n\n    if (funcName === \"\\\\edef\" || funcName === \"\\\\xdef\") {\n      tokens = parser.gullet.expandTokens(tokens);\n      tokens.reverse(); // to fit in with stack order\n    } // Final arg is the expansion of the macro\n\n\n    parser.gullet.macros.set(name, {\n      tokens,\n      numArgs,\n      delimiters\n    }, funcName === globalMap[funcName]);\n    return {\n      type: \"internal\",\n      mode: parser.mode\n    };\n  }\n\n}); // <simple assignment> -> <let assignment>\n// <let assignment> -> \\futurelet<control sequence><token><token>\n//     | \\let<control sequence><equals><one optional space><token>\n// <equals> -> <optional spaces>|<optional spaces>=\n\ndefineFunction({\n  type: \"internal\",\n  names: [\"\\\\let\", \"\\\\\\\\globallet\" // cant be entered directly\n  ],\n  props: {\n    numArgs: 0,\n    allowedInText: true,\n    primitive: true\n  },\n\n  handler(_ref3) {\n    var {\n      parser,\n      funcName\n    } = _ref3;\n    var name = checkControlSequence(parser.gullet.popToken());\n    parser.gullet.consumeSpaces();\n    var tok = getRHS(parser);\n    letCommand(parser, name, tok, funcName === \"\\\\\\\\globallet\");\n    return {\n      type: \"internal\",\n      mode: parser.mode\n    };\n  }\n\n}); // ref: https://www.tug.org/TUGboat/tb09-3/tb22bechtolsheim.pdf\n\ndefineFunction({\n  type: \"internal\",\n  names: [\"\\\\futurelet\", \"\\\\\\\\globalfuture\" // cant be entered directly\n  ],\n  props: {\n    numArgs: 0,\n    allowedInText: true,\n    primitive: true\n  },\n\n  handler(_ref4) {\n    var {\n      parser,\n      funcName\n    } = _ref4;\n    var name = checkControlSequence(parser.gullet.popToken());\n    var middle = parser.gullet.popToken();\n    var tok = parser.gullet.popToken();\n    letCommand(parser, name, tok, funcName === \"\\\\\\\\globalfuture\");\n    parser.gullet.pushToken(tok);\n    parser.gullet.pushToken(middle);\n    return {\n      type: \"internal\",\n      mode: parser.mode\n    };\n  }\n\n});\n\n/**\n * This file deals with creating delimiters of various sizes. The TeXbook\n * discusses these routines on page 441-442, in the \"Another subroutine sets box\n * x to a specified variable delimiter\" paragraph.\n *\n * There are three main routines here. `makeSmallDelim` makes a delimiter in the\n * normal font, but in either text, script, or scriptscript style.\n * `makeLargeDelim` makes a delimiter in textstyle, but in one of the Size1,\n * Size2, Size3, or Size4 fonts. `makeStackedDelim` makes a delimiter out of\n * smaller pieces that are stacked on top of one another.\n *\n * The functions take a parameter `center`, which determines if the delimiter\n * should be centered around the axis.\n *\n * Then, there are three exposed functions. `sizedDelim` makes a delimiter in\n * one of the given sizes. This is used for things like `\\bigl`.\n * `customSizedDelim` makes a delimiter with a given total height+depth. It is\n * called in places like `\\sqrt`. `leftRightDelim` makes an appropriate\n * delimiter which surrounds an expression of a given height an depth. It is\n * used in `\\left` and `\\right`.\n */\n\n/**\n * Get the metrics for a given symbol and font, after transformation (i.e.\n * after following replacement from symbols.js)\n */\nvar getMetrics = function getMetrics(symbol, font, mode) {\n  var replace = symbols.math[symbol] && symbols.math[symbol].replace;\n  var metrics = getCharacterMetrics(replace || symbol, font, mode);\n\n  if (!metrics) {\n    throw new Error(\"Unsupported symbol \" + symbol + \" and font size \" + font + \".\");\n  }\n\n  return metrics;\n};\n/**\n * Puts a delimiter span in a given style, and adds appropriate height, depth,\n * and maxFontSizes.\n */\n\n\nvar styleWrap = function styleWrap(delim, toStyle, options, classes) {\n  var newOptions = options.havingBaseStyle(toStyle);\n  var span = buildCommon.makeSpan(classes.concat(newOptions.sizingClasses(options)), [delim], options);\n  var delimSizeMultiplier = newOptions.sizeMultiplier / options.sizeMultiplier;\n  span.height *= delimSizeMultiplier;\n  span.depth *= delimSizeMultiplier;\n  span.maxFontSize = newOptions.sizeMultiplier;\n  return span;\n};\n\nvar centerSpan = function centerSpan(span, options, style) {\n  var newOptions = options.havingBaseStyle(style);\n  var shift = (1 - options.sizeMultiplier / newOptions.sizeMultiplier) * options.fontMetrics().axisHeight;\n  span.classes.push(\"delimcenter\");\n  span.style.top = shift + \"em\";\n  span.height -= shift;\n  span.depth += shift;\n};\n/**\n * Makes a small delimiter. This is a delimiter that comes in the Main-Regular\n * font, but is restyled to either be in textstyle, scriptstyle, or\n * scriptscriptstyle.\n */\n\n\nvar makeSmallDelim = function makeSmallDelim(delim, style, center, options, mode, classes) {\n  var text = buildCommon.makeSymbol(delim, \"Main-Regular\", mode, options);\n  var span = styleWrap(text, style, options, classes);\n\n  if (center) {\n    centerSpan(span, options, style);\n  }\n\n  return span;\n};\n/**\n * Builds a symbol in the given font size (note size is an integer)\n */\n\n\nvar mathrmSize = function mathrmSize(value, size, mode, options) {\n  return buildCommon.makeSymbol(value, \"Size\" + size + \"-Regular\", mode, options);\n};\n/**\n * Makes a large delimiter. This is a delimiter that comes in the Size1, Size2,\n * Size3, or Size4 fonts. It is always rendered in textstyle.\n */\n\n\nvar makeLargeDelim = function makeLargeDelim(delim, size, center, options, mode, classes) {\n  var inner = mathrmSize(delim, size, mode, options);\n  var span = styleWrap(buildCommon.makeSpan([\"delimsizing\", \"size\" + size], [inner], options), Style$1.TEXT, options, classes);\n\n  if (center) {\n    centerSpan(span, options, Style$1.TEXT);\n  }\n\n  return span;\n};\n/**\n * Make a span from a font glyph with the given offset and in the given font.\n * This is used in makeStackedDelim to make the stacking pieces for the delimiter.\n */\n\n\nvar makeGlyphSpan = function makeGlyphSpan(symbol, font, mode) {\n  var sizeClass; // Apply the correct CSS class to choose the right font.\n\n  if (font === \"Size1-Regular\") {\n    sizeClass = \"delim-size1\";\n  } else\n    /* if (font === \"Size4-Regular\") */\n    {\n      sizeClass = \"delim-size4\";\n    }\n\n  var corner = buildCommon.makeSpan([\"delimsizinginner\", sizeClass], [buildCommon.makeSpan([], [buildCommon.makeSymbol(symbol, font, mode)])]); // Since this will be passed into `makeVList` in the end, wrap the element\n  // in the appropriate tag that VList uses.\n\n  return {\n    type: \"elem\",\n    elem: corner\n  };\n};\n\nvar makeInner = function makeInner(ch, height, options) {\n  // Create a span with inline SVG for the inner part of a tall stacked delimiter.\n  var width = fontMetricsData['Size4-Regular'][ch.charCodeAt(0)] ? fontMetricsData['Size4-Regular'][ch.charCodeAt(0)][4].toFixed(3) : fontMetricsData['Size1-Regular'][ch.charCodeAt(0)][4].toFixed(3);\n  var path = new PathNode(\"inner\", innerPath(ch, Math.round(1000 * height)));\n  var svgNode = new SvgNode([path], {\n    \"width\": width + \"em\",\n    \"height\": height + \"em\",\n    // Override CSS rule `.katex svg { width: 100% }`\n    \"style\": \"width:\" + width + \"em\",\n    \"viewBox\": \"0 0 \" + 1000 * width + \" \" + Math.round(1000 * height),\n    \"preserveAspectRatio\": \"xMinYMin\"\n  });\n  var span = buildCommon.makeSvgSpan([], [svgNode], options);\n  span.height = height;\n  span.style.height = height + \"em\";\n  span.style.width = width + \"em\";\n  return {\n    type: \"elem\",\n    elem: span\n  };\n}; // Helpers for makeStackedDelim\n\n\nvar lapInEms = 0.008;\nvar lap = {\n  type: \"kern\",\n  size: -1 * lapInEms\n};\nvar verts = [\"|\", \"\\\\lvert\", \"\\\\rvert\", \"\\\\vert\"];\nvar doubleVerts = [\"\\\\|\", \"\\\\lVert\", \"\\\\rVert\", \"\\\\Vert\"];\n/**\n * Make a stacked delimiter out of a given delimiter, with the total height at\n * least `heightTotal`. This routine is mentioned on page 442 of the TeXbook.\n */\n\nvar makeStackedDelim = function makeStackedDelim(delim, heightTotal, center, options, mode, classes) {\n  // There are four parts, the top, an optional middle, a repeated part, and a\n  // bottom.\n  var top;\n  var middle;\n  var repeat;\n  var bottom;\n  top = repeat = bottom = delim;\n  middle = null; // Also keep track of what font the delimiters are in\n\n  var font = \"Size1-Regular\"; // We set the parts and font based on the symbol. Note that we use\n  // '\\u23d0' instead of '|' and '\\u2016' instead of '\\\\|' for the\n  // repeats of the arrows\n\n  if (delim === \"\\\\uparrow\") {\n    repeat = bottom = \"\\u23d0\";\n  } else if (delim === \"\\\\Uparrow\") {\n    repeat = bottom = \"\\u2016\";\n  } else if (delim === \"\\\\downarrow\") {\n    top = repeat = \"\\u23d0\";\n  } else if (delim === \"\\\\Downarrow\") {\n    top = repeat = \"\\u2016\";\n  } else if (delim === \"\\\\updownarrow\") {\n    top = \"\\\\uparrow\";\n    repeat = \"\\u23d0\";\n    bottom = \"\\\\downarrow\";\n  } else if (delim === \"\\\\Updownarrow\") {\n    top = \"\\\\Uparrow\";\n    repeat = \"\\u2016\";\n    bottom = \"\\\\Downarrow\";\n  } else if (utils.contains(verts, delim)) {\n    repeat = \"\\u2223\";\n  } else if (utils.contains(doubleVerts, delim)) {\n    repeat = \"\\u2225\";\n  } else if (delim === \"[\" || delim === \"\\\\lbrack\") {\n    top = \"\\u23a1\";\n    repeat = \"\\u23a2\";\n    bottom = \"\\u23a3\";\n    font = \"Size4-Regular\";\n  } else if (delim === \"]\" || delim === \"\\\\rbrack\") {\n    top = \"\\u23a4\";\n    repeat = \"\\u23a5\";\n    bottom = \"\\u23a6\";\n    font = \"Size4-Regular\";\n  } else if (delim === \"\\\\lfloor\" || delim === \"\\u230a\") {\n    repeat = top = \"\\u23a2\";\n    bottom = \"\\u23a3\";\n    font = \"Size4-Regular\";\n  } else if (delim === \"\\\\lceil\" || delim === \"\\u2308\") {\n    top = \"\\u23a1\";\n    repeat = bottom = \"\\u23a2\";\n    font = \"Size4-Regular\";\n  } else if (delim === \"\\\\rfloor\" || delim === \"\\u230b\") {\n    repeat = top = \"\\u23a5\";\n    bottom = \"\\u23a6\";\n    font = \"Size4-Regular\";\n  } else if (delim === \"\\\\rceil\" || delim === \"\\u2309\") {\n    top = \"\\u23a4\";\n    repeat = bottom = \"\\u23a5\";\n    font = \"Size4-Regular\";\n  } else if (delim === \"(\" || delim === \"\\\\lparen\") {\n    top = \"\\u239b\";\n    repeat = \"\\u239c\";\n    bottom = \"\\u239d\";\n    font = \"Size4-Regular\";\n  } else if (delim === \")\" || delim === \"\\\\rparen\") {\n    top = \"\\u239e\";\n    repeat = \"\\u239f\";\n    bottom = \"\\u23a0\";\n    font = \"Size4-Regular\";\n  } else if (delim === \"\\\\{\" || delim === \"\\\\lbrace\") {\n    top = \"\\u23a7\";\n    middle = \"\\u23a8\";\n    bottom = \"\\u23a9\";\n    repeat = \"\\u23aa\";\n    font = \"Size4-Regular\";\n  } else if (delim === \"\\\\}\" || delim === \"\\\\rbrace\") {\n    top = \"\\u23ab\";\n    middle = \"\\u23ac\";\n    bottom = \"\\u23ad\";\n    repeat = \"\\u23aa\";\n    font = \"Size4-Regular\";\n  } else if (delim === \"\\\\lgroup\" || delim === \"\\u27ee\") {\n    top = \"\\u23a7\";\n    bottom = \"\\u23a9\";\n    repeat = \"\\u23aa\";\n    font = \"Size4-Regular\";\n  } else if (delim === \"\\\\rgroup\" || delim === \"\\u27ef\") {\n    top = \"\\u23ab\";\n    bottom = \"\\u23ad\";\n    repeat = \"\\u23aa\";\n    font = \"Size4-Regular\";\n  } else if (delim === \"\\\\lmoustache\" || delim === \"\\u23b0\") {\n    top = \"\\u23a7\";\n    bottom = \"\\u23ad\";\n    repeat = \"\\u23aa\";\n    font = \"Size4-Regular\";\n  } else if (delim === \"\\\\rmoustache\" || delim === \"\\u23b1\") {\n    top = \"\\u23ab\";\n    bottom = \"\\u23a9\";\n    repeat = \"\\u23aa\";\n    font = \"Size4-Regular\";\n  } // Get the metrics of the four sections\n\n\n  var topMetrics = getMetrics(top, font, mode);\n  var topHeightTotal = topMetrics.height + topMetrics.depth;\n  var repeatMetrics = getMetrics(repeat, font, mode);\n  var repeatHeightTotal = repeatMetrics.height + repeatMetrics.depth;\n  var bottomMetrics = getMetrics(bottom, font, mode);\n  var bottomHeightTotal = bottomMetrics.height + bottomMetrics.depth;\n  var middleHeightTotal = 0;\n  var middleFactor = 1;\n\n  if (middle !== null) {\n    var middleMetrics = getMetrics(middle, font, mode);\n    middleHeightTotal = middleMetrics.height + middleMetrics.depth;\n    middleFactor = 2; // repeat symmetrically above and below middle\n  } // Calcuate the minimal height that the delimiter can have.\n  // It is at least the size of the top, bottom, and optional middle combined.\n\n\n  var minHeight = topHeightTotal + bottomHeightTotal + middleHeightTotal; // Compute the number of copies of the repeat symbol we will need\n\n  var repeatCount = Math.max(0, Math.ceil((heightTotal - minHeight) / (middleFactor * repeatHeightTotal))); // Compute the total height of the delimiter including all the symbols\n\n  var realHeightTotal = minHeight + repeatCount * middleFactor * repeatHeightTotal; // The center of the delimiter is placed at the center of the axis. Note\n  // that in this context, \"center\" means that the delimiter should be\n  // centered around the axis in the current style, while normally it is\n  // centered around the axis in textstyle.\n\n  var axisHeight = options.fontMetrics().axisHeight;\n\n  if (center) {\n    axisHeight *= options.sizeMultiplier;\n  } // Calculate the depth\n\n\n  var depth = realHeightTotal / 2 - axisHeight; // Now, we start building the pieces that will go into the vlist\n  // Keep a list of the pieces of the stacked delimiter\n\n  var stack = []; // Add the bottom symbol\n\n  stack.push(makeGlyphSpan(bottom, font, mode));\n  stack.push(lap); // overlap\n\n  if (middle === null) {\n    // The middle section will be an SVG. Make it an extra 0.016em tall.\n    // We'll overlap by 0.008em at top and bottom.\n    var innerHeight = realHeightTotal - topHeightTotal - bottomHeightTotal + 2 * lapInEms;\n    stack.push(makeInner(repeat, innerHeight, options));\n  } else {\n    // When there is a middle bit, we need the middle part and two repeated\n    // sections\n    var _innerHeight = (realHeightTotal - topHeightTotal - bottomHeightTotal - middleHeightTotal) / 2 + 2 * lapInEms;\n\n    stack.push(makeInner(repeat, _innerHeight, options)); // Now insert the middle of the brace.\n\n    stack.push(lap);\n    stack.push(makeGlyphSpan(middle, font, mode));\n    stack.push(lap);\n    stack.push(makeInner(repeat, _innerHeight, options));\n  } // Add the top symbol\n\n\n  stack.push(lap);\n  stack.push(makeGlyphSpan(top, font, mode)); // Finally, build the vlist\n\n  var newOptions = options.havingBaseStyle(Style$1.TEXT);\n  var inner = buildCommon.makeVList({\n    positionType: \"bottom\",\n    positionData: depth,\n    children: stack\n  }, newOptions);\n  return styleWrap(buildCommon.makeSpan([\"delimsizing\", \"mult\"], [inner], newOptions), Style$1.TEXT, options, classes);\n}; // All surds have 0.08em padding above the viniculum inside the SVG.\n// That keeps browser span height rounding error from pinching the line.\n\n\nvar vbPad = 80; // padding above the surd, measured inside the viewBox.\n\nvar emPad = 0.08; // padding, in ems, measured in the document.\n\nvar sqrtSvg = function sqrtSvg(sqrtName, height, viewBoxHeight, extraViniculum, options) {\n  var path = sqrtPath(sqrtName, extraViniculum, viewBoxHeight);\n  var pathNode = new PathNode(sqrtName, path);\n  var svg = new SvgNode([pathNode], {\n    // Note: 1000:1 ratio of viewBox to document em width.\n    \"width\": \"400em\",\n    \"height\": height + \"em\",\n    \"viewBox\": \"0 0 400000 \" + viewBoxHeight,\n    \"preserveAspectRatio\": \"xMinYMin slice\"\n  });\n  return buildCommon.makeSvgSpan([\"hide-tail\"], [svg], options);\n};\n/**\n * Make a sqrt image of the given height,\n */\n\n\nvar makeSqrtImage = function makeSqrtImage(height, options) {\n  // Define a newOptions that removes the effect of size changes such as \\Huge.\n  // We don't pick different a height surd for \\Huge. For it, we scale up.\n  var newOptions = options.havingBaseSizing(); // Pick the desired surd glyph from a sequence of surds.\n\n  var delim = traverseSequence(\"\\\\surd\", height * newOptions.sizeMultiplier, stackLargeDelimiterSequence, newOptions);\n  var sizeMultiplier = newOptions.sizeMultiplier; // default\n  // The standard sqrt SVGs each have a 0.04em thick viniculum.\n  // If Settings.minRuleThickness is larger than that, we add extraViniculum.\n\n  var extraViniculum = Math.max(0, options.minRuleThickness - options.fontMetrics().sqrtRuleThickness); // Create a span containing an SVG image of a sqrt symbol.\n\n  var span;\n  var spanHeight = 0;\n  var texHeight = 0;\n  var viewBoxHeight = 0;\n  var advanceWidth; // We create viewBoxes with 80 units of \"padding\" above each surd.\n  // Then browser rounding error on the parent span height will not\n  // encroach on the ink of the viniculum. But that padding is not\n  // included in the TeX-like `height` used for calculation of\n  // vertical alignment. So texHeight = span.height < span.style.height.\n\n  if (delim.type === \"small\") {\n    // Get an SVG that is derived from glyph U+221A in font KaTeX-Main.\n    // 1000 unit normal glyph height.\n    viewBoxHeight = 1000 + 1000 * extraViniculum + vbPad;\n\n    if (height < 1.0) {\n      sizeMultiplier = 1.0; // mimic a \\textfont radical\n    } else if (height < 1.4) {\n      sizeMultiplier = 0.7; // mimic a \\scriptfont radical\n    }\n\n    spanHeight = (1.0 + extraViniculum + emPad) / sizeMultiplier;\n    texHeight = (1.00 + extraViniculum) / sizeMultiplier;\n    span = sqrtSvg(\"sqrtMain\", spanHeight, viewBoxHeight, extraViniculum, options);\n    span.style.minWidth = \"0.853em\";\n    advanceWidth = 0.833 / sizeMultiplier; // from the font.\n  } else if (delim.type === \"large\") {\n    // These SVGs come from fonts: KaTeX_Size1, _Size2, etc.\n    viewBoxHeight = (1000 + vbPad) * sizeToMaxHeight[delim.size];\n    texHeight = (sizeToMaxHeight[delim.size] + extraViniculum) / sizeMultiplier;\n    spanHeight = (sizeToMaxHeight[delim.size] + extraViniculum + emPad) / sizeMultiplier;\n    span = sqrtSvg(\"sqrtSize\" + delim.size, spanHeight, viewBoxHeight, extraViniculum, options);\n    span.style.minWidth = \"1.02em\";\n    advanceWidth = 1.0 / sizeMultiplier; // 1.0 from the font.\n  } else {\n    // Tall sqrt. In TeX, this would be stacked using multiple glyphs.\n    // We'll use a single SVG to accomplish the same thing.\n    spanHeight = height + extraViniculum + emPad;\n    texHeight = height + extraViniculum;\n    viewBoxHeight = Math.floor(1000 * height + extraViniculum) + vbPad;\n    span = sqrtSvg(\"sqrtTall\", spanHeight, viewBoxHeight, extraViniculum, options);\n    span.style.minWidth = \"0.742em\";\n    advanceWidth = 1.056;\n  }\n\n  span.height = texHeight;\n  span.style.height = spanHeight + \"em\";\n  return {\n    span,\n    advanceWidth,\n    // Calculate the actual line width.\n    // This actually should depend on the chosen font -- e.g. \\boldmath\n    // should use the thicker surd symbols from e.g. KaTeX_Main-Bold, and\n    // have thicker rules.\n    ruleWidth: (options.fontMetrics().sqrtRuleThickness + extraViniculum) * sizeMultiplier\n  };\n}; // There are three kinds of delimiters, delimiters that stack when they become\n// too large\n\n\nvar stackLargeDelimiters = [\"(\", \"\\\\lparen\", \")\", \"\\\\rparen\", \"[\", \"\\\\lbrack\", \"]\", \"\\\\rbrack\", \"\\\\{\", \"\\\\lbrace\", \"\\\\}\", \"\\\\rbrace\", \"\\\\lfloor\", \"\\\\rfloor\", \"\\u230a\", \"\\u230b\", \"\\\\lceil\", \"\\\\rceil\", \"\\u2308\", \"\\u2309\", \"\\\\surd\"]; // delimiters that always stack\n\nvar stackAlwaysDelimiters = [\"\\\\uparrow\", \"\\\\downarrow\", \"\\\\updownarrow\", \"\\\\Uparrow\", \"\\\\Downarrow\", \"\\\\Updownarrow\", \"|\", \"\\\\|\", \"\\\\vert\", \"\\\\Vert\", \"\\\\lvert\", \"\\\\rvert\", \"\\\\lVert\", \"\\\\rVert\", \"\\\\lgroup\", \"\\\\rgroup\", \"\\u27ee\", \"\\u27ef\", \"\\\\lmoustache\", \"\\\\rmoustache\", \"\\u23b0\", \"\\u23b1\"]; // and delimiters that never stack\n\nvar stackNeverDelimiters = [\"<\", \">\", \"\\\\langle\", \"\\\\rangle\", \"/\", \"\\\\backslash\", \"\\\\lt\", \"\\\\gt\"]; // Metrics of the different sizes. Found by looking at TeX's output of\n// $\\bigl| // \\Bigl| \\biggl| \\Biggl| \\showlists$\n// Used to create stacked delimiters of appropriate sizes in makeSizedDelim.\n\nvar sizeToMaxHeight = [0, 1.2, 1.8, 2.4, 3.0];\n/**\n * Used to create a delimiter of a specific size, where `size` is 1, 2, 3, or 4.\n */\n\nvar makeSizedDelim = function makeSizedDelim(delim, size, options, mode, classes) {\n  // < and > turn into \\langle and \\rangle in delimiters\n  if (delim === \"<\" || delim === \"\\\\lt\" || delim === \"\\u27e8\") {\n    delim = \"\\\\langle\";\n  } else if (delim === \">\" || delim === \"\\\\gt\" || delim === \"\\u27e9\") {\n    delim = \"\\\\rangle\";\n  } // Sized delimiters are never centered.\n\n\n  if (utils.contains(stackLargeDelimiters, delim) || utils.contains(stackNeverDelimiters, delim)) {\n    return makeLargeDelim(delim, size, false, options, mode, classes);\n  } else if (utils.contains(stackAlwaysDelimiters, delim)) {\n    return makeStackedDelim(delim, sizeToMaxHeight[size], false, options, mode, classes);\n  } else {\n    throw new ParseError(\"Illegal delimiter: '\" + delim + \"'\");\n  }\n};\n/**\n * There are three different sequences of delimiter sizes that the delimiters\n * follow depending on the kind of delimiter. This is used when creating custom\n * sized delimiters to decide whether to create a small, large, or stacked\n * delimiter.\n *\n * In real TeX, these sequences aren't explicitly defined, but are instead\n * defined inside the font metrics. Since there are only three sequences that\n * are possible for the delimiters that TeX defines, it is easier to just encode\n * them explicitly here.\n */\n\n\n// Delimiters that never stack try small delimiters and large delimiters only\nvar stackNeverDelimiterSequence = [{\n  type: \"small\",\n  style: Style$1.SCRIPTSCRIPT\n}, {\n  type: \"small\",\n  style: Style$1.SCRIPT\n}, {\n  type: \"small\",\n  style: Style$1.TEXT\n}, {\n  type: \"large\",\n  size: 1\n}, {\n  type: \"large\",\n  size: 2\n}, {\n  type: \"large\",\n  size: 3\n}, {\n  type: \"large\",\n  size: 4\n}]; // Delimiters that always stack try the small delimiters first, then stack\n\nvar stackAlwaysDelimiterSequence = [{\n  type: \"small\",\n  style: Style$1.SCRIPTSCRIPT\n}, {\n  type: \"small\",\n  style: Style$1.SCRIPT\n}, {\n  type: \"small\",\n  style: Style$1.TEXT\n}, {\n  type: \"stack\"\n}]; // Delimiters that stack when large try the small and then large delimiters, and\n// stack afterwards\n\nvar stackLargeDelimiterSequence = [{\n  type: \"small\",\n  style: Style$1.SCRIPTSCRIPT\n}, {\n  type: \"small\",\n  style: Style$1.SCRIPT\n}, {\n  type: \"small\",\n  style: Style$1.TEXT\n}, {\n  type: \"large\",\n  size: 1\n}, {\n  type: \"large\",\n  size: 2\n}, {\n  type: \"large\",\n  size: 3\n}, {\n  type: \"large\",\n  size: 4\n}, {\n  type: \"stack\"\n}];\n/**\n * Get the font used in a delimiter based on what kind of delimiter it is.\n * TODO(#963) Use more specific font family return type once that is introduced.\n */\n\nvar delimTypeToFont = function delimTypeToFont(type) {\n  if (type.type === \"small\") {\n    return \"Main-Regular\";\n  } else if (type.type === \"large\") {\n    return \"Size\" + type.size + \"-Regular\";\n  } else if (type.type === \"stack\") {\n    return \"Size4-Regular\";\n  } else {\n    throw new Error(\"Add support for delim type '\" + type.type + \"' here.\");\n  }\n};\n/**\n * Traverse a sequence of types of delimiters to decide what kind of delimiter\n * should be used to create a delimiter of the given height+depth.\n */\n\n\nvar traverseSequence = function traverseSequence(delim, height, sequence, options) {\n  // Here, we choose the index we should start at in the sequences. In smaller\n  // sizes (which correspond to larger numbers in style.size) we start earlier\n  // in the sequence. Thus, scriptscript starts at index 3-3=0, script starts\n  // at index 3-2=1, text starts at 3-1=2, and display starts at min(2,3-0)=2\n  var start = Math.min(2, 3 - options.style.size);\n\n  for (var i = start; i < sequence.length; i++) {\n    if (sequence[i].type === \"stack\") {\n      // This is always the last delimiter, so we just break the loop now.\n      break;\n    }\n\n    var metrics = getMetrics(delim, delimTypeToFont(sequence[i]), \"math\");\n    var heightDepth = metrics.height + metrics.depth; // Small delimiters are scaled down versions of the same font, so we\n    // account for the style change size.\n\n    if (sequence[i].type === \"small\") {\n      var newOptions = options.havingBaseStyle(sequence[i].style);\n      heightDepth *= newOptions.sizeMultiplier;\n    } // Check if the delimiter at this size works for the given height.\n\n\n    if (heightDepth > height) {\n      return sequence[i];\n    }\n  } // If we reached the end of the sequence, return the last sequence element.\n\n\n  return sequence[sequence.length - 1];\n};\n/**\n * Make a delimiter of a given height+depth, with optional centering. Here, we\n * traverse the sequences, and create a delimiter that the sequence tells us to.\n */\n\n\nvar makeCustomSizedDelim = function makeCustomSizedDelim(delim, height, center, options, mode, classes) {\n  if (delim === \"<\" || delim === \"\\\\lt\" || delim === \"\\u27e8\") {\n    delim = \"\\\\langle\";\n  } else if (delim === \">\" || delim === \"\\\\gt\" || delim === \"\\u27e9\") {\n    delim = \"\\\\rangle\";\n  } // Decide what sequence to use\n\n\n  var sequence;\n\n  if (utils.contains(stackNeverDelimiters, delim)) {\n    sequence = stackNeverDelimiterSequence;\n  } else if (utils.contains(stackLargeDelimiters, delim)) {\n    sequence = stackLargeDelimiterSequence;\n  } else {\n    sequence = stackAlwaysDelimiterSequence;\n  } // Look through the sequence\n\n\n  var delimType = traverseSequence(delim, height, sequence, options); // Get the delimiter from font glyphs.\n  // Depending on the sequence element we decided on, call the\n  // appropriate function.\n\n  if (delimType.type === \"small\") {\n    return makeSmallDelim(delim, delimType.style, center, options, mode, classes);\n  } else if (delimType.type === \"large\") {\n    return makeLargeDelim(delim, delimType.size, center, options, mode, classes);\n  } else\n    /* if (delimType.type === \"stack\") */\n    {\n      return makeStackedDelim(delim, height, center, options, mode, classes);\n    }\n};\n/**\n * Make a delimiter for use with `\\left` and `\\right`, given a height and depth\n * of an expression that the delimiters surround.\n */\n\n\nvar makeLeftRightDelim = function makeLeftRightDelim(delim, height, depth, options, mode, classes) {\n  // We always center \\left/\\right delimiters, so the axis is always shifted\n  var axisHeight = options.fontMetrics().axisHeight * options.sizeMultiplier; // Taken from TeX source, tex.web, function make_left_right\n\n  var delimiterFactor = 901;\n  var delimiterExtend = 5.0 / options.fontMetrics().ptPerEm;\n  var maxDistFromAxis = Math.max(height - axisHeight, depth + axisHeight);\n  var totalHeight = Math.max( // In real TeX, calculations are done using integral values which are\n  // 65536 per pt, or 655360 per em. So, the division here truncates in\n  // TeX but doesn't here, producing different results. If we wanted to\n  // exactly match TeX's calculation, we could do\n  //   Math.floor(655360 * maxDistFromAxis / 500) *\n  //    delimiterFactor / 655360\n  // (To see the difference, compare\n  //    x^{x^{\\left(\\rule{0.1em}{0.68em}\\right)}}\n  // in TeX and KaTeX)\n  maxDistFromAxis / 500 * delimiterFactor, 2 * maxDistFromAxis - delimiterExtend); // Finally, we defer to `makeCustomSizedDelim` with our calculated total\n  // height\n\n  return makeCustomSizedDelim(delim, totalHeight, true, options, mode, classes);\n};\n\nvar delimiter = {\n  sqrtImage: makeSqrtImage,\n  sizedDelim: makeSizedDelim,\n  sizeToMaxHeight: sizeToMaxHeight,\n  customSizedDelim: makeCustomSizedDelim,\n  leftRightDelim: makeLeftRightDelim\n};\n\n// Extra data needed for the delimiter handler down below\nvar delimiterSizes = {\n  \"\\\\bigl\": {\n    mclass: \"mopen\",\n    size: 1\n  },\n  \"\\\\Bigl\": {\n    mclass: \"mopen\",\n    size: 2\n  },\n  \"\\\\biggl\": {\n    mclass: \"mopen\",\n    size: 3\n  },\n  \"\\\\Biggl\": {\n    mclass: \"mopen\",\n    size: 4\n  },\n  \"\\\\bigr\": {\n    mclass: \"mclose\",\n    size: 1\n  },\n  \"\\\\Bigr\": {\n    mclass: \"mclose\",\n    size: 2\n  },\n  \"\\\\biggr\": {\n    mclass: \"mclose\",\n    size: 3\n  },\n  \"\\\\Biggr\": {\n    mclass: \"mclose\",\n    size: 4\n  },\n  \"\\\\bigm\": {\n    mclass: \"mrel\",\n    size: 1\n  },\n  \"\\\\Bigm\": {\n    mclass: \"mrel\",\n    size: 2\n  },\n  \"\\\\biggm\": {\n    mclass: \"mrel\",\n    size: 3\n  },\n  \"\\\\Biggm\": {\n    mclass: \"mrel\",\n    size: 4\n  },\n  \"\\\\big\": {\n    mclass: \"mord\",\n    size: 1\n  },\n  \"\\\\Big\": {\n    mclass: \"mord\",\n    size: 2\n  },\n  \"\\\\bigg\": {\n    mclass: \"mord\",\n    size: 3\n  },\n  \"\\\\Bigg\": {\n    mclass: \"mord\",\n    size: 4\n  }\n};\nvar delimiters = [\"(\", \"\\\\lparen\", \")\", \"\\\\rparen\", \"[\", \"\\\\lbrack\", \"]\", \"\\\\rbrack\", \"\\\\{\", \"\\\\lbrace\", \"\\\\}\", \"\\\\rbrace\", \"\\\\lfloor\", \"\\\\rfloor\", \"\\u230a\", \"\\u230b\", \"\\\\lceil\", \"\\\\rceil\", \"\\u2308\", \"\\u2309\", \"<\", \">\", \"\\\\langle\", \"\\u27e8\", \"\\\\rangle\", \"\\u27e9\", \"\\\\lt\", \"\\\\gt\", \"\\\\lvert\", \"\\\\rvert\", \"\\\\lVert\", \"\\\\rVert\", \"\\\\lgroup\", \"\\\\rgroup\", \"\\u27ee\", \"\\u27ef\", \"\\\\lmoustache\", \"\\\\rmoustache\", \"\\u23b0\", \"\\u23b1\", \"/\", \"\\\\backslash\", \"|\", \"\\\\vert\", \"\\\\|\", \"\\\\Vert\", \"\\\\uparrow\", \"\\\\Uparrow\", \"\\\\downarrow\", \"\\\\Downarrow\", \"\\\\updownarrow\", \"\\\\Updownarrow\", \".\"];\n\n// Delimiter functions\nfunction checkDelimiter(delim, context) {\n  var symDelim = checkSymbolNodeType(delim);\n\n  if (symDelim && utils.contains(delimiters, symDelim.text)) {\n    return symDelim;\n  } else if (symDelim) {\n    throw new ParseError(\"Invalid delimiter '\" + symDelim.text + \"' after '\" + context.funcName + \"'\", delim);\n  } else {\n    throw new ParseError(\"Invalid delimiter type '\" + delim.type + \"'\", delim);\n  }\n}\n\ndefineFunction({\n  type: \"delimsizing\",\n  names: [\"\\\\bigl\", \"\\\\Bigl\", \"\\\\biggl\", \"\\\\Biggl\", \"\\\\bigr\", \"\\\\Bigr\", \"\\\\biggr\", \"\\\\Biggr\", \"\\\\bigm\", \"\\\\Bigm\", \"\\\\biggm\", \"\\\\Biggm\", \"\\\\big\", \"\\\\Big\", \"\\\\bigg\", \"\\\\Bigg\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"primitive\"]\n  },\n  handler: (context, args) => {\n    var delim = checkDelimiter(args[0], context);\n    return {\n      type: \"delimsizing\",\n      mode: context.parser.mode,\n      size: delimiterSizes[context.funcName].size,\n      mclass: delimiterSizes[context.funcName].mclass,\n      delim: delim.text\n    };\n  },\n  htmlBuilder: (group, options) => {\n    if (group.delim === \".\") {\n      // Empty delimiters still count as elements, even though they don't\n      // show anything.\n      return buildCommon.makeSpan([group.mclass]);\n    } // Use delimiter.sizedDelim to generate the delimiter.\n\n\n    return delimiter.sizedDelim(group.delim, group.size, options, group.mode, [group.mclass]);\n  },\n  mathmlBuilder: group => {\n    var children = [];\n\n    if (group.delim !== \".\") {\n      children.push(makeText(group.delim, group.mode));\n    }\n\n    var node = new mathMLTree.MathNode(\"mo\", children);\n\n    if (group.mclass === \"mopen\" || group.mclass === \"mclose\") {\n      // Only some of the delimsizing functions act as fences, and they\n      // return \"mopen\" or \"mclose\" mclass.\n      node.setAttribute(\"fence\", \"true\");\n    } else {\n      // Explicitly disable fencing if it's not a fence, to override the\n      // defaults.\n      node.setAttribute(\"fence\", \"false\");\n    }\n\n    node.setAttribute(\"stretchy\", \"true\");\n    node.setAttribute(\"minsize\", delimiter.sizeToMaxHeight[group.size] + \"em\");\n    node.setAttribute(\"maxsize\", delimiter.sizeToMaxHeight[group.size] + \"em\");\n    return node;\n  }\n});\n\nfunction assertParsed(group) {\n  if (!group.body) {\n    throw new Error(\"Bug: The leftright ParseNode wasn't fully parsed.\");\n  }\n}\n\ndefineFunction({\n  type: \"leftright-right\",\n  names: [\"\\\\right\"],\n  props: {\n    numArgs: 1,\n    primitive: true\n  },\n  handler: (context, args) => {\n    // \\left case below triggers parsing of \\right in\n    //   `const right = parser.parseFunction();`\n    // uses this return value.\n    var color = context.parser.gullet.macros.get(\"\\\\current@color\");\n\n    if (color && typeof color !== \"string\") {\n      throw new ParseError(\"\\\\current@color set to non-string in \\\\right\");\n    }\n\n    return {\n      type: \"leftright-right\",\n      mode: context.parser.mode,\n      delim: checkDelimiter(args[0], context).text,\n      color // undefined if not set via \\color\n\n    };\n  }\n});\ndefineFunction({\n  type: \"leftright\",\n  names: [\"\\\\left\"],\n  props: {\n    numArgs: 1,\n    primitive: true\n  },\n  handler: (context, args) => {\n    var delim = checkDelimiter(args[0], context);\n    var parser = context.parser; // Parse out the implicit body\n\n    ++parser.leftrightDepth; // parseExpression stops before '\\\\right'\n\n    var body = parser.parseExpression(false);\n    --parser.leftrightDepth; // Check the next token\n\n    parser.expect(\"\\\\right\", false);\n    var right = assertNodeType(parser.parseFunction(), \"leftright-right\");\n    return {\n      type: \"leftright\",\n      mode: parser.mode,\n      body,\n      left: delim.text,\n      right: right.delim,\n      rightColor: right.color\n    };\n  },\n  htmlBuilder: (group, options) => {\n    assertParsed(group); // Build the inner expression\n\n    var inner = buildExpression(group.body, options, true, [\"mopen\", \"mclose\"]);\n    var innerHeight = 0;\n    var innerDepth = 0;\n    var hadMiddle = false; // Calculate its height and depth\n\n    for (var i = 0; i < inner.length; i++) {\n      // Property `isMiddle` not defined on `span`. See comment in\n      // \"middle\"'s htmlBuilder.\n      // $FlowFixMe\n      if (inner[i].isMiddle) {\n        hadMiddle = true;\n      } else {\n        innerHeight = Math.max(inner[i].height, innerHeight);\n        innerDepth = Math.max(inner[i].depth, innerDepth);\n      }\n    } // The size of delimiters is the same, regardless of what style we are\n    // in. Thus, to correctly calculate the size of delimiter we need around\n    // a group, we scale down the inner size based on the size.\n\n\n    innerHeight *= options.sizeMultiplier;\n    innerDepth *= options.sizeMultiplier;\n    var leftDelim;\n\n    if (group.left === \".\") {\n      // Empty delimiters in \\left and \\right make null delimiter spaces.\n      leftDelim = makeNullDelimiter(options, [\"mopen\"]);\n    } else {\n      // Otherwise, use leftRightDelim to generate the correct sized\n      // delimiter.\n      leftDelim = delimiter.leftRightDelim(group.left, innerHeight, innerDepth, options, group.mode, [\"mopen\"]);\n    } // Add it to the beginning of the expression\n\n\n    inner.unshift(leftDelim); // Handle middle delimiters\n\n    if (hadMiddle) {\n      for (var _i = 1; _i < inner.length; _i++) {\n        var middleDelim = inner[_i]; // Property `isMiddle` not defined on `span`. See comment in\n        // \"middle\"'s htmlBuilder.\n        // $FlowFixMe\n\n        var isMiddle = middleDelim.isMiddle;\n\n        if (isMiddle) {\n          // Apply the options that were active when \\middle was called\n          inner[_i] = delimiter.leftRightDelim(isMiddle.delim, innerHeight, innerDepth, isMiddle.options, group.mode, []);\n        }\n      }\n    }\n\n    var rightDelim; // Same for the right delimiter, but using color specified by \\color\n\n    if (group.right === \".\") {\n      rightDelim = makeNullDelimiter(options, [\"mclose\"]);\n    } else {\n      var colorOptions = group.rightColor ? options.withColor(group.rightColor) : options;\n      rightDelim = delimiter.leftRightDelim(group.right, innerHeight, innerDepth, colorOptions, group.mode, [\"mclose\"]);\n    } // Add it to the end of the expression.\n\n\n    inner.push(rightDelim);\n    return buildCommon.makeSpan([\"minner\"], inner, options);\n  },\n  mathmlBuilder: (group, options) => {\n    assertParsed(group);\n    var inner = buildExpression$1(group.body, options);\n\n    if (group.left !== \".\") {\n      var leftNode = new mathMLTree.MathNode(\"mo\", [makeText(group.left, group.mode)]);\n      leftNode.setAttribute(\"fence\", \"true\");\n      inner.unshift(leftNode);\n    }\n\n    if (group.right !== \".\") {\n      var rightNode = new mathMLTree.MathNode(\"mo\", [makeText(group.right, group.mode)]);\n      rightNode.setAttribute(\"fence\", \"true\");\n\n      if (group.rightColor) {\n        rightNode.setAttribute(\"mathcolor\", group.rightColor);\n      }\n\n      inner.push(rightNode);\n    }\n\n    return makeRow(inner);\n  }\n});\ndefineFunction({\n  type: \"middle\",\n  names: [\"\\\\middle\"],\n  props: {\n    numArgs: 1,\n    primitive: true\n  },\n  handler: (context, args) => {\n    var delim = checkDelimiter(args[0], context);\n\n    if (!context.parser.leftrightDepth) {\n      throw new ParseError(\"\\\\middle without preceding \\\\left\", delim);\n    }\n\n    return {\n      type: \"middle\",\n      mode: context.parser.mode,\n      delim: delim.text\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var middleDelim;\n\n    if (group.delim === \".\") {\n      middleDelim = makeNullDelimiter(options, []);\n    } else {\n      middleDelim = delimiter.sizedDelim(group.delim, 1, options, group.mode, []);\n      var isMiddle = {\n        delim: group.delim,\n        options\n      }; // Property `isMiddle` not defined on `span`. It is only used in\n      // this file above.\n      // TODO: Fix this violation of the `span` type and possibly rename\n      // things since `isMiddle` sounds like a boolean, but is a struct.\n      // $FlowFixMe\n\n      middleDelim.isMiddle = isMiddle;\n    }\n\n    return middleDelim;\n  },\n  mathmlBuilder: (group, options) => {\n    // A Firefox \\middle will strech a character vertically only if it\n    // is in the fence part of the operator dictionary at:\n    // https://www.w3.org/TR/MathML3/appendixc.html.\n    // So we need to avoid U+2223 and use plain \"|\" instead.\n    var textNode = group.delim === \"\\\\vert\" || group.delim === \"|\" ? makeText(\"|\", \"text\") : makeText(group.delim, group.mode);\n    var middleNode = new mathMLTree.MathNode(\"mo\", [textNode]);\n    middleNode.setAttribute(\"fence\", \"true\"); // MathML gives 5/18em spacing to each <mo> element.\n    // \\middle should get delimiter spacing instead.\n\n    middleNode.setAttribute(\"lspace\", \"0.05em\");\n    middleNode.setAttribute(\"rspace\", \"0.05em\");\n    return middleNode;\n  }\n});\n\nvar htmlBuilder$2 = (group, options) => {\n  // \\cancel, \\bcancel, \\xcancel, \\sout, \\fbox, \\colorbox, \\fcolorbox, \\phase\n  // Some groups can return document fragments.  Handle those by wrapping\n  // them in a span.\n  var inner = buildCommon.wrapFragment(buildGroup(group.body, options), options);\n  var label = group.label.substr(1);\n  var scale = options.sizeMultiplier;\n  var img;\n  var imgShift = 0; // In the LaTeX cancel package, line geometry is slightly different\n  // depending on whether the subject is wider than it is tall, or vice versa.\n  // We don't know the width of a group, so as a proxy, we test if\n  // the subject is a single character. This captures most of the\n  // subjects that should get the \"tall\" treatment.\n\n  var isSingleChar = utils.isCharacterBox(group.body);\n\n  if (label === \"sout\") {\n    img = buildCommon.makeSpan([\"stretchy\", \"sout\"]);\n    img.height = options.fontMetrics().defaultRuleThickness / scale;\n    imgShift = -0.5 * options.fontMetrics().xHeight;\n  } else if (label === \"phase\") {\n    // Set a couple of dimensions from the steinmetz package.\n    var lineWeight = calculateSize({\n      number: 0.6,\n      unit: \"pt\"\n    }, options);\n    var clearance = calculateSize({\n      number: 0.35,\n      unit: \"ex\"\n    }, options); // Prevent size changes like \\Huge from affecting line thickness\n\n    var newOptions = options.havingBaseSizing();\n    scale = scale / newOptions.sizeMultiplier;\n    var angleHeight = inner.height + inner.depth + lineWeight + clearance; // Reserve a left pad for the angle.\n\n    inner.style.paddingLeft = angleHeight / 2 + lineWeight + \"em\"; // Create an SVG\n\n    var viewBoxHeight = Math.floor(1000 * angleHeight * scale);\n    var path = phasePath(viewBoxHeight);\n    var svgNode = new SvgNode([new PathNode(\"phase\", path)], {\n      \"width\": \"400em\",\n      \"height\": viewBoxHeight / 1000 + \"em\",\n      \"viewBox\": \"0 0 400000 \" + viewBoxHeight,\n      \"preserveAspectRatio\": \"xMinYMin slice\"\n    }); // Wrap it in a span with overflow: hidden.\n\n    img = buildCommon.makeSvgSpan([\"hide-tail\"], [svgNode], options);\n    img.style.height = angleHeight + \"em\";\n    imgShift = inner.depth + lineWeight + clearance;\n  } else {\n    // Add horizontal padding\n    if (/cancel/.test(label)) {\n      if (!isSingleChar) {\n        inner.classes.push(\"cancel-pad\");\n      }\n    } else if (label === \"angl\") {\n      inner.classes.push(\"anglpad\");\n    } else {\n      inner.classes.push(\"boxpad\");\n    } // Add vertical padding\n\n\n    var topPad = 0;\n    var bottomPad = 0;\n    var ruleThickness = 0; // ref: cancel package: \\advance\\totalheight2\\p@ % \"+2\"\n\n    if (/box/.test(label)) {\n      ruleThickness = Math.max(options.fontMetrics().fboxrule, // default\n      options.minRuleThickness // User override.\n      );\n      topPad = options.fontMetrics().fboxsep + (label === \"colorbox\" ? 0 : ruleThickness);\n      bottomPad = topPad;\n    } else if (label === \"angl\") {\n      ruleThickness = Math.max(options.fontMetrics().defaultRuleThickness, options.minRuleThickness);\n      topPad = 4 * ruleThickness; // gap = 3  line, plus the line itself.\n\n      bottomPad = Math.max(0, 0.25 - inner.depth);\n    } else {\n      topPad = isSingleChar ? 0.2 : 0;\n      bottomPad = topPad;\n    }\n\n    img = stretchy.encloseSpan(inner, label, topPad, bottomPad, options);\n\n    if (/fbox|boxed|fcolorbox/.test(label)) {\n      img.style.borderStyle = \"solid\";\n      img.style.borderWidth = ruleThickness + \"em\";\n    } else if (label === \"angl\" && ruleThickness !== 0.049) {\n      img.style.borderTopWidth = ruleThickness + \"em\";\n      img.style.borderRightWidth = ruleThickness + \"em\";\n    }\n\n    imgShift = inner.depth + bottomPad;\n\n    if (group.backgroundColor) {\n      img.style.backgroundColor = group.backgroundColor;\n\n      if (group.borderColor) {\n        img.style.borderColor = group.borderColor;\n      }\n    }\n  }\n\n  var vlist;\n\n  if (group.backgroundColor) {\n    vlist = buildCommon.makeVList({\n      positionType: \"individualShift\",\n      children: [// Put the color background behind inner;\n      {\n        type: \"elem\",\n        elem: img,\n        shift: imgShift\n      }, {\n        type: \"elem\",\n        elem: inner,\n        shift: 0\n      }]\n    }, options);\n  } else {\n    var classes = /cancel|phase/.test(label) ? [\"svg-align\"] : [];\n    vlist = buildCommon.makeVList({\n      positionType: \"individualShift\",\n      children: [// Write the \\cancel stroke on top of inner.\n      {\n        type: \"elem\",\n        elem: inner,\n        shift: 0\n      }, {\n        type: \"elem\",\n        elem: img,\n        shift: imgShift,\n        wrapperClasses: classes\n      }]\n    }, options);\n  }\n\n  if (/cancel/.test(label)) {\n    // The cancel package documentation says that cancel lines add their height\n    // to the expression, but tests show that isn't how it actually works.\n    vlist.height = inner.height;\n    vlist.depth = inner.depth;\n  }\n\n  if (/cancel/.test(label) && !isSingleChar) {\n    // cancel does not create horiz space for its line extension.\n    return buildCommon.makeSpan([\"mord\", \"cancel-lap\"], [vlist], options);\n  } else {\n    return buildCommon.makeSpan([\"mord\"], [vlist], options);\n  }\n};\n\nvar mathmlBuilder$2 = (group, options) => {\n  var fboxsep = 0;\n  var node = new mathMLTree.MathNode(group.label.indexOf(\"colorbox\") > -1 ? \"mpadded\" : \"menclose\", [buildGroup$1(group.body, options)]);\n\n  switch (group.label) {\n    case \"\\\\cancel\":\n      node.setAttribute(\"notation\", \"updiagonalstrike\");\n      break;\n\n    case \"\\\\bcancel\":\n      node.setAttribute(\"notation\", \"downdiagonalstrike\");\n      break;\n\n    case \"\\\\phase\":\n      node.setAttribute(\"notation\", \"phasorangle\");\n      break;\n\n    case \"\\\\sout\":\n      node.setAttribute(\"notation\", \"horizontalstrike\");\n      break;\n\n    case \"\\\\fbox\":\n      node.setAttribute(\"notation\", \"box\");\n      break;\n\n    case \"\\\\angl\":\n      node.setAttribute(\"notation\", \"actuarial\");\n      break;\n\n    case \"\\\\fcolorbox\":\n    case \"\\\\colorbox\":\n      // <menclose> doesn't have a good notation option. So use <mpadded>\n      // instead. Set some attributes that come included with <menclose>.\n      fboxsep = options.fontMetrics().fboxsep * options.fontMetrics().ptPerEm;\n      node.setAttribute(\"width\", \"+\" + 2 * fboxsep + \"pt\");\n      node.setAttribute(\"height\", \"+\" + 2 * fboxsep + \"pt\");\n      node.setAttribute(\"lspace\", fboxsep + \"pt\"); //\n\n      node.setAttribute(\"voffset\", fboxsep + \"pt\");\n\n      if (group.label === \"\\\\fcolorbox\") {\n        var thk = Math.max(options.fontMetrics().fboxrule, // default\n        options.minRuleThickness // user override\n        );\n        node.setAttribute(\"style\", \"border: \" + thk + \"em solid \" + String(group.borderColor));\n      }\n\n      break;\n\n    case \"\\\\xcancel\":\n      node.setAttribute(\"notation\", \"updiagonalstrike downdiagonalstrike\");\n      break;\n  }\n\n  if (group.backgroundColor) {\n    node.setAttribute(\"mathbackground\", group.backgroundColor);\n  }\n\n  return node;\n};\n\ndefineFunction({\n  type: \"enclose\",\n  names: [\"\\\\colorbox\"],\n  props: {\n    numArgs: 2,\n    allowedInText: true,\n    argTypes: [\"color\", \"text\"]\n  },\n\n  handler(_ref, args, optArgs) {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var color = assertNodeType(args[0], \"color-token\").color;\n    var body = args[1];\n    return {\n      type: \"enclose\",\n      mode: parser.mode,\n      label: funcName,\n      backgroundColor: color,\n      body\n    };\n  },\n\n  htmlBuilder: htmlBuilder$2,\n  mathmlBuilder: mathmlBuilder$2\n});\ndefineFunction({\n  type: \"enclose\",\n  names: [\"\\\\fcolorbox\"],\n  props: {\n    numArgs: 3,\n    allowedInText: true,\n    argTypes: [\"color\", \"color\", \"text\"]\n  },\n\n  handler(_ref2, args, optArgs) {\n    var {\n      parser,\n      funcName\n    } = _ref2;\n    var borderColor = assertNodeType(args[0], \"color-token\").color;\n    var backgroundColor = assertNodeType(args[1], \"color-token\").color;\n    var body = args[2];\n    return {\n      type: \"enclose\",\n      mode: parser.mode,\n      label: funcName,\n      backgroundColor,\n      borderColor,\n      body\n    };\n  },\n\n  htmlBuilder: htmlBuilder$2,\n  mathmlBuilder: mathmlBuilder$2\n});\ndefineFunction({\n  type: \"enclose\",\n  names: [\"\\\\fbox\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"hbox\"],\n    allowedInText: true\n  },\n\n  handler(_ref3, args) {\n    var {\n      parser\n    } = _ref3;\n    return {\n      type: \"enclose\",\n      mode: parser.mode,\n      label: \"\\\\fbox\",\n      body: args[0]\n    };\n  }\n\n});\ndefineFunction({\n  type: \"enclose\",\n  names: [\"\\\\cancel\", \"\\\\bcancel\", \"\\\\xcancel\", \"\\\\sout\", \"\\\\phase\"],\n  props: {\n    numArgs: 1\n  },\n\n  handler(_ref4, args) {\n    var {\n      parser,\n      funcName\n    } = _ref4;\n    var body = args[0];\n    return {\n      type: \"enclose\",\n      mode: parser.mode,\n      label: funcName,\n      body\n    };\n  },\n\n  htmlBuilder: htmlBuilder$2,\n  mathmlBuilder: mathmlBuilder$2\n});\ndefineFunction({\n  type: \"enclose\",\n  names: [\"\\\\angl\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"hbox\"],\n    allowedInText: false\n  },\n\n  handler(_ref5, args) {\n    var {\n      parser\n    } = _ref5;\n    return {\n      type: \"enclose\",\n      mode: parser.mode,\n      label: \"\\\\angl\",\n      body: args[0]\n    };\n  }\n\n});\n\n/**\n * All registered environments.\n * `environments.js` exports this same dictionary again and makes it public.\n * `Parser.js` requires this dictionary via `environments.js`.\n */\nvar _environments = {};\nfunction defineEnvironment(_ref) {\n  var {\n    type,\n    names,\n    props,\n    handler,\n    htmlBuilder,\n    mathmlBuilder\n  } = _ref;\n  // Set default values of environments.\n  var data = {\n    type,\n    numArgs: props.numArgs || 0,\n    allowedInText: false,\n    numOptionalArgs: 0,\n    handler\n  };\n\n  for (var i = 0; i < names.length; ++i) {\n    // TODO: The value type of _environments should be a type union of all\n    // possible `EnvSpec<>` possibilities instead of `EnvSpec<*>`, which is\n    // an existential type.\n    _environments[names[i]] = data;\n  }\n\n  if (htmlBuilder) {\n    _htmlGroupBuilders[type] = htmlBuilder;\n  }\n\n  if (mathmlBuilder) {\n    _mathmlGroupBuilders[type] = mathmlBuilder;\n  }\n}\n\n// Helper functions\nfunction getHLines(parser) {\n  // Return an array. The array length = number of hlines.\n  // Each element in the array tells if the line is dashed.\n  var hlineInfo = [];\n  parser.consumeSpaces();\n  var nxt = parser.fetch().text;\n\n  while (nxt === \"\\\\hline\" || nxt === \"\\\\hdashline\") {\n    parser.consume();\n    hlineInfo.push(nxt === \"\\\\hdashline\");\n    parser.consumeSpaces();\n    nxt = parser.fetch().text;\n  }\n\n  return hlineInfo;\n}\n\nvar validateAmsEnvironmentContext = context => {\n  var settings = context.parser.settings;\n\n  if (!settings.displayMode) {\n    throw new ParseError(\"{\" + context.envName + \"} can be used only in\" + \" display mode.\");\n  }\n};\n/**\n * Parse the body of the environment, with rows delimited by \\\\ and\n * columns delimited by &, and create a nested list in row-major order\n * with one group per cell.  If given an optional argument style\n * (\"text\", \"display\", etc.), then each cell is cast into that style.\n */\n\n\nfunction parseArray(parser, _ref, style) {\n  var {\n    hskipBeforeAndAfter,\n    addJot,\n    cols,\n    arraystretch,\n    colSeparationType,\n    addEqnNum,\n    singleRow,\n    maxNumCols,\n    leqno\n  } = _ref;\n  parser.gullet.beginGroup();\n\n  if (!singleRow) {\n    // \\cr is equivalent to \\\\ without the optional size argument (see below)\n    // TODO: provide helpful error when \\cr is used outside array environment\n    parser.gullet.macros.set(\"\\\\cr\", \"\\\\\\\\\\\\relax\");\n  } // Get current arraystretch if it's not set by the environment\n\n\n  if (!arraystretch) {\n    var stretch = parser.gullet.expandMacroAsText(\"\\\\arraystretch\");\n\n    if (stretch == null) {\n      // Default \\arraystretch from lttab.dtx\n      arraystretch = 1;\n    } else {\n      arraystretch = parseFloat(stretch);\n\n      if (!arraystretch || arraystretch < 0) {\n        throw new ParseError(\"Invalid \\\\arraystretch: \" + stretch);\n      }\n    }\n  } // Start group for first cell\n\n\n  parser.gullet.beginGroup();\n  var row = [];\n  var body = [row];\n  var rowGaps = [];\n  var hLinesBeforeRow = []; // Test for \\hline at the top of the array.\n\n  hLinesBeforeRow.push(getHLines(parser));\n\n  while (true) {\n    // eslint-disable-line no-constant-condition\n    // Parse each cell in its own group (namespace)\n    var cell = parser.parseExpression(false, singleRow ? \"\\\\end\" : \"\\\\\\\\\");\n    parser.gullet.endGroup();\n    parser.gullet.beginGroup();\n    cell = {\n      type: \"ordgroup\",\n      mode: parser.mode,\n      body: cell\n    };\n\n    if (style) {\n      cell = {\n        type: \"styling\",\n        mode: parser.mode,\n        style,\n        body: [cell]\n      };\n    }\n\n    row.push(cell);\n    var next = parser.fetch().text;\n\n    if (next === \"&\") {\n      if (maxNumCols && row.length === maxNumCols) {\n        if (singleRow || colSeparationType) {\n          // {equation} or {split}\n          throw new ParseError(\"Too many tab characters: &\", parser.nextToken);\n        } else {\n          // {array} environment\n          parser.settings.reportNonstrict(\"textEnv\", \"Too few columns \" + \"specified in the {array} column argument.\");\n        }\n      }\n\n      parser.consume();\n    } else if (next === \"\\\\end\") {\n      // Arrays terminate newlines with `\\crcr` which consumes a `\\cr` if\n      // the last line is empty.\n      // NOTE: Currently, `cell` is the last item added into `row`.\n      if (row.length === 1 && cell.type === \"styling\" && cell.body[0].body.length === 0) {\n        body.pop();\n      }\n\n      if (hLinesBeforeRow.length < body.length + 1) {\n        hLinesBeforeRow.push([]);\n      }\n\n      break;\n    } else if (next === \"\\\\\\\\\") {\n      parser.consume();\n      var size = void 0; // \\def\\Let@{\\let\\\\\\math@cr}\n      // \\def\\math@cr{...\\math@cr@}\n      // \\def\\math@cr@{\\new@ifnextchar[\\math@cr@@{\\math@cr@@[\\z@]}}\n      // \\def\\math@cr@@[#1]{...\\math@cr@@@...}\n      // \\def\\math@cr@@@{\\cr}\n\n      if (parser.gullet.future().text !== \" \") {\n        size = parser.parseSizeGroup(true);\n      }\n\n      rowGaps.push(size ? size.value : null); // check for \\hline(s) following the row separator\n\n      hLinesBeforeRow.push(getHLines(parser));\n      row = [];\n      body.push(row);\n    } else {\n      throw new ParseError(\"Expected & or \\\\\\\\ or \\\\cr or \\\\end\", parser.nextToken);\n    }\n  } // End cell group\n\n\n  parser.gullet.endGroup(); // End array group defining \\cr\n\n  parser.gullet.endGroup();\n  return {\n    type: \"array\",\n    mode: parser.mode,\n    addJot,\n    arraystretch,\n    body,\n    cols,\n    rowGaps,\n    hskipBeforeAndAfter,\n    hLinesBeforeRow,\n    colSeparationType,\n    addEqnNum,\n    leqno\n  };\n} // Decides on a style for cells in an array according to whether the given\n// environment name starts with the letter 'd'.\n\n\nfunction dCellStyle(envName) {\n  if (envName.substr(0, 1) === \"d\") {\n    return \"display\";\n  } else {\n    return \"text\";\n  }\n}\n\nvar htmlBuilder$3 = function htmlBuilder(group, options) {\n  var r;\n  var c;\n  var nr = group.body.length;\n  var hLinesBeforeRow = group.hLinesBeforeRow;\n  var nc = 0;\n  var body = new Array(nr);\n  var hlines = [];\n  var ruleThickness = Math.max( // From LaTeX \\showthe\\arrayrulewidth. Equals 0.04 em.\n  options.fontMetrics().arrayRuleWidth, options.minRuleThickness // User override.\n  ); // Horizontal spacing\n\n  var pt = 1 / options.fontMetrics().ptPerEm;\n  var arraycolsep = 5 * pt; // default value, i.e. \\arraycolsep in article.cls\n\n  if (group.colSeparationType && group.colSeparationType === \"small\") {\n    // We're in a {smallmatrix}. Default column space is \\thickspace,\n    // i.e. 5/18em = 0.2778em, per amsmath.dtx for {smallmatrix}.\n    // But that needs adjustment because LaTeX applies \\scriptstyle to the\n    // entire array, including the colspace, but this function applies\n    // \\scriptstyle only inside each element.\n    var localMultiplier = options.havingStyle(Style$1.SCRIPT).sizeMultiplier;\n    arraycolsep = 0.2778 * (localMultiplier / options.sizeMultiplier);\n  } // Vertical spacing\n\n\n  var baselineskip = group.colSeparationType === \"CD\" ? calculateSize({\n    number: 3,\n    unit: \"ex\"\n  }, options) : 12 * pt; // see size10.clo\n  // Default \\jot from ltmath.dtx\n  // TODO(edemaine): allow overriding \\jot via \\setlength (#687)\n\n  var jot = 3 * pt;\n  var arrayskip = group.arraystretch * baselineskip;\n  var arstrutHeight = 0.7 * arrayskip; // \\strutbox in ltfsstrc.dtx and\n\n  var arstrutDepth = 0.3 * arrayskip; // \\@arstrutbox in lttab.dtx\n\n  var totalHeight = 0; // Set a position for \\hline(s) at the top of the array, if any.\n\n  function setHLinePos(hlinesInGap) {\n    for (var i = 0; i < hlinesInGap.length; ++i) {\n      if (i > 0) {\n        totalHeight += 0.25;\n      }\n\n      hlines.push({\n        pos: totalHeight,\n        isDashed: hlinesInGap[i]\n      });\n    }\n  }\n\n  setHLinePos(hLinesBeforeRow[0]);\n\n  for (r = 0; r < group.body.length; ++r) {\n    var inrow = group.body[r];\n    var height = arstrutHeight; // \\@array adds an \\@arstrut\n\n    var depth = arstrutDepth; // to each tow (via the template)\n\n    if (nc < inrow.length) {\n      nc = inrow.length;\n    }\n\n    var outrow = new Array(inrow.length);\n\n    for (c = 0; c < inrow.length; ++c) {\n      var elt = buildGroup(inrow[c], options);\n\n      if (depth < elt.depth) {\n        depth = elt.depth;\n      }\n\n      if (height < elt.height) {\n        height = elt.height;\n      }\n\n      outrow[c] = elt;\n    }\n\n    var rowGap = group.rowGaps[r];\n    var gap = 0;\n\n    if (rowGap) {\n      gap = calculateSize(rowGap, options);\n\n      if (gap > 0) {\n        // \\@argarraycr\n        gap += arstrutDepth;\n\n        if (depth < gap) {\n          depth = gap; // \\@xargarraycr\n        }\n\n        gap = 0;\n      }\n    } // In AMS multiline environments such as aligned and gathered, rows\n    // correspond to lines that have additional \\jot added to the\n    // \\baselineskip via \\openup.\n\n\n    if (group.addJot) {\n      depth += jot;\n    }\n\n    outrow.height = height;\n    outrow.depth = depth;\n    totalHeight += height;\n    outrow.pos = totalHeight;\n    totalHeight += depth + gap; // \\@yargarraycr\n\n    body[r] = outrow; // Set a position for \\hline(s), if any.\n\n    setHLinePos(hLinesBeforeRow[r + 1]);\n  }\n\n  var offset = totalHeight / 2 + options.fontMetrics().axisHeight;\n  var colDescriptions = group.cols || [];\n  var cols = [];\n  var colSep;\n  var colDescrNum;\n  var eqnNumSpans = [];\n\n  if (group.addEqnNum) {\n    // An environment with automatic equation numbers.\n    // Create node(s) that will trigger CSS counter increment.\n    for (r = 0; r < nr; ++r) {\n      var rw = body[r];\n      var shift = rw.pos - offset;\n      var eqnTag = buildCommon.makeSpan([\"eqn-num\"], [], options);\n      eqnTag.depth = rw.depth;\n      eqnTag.height = rw.height;\n      eqnNumSpans.push({\n        type: \"elem\",\n        elem: eqnTag,\n        shift\n      });\n    }\n  }\n\n  for (c = 0, colDescrNum = 0; // Continue while either there are more columns or more column\n  // descriptions, so trailing separators don't get lost.\n  c < nc || colDescrNum < colDescriptions.length; ++c, ++colDescrNum) {\n    var colDescr = colDescriptions[colDescrNum] || {};\n    var firstSeparator = true;\n\n    while (colDescr.type === \"separator\") {\n      // If there is more than one separator in a row, add a space\n      // between them.\n      if (!firstSeparator) {\n        colSep = buildCommon.makeSpan([\"arraycolsep\"], []);\n        colSep.style.width = options.fontMetrics().doubleRuleSep + \"em\";\n        cols.push(colSep);\n      }\n\n      if (colDescr.separator === \"|\" || colDescr.separator === \":\") {\n        var lineType = colDescr.separator === \"|\" ? \"solid\" : \"dashed\";\n        var separator = buildCommon.makeSpan([\"vertical-separator\"], [], options);\n        separator.style.height = totalHeight + \"em\";\n        separator.style.borderRightWidth = ruleThickness + \"em\";\n        separator.style.borderRightStyle = lineType;\n        separator.style.margin = \"0 -\" + ruleThickness / 2 + \"em\";\n        separator.style.verticalAlign = -(totalHeight - offset) + \"em\";\n        cols.push(separator);\n      } else {\n        throw new ParseError(\"Invalid separator type: \" + colDescr.separator);\n      }\n\n      colDescrNum++;\n      colDescr = colDescriptions[colDescrNum] || {};\n      firstSeparator = false;\n    }\n\n    if (c >= nc) {\n      continue;\n    }\n\n    var sepwidth = void 0;\n\n    if (c > 0 || group.hskipBeforeAndAfter) {\n      sepwidth = utils.deflt(colDescr.pregap, arraycolsep);\n\n      if (sepwidth !== 0) {\n        colSep = buildCommon.makeSpan([\"arraycolsep\"], []);\n        colSep.style.width = sepwidth + \"em\";\n        cols.push(colSep);\n      }\n    }\n\n    var col = [];\n\n    for (r = 0; r < nr; ++r) {\n      var row = body[r];\n      var elem = row[c];\n\n      if (!elem) {\n        continue;\n      }\n\n      var _shift = row.pos - offset;\n\n      elem.depth = row.depth;\n      elem.height = row.height;\n      col.push({\n        type: \"elem\",\n        elem: elem,\n        shift: _shift\n      });\n    }\n\n    col = buildCommon.makeVList({\n      positionType: \"individualShift\",\n      children: col\n    }, options);\n    col = buildCommon.makeSpan([\"col-align-\" + (colDescr.align || \"c\")], [col]);\n    cols.push(col);\n\n    if (c < nc - 1 || group.hskipBeforeAndAfter) {\n      sepwidth = utils.deflt(colDescr.postgap, arraycolsep);\n\n      if (sepwidth !== 0) {\n        colSep = buildCommon.makeSpan([\"arraycolsep\"], []);\n        colSep.style.width = sepwidth + \"em\";\n        cols.push(colSep);\n      }\n    }\n  }\n\n  body = buildCommon.makeSpan([\"mtable\"], cols); // Add \\hline(s), if any.\n\n  if (hlines.length > 0) {\n    var line = buildCommon.makeLineSpan(\"hline\", options, ruleThickness);\n    var dashes = buildCommon.makeLineSpan(\"hdashline\", options, ruleThickness);\n    var vListElems = [{\n      type: \"elem\",\n      elem: body,\n      shift: 0\n    }];\n\n    while (hlines.length > 0) {\n      var hline = hlines.pop();\n      var lineShift = hline.pos - offset;\n\n      if (hline.isDashed) {\n        vListElems.push({\n          type: \"elem\",\n          elem: dashes,\n          shift: lineShift\n        });\n      } else {\n        vListElems.push({\n          type: \"elem\",\n          elem: line,\n          shift: lineShift\n        });\n      }\n    }\n\n    body = buildCommon.makeVList({\n      positionType: \"individualShift\",\n      children: vListElems\n    }, options);\n  }\n\n  if (!group.addEqnNum) {\n    return buildCommon.makeSpan([\"mord\"], [body], options);\n  } else {\n    var eqnNumCol = buildCommon.makeVList({\n      positionType: \"individualShift\",\n      children: eqnNumSpans\n    }, options);\n    eqnNumCol = buildCommon.makeSpan([\"tag\"], [eqnNumCol], options);\n    return buildCommon.makeFragment([body, eqnNumCol]);\n  }\n};\n\nvar alignMap = {\n  c: \"center \",\n  l: \"left \",\n  r: \"right \"\n};\n\nvar mathmlBuilder$3 = function mathmlBuilder(group, options) {\n  var tbl = [];\n  var glue = new mathMLTree.MathNode(\"mtd\", [], [\"mtr-glue\"]);\n  var tag = new mathMLTree.MathNode(\"mtd\", [], [\"mml-eqn-num\"]);\n\n  for (var i = 0; i < group.body.length; i++) {\n    var rw = group.body[i];\n    var row = [];\n\n    for (var j = 0; j < rw.length; j++) {\n      row.push(new mathMLTree.MathNode(\"mtd\", [buildGroup$1(rw[j], options)]));\n    }\n\n    if (group.addEqnNum) {\n      row.unshift(glue);\n      row.push(glue);\n\n      if (group.leqno) {\n        row.unshift(tag);\n      } else {\n        row.push(tag);\n      }\n    }\n\n    tbl.push(new mathMLTree.MathNode(\"mtr\", row));\n  }\n\n  var table = new mathMLTree.MathNode(\"mtable\", tbl); // Set column alignment, row spacing, column spacing, and\n  // array lines by setting attributes on the table element.\n  // Set the row spacing. In MathML, we specify a gap distance.\n  // We do not use rowGap[] because MathML automatically increases\n  // cell height with the height/depth of the element content.\n  // LaTeX \\arraystretch multiplies the row baseline-to-baseline distance.\n  // We simulate this by adding (arraystretch - 1)em to the gap. This\n  // does a reasonable job of adjusting arrays containing 1 em tall content.\n  // The 0.16 and 0.09 values are found emprically. They produce an array\n  // similar to LaTeX and in which content does not interfere with \\hines.\n\n  var gap = group.arraystretch === 0.5 ? 0.1 // {smallmatrix}, {subarray}\n  : 0.16 + group.arraystretch - 1 + (group.addJot ? 0.09 : 0);\n  table.setAttribute(\"rowspacing\", gap.toFixed(4) + \"em\"); // MathML table lines go only between cells.\n  // To place a line on an edge we'll use <menclose>, if necessary.\n\n  var menclose = \"\";\n  var align = \"\";\n\n  if (group.cols && group.cols.length > 0) {\n    // Find column alignment, column spacing, and  vertical lines.\n    var cols = group.cols;\n    var columnLines = \"\";\n    var prevTypeWasAlign = false;\n    var iStart = 0;\n    var iEnd = cols.length;\n\n    if (cols[0].type === \"separator\") {\n      menclose += \"top \";\n      iStart = 1;\n    }\n\n    if (cols[cols.length - 1].type === \"separator\") {\n      menclose += \"bottom \";\n      iEnd -= 1;\n    }\n\n    for (var _i = iStart; _i < iEnd; _i++) {\n      if (cols[_i].type === \"align\") {\n        align += alignMap[cols[_i].align];\n\n        if (prevTypeWasAlign) {\n          columnLines += \"none \";\n        }\n\n        prevTypeWasAlign = true;\n      } else if (cols[_i].type === \"separator\") {\n        // MathML accepts only single lines between cells.\n        // So we read only the first of consecutive separators.\n        if (prevTypeWasAlign) {\n          columnLines += cols[_i].separator === \"|\" ? \"solid \" : \"dashed \";\n          prevTypeWasAlign = false;\n        }\n      }\n    }\n\n    table.setAttribute(\"columnalign\", align.trim());\n\n    if (/[sd]/.test(columnLines)) {\n      table.setAttribute(\"columnlines\", columnLines.trim());\n    }\n  } // Set column spacing.\n\n\n  if (group.colSeparationType === \"align\") {\n    var _cols = group.cols || [];\n\n    var spacing = \"\";\n\n    for (var _i2 = 1; _i2 < _cols.length; _i2++) {\n      spacing += _i2 % 2 ? \"0em \" : \"1em \";\n    }\n\n    table.setAttribute(\"columnspacing\", spacing.trim());\n  } else if (group.colSeparationType === \"alignat\" || group.colSeparationType === \"gather\") {\n    table.setAttribute(\"columnspacing\", \"0em\");\n  } else if (group.colSeparationType === \"small\") {\n    table.setAttribute(\"columnspacing\", \"0.2778em\");\n  } else if (group.colSeparationType === \"CD\") {\n    table.setAttribute(\"columnspacing\", \"0.5em\");\n  } else {\n    table.setAttribute(\"columnspacing\", \"1em\");\n  } // Address \\hline and \\hdashline\n\n\n  var rowLines = \"\";\n  var hlines = group.hLinesBeforeRow;\n  menclose += hlines[0].length > 0 ? \"left \" : \"\";\n  menclose += hlines[hlines.length - 1].length > 0 ? \"right \" : \"\";\n\n  for (var _i3 = 1; _i3 < hlines.length - 1; _i3++) {\n    rowLines += hlines[_i3].length === 0 ? \"none \" // MathML accepts only a single line between rows. Read one element.\n    : hlines[_i3][0] ? \"dashed \" : \"solid \";\n  }\n\n  if (/[sd]/.test(rowLines)) {\n    table.setAttribute(\"rowlines\", rowLines.trim());\n  }\n\n  if (menclose !== \"\") {\n    table = new mathMLTree.MathNode(\"menclose\", [table]);\n    table.setAttribute(\"notation\", menclose.trim());\n  }\n\n  if (group.arraystretch && group.arraystretch < 1) {\n    // A small array. Wrap in scriptstyle so row gap is not too large.\n    table = new mathMLTree.MathNode(\"mstyle\", [table]);\n    table.setAttribute(\"scriptlevel\", \"1\");\n  }\n\n  return table;\n}; // Convenience function for align, align*, aligned, alignat, alignat*, alignedat.\n\n\nvar alignedHandler = function alignedHandler(context, args) {\n  if (context.envName.indexOf(\"ed\") === -1) {\n    validateAmsEnvironmentContext(context);\n  }\n\n  var cols = [];\n  var separationType = context.envName.indexOf(\"at\") > -1 ? \"alignat\" : \"align\";\n  var res = parseArray(context.parser, {\n    cols,\n    addJot: true,\n    addEqnNum: context.envName === \"align\" || context.envName === \"alignat\",\n    colSeparationType: separationType,\n    maxNumCols: context.envName === \"split\" ? 2 : undefined,\n    leqno: context.parser.settings.leqno\n  }, \"display\"); // Determining number of columns.\n  // 1. If the first argument is given, we use it as a number of columns,\n  //    and makes sure that each row doesn't exceed that number.\n  // 2. Otherwise, just count number of columns = maximum number\n  //    of cells in each row (\"aligned\" mode -- isAligned will be true).\n  //\n  // At the same time, prepend empty group {} at beginning of every second\n  // cell in each row (starting with second cell) so that operators become\n  // binary.  This behavior is implemented in amsmath's \\start@aligned.\n\n  var numMaths;\n  var numCols = 0;\n  var emptyGroup = {\n    type: \"ordgroup\",\n    mode: context.mode,\n    body: []\n  };\n\n  if (args[0] && args[0].type === \"ordgroup\") {\n    var arg0 = \"\";\n\n    for (var i = 0; i < args[0].body.length; i++) {\n      var textord = assertNodeType(args[0].body[i], \"textord\");\n      arg0 += textord.text;\n    }\n\n    numMaths = Number(arg0);\n    numCols = numMaths * 2;\n  }\n\n  var isAligned = !numCols;\n  res.body.forEach(function (row) {\n    for (var _i4 = 1; _i4 < row.length; _i4 += 2) {\n      // Modify ordgroup node within styling node\n      var styling = assertNodeType(row[_i4], \"styling\");\n      var ordgroup = assertNodeType(styling.body[0], \"ordgroup\");\n      ordgroup.body.unshift(emptyGroup);\n    }\n\n    if (!isAligned) {\n      // Case 1\n      var curMaths = row.length / 2;\n\n      if (numMaths < curMaths) {\n        throw new ParseError(\"Too many math in a row: \" + (\"expected \" + numMaths + \", but got \" + curMaths), row[0]);\n      }\n    } else if (numCols < row.length) {\n      // Case 2\n      numCols = row.length;\n    }\n  }); // Adjusting alignment.\n  // In aligned mode, we add one \\qquad between columns;\n  // otherwise we add nothing.\n\n  for (var _i5 = 0; _i5 < numCols; ++_i5) {\n    var align = \"r\";\n    var pregap = 0;\n\n    if (_i5 % 2 === 1) {\n      align = \"l\";\n    } else if (_i5 > 0 && isAligned) {\n      // \"aligned\" mode.\n      pregap = 1; // add one \\quad\n    }\n\n    cols[_i5] = {\n      type: \"align\",\n      align: align,\n      pregap: pregap,\n      postgap: 0\n    };\n  }\n\n  res.colSeparationType = isAligned ? \"align\" : \"alignat\";\n  return res;\n}; // Arrays are part of LaTeX, defined in lttab.dtx so its documentation\n// is part of the source2e.pdf file of LaTeX2e source documentation.\n// {darray} is an {array} environment where cells are set in \\displaystyle,\n// as defined in nccmath.sty.\n\n\ndefineEnvironment({\n  type: \"array\",\n  names: [\"array\", \"darray\"],\n  props: {\n    numArgs: 1\n  },\n\n  handler(context, args) {\n    // Since no types are specified above, the two possibilities are\n    // - The argument is wrapped in {} or [], in which case Parser's\n    //   parseGroup() returns an \"ordgroup\" wrapping some symbol node.\n    // - The argument is a bare symbol node.\n    var symNode = checkSymbolNodeType(args[0]);\n    var colalign = symNode ? [args[0]] : assertNodeType(args[0], \"ordgroup\").body;\n    var cols = colalign.map(function (nde) {\n      var node = assertSymbolNodeType(nde);\n      var ca = node.text;\n\n      if (\"lcr\".indexOf(ca) !== -1) {\n        return {\n          type: \"align\",\n          align: ca\n        };\n      } else if (ca === \"|\") {\n        return {\n          type: \"separator\",\n          separator: \"|\"\n        };\n      } else if (ca === \":\") {\n        return {\n          type: \"separator\",\n          separator: \":\"\n        };\n      }\n\n      throw new ParseError(\"Unknown column alignment: \" + ca, nde);\n    });\n    var res = {\n      cols,\n      hskipBeforeAndAfter: true,\n      // \\@preamble in lttab.dtx\n      maxNumCols: cols.length\n    };\n    return parseArray(context.parser, res, dCellStyle(context.envName));\n  },\n\n  htmlBuilder: htmlBuilder$3,\n  mathmlBuilder: mathmlBuilder$3\n}); // The matrix environments of amsmath builds on the array environment\n// of LaTeX, which is discussed above.\n// The mathtools package adds starred versions of the same environments.\n// These have an optional argument to choose left|center|right justification.\n\ndefineEnvironment({\n  type: \"array\",\n  names: [\"matrix\", \"pmatrix\", \"bmatrix\", \"Bmatrix\", \"vmatrix\", \"Vmatrix\", \"matrix*\", \"pmatrix*\", \"bmatrix*\", \"Bmatrix*\", \"vmatrix*\", \"Vmatrix*\"],\n  props: {\n    numArgs: 0\n  },\n\n  handler(context) {\n    var delimiters = {\n      \"matrix\": null,\n      \"pmatrix\": [\"(\", \")\"],\n      \"bmatrix\": [\"[\", \"]\"],\n      \"Bmatrix\": [\"\\\\{\", \"\\\\}\"],\n      \"vmatrix\": [\"|\", \"|\"],\n      \"Vmatrix\": [\"\\\\Vert\", \"\\\\Vert\"]\n    }[context.envName.replace(\"*\", \"\")]; // \\hskip -\\arraycolsep in amsmath\n\n    var colAlign = \"c\";\n    var payload = {\n      hskipBeforeAndAfter: false,\n      cols: [{\n        type: \"align\",\n        align: colAlign\n      }]\n    };\n\n    if (context.envName.charAt(context.envName.length - 1) === \"*\") {\n      // It's one of the mathtools starred functions.\n      // Parse the optional alignment argument.\n      var parser = context.parser;\n      parser.consumeSpaces();\n\n      if (parser.fetch().text === \"[\") {\n        parser.consume();\n        parser.consumeSpaces();\n        colAlign = parser.fetch().text;\n\n        if (\"lcr\".indexOf(colAlign) === -1) {\n          throw new ParseError(\"Expected l or c or r\", parser.nextToken);\n        }\n\n        parser.consume();\n        parser.consumeSpaces();\n        parser.expect(\"]\");\n        parser.consume();\n        payload.cols = [{\n          type: \"align\",\n          align: colAlign\n        }];\n      }\n    }\n\n    var res = parseArray(context.parser, payload, dCellStyle(context.envName)); // Populate cols with the correct number of column alignment specs.\n\n    res.cols = new Array(res.body[0].length).fill({\n      type: \"align\",\n      align: colAlign\n    });\n    return delimiters ? {\n      type: \"leftright\",\n      mode: context.mode,\n      body: [res],\n      left: delimiters[0],\n      right: delimiters[1],\n      rightColor: undefined // \\right uninfluenced by \\color in array\n\n    } : res;\n  },\n\n  htmlBuilder: htmlBuilder$3,\n  mathmlBuilder: mathmlBuilder$3\n});\ndefineEnvironment({\n  type: \"array\",\n  names: [\"smallmatrix\"],\n  props: {\n    numArgs: 0\n  },\n\n  handler(context) {\n    var payload = {\n      arraystretch: 0.5\n    };\n    var res = parseArray(context.parser, payload, \"script\");\n    res.colSeparationType = \"small\";\n    return res;\n  },\n\n  htmlBuilder: htmlBuilder$3,\n  mathmlBuilder: mathmlBuilder$3\n});\ndefineEnvironment({\n  type: \"array\",\n  names: [\"subarray\"],\n  props: {\n    numArgs: 1\n  },\n\n  handler(context, args) {\n    // Parsing of {subarray} is similar to {array}\n    var symNode = checkSymbolNodeType(args[0]);\n    var colalign = symNode ? [args[0]] : assertNodeType(args[0], \"ordgroup\").body;\n    var cols = colalign.map(function (nde) {\n      var node = assertSymbolNodeType(nde);\n      var ca = node.text; // {subarray} only recognizes \"l\" & \"c\"\n\n      if (\"lc\".indexOf(ca) !== -1) {\n        return {\n          type: \"align\",\n          align: ca\n        };\n      }\n\n      throw new ParseError(\"Unknown column alignment: \" + ca, nde);\n    });\n\n    if (cols.length > 1) {\n      throw new ParseError(\"{subarray} can contain only one column\");\n    }\n\n    var res = {\n      cols,\n      hskipBeforeAndAfter: false,\n      arraystretch: 0.5\n    };\n    res = parseArray(context.parser, res, \"script\");\n\n    if (res.body.length > 0 && res.body[0].length > 1) {\n      throw new ParseError(\"{subarray} can contain only one column\");\n    }\n\n    return res;\n  },\n\n  htmlBuilder: htmlBuilder$3,\n  mathmlBuilder: mathmlBuilder$3\n}); // A cases environment (in amsmath.sty) is almost equivalent to\n// \\def\\arraystretch{1.2}%\n// \\left\\{\\begin{array}{@{}l@{\\quad}l@{}}  \\end{array}\\right.\n// {dcases} is a {cases} environment where cells are set in \\displaystyle,\n// as defined in mathtools.sty.\n// {rcases} is another mathtools environment. It's brace is on the right side.\n\ndefineEnvironment({\n  type: \"array\",\n  names: [\"cases\", \"dcases\", \"rcases\", \"drcases\"],\n  props: {\n    numArgs: 0\n  },\n\n  handler(context) {\n    var payload = {\n      arraystretch: 1.2,\n      cols: [{\n        type: \"align\",\n        align: \"l\",\n        pregap: 0,\n        // TODO(kevinb) get the current style.\n        // For now we use the metrics for TEXT style which is what we were\n        // doing before.  Before attempting to get the current style we\n        // should look at TeX's behavior especially for \\over and matrices.\n        postgap: 1.0\n        /* 1em quad */\n\n      }, {\n        type: \"align\",\n        align: \"l\",\n        pregap: 0,\n        postgap: 0\n      }]\n    };\n    var res = parseArray(context.parser, payload, dCellStyle(context.envName));\n    return {\n      type: \"leftright\",\n      mode: context.mode,\n      body: [res],\n      left: context.envName.indexOf(\"r\") > -1 ? \".\" : \"\\\\{\",\n      right: context.envName.indexOf(\"r\") > -1 ? \"\\\\}\" : \".\",\n      rightColor: undefined\n    };\n  },\n\n  htmlBuilder: htmlBuilder$3,\n  mathmlBuilder: mathmlBuilder$3\n}); // In the align environment, one uses ampersands, &, to specify number of\n// columns in each row, and to locate spacing between each column.\n// align gets automatic numbering. align* and aligned do not.\n// The alignedat environment can be used in math mode.\n// Note that we assume \\nomallineskiplimit to be zero,\n// so that \\strut@ is the same as \\strut.\n\ndefineEnvironment({\n  type: \"array\",\n  names: [\"align\", \"align*\", \"aligned\", \"split\"],\n  props: {\n    numArgs: 0\n  },\n  handler: alignedHandler,\n  htmlBuilder: htmlBuilder$3,\n  mathmlBuilder: mathmlBuilder$3\n}); // A gathered environment is like an array environment with one centered\n// column, but where rows are considered lines so get \\jot line spacing\n// and contents are set in \\displaystyle.\n\ndefineEnvironment({\n  type: \"array\",\n  names: [\"gathered\", \"gather\", \"gather*\"],\n  props: {\n    numArgs: 0\n  },\n\n  handler(context) {\n    if (utils.contains([\"gather\", \"gather*\"], context.envName)) {\n      validateAmsEnvironmentContext(context);\n    }\n\n    var res = {\n      cols: [{\n        type: \"align\",\n        align: \"c\"\n      }],\n      addJot: true,\n      colSeparationType: \"gather\",\n      addEqnNum: context.envName === \"gather\",\n      leqno: context.parser.settings.leqno\n    };\n    return parseArray(context.parser, res, \"display\");\n  },\n\n  htmlBuilder: htmlBuilder$3,\n  mathmlBuilder: mathmlBuilder$3\n}); // alignat environment is like an align environment, but one must explicitly\n// specify maximum number of columns in each row, and can adjust spacing between\n// each columns.\n\ndefineEnvironment({\n  type: \"array\",\n  names: [\"alignat\", \"alignat*\", \"alignedat\"],\n  props: {\n    numArgs: 1\n  },\n  handler: alignedHandler,\n  htmlBuilder: htmlBuilder$3,\n  mathmlBuilder: mathmlBuilder$3\n});\ndefineEnvironment({\n  type: \"array\",\n  names: [\"equation\", \"equation*\"],\n  props: {\n    numArgs: 0\n  },\n\n  handler(context) {\n    validateAmsEnvironmentContext(context);\n    var res = {\n      addEqnNum: context.envName === \"equation\",\n      singleRow: true,\n      maxNumCols: 1,\n      leqno: context.parser.settings.leqno\n    };\n    return parseArray(context.parser, res, \"display\");\n  },\n\n  htmlBuilder: htmlBuilder$3,\n  mathmlBuilder: mathmlBuilder$3\n});\ndefineEnvironment({\n  type: \"array\",\n  names: [\"CD\"],\n  props: {\n    numArgs: 0\n  },\n\n  handler(context) {\n    validateAmsEnvironmentContext(context);\n    return parseCD(context.parser);\n  },\n\n  htmlBuilder: htmlBuilder$3,\n  mathmlBuilder: mathmlBuilder$3\n}); // Catch \\hline outside array environment\n\ndefineFunction({\n  type: \"text\",\n  // Doesn't matter what this is.\n  names: [\"\\\\hline\", \"\\\\hdashline\"],\n  props: {\n    numArgs: 0,\n    allowedInText: true,\n    allowedInMath: true\n  },\n\n  handler(context, args) {\n    throw new ParseError(context.funcName + \" valid only within array environment\");\n  }\n\n});\n\nvar environments = _environments;\n\n// defineEnvironment definitions.\n\ndefineFunction({\n  type: \"environment\",\n  names: [\"\\\\begin\", \"\\\\end\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"text\"]\n  },\n\n  handler(_ref, args) {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var nameGroup = args[0];\n\n    if (nameGroup.type !== \"ordgroup\") {\n      throw new ParseError(\"Invalid environment name\", nameGroup);\n    }\n\n    var envName = \"\";\n\n    for (var i = 0; i < nameGroup.body.length; ++i) {\n      envName += assertNodeType(nameGroup.body[i], \"textord\").text;\n    }\n\n    if (funcName === \"\\\\begin\") {\n      // begin...end is similar to left...right\n      if (!environments.hasOwnProperty(envName)) {\n        throw new ParseError(\"No such environment: \" + envName, nameGroup);\n      } // Build the environment object. Arguments and other information will\n      // be made available to the begin and end methods using properties.\n\n\n      var env = environments[envName];\n      var {\n        args: _args,\n        optArgs\n      } = parser.parseArguments(\"\\\\begin{\" + envName + \"}\", env);\n      var context = {\n        mode: parser.mode,\n        envName,\n        parser\n      };\n      var result = env.handler(context, _args, optArgs);\n      parser.expect(\"\\\\end\", false);\n      var endNameToken = parser.nextToken;\n      var end = assertNodeType(parser.parseFunction(), \"environment\");\n\n      if (end.name !== envName) {\n        throw new ParseError(\"Mismatch: \\\\begin{\" + envName + \"} matched by \\\\end{\" + end.name + \"}\", endNameToken);\n      } // $FlowFixMe, \"environment\" handler returns an environment ParseNode\n\n\n      return result;\n    }\n\n    return {\n      type: \"environment\",\n      mode: parser.mode,\n      name: envName,\n      nameGroup\n    };\n  }\n\n});\n\nvar makeSpan$2 = buildCommon.makeSpan;\n\nfunction htmlBuilder$4(group, options) {\n  var elements = buildExpression(group.body, options, true);\n  return makeSpan$2([group.mclass], elements, options);\n}\n\nfunction mathmlBuilder$4(group, options) {\n  var node;\n  var inner = buildExpression$1(group.body, options);\n\n  if (group.mclass === \"minner\") {\n    return mathMLTree.newDocumentFragment(inner);\n  } else if (group.mclass === \"mord\") {\n    if (group.isCharacterBox) {\n      node = inner[0];\n      node.type = \"mi\";\n    } else {\n      node = new mathMLTree.MathNode(\"mi\", inner);\n    }\n  } else {\n    if (group.isCharacterBox) {\n      node = inner[0];\n      node.type = \"mo\";\n    } else {\n      node = new mathMLTree.MathNode(\"mo\", inner);\n    } // Set spacing based on what is the most likely adjacent atom type.\n    // See TeXbook p170.\n\n\n    if (group.mclass === \"mbin\") {\n      node.attributes.lspace = \"0.22em\"; // medium space\n\n      node.attributes.rspace = \"0.22em\";\n    } else if (group.mclass === \"mpunct\") {\n      node.attributes.lspace = \"0em\";\n      node.attributes.rspace = \"0.17em\"; // thinspace\n    } else if (group.mclass === \"mopen\" || group.mclass === \"mclose\") {\n      node.attributes.lspace = \"0em\";\n      node.attributes.rspace = \"0em\";\n    } // MathML <mo> default space is 5/18 em, so <mrel> needs no action.\n    // Ref: https://developer.mozilla.org/en-US/docs/Web/MathML/Element/mo\n\n  }\n\n  return node;\n} // Math class commands except \\mathop\n\n\ndefineFunction({\n  type: \"mclass\",\n  names: [\"\\\\mathord\", \"\\\\mathbin\", \"\\\\mathrel\", \"\\\\mathopen\", \"\\\\mathclose\", \"\\\\mathpunct\", \"\\\\mathinner\"],\n  props: {\n    numArgs: 1,\n    primitive: true\n  },\n\n  handler(_ref, args) {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var body = args[0];\n    return {\n      type: \"mclass\",\n      mode: parser.mode,\n      mclass: \"m\" + funcName.substr(5),\n      // TODO(kevinb): don't prefix with 'm'\n      body: ordargument(body),\n      isCharacterBox: utils.isCharacterBox(body)\n    };\n  },\n\n  htmlBuilder: htmlBuilder$4,\n  mathmlBuilder: mathmlBuilder$4\n});\nvar binrelClass = arg => {\n  // \\binrel@ spacing varies with (bin|rel|ord) of the atom in the argument.\n  // (by rendering separately and with {}s before and after, and measuring\n  // the change in spacing).  We'll do roughly the same by detecting the\n  // atom type directly.\n  var atom = arg.type === \"ordgroup\" && arg.body.length ? arg.body[0] : arg;\n\n  if (atom.type === \"atom\" && (atom.family === \"bin\" || atom.family === \"rel\")) {\n    return \"m\" + atom.family;\n  } else {\n    return \"mord\";\n  }\n}; // \\@binrel{x}{y} renders like y but as mbin/mrel/mord if x is mbin/mrel/mord.\n// This is equivalent to \\binrel@{x}\\binrel@@{y} in AMSTeX.\n\ndefineFunction({\n  type: \"mclass\",\n  names: [\"\\\\@binrel\"],\n  props: {\n    numArgs: 2\n  },\n\n  handler(_ref2, args) {\n    var {\n      parser\n    } = _ref2;\n    return {\n      type: \"mclass\",\n      mode: parser.mode,\n      mclass: binrelClass(args[0]),\n      body: ordargument(args[1]),\n      isCharacterBox: utils.isCharacterBox(args[1])\n    };\n  }\n\n}); // Build a relation or stacked op by placing one symbol on top of another\n\ndefineFunction({\n  type: \"mclass\",\n  names: [\"\\\\stackrel\", \"\\\\overset\", \"\\\\underset\"],\n  props: {\n    numArgs: 2\n  },\n\n  handler(_ref3, args) {\n    var {\n      parser,\n      funcName\n    } = _ref3;\n    var baseArg = args[1];\n    var shiftedArg = args[0];\n    var mclass;\n\n    if (funcName !== \"\\\\stackrel\") {\n      // LaTeX applies \\binrel spacing to \\overset and \\underset.\n      mclass = binrelClass(baseArg);\n    } else {\n      mclass = \"mrel\"; // for \\stackrel\n    }\n\n    var baseOp = {\n      type: \"op\",\n      mode: baseArg.mode,\n      limits: true,\n      alwaysHandleSupSub: true,\n      parentIsSupSub: false,\n      symbol: false,\n      suppressBaseShift: funcName !== \"\\\\stackrel\",\n      body: ordargument(baseArg)\n    };\n    var supsub = {\n      type: \"supsub\",\n      mode: shiftedArg.mode,\n      base: baseOp,\n      sup: funcName === \"\\\\underset\" ? null : shiftedArg,\n      sub: funcName === \"\\\\underset\" ? shiftedArg : null\n    };\n    return {\n      type: \"mclass\",\n      mode: parser.mode,\n      mclass,\n      body: [supsub],\n      isCharacterBox: utils.isCharacterBox(supsub)\n    };\n  },\n\n  htmlBuilder: htmlBuilder$4,\n  mathmlBuilder: mathmlBuilder$4\n});\n\n// TODO(kevinb): implement \\\\sl and \\\\sc\n\nvar htmlBuilder$5 = (group, options) => {\n  var font = group.font;\n  var newOptions = options.withFont(font);\n  return buildGroup(group.body, newOptions);\n};\n\nvar mathmlBuilder$5 = (group, options) => {\n  var font = group.font;\n  var newOptions = options.withFont(font);\n  return buildGroup$1(group.body, newOptions);\n};\n\nvar fontAliases = {\n  \"\\\\Bbb\": \"\\\\mathbb\",\n  \"\\\\bold\": \"\\\\mathbf\",\n  \"\\\\frak\": \"\\\\mathfrak\",\n  \"\\\\bm\": \"\\\\boldsymbol\"\n};\ndefineFunction({\n  type: \"font\",\n  names: [// styles, except \\boldsymbol defined below\n  \"\\\\mathrm\", \"\\\\mathit\", \"\\\\mathbf\", \"\\\\mathnormal\", // families\n  \"\\\\mathbb\", \"\\\\mathcal\", \"\\\\mathfrak\", \"\\\\mathscr\", \"\\\\mathsf\", \"\\\\mathtt\", // aliases, except \\bm defined below\n  \"\\\\Bbb\", \"\\\\bold\", \"\\\\frak\"],\n  props: {\n    numArgs: 1,\n    allowedInArgument: true\n  },\n  handler: (_ref, args) => {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var body = normalizeArgument(args[0]);\n    var func = funcName;\n\n    if (func in fontAliases) {\n      func = fontAliases[func];\n    }\n\n    return {\n      type: \"font\",\n      mode: parser.mode,\n      font: func.slice(1),\n      body\n    };\n  },\n  htmlBuilder: htmlBuilder$5,\n  mathmlBuilder: mathmlBuilder$5\n});\ndefineFunction({\n  type: \"mclass\",\n  names: [\"\\\\boldsymbol\", \"\\\\bm\"],\n  props: {\n    numArgs: 1\n  },\n  handler: (_ref2, args) => {\n    var {\n      parser\n    } = _ref2;\n    var body = args[0];\n    var isCharacterBox = utils.isCharacterBox(body); // amsbsy.sty's \\boldsymbol uses \\binrel spacing to inherit the\n    // argument's bin|rel|ord status\n\n    return {\n      type: \"mclass\",\n      mode: parser.mode,\n      mclass: binrelClass(body),\n      body: [{\n        type: \"font\",\n        mode: parser.mode,\n        font: \"boldsymbol\",\n        body\n      }],\n      isCharacterBox: isCharacterBox\n    };\n  }\n}); // Old font changing functions\n\ndefineFunction({\n  type: \"font\",\n  names: [\"\\\\rm\", \"\\\\sf\", \"\\\\tt\", \"\\\\bf\", \"\\\\it\", \"\\\\cal\"],\n  props: {\n    numArgs: 0,\n    allowedInText: true\n  },\n  handler: (_ref3, args) => {\n    var {\n      parser,\n      funcName,\n      breakOnTokenText\n    } = _ref3;\n    var {\n      mode\n    } = parser;\n    var body = parser.parseExpression(true, breakOnTokenText);\n    var style = \"math\" + funcName.slice(1);\n    return {\n      type: \"font\",\n      mode: mode,\n      font: style,\n      body: {\n        type: \"ordgroup\",\n        mode: parser.mode,\n        body\n      }\n    };\n  },\n  htmlBuilder: htmlBuilder$5,\n  mathmlBuilder: mathmlBuilder$5\n});\n\nvar adjustStyle = (size, originalStyle) => {\n  // Figure out what style this fraction should be in based on the\n  // function used\n  var style = originalStyle;\n\n  if (size === \"display\") {\n    // Get display style as a default.\n    // If incoming style is sub/sup, use style.text() to get correct size.\n    style = style.id >= Style$1.SCRIPT.id ? style.text() : Style$1.DISPLAY;\n  } else if (size === \"text\" && style.size === Style$1.DISPLAY.size) {\n    // We're in a \\tfrac but incoming style is displaystyle, so:\n    style = Style$1.TEXT;\n  } else if (size === \"script\") {\n    style = Style$1.SCRIPT;\n  } else if (size === \"scriptscript\") {\n    style = Style$1.SCRIPTSCRIPT;\n  }\n\n  return style;\n};\n\nvar htmlBuilder$6 = (group, options) => {\n  // Fractions are handled in the TeXbook on pages 444-445, rules 15(a-e).\n  var style = adjustStyle(group.size, options.style);\n  var nstyle = style.fracNum();\n  var dstyle = style.fracDen();\n  var newOptions;\n  newOptions = options.havingStyle(nstyle);\n  var numerm = buildGroup(group.numer, newOptions, options);\n\n  if (group.continued) {\n    // \\cfrac inserts a \\strut into the numerator.\n    // Get \\strut dimensions from TeXbook page 353.\n    var hStrut = 8.5 / options.fontMetrics().ptPerEm;\n    var dStrut = 3.5 / options.fontMetrics().ptPerEm;\n    numerm.height = numerm.height < hStrut ? hStrut : numerm.height;\n    numerm.depth = numerm.depth < dStrut ? dStrut : numerm.depth;\n  }\n\n  newOptions = options.havingStyle(dstyle);\n  var denomm = buildGroup(group.denom, newOptions, options);\n  var rule;\n  var ruleWidth;\n  var ruleSpacing;\n\n  if (group.hasBarLine) {\n    if (group.barSize) {\n      ruleWidth = calculateSize(group.barSize, options);\n      rule = buildCommon.makeLineSpan(\"frac-line\", options, ruleWidth);\n    } else {\n      rule = buildCommon.makeLineSpan(\"frac-line\", options);\n    }\n\n    ruleWidth = rule.height;\n    ruleSpacing = rule.height;\n  } else {\n    rule = null;\n    ruleWidth = 0;\n    ruleSpacing = options.fontMetrics().defaultRuleThickness;\n  } // Rule 15b\n\n\n  var numShift;\n  var clearance;\n  var denomShift;\n\n  if (style.size === Style$1.DISPLAY.size || group.size === \"display\") {\n    numShift = options.fontMetrics().num1;\n\n    if (ruleWidth > 0) {\n      clearance = 3 * ruleSpacing;\n    } else {\n      clearance = 7 * ruleSpacing;\n    }\n\n    denomShift = options.fontMetrics().denom1;\n  } else {\n    if (ruleWidth > 0) {\n      numShift = options.fontMetrics().num2;\n      clearance = ruleSpacing;\n    } else {\n      numShift = options.fontMetrics().num3;\n      clearance = 3 * ruleSpacing;\n    }\n\n    denomShift = options.fontMetrics().denom2;\n  }\n\n  var frac;\n\n  if (!rule) {\n    // Rule 15c\n    var candidateClearance = numShift - numerm.depth - (denomm.height - denomShift);\n\n    if (candidateClearance < clearance) {\n      numShift += 0.5 * (clearance - candidateClearance);\n      denomShift += 0.5 * (clearance - candidateClearance);\n    }\n\n    frac = buildCommon.makeVList({\n      positionType: \"individualShift\",\n      children: [{\n        type: \"elem\",\n        elem: denomm,\n        shift: denomShift\n      }, {\n        type: \"elem\",\n        elem: numerm,\n        shift: -numShift\n      }]\n    }, options);\n  } else {\n    // Rule 15d\n    var axisHeight = options.fontMetrics().axisHeight;\n\n    if (numShift - numerm.depth - (axisHeight + 0.5 * ruleWidth) < clearance) {\n      numShift += clearance - (numShift - numerm.depth - (axisHeight + 0.5 * ruleWidth));\n    }\n\n    if (axisHeight - 0.5 * ruleWidth - (denomm.height - denomShift) < clearance) {\n      denomShift += clearance - (axisHeight - 0.5 * ruleWidth - (denomm.height - denomShift));\n    }\n\n    var midShift = -(axisHeight - 0.5 * ruleWidth);\n    frac = buildCommon.makeVList({\n      positionType: \"individualShift\",\n      children: [{\n        type: \"elem\",\n        elem: denomm,\n        shift: denomShift\n      }, {\n        type: \"elem\",\n        elem: rule,\n        shift: midShift\n      }, {\n        type: \"elem\",\n        elem: numerm,\n        shift: -numShift\n      }]\n    }, options);\n  } // Since we manually change the style sometimes (with \\dfrac or \\tfrac),\n  // account for the possible size change here.\n\n\n  newOptions = options.havingStyle(style);\n  frac.height *= newOptions.sizeMultiplier / options.sizeMultiplier;\n  frac.depth *= newOptions.sizeMultiplier / options.sizeMultiplier; // Rule 15e\n\n  var delimSize;\n\n  if (style.size === Style$1.DISPLAY.size) {\n    delimSize = options.fontMetrics().delim1;\n  } else {\n    delimSize = options.fontMetrics().delim2;\n  }\n\n  var leftDelim;\n  var rightDelim;\n\n  if (group.leftDelim == null) {\n    leftDelim = makeNullDelimiter(options, [\"mopen\"]);\n  } else {\n    leftDelim = delimiter.customSizedDelim(group.leftDelim, delimSize, true, options.havingStyle(style), group.mode, [\"mopen\"]);\n  }\n\n  if (group.continued) {\n    rightDelim = buildCommon.makeSpan([]); // zero width for \\cfrac\n  } else if (group.rightDelim == null) {\n    rightDelim = makeNullDelimiter(options, [\"mclose\"]);\n  } else {\n    rightDelim = delimiter.customSizedDelim(group.rightDelim, delimSize, true, options.havingStyle(style), group.mode, [\"mclose\"]);\n  }\n\n  return buildCommon.makeSpan([\"mord\"].concat(newOptions.sizingClasses(options)), [leftDelim, buildCommon.makeSpan([\"mfrac\"], [frac]), rightDelim], options);\n};\n\nvar mathmlBuilder$6 = (group, options) => {\n  var node = new mathMLTree.MathNode(\"mfrac\", [buildGroup$1(group.numer, options), buildGroup$1(group.denom, options)]);\n\n  if (!group.hasBarLine) {\n    node.setAttribute(\"linethickness\", \"0px\");\n  } else if (group.barSize) {\n    var ruleWidth = calculateSize(group.barSize, options);\n    node.setAttribute(\"linethickness\", ruleWidth + \"em\");\n  }\n\n  var style = adjustStyle(group.size, options.style);\n\n  if (style.size !== options.style.size) {\n    node = new mathMLTree.MathNode(\"mstyle\", [node]);\n    var isDisplay = style.size === Style$1.DISPLAY.size ? \"true\" : \"false\";\n    node.setAttribute(\"displaystyle\", isDisplay);\n    node.setAttribute(\"scriptlevel\", \"0\");\n  }\n\n  if (group.leftDelim != null || group.rightDelim != null) {\n    var withDelims = [];\n\n    if (group.leftDelim != null) {\n      var leftOp = new mathMLTree.MathNode(\"mo\", [new mathMLTree.TextNode(group.leftDelim.replace(\"\\\\\", \"\"))]);\n      leftOp.setAttribute(\"fence\", \"true\");\n      withDelims.push(leftOp);\n    }\n\n    withDelims.push(node);\n\n    if (group.rightDelim != null) {\n      var rightOp = new mathMLTree.MathNode(\"mo\", [new mathMLTree.TextNode(group.rightDelim.replace(\"\\\\\", \"\"))]);\n      rightOp.setAttribute(\"fence\", \"true\");\n      withDelims.push(rightOp);\n    }\n\n    return makeRow(withDelims);\n  }\n\n  return node;\n};\n\ndefineFunction({\n  type: \"genfrac\",\n  names: [\"\\\\dfrac\", \"\\\\frac\", \"\\\\tfrac\", \"\\\\dbinom\", \"\\\\binom\", \"\\\\tbinom\", \"\\\\\\\\atopfrac\", // cant be entered directly\n  \"\\\\\\\\bracefrac\", \"\\\\\\\\brackfrac\" // ditto\n  ],\n  props: {\n    numArgs: 2,\n    allowedInArgument: true\n  },\n  handler: (_ref, args) => {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var numer = args[0];\n    var denom = args[1];\n    var hasBarLine;\n    var leftDelim = null;\n    var rightDelim = null;\n    var size = \"auto\";\n\n    switch (funcName) {\n      case \"\\\\dfrac\":\n      case \"\\\\frac\":\n      case \"\\\\tfrac\":\n        hasBarLine = true;\n        break;\n\n      case \"\\\\\\\\atopfrac\":\n        hasBarLine = false;\n        break;\n\n      case \"\\\\dbinom\":\n      case \"\\\\binom\":\n      case \"\\\\tbinom\":\n        hasBarLine = false;\n        leftDelim = \"(\";\n        rightDelim = \")\";\n        break;\n\n      case \"\\\\\\\\bracefrac\":\n        hasBarLine = false;\n        leftDelim = \"\\\\{\";\n        rightDelim = \"\\\\}\";\n        break;\n\n      case \"\\\\\\\\brackfrac\":\n        hasBarLine = false;\n        leftDelim = \"[\";\n        rightDelim = \"]\";\n        break;\n\n      default:\n        throw new Error(\"Unrecognized genfrac command\");\n    }\n\n    switch (funcName) {\n      case \"\\\\dfrac\":\n      case \"\\\\dbinom\":\n        size = \"display\";\n        break;\n\n      case \"\\\\tfrac\":\n      case \"\\\\tbinom\":\n        size = \"text\";\n        break;\n    }\n\n    return {\n      type: \"genfrac\",\n      mode: parser.mode,\n      continued: false,\n      numer,\n      denom,\n      hasBarLine,\n      leftDelim,\n      rightDelim,\n      size,\n      barSize: null\n    };\n  },\n  htmlBuilder: htmlBuilder$6,\n  mathmlBuilder: mathmlBuilder$6\n});\ndefineFunction({\n  type: \"genfrac\",\n  names: [\"\\\\cfrac\"],\n  props: {\n    numArgs: 2\n  },\n  handler: (_ref2, args) => {\n    var {\n      parser,\n      funcName\n    } = _ref2;\n    var numer = args[0];\n    var denom = args[1];\n    return {\n      type: \"genfrac\",\n      mode: parser.mode,\n      continued: true,\n      numer,\n      denom,\n      hasBarLine: true,\n      leftDelim: null,\n      rightDelim: null,\n      size: \"display\",\n      barSize: null\n    };\n  }\n}); // Infix generalized fractions -- these are not rendered directly, but replaced\n// immediately by one of the variants above.\n\ndefineFunction({\n  type: \"infix\",\n  names: [\"\\\\over\", \"\\\\choose\", \"\\\\atop\", \"\\\\brace\", \"\\\\brack\"],\n  props: {\n    numArgs: 0,\n    infix: true\n  },\n\n  handler(_ref3) {\n    var {\n      parser,\n      funcName,\n      token\n    } = _ref3;\n    var replaceWith;\n\n    switch (funcName) {\n      case \"\\\\over\":\n        replaceWith = \"\\\\frac\";\n        break;\n\n      case \"\\\\choose\":\n        replaceWith = \"\\\\binom\";\n        break;\n\n      case \"\\\\atop\":\n        replaceWith = \"\\\\\\\\atopfrac\";\n        break;\n\n      case \"\\\\brace\":\n        replaceWith = \"\\\\\\\\bracefrac\";\n        break;\n\n      case \"\\\\brack\":\n        replaceWith = \"\\\\\\\\brackfrac\";\n        break;\n\n      default:\n        throw new Error(\"Unrecognized infix genfrac command\");\n    }\n\n    return {\n      type: \"infix\",\n      mode: parser.mode,\n      replaceWith,\n      token\n    };\n  }\n\n});\nvar stylArray = [\"display\", \"text\", \"script\", \"scriptscript\"];\n\nvar delimFromValue = function delimFromValue(delimString) {\n  var delim = null;\n\n  if (delimString.length > 0) {\n    delim = delimString;\n    delim = delim === \".\" ? null : delim;\n  }\n\n  return delim;\n};\n\ndefineFunction({\n  type: \"genfrac\",\n  names: [\"\\\\genfrac\"],\n  props: {\n    numArgs: 6,\n    allowedInArgument: true,\n    argTypes: [\"math\", \"math\", \"size\", \"text\", \"math\", \"math\"]\n  },\n\n  handler(_ref4, args) {\n    var {\n      parser\n    } = _ref4;\n    var numer = args[4];\n    var denom = args[5]; // Look into the parse nodes to get the desired delimiters.\n\n    var leftNode = normalizeArgument(args[0]);\n    var leftDelim = leftNode.type === \"atom\" && leftNode.family === \"open\" ? delimFromValue(leftNode.text) : null;\n    var rightNode = normalizeArgument(args[1]);\n    var rightDelim = rightNode.type === \"atom\" && rightNode.family === \"close\" ? delimFromValue(rightNode.text) : null;\n    var barNode = assertNodeType(args[2], \"size\");\n    var hasBarLine;\n    var barSize = null;\n\n    if (barNode.isBlank) {\n      // \\genfrac acts differently than \\above.\n      // \\genfrac treats an empty size group as a signal to use a\n      // standard bar size. \\above would see size = 0 and omit the bar.\n      hasBarLine = true;\n    } else {\n      barSize = barNode.value;\n      hasBarLine = barSize.number > 0;\n    } // Find out if we want displaystyle, textstyle, etc.\n\n\n    var size = \"auto\";\n    var styl = args[3];\n\n    if (styl.type === \"ordgroup\") {\n      if (styl.body.length > 0) {\n        var textOrd = assertNodeType(styl.body[0], \"textord\");\n        size = stylArray[Number(textOrd.text)];\n      }\n    } else {\n      styl = assertNodeType(styl, \"textord\");\n      size = stylArray[Number(styl.text)];\n    }\n\n    return {\n      type: \"genfrac\",\n      mode: parser.mode,\n      numer,\n      denom,\n      continued: false,\n      hasBarLine,\n      barSize,\n      leftDelim,\n      rightDelim,\n      size\n    };\n  },\n\n  htmlBuilder: htmlBuilder$6,\n  mathmlBuilder: mathmlBuilder$6\n}); // \\above is an infix fraction that also defines a fraction bar size.\n\ndefineFunction({\n  type: \"infix\",\n  names: [\"\\\\above\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"size\"],\n    infix: true\n  },\n\n  handler(_ref5, args) {\n    var {\n      parser,\n      funcName,\n      token\n    } = _ref5;\n    return {\n      type: \"infix\",\n      mode: parser.mode,\n      replaceWith: \"\\\\\\\\abovefrac\",\n      size: assertNodeType(args[0], \"size\").value,\n      token\n    };\n  }\n\n});\ndefineFunction({\n  type: \"genfrac\",\n  names: [\"\\\\\\\\abovefrac\"],\n  props: {\n    numArgs: 3,\n    argTypes: [\"math\", \"size\", \"math\"]\n  },\n  handler: (_ref6, args) => {\n    var {\n      parser,\n      funcName\n    } = _ref6;\n    var numer = args[0];\n    var barSize = assert(assertNodeType(args[1], \"infix\").size);\n    var denom = args[2];\n    var hasBarLine = barSize.number > 0;\n    return {\n      type: \"genfrac\",\n      mode: parser.mode,\n      numer,\n      denom,\n      continued: false,\n      hasBarLine,\n      barSize,\n      leftDelim: null,\n      rightDelim: null,\n      size: \"auto\"\n    };\n  },\n  htmlBuilder: htmlBuilder$6,\n  mathmlBuilder: mathmlBuilder$6\n});\n\n// NOTE: Unlike most `htmlBuilder`s, this one handles not only \"horizBrace\", but\n// also \"supsub\" since an over/underbrace can affect super/subscripting.\nvar htmlBuilder$7 = (grp, options) => {\n  var style = options.style; // Pull out the `ParseNode<\"horizBrace\">` if `grp` is a \"supsub\" node.\n\n  var supSubGroup;\n  var group;\n\n  if (grp.type === \"supsub\") {\n    // Ref: LaTeX source2e: }}}}\\limits}\n    // i.e. LaTeX treats the brace similar to an op and passes it\n    // with \\limits, so we need to assign supsub style.\n    supSubGroup = grp.sup ? buildGroup(grp.sup, options.havingStyle(style.sup()), options) : buildGroup(grp.sub, options.havingStyle(style.sub()), options);\n    group = assertNodeType(grp.base, \"horizBrace\");\n  } else {\n    group = assertNodeType(grp, \"horizBrace\");\n  } // Build the base group\n\n\n  var body = buildGroup(group.base, options.havingBaseStyle(Style$1.DISPLAY)); // Create the stretchy element\n\n  var braceBody = stretchy.svgSpan(group, options); // Generate the vlist, with the appropriate kerns        \n  // This first vlist contains the content and the brace:   equation\n\n  var vlist;\n\n  if (group.isOver) {\n    vlist = buildCommon.makeVList({\n      positionType: \"firstBaseline\",\n      children: [{\n        type: \"elem\",\n        elem: body\n      }, {\n        type: \"kern\",\n        size: 0.1\n      }, {\n        type: \"elem\",\n        elem: braceBody\n      }]\n    }, options); // $FlowFixMe: Replace this with passing \"svg-align\" into makeVList.\n\n    vlist.children[0].children[0].children[1].classes.push(\"svg-align\");\n  } else {\n    vlist = buildCommon.makeVList({\n      positionType: \"bottom\",\n      positionData: body.depth + 0.1 + braceBody.height,\n      children: [{\n        type: \"elem\",\n        elem: braceBody\n      }, {\n        type: \"kern\",\n        size: 0.1\n      }, {\n        type: \"elem\",\n        elem: body\n      }]\n    }, options); // $FlowFixMe: Replace this with passing \"svg-align\" into makeVList.\n\n    vlist.children[0].children[0].children[0].classes.push(\"svg-align\");\n  }\n\n  if (supSubGroup) {\n    // To write the supsub, wrap the first vlist in another vlist:\n    // They can't all go in the same vlist, because the note might be\n    // wider than the equation. We want the equation to control the\n    // brace width.\n    //      note          long note           long note\n    //      or         not    \n    //    equation           eqn                 eqn\n    var vSpan = buildCommon.makeSpan([\"mord\", group.isOver ? \"mover\" : \"munder\"], [vlist], options);\n\n    if (group.isOver) {\n      vlist = buildCommon.makeVList({\n        positionType: \"firstBaseline\",\n        children: [{\n          type: \"elem\",\n          elem: vSpan\n        }, {\n          type: \"kern\",\n          size: 0.2\n        }, {\n          type: \"elem\",\n          elem: supSubGroup\n        }]\n      }, options);\n    } else {\n      vlist = buildCommon.makeVList({\n        positionType: \"bottom\",\n        positionData: vSpan.depth + 0.2 + supSubGroup.height + supSubGroup.depth,\n        children: [{\n          type: \"elem\",\n          elem: supSubGroup\n        }, {\n          type: \"kern\",\n          size: 0.2\n        }, {\n          type: \"elem\",\n          elem: vSpan\n        }]\n      }, options);\n    }\n  }\n\n  return buildCommon.makeSpan([\"mord\", group.isOver ? \"mover\" : \"munder\"], [vlist], options);\n};\n\nvar mathmlBuilder$7 = (group, options) => {\n  var accentNode = stretchy.mathMLnode(group.label);\n  return new mathMLTree.MathNode(group.isOver ? \"mover\" : \"munder\", [buildGroup$1(group.base, options), accentNode]);\n}; // Horizontal stretchy braces\n\n\ndefineFunction({\n  type: \"horizBrace\",\n  names: [\"\\\\overbrace\", \"\\\\underbrace\"],\n  props: {\n    numArgs: 1\n  },\n\n  handler(_ref, args) {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    return {\n      type: \"horizBrace\",\n      mode: parser.mode,\n      label: funcName,\n      isOver: /^\\\\over/.test(funcName),\n      base: args[0]\n    };\n  },\n\n  htmlBuilder: htmlBuilder$7,\n  mathmlBuilder: mathmlBuilder$7\n});\n\ndefineFunction({\n  type: \"href\",\n  names: [\"\\\\href\"],\n  props: {\n    numArgs: 2,\n    argTypes: [\"url\", \"original\"],\n    allowedInText: true\n  },\n  handler: (_ref, args) => {\n    var {\n      parser\n    } = _ref;\n    var body = args[1];\n    var href = assertNodeType(args[0], \"url\").url;\n\n    if (!parser.settings.isTrusted({\n      command: \"\\\\href\",\n      url: href\n    })) {\n      return parser.formatUnsupportedCmd(\"\\\\href\");\n    }\n\n    return {\n      type: \"href\",\n      mode: parser.mode,\n      href,\n      body: ordargument(body)\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var elements = buildExpression(group.body, options, false);\n    return buildCommon.makeAnchor(group.href, [], elements, options);\n  },\n  mathmlBuilder: (group, options) => {\n    var math = buildExpressionRow(group.body, options);\n\n    if (!(math instanceof MathNode)) {\n      math = new MathNode(\"mrow\", [math]);\n    }\n\n    math.setAttribute(\"href\", group.href);\n    return math;\n  }\n});\ndefineFunction({\n  type: \"href\",\n  names: [\"\\\\url\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"url\"],\n    allowedInText: true\n  },\n  handler: (_ref2, args) => {\n    var {\n      parser\n    } = _ref2;\n    var href = assertNodeType(args[0], \"url\").url;\n\n    if (!parser.settings.isTrusted({\n      command: \"\\\\url\",\n      url: href\n    })) {\n      return parser.formatUnsupportedCmd(\"\\\\url\");\n    }\n\n    var chars = [];\n\n    for (var i = 0; i < href.length; i++) {\n      var c = href[i];\n\n      if (c === \"~\") {\n        c = \"\\\\textasciitilde\";\n      }\n\n      chars.push({\n        type: \"textord\",\n        mode: \"text\",\n        text: c\n      });\n    }\n\n    var body = {\n      type: \"text\",\n      mode: parser.mode,\n      font: \"\\\\texttt\",\n      body: chars\n    };\n    return {\n      type: \"href\",\n      mode: parser.mode,\n      href,\n      body: ordargument(body)\n    };\n  }\n});\n\n// In LaTeX, \\vcenter can act only on a box, as in\n// \\vcenter{\\hbox{$\\frac{a+b}{\\dfrac{c}{d}}$}}\n// This function by itself doesn't do anything but prevent a soft line break.\n\ndefineFunction({\n  type: \"hbox\",\n  names: [\"\\\\hbox\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"text\"],\n    allowedInText: true,\n    primitive: true\n  },\n\n  handler(_ref, args) {\n    var {\n      parser\n    } = _ref;\n    return {\n      type: \"hbox\",\n      mode: parser.mode,\n      body: ordargument(args[0])\n    };\n  },\n\n  htmlBuilder(group, options) {\n    var elements = buildExpression(group.body, options, false);\n    return buildCommon.makeFragment(elements);\n  },\n\n  mathmlBuilder(group, options) {\n    return new mathMLTree.MathNode(\"mrow\", buildExpression$1(group.body, options));\n  }\n\n});\n\ndefineFunction({\n  type: \"html\",\n  names: [\"\\\\htmlClass\", \"\\\\htmlId\", \"\\\\htmlStyle\", \"\\\\htmlData\"],\n  props: {\n    numArgs: 2,\n    argTypes: [\"raw\", \"original\"],\n    allowedInText: true\n  },\n  handler: (_ref, args) => {\n    var {\n      parser,\n      funcName,\n      token\n    } = _ref;\n    var value = assertNodeType(args[0], \"raw\").string;\n    var body = args[1];\n\n    if (parser.settings.strict) {\n      parser.settings.reportNonstrict(\"htmlExtension\", \"HTML extension is disabled on strict mode\");\n    }\n\n    var trustContext;\n    var attributes = {};\n\n    switch (funcName) {\n      case \"\\\\htmlClass\":\n        attributes.class = value;\n        trustContext = {\n          command: \"\\\\htmlClass\",\n          class: value\n        };\n        break;\n\n      case \"\\\\htmlId\":\n        attributes.id = value;\n        trustContext = {\n          command: \"\\\\htmlId\",\n          id: value\n        };\n        break;\n\n      case \"\\\\htmlStyle\":\n        attributes.style = value;\n        trustContext = {\n          command: \"\\\\htmlStyle\",\n          style: value\n        };\n        break;\n\n      case \"\\\\htmlData\":\n        {\n          var data = value.split(\",\");\n\n          for (var i = 0; i < data.length; i++) {\n            var keyVal = data[i].split(\"=\");\n\n            if (keyVal.length !== 2) {\n              throw new ParseError(\"Error parsing key-value for \\\\htmlData\");\n            }\n\n            attributes[\"data-\" + keyVal[0].trim()] = keyVal[1].trim();\n          }\n\n          trustContext = {\n            command: \"\\\\htmlData\",\n            attributes\n          };\n          break;\n        }\n\n      default:\n        throw new Error(\"Unrecognized html command\");\n    }\n\n    if (!parser.settings.isTrusted(trustContext)) {\n      return parser.formatUnsupportedCmd(funcName);\n    }\n\n    return {\n      type: \"html\",\n      mode: parser.mode,\n      attributes,\n      body: ordargument(body)\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var elements = buildExpression(group.body, options, false);\n    var classes = [\"enclosing\"];\n\n    if (group.attributes.class) {\n      classes.push(...group.attributes.class.trim().split(/\\s+/));\n    }\n\n    var span = buildCommon.makeSpan(classes, elements, options);\n\n    for (var attr in group.attributes) {\n      if (attr !== \"class\" && group.attributes.hasOwnProperty(attr)) {\n        span.setAttribute(attr, group.attributes[attr]);\n      }\n    }\n\n    return span;\n  },\n  mathmlBuilder: (group, options) => {\n    return buildExpressionRow(group.body, options);\n  }\n});\n\ndefineFunction({\n  type: \"htmlmathml\",\n  names: [\"\\\\html@mathml\"],\n  props: {\n    numArgs: 2,\n    allowedInText: true\n  },\n  handler: (_ref, args) => {\n    var {\n      parser\n    } = _ref;\n    return {\n      type: \"htmlmathml\",\n      mode: parser.mode,\n      html: ordargument(args[0]),\n      mathml: ordargument(args[1])\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var elements = buildExpression(group.html, options, false);\n    return buildCommon.makeFragment(elements);\n  },\n  mathmlBuilder: (group, options) => {\n    return buildExpressionRow(group.mathml, options);\n  }\n});\n\nvar sizeData = function sizeData(str) {\n  if (/^[-+]? *(\\d+(\\.\\d*)?|\\.\\d+)$/.test(str)) {\n    // str is a number with no unit specified.\n    // default unit is bp, per graphix package.\n    return {\n      number: +str,\n      unit: \"bp\"\n    };\n  } else {\n    var match = /([-+]?) *(\\d+(?:\\.\\d*)?|\\.\\d+) *([a-z]{2})/.exec(str);\n\n    if (!match) {\n      throw new ParseError(\"Invalid size: '\" + str + \"' in \\\\includegraphics\");\n    }\n\n    var data = {\n      number: +(match[1] + match[2]),\n      // sign + magnitude, cast to number\n      unit: match[3]\n    };\n\n    if (!validUnit(data)) {\n      throw new ParseError(\"Invalid unit: '\" + data.unit + \"' in \\\\includegraphics.\");\n    }\n\n    return data;\n  }\n};\n\ndefineFunction({\n  type: \"includegraphics\",\n  names: [\"\\\\includegraphics\"],\n  props: {\n    numArgs: 1,\n    numOptionalArgs: 1,\n    argTypes: [\"raw\", \"url\"],\n    allowedInText: false\n  },\n  handler: (_ref, args, optArgs) => {\n    var {\n      parser\n    } = _ref;\n    var width = {\n      number: 0,\n      unit: \"em\"\n    };\n    var height = {\n      number: 0.9,\n      unit: \"em\"\n    }; // sorta character sized.\n\n    var totalheight = {\n      number: 0,\n      unit: \"em\"\n    };\n    var alt = \"\";\n\n    if (optArgs[0]) {\n      var attributeStr = assertNodeType(optArgs[0], \"raw\").string; // Parser.js does not parse key/value pairs. We get a string.\n\n      var attributes = attributeStr.split(\",\");\n\n      for (var i = 0; i < attributes.length; i++) {\n        var keyVal = attributes[i].split(\"=\");\n\n        if (keyVal.length === 2) {\n          var str = keyVal[1].trim();\n\n          switch (keyVal[0].trim()) {\n            case \"alt\":\n              alt = str;\n              break;\n\n            case \"width\":\n              width = sizeData(str);\n              break;\n\n            case \"height\":\n              height = sizeData(str);\n              break;\n\n            case \"totalheight\":\n              totalheight = sizeData(str);\n              break;\n\n            default:\n              throw new ParseError(\"Invalid key: '\" + keyVal[0] + \"' in \\\\includegraphics.\");\n          }\n        }\n      }\n    }\n\n    var src = assertNodeType(args[0], \"url\").url;\n\n    if (alt === \"\") {\n      // No alt given. Use the file name. Strip away the path.\n      alt = src;\n      alt = alt.replace(/^.*[\\\\/]/, '');\n      alt = alt.substring(0, alt.lastIndexOf('.'));\n    }\n\n    if (!parser.settings.isTrusted({\n      command: \"\\\\includegraphics\",\n      url: src\n    })) {\n      return parser.formatUnsupportedCmd(\"\\\\includegraphics\");\n    }\n\n    return {\n      type: \"includegraphics\",\n      mode: parser.mode,\n      alt: alt,\n      width: width,\n      height: height,\n      totalheight: totalheight,\n      src: src\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var height = calculateSize(group.height, options);\n    var depth = 0;\n\n    if (group.totalheight.number > 0) {\n      depth = calculateSize(group.totalheight, options) - height;\n      depth = Number(depth.toFixed(2));\n    }\n\n    var width = 0;\n\n    if (group.width.number > 0) {\n      width = calculateSize(group.width, options);\n    }\n\n    var style = {\n      height: height + depth + \"em\"\n    };\n\n    if (width > 0) {\n      style.width = width + \"em\";\n    }\n\n    if (depth > 0) {\n      style.verticalAlign = -depth + \"em\";\n    }\n\n    var node = new Img(group.src, group.alt, style);\n    node.height = height;\n    node.depth = depth;\n    return node;\n  },\n  mathmlBuilder: (group, options) => {\n    var node = new mathMLTree.MathNode(\"mglyph\", []);\n    node.setAttribute(\"alt\", group.alt);\n    var height = calculateSize(group.height, options);\n    var depth = 0;\n\n    if (group.totalheight.number > 0) {\n      depth = calculateSize(group.totalheight, options) - height;\n      depth = depth.toFixed(2);\n      node.setAttribute(\"valign\", \"-\" + depth + \"em\");\n    }\n\n    node.setAttribute(\"height\", height + depth + \"em\");\n\n    if (group.width.number > 0) {\n      var width = calculateSize(group.width, options);\n      node.setAttribute(\"width\", width + \"em\");\n    }\n\n    node.setAttribute(\"src\", group.src);\n    return node;\n  }\n});\n\n// Horizontal spacing commands\n\ndefineFunction({\n  type: \"kern\",\n  names: [\"\\\\kern\", \"\\\\mkern\", \"\\\\hskip\", \"\\\\mskip\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"size\"],\n    primitive: true,\n    allowedInText: true\n  },\n\n  handler(_ref, args) {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var size = assertNodeType(args[0], \"size\");\n\n    if (parser.settings.strict) {\n      var mathFunction = funcName[1] === 'm'; // \\mkern, \\mskip\n\n      var muUnit = size.value.unit === 'mu';\n\n      if (mathFunction) {\n        if (!muUnit) {\n          parser.settings.reportNonstrict(\"mathVsTextUnits\", \"LaTeX's \" + funcName + \" supports only mu units, \" + (\"not \" + size.value.unit + \" units\"));\n        }\n\n        if (parser.mode !== \"math\") {\n          parser.settings.reportNonstrict(\"mathVsTextUnits\", \"LaTeX's \" + funcName + \" works only in math mode\");\n        }\n      } else {\n        // !mathFunction\n        if (muUnit) {\n          parser.settings.reportNonstrict(\"mathVsTextUnits\", \"LaTeX's \" + funcName + \" doesn't support mu units\");\n        }\n      }\n    }\n\n    return {\n      type: \"kern\",\n      mode: parser.mode,\n      dimension: size.value\n    };\n  },\n\n  htmlBuilder(group, options) {\n    return buildCommon.makeGlue(group.dimension, options);\n  },\n\n  mathmlBuilder(group, options) {\n    var dimension = calculateSize(group.dimension, options);\n    return new mathMLTree.SpaceNode(dimension);\n  }\n\n});\n\n// Horizontal overlap functions\ndefineFunction({\n  type: \"lap\",\n  names: [\"\\\\mathllap\", \"\\\\mathrlap\", \"\\\\mathclap\"],\n  props: {\n    numArgs: 1,\n    allowedInText: true\n  },\n  handler: (_ref, args) => {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var body = args[0];\n    return {\n      type: \"lap\",\n      mode: parser.mode,\n      alignment: funcName.slice(5),\n      body\n    };\n  },\n  htmlBuilder: (group, options) => {\n    // mathllap, mathrlap, mathclap\n    var inner;\n\n    if (group.alignment === \"clap\") {\n      // ref: https://www.math.lsu.edu/~aperlis/publications/mathclap/\n      inner = buildCommon.makeSpan([], [buildGroup(group.body, options)]); // wrap, since CSS will center a .clap > .inner > span\n\n      inner = buildCommon.makeSpan([\"inner\"], [inner], options);\n    } else {\n      inner = buildCommon.makeSpan([\"inner\"], [buildGroup(group.body, options)]);\n    }\n\n    var fix = buildCommon.makeSpan([\"fix\"], []);\n    var node = buildCommon.makeSpan([group.alignment], [inner, fix], options); // At this point, we have correctly set horizontal alignment of the\n    // two items involved in the lap.\n    // Next, use a strut to set the height of the HTML bounding box.\n    // Otherwise, a tall argument may be misplaced.\n    // This code resolved issue #1153\n\n    var strut = buildCommon.makeSpan([\"strut\"]);\n    strut.style.height = node.height + node.depth + \"em\";\n    strut.style.verticalAlign = -node.depth + \"em\";\n    node.children.unshift(strut); // Next, prevent vertical misplacement when next to something tall.\n    // This code resolves issue #1234\n\n    node = buildCommon.makeSpan([\"thinbox\"], [node], options);\n    return buildCommon.makeSpan([\"mord\", \"vbox\"], [node], options);\n  },\n  mathmlBuilder: (group, options) => {\n    // mathllap, mathrlap, mathclap\n    var node = new mathMLTree.MathNode(\"mpadded\", [buildGroup$1(group.body, options)]);\n\n    if (group.alignment !== \"rlap\") {\n      var offset = group.alignment === \"llap\" ? \"-1\" : \"-0.5\";\n      node.setAttribute(\"lspace\", offset + \"width\");\n    }\n\n    node.setAttribute(\"width\", \"0px\");\n    return node;\n  }\n});\n\ndefineFunction({\n  type: \"styling\",\n  names: [\"\\\\(\", \"$\"],\n  props: {\n    numArgs: 0,\n    allowedInText: true,\n    allowedInMath: false\n  },\n\n  handler(_ref, args) {\n    var {\n      funcName,\n      parser\n    } = _ref;\n    var outerMode = parser.mode;\n    parser.switchMode(\"math\");\n    var close = funcName === \"\\\\(\" ? \"\\\\)\" : \"$\";\n    var body = parser.parseExpression(false, close);\n    parser.expect(close);\n    parser.switchMode(outerMode);\n    return {\n      type: \"styling\",\n      mode: parser.mode,\n      style: \"text\",\n      body\n    };\n  }\n\n}); // Check for extra closing math delimiters\n\ndefineFunction({\n  type: \"text\",\n  // Doesn't matter what this is.\n  names: [\"\\\\)\", \"\\\\]\"],\n  props: {\n    numArgs: 0,\n    allowedInText: true,\n    allowedInMath: false\n  },\n\n  handler(context, args) {\n    throw new ParseError(\"Mismatched \" + context.funcName);\n  }\n\n});\n\nvar chooseMathStyle = (group, options) => {\n  switch (options.style.size) {\n    case Style$1.DISPLAY.size:\n      return group.display;\n\n    case Style$1.TEXT.size:\n      return group.text;\n\n    case Style$1.SCRIPT.size:\n      return group.script;\n\n    case Style$1.SCRIPTSCRIPT.size:\n      return group.scriptscript;\n\n    default:\n      return group.text;\n  }\n};\n\ndefineFunction({\n  type: \"mathchoice\",\n  names: [\"\\\\mathchoice\"],\n  props: {\n    numArgs: 4,\n    primitive: true\n  },\n  handler: (_ref, args) => {\n    var {\n      parser\n    } = _ref;\n    return {\n      type: \"mathchoice\",\n      mode: parser.mode,\n      display: ordargument(args[0]),\n      text: ordargument(args[1]),\n      script: ordargument(args[2]),\n      scriptscript: ordargument(args[3])\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var body = chooseMathStyle(group, options);\n    var elements = buildExpression(body, options, false);\n    return buildCommon.makeFragment(elements);\n  },\n  mathmlBuilder: (group, options) => {\n    var body = chooseMathStyle(group, options);\n    return buildExpressionRow(body, options);\n  }\n});\n\n// For an operator with limits, assemble the base, sup, and sub into a span.\nvar assembleSupSub = (base, supGroup, subGroup, options, style, slant, baseShift) => {\n  base = buildCommon.makeSpan([], [base]);\n  var sub;\n  var sup; // We manually have to handle the superscripts and subscripts. This,\n  // aside from the kern calculations, is copied from supsub.\n\n  if (supGroup) {\n    var elem = buildGroup(supGroup, options.havingStyle(style.sup()), options);\n    sup = {\n      elem,\n      kern: Math.max(options.fontMetrics().bigOpSpacing1, options.fontMetrics().bigOpSpacing3 - elem.depth)\n    };\n  }\n\n  if (subGroup) {\n    var _elem = buildGroup(subGroup, options.havingStyle(style.sub()), options);\n\n    sub = {\n      elem: _elem,\n      kern: Math.max(options.fontMetrics().bigOpSpacing2, options.fontMetrics().bigOpSpacing4 - _elem.height)\n    };\n  } // Build the final group as a vlist of the possible subscript, base,\n  // and possible superscript.\n\n\n  var finalGroup;\n\n  if (sup && sub) {\n    var bottom = options.fontMetrics().bigOpSpacing5 + sub.elem.height + sub.elem.depth + sub.kern + base.depth + baseShift;\n    finalGroup = buildCommon.makeVList({\n      positionType: \"bottom\",\n      positionData: bottom,\n      children: [{\n        type: \"kern\",\n        size: options.fontMetrics().bigOpSpacing5\n      }, {\n        type: \"elem\",\n        elem: sub.elem,\n        marginLeft: -slant + \"em\"\n      }, {\n        type: \"kern\",\n        size: sub.kern\n      }, {\n        type: \"elem\",\n        elem: base\n      }, {\n        type: \"kern\",\n        size: sup.kern\n      }, {\n        type: \"elem\",\n        elem: sup.elem,\n        marginLeft: slant + \"em\"\n      }, {\n        type: \"kern\",\n        size: options.fontMetrics().bigOpSpacing5\n      }]\n    }, options);\n  } else if (sub) {\n    var top = base.height - baseShift; // Shift the limits by the slant of the symbol. Note\n    // that we are supposed to shift the limits by 1/2 of the slant,\n    // but since we are centering the limits adding a full slant of\n    // margin will shift by 1/2 that.\n\n    finalGroup = buildCommon.makeVList({\n      positionType: \"top\",\n      positionData: top,\n      children: [{\n        type: \"kern\",\n        size: options.fontMetrics().bigOpSpacing5\n      }, {\n        type: \"elem\",\n        elem: sub.elem,\n        marginLeft: -slant + \"em\"\n      }, {\n        type: \"kern\",\n        size: sub.kern\n      }, {\n        type: \"elem\",\n        elem: base\n      }]\n    }, options);\n  } else if (sup) {\n    var _bottom = base.depth + baseShift;\n\n    finalGroup = buildCommon.makeVList({\n      positionType: \"bottom\",\n      positionData: _bottom,\n      children: [{\n        type: \"elem\",\n        elem: base\n      }, {\n        type: \"kern\",\n        size: sup.kern\n      }, {\n        type: \"elem\",\n        elem: sup.elem,\n        marginLeft: slant + \"em\"\n      }, {\n        type: \"kern\",\n        size: options.fontMetrics().bigOpSpacing5\n      }]\n    }, options);\n  } else {\n    // This case probably shouldn't occur (this would mean the\n    // supsub was sending us a group with no superscript or\n    // subscript) but be safe.\n    return base;\n  }\n\n  return buildCommon.makeSpan([\"mop\", \"op-limits\"], [finalGroup], options);\n};\n\n// Limits, symbols\n// Most operators have a large successor symbol, but these don't.\nvar noSuccessor = [\"\\\\smallint\"]; // NOTE: Unlike most `htmlBuilder`s, this one handles not only \"op\", but also\n// \"supsub\" since some of them (like \\int) can affect super/subscripting.\n\nvar htmlBuilder$8 = (grp, options) => {\n  // Operators are handled in the TeXbook pg. 443-444, rule 13(a).\n  var supGroup;\n  var subGroup;\n  var hasLimits = false;\n  var group;\n\n  if (grp.type === \"supsub\") {\n    // If we have limits, supsub will pass us its group to handle. Pull\n    // out the superscript and subscript and set the group to the op in\n    // its base.\n    supGroup = grp.sup;\n    subGroup = grp.sub;\n    group = assertNodeType(grp.base, \"op\");\n    hasLimits = true;\n  } else {\n    group = assertNodeType(grp, \"op\");\n  }\n\n  var style = options.style;\n  var large = false;\n\n  if (style.size === Style$1.DISPLAY.size && group.symbol && !utils.contains(noSuccessor, group.name)) {\n    // Most symbol operators get larger in displaystyle (rule 13)\n    large = true;\n  }\n\n  var base;\n\n  if (group.symbol) {\n    // If this is a symbol, create the symbol.\n    var fontName = large ? \"Size2-Regular\" : \"Size1-Regular\";\n    var stash = \"\";\n\n    if (group.name === \"\\\\oiint\" || group.name === \"\\\\oiiint\") {\n      // No font glyphs yet, so use a glyph w/o the oval.\n      // TODO: When font glyphs are available, delete this code.\n      stash = group.name.substr(1);\n      group.name = stash === \"oiint\" ? \"\\\\iint\" : \"\\\\iiint\";\n    }\n\n    base = buildCommon.makeSymbol(group.name, fontName, \"math\", options, [\"mop\", \"op-symbol\", large ? \"large-op\" : \"small-op\"]);\n\n    if (stash.length > 0) {\n      // We're in \\oiint or \\oiiint. Overlay the oval.\n      // TODO: When font glyphs are available, delete this code.\n      var italic = base.italic;\n      var oval = buildCommon.staticSvg(stash + \"Size\" + (large ? \"2\" : \"1\"), options);\n      base = buildCommon.makeVList({\n        positionType: \"individualShift\",\n        children: [{\n          type: \"elem\",\n          elem: base,\n          shift: 0\n        }, {\n          type: \"elem\",\n          elem: oval,\n          shift: large ? 0.08 : 0\n        }]\n      }, options);\n      group.name = \"\\\\\" + stash;\n      base.classes.unshift(\"mop\"); // $FlowFixMe\n\n      base.italic = italic;\n    }\n  } else if (group.body) {\n    // If this is a list, compose that list.\n    var inner = buildExpression(group.body, options, true);\n\n    if (inner.length === 1 && inner[0] instanceof SymbolNode) {\n      base = inner[0];\n      base.classes[0] = \"mop\"; // replace old mclass\n    } else {\n      base = buildCommon.makeSpan([\"mop\"], inner, options);\n    }\n  } else {\n    // Otherwise, this is a text operator. Build the text from the\n    // operator's name.\n    var output = [];\n\n    for (var i = 1; i < group.name.length; i++) {\n      output.push(buildCommon.mathsym(group.name[i], group.mode, options));\n    }\n\n    base = buildCommon.makeSpan([\"mop\"], output, options);\n  } // If content of op is a single symbol, shift it vertically.\n\n\n  var baseShift = 0;\n  var slant = 0;\n\n  if ((base instanceof SymbolNode || group.name === \"\\\\oiint\" || group.name === \"\\\\oiiint\") && !group.suppressBaseShift) {\n    // We suppress the shift of the base of \\overset and \\underset. Otherwise,\n    // shift the symbol so its center lies on the axis (rule 13). It\n    // appears that our fonts have the centers of the symbols already\n    // almost on the axis, so these numbers are very small. Note we\n    // don't actually apply this here, but instead it is used either in\n    // the vlist creation or separately when there are no limits.\n    baseShift = (base.height - base.depth) / 2 - options.fontMetrics().axisHeight; // The slant of the symbol is just its italic correction.\n    // $FlowFixMe\n\n    slant = base.italic;\n  }\n\n  if (hasLimits) {\n    return assembleSupSub(base, supGroup, subGroup, options, style, slant, baseShift);\n  } else {\n    if (baseShift) {\n      base.style.position = \"relative\";\n      base.style.top = baseShift + \"em\";\n    }\n\n    return base;\n  }\n};\n\nvar mathmlBuilder$8 = (group, options) => {\n  var node;\n\n  if (group.symbol) {\n    // This is a symbol. Just add the symbol.\n    node = new MathNode(\"mo\", [makeText(group.name, group.mode)]);\n\n    if (utils.contains(noSuccessor, group.name)) {\n      node.setAttribute(\"largeop\", \"false\");\n    }\n  } else if (group.body) {\n    // This is an operator with children. Add them.\n    node = new MathNode(\"mo\", buildExpression$1(group.body, options));\n  } else {\n    // This is a text operator. Add all of the characters from the\n    // operator's name.\n    node = new MathNode(\"mi\", [new TextNode(group.name.slice(1))]); // Append an <mo>&ApplyFunction;</mo>.\n    // ref: https://www.w3.org/TR/REC-MathML/chap3_2.html#sec3.2.4\n\n    var operator = new MathNode(\"mo\", [makeText(\"\\u2061\", \"text\")]);\n\n    if (group.parentIsSupSub) {\n      node = new MathNode(\"mrow\", [node, operator]);\n    } else {\n      node = newDocumentFragment([node, operator]);\n    }\n  }\n\n  return node;\n};\n\nvar singleCharBigOps = {\n  \"\\u220F\": \"\\\\prod\",\n  \"\\u2210\": \"\\\\coprod\",\n  \"\\u2211\": \"\\\\sum\",\n  \"\\u22c0\": \"\\\\bigwedge\",\n  \"\\u22c1\": \"\\\\bigvee\",\n  \"\\u22c2\": \"\\\\bigcap\",\n  \"\\u22c3\": \"\\\\bigcup\",\n  \"\\u2a00\": \"\\\\bigodot\",\n  \"\\u2a01\": \"\\\\bigoplus\",\n  \"\\u2a02\": \"\\\\bigotimes\",\n  \"\\u2a04\": \"\\\\biguplus\",\n  \"\\u2a06\": \"\\\\bigsqcup\"\n};\ndefineFunction({\n  type: \"op\",\n  names: [\"\\\\coprod\", \"\\\\bigvee\", \"\\\\bigwedge\", \"\\\\biguplus\", \"\\\\bigcap\", \"\\\\bigcup\", \"\\\\intop\", \"\\\\prod\", \"\\\\sum\", \"\\\\bigotimes\", \"\\\\bigoplus\", \"\\\\bigodot\", \"\\\\bigsqcup\", \"\\\\smallint\", \"\\u220F\", \"\\u2210\", \"\\u2211\", \"\\u22c0\", \"\\u22c1\", \"\\u22c2\", \"\\u22c3\", \"\\u2a00\", \"\\u2a01\", \"\\u2a02\", \"\\u2a04\", \"\\u2a06\"],\n  props: {\n    numArgs: 0\n  },\n  handler: (_ref, args) => {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var fName = funcName;\n\n    if (fName.length === 1) {\n      fName = singleCharBigOps[fName];\n    }\n\n    return {\n      type: \"op\",\n      mode: parser.mode,\n      limits: true,\n      parentIsSupSub: false,\n      symbol: true,\n      name: fName\n    };\n  },\n  htmlBuilder: htmlBuilder$8,\n  mathmlBuilder: mathmlBuilder$8\n}); // Note: calling defineFunction with a type that's already been defined only\n// works because the same htmlBuilder and mathmlBuilder are being used.\n\ndefineFunction({\n  type: \"op\",\n  names: [\"\\\\mathop\"],\n  props: {\n    numArgs: 1,\n    primitive: true\n  },\n  handler: (_ref2, args) => {\n    var {\n      parser\n    } = _ref2;\n    var body = args[0];\n    return {\n      type: \"op\",\n      mode: parser.mode,\n      limits: false,\n      parentIsSupSub: false,\n      symbol: false,\n      body: ordargument(body)\n    };\n  },\n  htmlBuilder: htmlBuilder$8,\n  mathmlBuilder: mathmlBuilder$8\n}); // There are 2 flags for operators; whether they produce limits in\n// displaystyle, and whether they are symbols and should grow in\n// displaystyle. These four groups cover the four possible choices.\n\nvar singleCharIntegrals = {\n  \"\\u222b\": \"\\\\int\",\n  \"\\u222c\": \"\\\\iint\",\n  \"\\u222d\": \"\\\\iiint\",\n  \"\\u222e\": \"\\\\oint\",\n  \"\\u222f\": \"\\\\oiint\",\n  \"\\u2230\": \"\\\\oiiint\"\n}; // No limits, not symbols\n\ndefineFunction({\n  type: \"op\",\n  names: [\"\\\\arcsin\", \"\\\\arccos\", \"\\\\arctan\", \"\\\\arctg\", \"\\\\arcctg\", \"\\\\arg\", \"\\\\ch\", \"\\\\cos\", \"\\\\cosec\", \"\\\\cosh\", \"\\\\cot\", \"\\\\cotg\", \"\\\\coth\", \"\\\\csc\", \"\\\\ctg\", \"\\\\cth\", \"\\\\deg\", \"\\\\dim\", \"\\\\exp\", \"\\\\hom\", \"\\\\ker\", \"\\\\lg\", \"\\\\ln\", \"\\\\log\", \"\\\\sec\", \"\\\\sin\", \"\\\\sinh\", \"\\\\sh\", \"\\\\tan\", \"\\\\tanh\", \"\\\\tg\", \"\\\\th\"],\n  props: {\n    numArgs: 0\n  },\n\n  handler(_ref3) {\n    var {\n      parser,\n      funcName\n    } = _ref3;\n    return {\n      type: \"op\",\n      mode: parser.mode,\n      limits: false,\n      parentIsSupSub: false,\n      symbol: false,\n      name: funcName\n    };\n  },\n\n  htmlBuilder: htmlBuilder$8,\n  mathmlBuilder: mathmlBuilder$8\n}); // Limits, not symbols\n\ndefineFunction({\n  type: \"op\",\n  names: [\"\\\\det\", \"\\\\gcd\", \"\\\\inf\", \"\\\\lim\", \"\\\\max\", \"\\\\min\", \"\\\\Pr\", \"\\\\sup\"],\n  props: {\n    numArgs: 0\n  },\n\n  handler(_ref4) {\n    var {\n      parser,\n      funcName\n    } = _ref4;\n    return {\n      type: \"op\",\n      mode: parser.mode,\n      limits: true,\n      parentIsSupSub: false,\n      symbol: false,\n      name: funcName\n    };\n  },\n\n  htmlBuilder: htmlBuilder$8,\n  mathmlBuilder: mathmlBuilder$8\n}); // No limits, symbols\n\ndefineFunction({\n  type: \"op\",\n  names: [\"\\\\int\", \"\\\\iint\", \"\\\\iiint\", \"\\\\oint\", \"\\\\oiint\", \"\\\\oiiint\", \"\\u222b\", \"\\u222c\", \"\\u222d\", \"\\u222e\", \"\\u222f\", \"\\u2230\"],\n  props: {\n    numArgs: 0\n  },\n\n  handler(_ref5) {\n    var {\n      parser,\n      funcName\n    } = _ref5;\n    var fName = funcName;\n\n    if (fName.length === 1) {\n      fName = singleCharIntegrals[fName];\n    }\n\n    return {\n      type: \"op\",\n      mode: parser.mode,\n      limits: false,\n      parentIsSupSub: false,\n      symbol: true,\n      name: fName\n    };\n  },\n\n  htmlBuilder: htmlBuilder$8,\n  mathmlBuilder: mathmlBuilder$8\n});\n\n// NOTE: Unlike most `htmlBuilder`s, this one handles not only\n// \"operatorname\", but also  \"supsub\" since \\operatorname* can\n// affect super/subscripting.\nvar htmlBuilder$9 = (grp, options) => {\n  // Operators are handled in the TeXbook pg. 443-444, rule 13(a).\n  var supGroup;\n  var subGroup;\n  var hasLimits = false;\n  var group;\n\n  if (grp.type === \"supsub\") {\n    // If we have limits, supsub will pass us its group to handle. Pull\n    // out the superscript and subscript and set the group to the op in\n    // its base.\n    supGroup = grp.sup;\n    subGroup = grp.sub;\n    group = assertNodeType(grp.base, \"operatorname\");\n    hasLimits = true;\n  } else {\n    group = assertNodeType(grp, \"operatorname\");\n  }\n\n  var base;\n\n  if (group.body.length > 0) {\n    var body = group.body.map(child => {\n      // $FlowFixMe: Check if the node has a string `text` property.\n      var childText = child.text;\n\n      if (typeof childText === \"string\") {\n        return {\n          type: \"textord\",\n          mode: child.mode,\n          text: childText\n        };\n      } else {\n        return child;\n      }\n    }); // Consolidate function names into symbol characters.\n\n    var expression = buildExpression(body, options.withFont(\"mathrm\"), true);\n\n    for (var i = 0; i < expression.length; i++) {\n      var child = expression[i];\n\n      if (child instanceof SymbolNode) {\n        // Per amsopn package,\n        // change minus to hyphen and \\ast to asterisk\n        child.text = child.text.replace(/\\u2212/, \"-\").replace(/\\u2217/, \"*\");\n      }\n    }\n\n    base = buildCommon.makeSpan([\"mop\"], expression, options);\n  } else {\n    base = buildCommon.makeSpan([\"mop\"], [], options);\n  }\n\n  if (hasLimits) {\n    return assembleSupSub(base, supGroup, subGroup, options, options.style, 0, 0);\n  } else {\n    return base;\n  }\n};\n\nvar mathmlBuilder$9 = (group, options) => {\n  // The steps taken here are similar to the html version.\n  var expression = buildExpression$1(group.body, options.withFont(\"mathrm\")); // Is expression a string or has it something like a fraction?\n\n  var isAllString = true; // default\n\n  for (var i = 0; i < expression.length; i++) {\n    var node = expression[i];\n\n    if (node instanceof mathMLTree.SpaceNode) ; else if (node instanceof mathMLTree.MathNode) {\n      switch (node.type) {\n        case \"mi\":\n        case \"mn\":\n        case \"ms\":\n        case \"mspace\":\n        case \"mtext\":\n          break;\n        // Do nothing yet.\n\n        case \"mo\":\n          {\n            var child = node.children[0];\n\n            if (node.children.length === 1 && child instanceof mathMLTree.TextNode) {\n              child.text = child.text.replace(/\\u2212/, \"-\").replace(/\\u2217/, \"*\");\n            } else {\n              isAllString = false;\n            }\n\n            break;\n          }\n\n        default:\n          isAllString = false;\n      }\n    } else {\n      isAllString = false;\n    }\n  }\n\n  if (isAllString) {\n    // Write a single TextNode instead of multiple nested tags.\n    var word = expression.map(node => node.toText()).join(\"\");\n    expression = [new mathMLTree.TextNode(word)];\n  }\n\n  var identifier = new mathMLTree.MathNode(\"mi\", expression);\n  identifier.setAttribute(\"mathvariant\", \"normal\"); // \\u2061 is the same as &ApplyFunction;\n  // ref: https://www.w3schools.com/charsets/ref_html_entities_a.asp\n\n  var operator = new mathMLTree.MathNode(\"mo\", [makeText(\"\\u2061\", \"text\")]);\n\n  if (group.parentIsSupSub) {\n    return new mathMLTree.MathNode(\"mrow\", [identifier, operator]);\n  } else {\n    return mathMLTree.newDocumentFragment([identifier, operator]);\n  }\n}; // \\operatorname\n// amsopn.dtx: \\mathop{#1\\kern\\z@\\operator@font#3}\\newmcodes@\n\n\ndefineFunction({\n  type: \"operatorname\",\n  names: [\"\\\\operatorname\", \"\\\\operatorname*\"],\n  props: {\n    numArgs: 1\n  },\n  handler: (_ref, args) => {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var body = args[0];\n    return {\n      type: \"operatorname\",\n      mode: parser.mode,\n      body: ordargument(body),\n      alwaysHandleSupSub: funcName === \"\\\\operatorname*\",\n      limits: false,\n      parentIsSupSub: false\n    };\n  },\n  htmlBuilder: htmlBuilder$9,\n  mathmlBuilder: mathmlBuilder$9\n});\n\ndefineFunctionBuilders({\n  type: \"ordgroup\",\n\n  htmlBuilder(group, options) {\n    if (group.semisimple) {\n      return buildCommon.makeFragment(buildExpression(group.body, options, false));\n    }\n\n    return buildCommon.makeSpan([\"mord\"], buildExpression(group.body, options, true), options);\n  },\n\n  mathmlBuilder(group, options) {\n    return buildExpressionRow(group.body, options, true);\n  }\n\n});\n\ndefineFunction({\n  type: \"overline\",\n  names: [\"\\\\overline\"],\n  props: {\n    numArgs: 1\n  },\n\n  handler(_ref, args) {\n    var {\n      parser\n    } = _ref;\n    var body = args[0];\n    return {\n      type: \"overline\",\n      mode: parser.mode,\n      body\n    };\n  },\n\n  htmlBuilder(group, options) {\n    // Overlines are handled in the TeXbook pg 443, Rule 9.\n    // Build the inner group in the cramped style.\n    var innerGroup = buildGroup(group.body, options.havingCrampedStyle()); // Create the line above the body\n\n    var line = buildCommon.makeLineSpan(\"overline-line\", options); // Generate the vlist, with the appropriate kerns\n\n    var defaultRuleThickness = options.fontMetrics().defaultRuleThickness;\n    var vlist = buildCommon.makeVList({\n      positionType: \"firstBaseline\",\n      children: [{\n        type: \"elem\",\n        elem: innerGroup\n      }, {\n        type: \"kern\",\n        size: 3 * defaultRuleThickness\n      }, {\n        type: \"elem\",\n        elem: line\n      }, {\n        type: \"kern\",\n        size: defaultRuleThickness\n      }]\n    }, options);\n    return buildCommon.makeSpan([\"mord\", \"overline\"], [vlist], options);\n  },\n\n  mathmlBuilder(group, options) {\n    var operator = new mathMLTree.MathNode(\"mo\", [new mathMLTree.TextNode(\"\\u203e\")]);\n    operator.setAttribute(\"stretchy\", \"true\");\n    var node = new mathMLTree.MathNode(\"mover\", [buildGroup$1(group.body, options), operator]);\n    node.setAttribute(\"accent\", \"true\");\n    return node;\n  }\n\n});\n\ndefineFunction({\n  type: \"phantom\",\n  names: [\"\\\\phantom\"],\n  props: {\n    numArgs: 1,\n    allowedInText: true\n  },\n  handler: (_ref, args) => {\n    var {\n      parser\n    } = _ref;\n    var body = args[0];\n    return {\n      type: \"phantom\",\n      mode: parser.mode,\n      body: ordargument(body)\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var elements = buildExpression(group.body, options.withPhantom(), false); // \\phantom isn't supposed to affect the elements it contains.\n    // See \"color\" for more details.\n\n    return buildCommon.makeFragment(elements);\n  },\n  mathmlBuilder: (group, options) => {\n    var inner = buildExpression$1(group.body, options);\n    return new mathMLTree.MathNode(\"mphantom\", inner);\n  }\n});\ndefineFunction({\n  type: \"hphantom\",\n  names: [\"\\\\hphantom\"],\n  props: {\n    numArgs: 1,\n    allowedInText: true\n  },\n  handler: (_ref2, args) => {\n    var {\n      parser\n    } = _ref2;\n    var body = args[0];\n    return {\n      type: \"hphantom\",\n      mode: parser.mode,\n      body\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var node = buildCommon.makeSpan([], [buildGroup(group.body, options.withPhantom())]);\n    node.height = 0;\n    node.depth = 0;\n\n    if (node.children) {\n      for (var i = 0; i < node.children.length; i++) {\n        node.children[i].height = 0;\n        node.children[i].depth = 0;\n      }\n    } // See smash for comment re: use of makeVList\n\n\n    node = buildCommon.makeVList({\n      positionType: \"firstBaseline\",\n      children: [{\n        type: \"elem\",\n        elem: node\n      }]\n    }, options); // For spacing, TeX treats \\smash as a math group (same spacing as ord).\n\n    return buildCommon.makeSpan([\"mord\"], [node], options);\n  },\n  mathmlBuilder: (group, options) => {\n    var inner = buildExpression$1(ordargument(group.body), options);\n    var phantom = new mathMLTree.MathNode(\"mphantom\", inner);\n    var node = new mathMLTree.MathNode(\"mpadded\", [phantom]);\n    node.setAttribute(\"height\", \"0px\");\n    node.setAttribute(\"depth\", \"0px\");\n    return node;\n  }\n});\ndefineFunction({\n  type: \"vphantom\",\n  names: [\"\\\\vphantom\"],\n  props: {\n    numArgs: 1,\n    allowedInText: true\n  },\n  handler: (_ref3, args) => {\n    var {\n      parser\n    } = _ref3;\n    var body = args[0];\n    return {\n      type: \"vphantom\",\n      mode: parser.mode,\n      body\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var inner = buildCommon.makeSpan([\"inner\"], [buildGroup(group.body, options.withPhantom())]);\n    var fix = buildCommon.makeSpan([\"fix\"], []);\n    return buildCommon.makeSpan([\"mord\", \"rlap\"], [inner, fix], options);\n  },\n  mathmlBuilder: (group, options) => {\n    var inner = buildExpression$1(ordargument(group.body), options);\n    var phantom = new mathMLTree.MathNode(\"mphantom\", inner);\n    var node = new mathMLTree.MathNode(\"mpadded\", [phantom]);\n    node.setAttribute(\"width\", \"0px\");\n    return node;\n  }\n});\n\ndefineFunction({\n  type: \"raisebox\",\n  names: [\"\\\\raisebox\"],\n  props: {\n    numArgs: 2,\n    argTypes: [\"size\", \"hbox\"],\n    allowedInText: true\n  },\n\n  handler(_ref, args) {\n    var {\n      parser\n    } = _ref;\n    var amount = assertNodeType(args[0], \"size\").value;\n    var body = args[1];\n    return {\n      type: \"raisebox\",\n      mode: parser.mode,\n      dy: amount,\n      body\n    };\n  },\n\n  htmlBuilder(group, options) {\n    var body = buildGroup(group.body, options);\n    var dy = calculateSize(group.dy, options);\n    return buildCommon.makeVList({\n      positionType: \"shift\",\n      positionData: -dy,\n      children: [{\n        type: \"elem\",\n        elem: body\n      }]\n    }, options);\n  },\n\n  mathmlBuilder(group, options) {\n    var node = new mathMLTree.MathNode(\"mpadded\", [buildGroup$1(group.body, options)]);\n    var dy = group.dy.number + group.dy.unit;\n    node.setAttribute(\"voffset\", dy);\n    return node;\n  }\n\n});\n\ndefineFunction({\n  type: \"rule\",\n  names: [\"\\\\rule\"],\n  props: {\n    numArgs: 2,\n    numOptionalArgs: 1,\n    argTypes: [\"size\", \"size\", \"size\"]\n  },\n\n  handler(_ref, args, optArgs) {\n    var {\n      parser\n    } = _ref;\n    var shift = optArgs[0];\n    var width = assertNodeType(args[0], \"size\");\n    var height = assertNodeType(args[1], \"size\");\n    return {\n      type: \"rule\",\n      mode: parser.mode,\n      shift: shift && assertNodeType(shift, \"size\").value,\n      width: width.value,\n      height: height.value\n    };\n  },\n\n  htmlBuilder(group, options) {\n    // Make an empty span for the rule\n    var rule = buildCommon.makeSpan([\"mord\", \"rule\"], [], options); // Calculate the shift, width, and height of the rule, and account for units\n\n    var width = calculateSize(group.width, options);\n    var height = calculateSize(group.height, options);\n    var shift = group.shift ? calculateSize(group.shift, options) : 0; // Style the rule to the right size\n\n    rule.style.borderRightWidth = width + \"em\";\n    rule.style.borderTopWidth = height + \"em\";\n    rule.style.bottom = shift + \"em\"; // Record the height and width\n\n    rule.width = width;\n    rule.height = height + shift;\n    rule.depth = -shift; // Font size is the number large enough that the browser will\n    // reserve at least `absHeight` space above the baseline.\n    // The 1.125 factor was empirically determined\n\n    rule.maxFontSize = height * 1.125 * options.sizeMultiplier;\n    return rule;\n  },\n\n  mathmlBuilder(group, options) {\n    var width = calculateSize(group.width, options);\n    var height = calculateSize(group.height, options);\n    var shift = group.shift ? calculateSize(group.shift, options) : 0;\n    var color = options.color && options.getColor() || \"black\";\n    var rule = new mathMLTree.MathNode(\"mspace\");\n    rule.setAttribute(\"mathbackground\", color);\n    rule.setAttribute(\"width\", width + \"em\");\n    rule.setAttribute(\"height\", height + \"em\");\n    var wrapper = new mathMLTree.MathNode(\"mpadded\", [rule]);\n\n    if (shift >= 0) {\n      wrapper.setAttribute(\"height\", \"+\" + shift + \"em\");\n    } else {\n      wrapper.setAttribute(\"height\", shift + \"em\");\n      wrapper.setAttribute(\"depth\", \"+\" + -shift + \"em\");\n    }\n\n    wrapper.setAttribute(\"voffset\", shift + \"em\");\n    return wrapper;\n  }\n\n});\n\nfunction sizingGroup(value, options, baseOptions) {\n  var inner = buildExpression(value, options, false);\n  var multiplier = options.sizeMultiplier / baseOptions.sizeMultiplier; // Add size-resetting classes to the inner list and set maxFontSize\n  // manually. Handle nested size changes.\n\n  for (var i = 0; i < inner.length; i++) {\n    var pos = inner[i].classes.indexOf(\"sizing\");\n\n    if (pos < 0) {\n      Array.prototype.push.apply(inner[i].classes, options.sizingClasses(baseOptions));\n    } else if (inner[i].classes[pos + 1] === \"reset-size\" + options.size) {\n      // This is a nested size change: e.g., inner[i] is the \"b\" in\n      // `\\Huge a \\small b`. Override the old size (the `reset-` class)\n      // but not the new size.\n      inner[i].classes[pos + 1] = \"reset-size\" + baseOptions.size;\n    }\n\n    inner[i].height *= multiplier;\n    inner[i].depth *= multiplier;\n  }\n\n  return buildCommon.makeFragment(inner);\n}\nvar sizeFuncs = [\"\\\\tiny\", \"\\\\sixptsize\", \"\\\\scriptsize\", \"\\\\footnotesize\", \"\\\\small\", \"\\\\normalsize\", \"\\\\large\", \"\\\\Large\", \"\\\\LARGE\", \"\\\\huge\", \"\\\\Huge\"];\nvar htmlBuilder$a = (group, options) => {\n  // Handle sizing operators like \\Huge. Real TeX doesn't actually allow\n  // these functions inside of math expressions, so we do some special\n  // handling.\n  var newOptions = options.havingSize(group.size);\n  return sizingGroup(group.body, newOptions, options);\n};\ndefineFunction({\n  type: \"sizing\",\n  names: sizeFuncs,\n  props: {\n    numArgs: 0,\n    allowedInText: true\n  },\n  handler: (_ref, args) => {\n    var {\n      breakOnTokenText,\n      funcName,\n      parser\n    } = _ref;\n    var body = parser.parseExpression(false, breakOnTokenText);\n    return {\n      type: \"sizing\",\n      mode: parser.mode,\n      // Figure out what size to use based on the list of functions above\n      size: sizeFuncs.indexOf(funcName) + 1,\n      body\n    };\n  },\n  htmlBuilder: htmlBuilder$a,\n  mathmlBuilder: (group, options) => {\n    var newOptions = options.havingSize(group.size);\n    var inner = buildExpression$1(group.body, newOptions);\n    var node = new mathMLTree.MathNode(\"mstyle\", inner); // TODO(emily): This doesn't produce the correct size for nested size\n    // changes, because we don't keep state of what style we're currently\n    // in, so we can't reset the size to normal before changing it.  Now\n    // that we're passing an options parameter we should be able to fix\n    // this.\n\n    node.setAttribute(\"mathsize\", newOptions.sizeMultiplier + \"em\");\n    return node;\n  }\n});\n\n// smash, with optional [tb], as in AMS\ndefineFunction({\n  type: \"smash\",\n  names: [\"\\\\smash\"],\n  props: {\n    numArgs: 1,\n    numOptionalArgs: 1,\n    allowedInText: true\n  },\n  handler: (_ref, args, optArgs) => {\n    var {\n      parser\n    } = _ref;\n    var smashHeight = false;\n    var smashDepth = false;\n    var tbArg = optArgs[0] && assertNodeType(optArgs[0], \"ordgroup\");\n\n    if (tbArg) {\n      // Optional [tb] argument is engaged.\n      // ref: amsmath: \\renewcommand{\\smash}[1][tb]{%\n      //               def\\mb@t{\\ht}\\def\\mb@b{\\dp}\\def\\mb@tb{\\ht\\z@\\z@\\dp}%\n      var letter = \"\";\n\n      for (var i = 0; i < tbArg.body.length; ++i) {\n        var node = tbArg.body[i]; // $FlowFixMe: Not every node type has a `text` property.\n\n        letter = node.text;\n\n        if (letter === \"t\") {\n          smashHeight = true;\n        } else if (letter === \"b\") {\n          smashDepth = true;\n        } else {\n          smashHeight = false;\n          smashDepth = false;\n          break;\n        }\n      }\n    } else {\n      smashHeight = true;\n      smashDepth = true;\n    }\n\n    var body = args[0];\n    return {\n      type: \"smash\",\n      mode: parser.mode,\n      body,\n      smashHeight,\n      smashDepth\n    };\n  },\n  htmlBuilder: (group, options) => {\n    var node = buildCommon.makeSpan([], [buildGroup(group.body, options)]);\n\n    if (!group.smashHeight && !group.smashDepth) {\n      return node;\n    }\n\n    if (group.smashHeight) {\n      node.height = 0; // In order to influence makeVList, we have to reset the children.\n\n      if (node.children) {\n        for (var i = 0; i < node.children.length; i++) {\n          node.children[i].height = 0;\n        }\n      }\n    }\n\n    if (group.smashDepth) {\n      node.depth = 0;\n\n      if (node.children) {\n        for (var _i = 0; _i < node.children.length; _i++) {\n          node.children[_i].depth = 0;\n        }\n      }\n    } // At this point, we've reset the TeX-like height and depth values.\n    // But the span still has an HTML line height.\n    // makeVList applies \"display: table-cell\", which prevents the browser\n    // from acting on that line height. So we'll call makeVList now.\n\n\n    var smashedNode = buildCommon.makeVList({\n      positionType: \"firstBaseline\",\n      children: [{\n        type: \"elem\",\n        elem: node\n      }]\n    }, options); // For spacing, TeX treats \\hphantom as a math group (same spacing as ord).\n\n    return buildCommon.makeSpan([\"mord\"], [smashedNode], options);\n  },\n  mathmlBuilder: (group, options) => {\n    var node = new mathMLTree.MathNode(\"mpadded\", [buildGroup$1(group.body, options)]);\n\n    if (group.smashHeight) {\n      node.setAttribute(\"height\", \"0px\");\n    }\n\n    if (group.smashDepth) {\n      node.setAttribute(\"depth\", \"0px\");\n    }\n\n    return node;\n  }\n});\n\ndefineFunction({\n  type: \"sqrt\",\n  names: [\"\\\\sqrt\"],\n  props: {\n    numArgs: 1,\n    numOptionalArgs: 1\n  },\n\n  handler(_ref, args, optArgs) {\n    var {\n      parser\n    } = _ref;\n    var index = optArgs[0];\n    var body = args[0];\n    return {\n      type: \"sqrt\",\n      mode: parser.mode,\n      body,\n      index\n    };\n  },\n\n  htmlBuilder(group, options) {\n    // Square roots are handled in the TeXbook pg. 443, Rule 11.\n    // First, we do the same steps as in overline to build the inner group\n    // and line\n    var inner = buildGroup(group.body, options.havingCrampedStyle());\n\n    if (inner.height === 0) {\n      // Render a small surd.\n      inner.height = options.fontMetrics().xHeight;\n    } // Some groups can return document fragments.  Handle those by wrapping\n    // them in a span.\n\n\n    inner = buildCommon.wrapFragment(inner, options); // Calculate the minimum size for the \\surd delimiter\n\n    var metrics = options.fontMetrics();\n    var theta = metrics.defaultRuleThickness;\n    var phi = theta;\n\n    if (options.style.id < Style$1.TEXT.id) {\n      phi = options.fontMetrics().xHeight;\n    } // Calculate the clearance between the body and line\n\n\n    var lineClearance = theta + phi / 4;\n    var minDelimiterHeight = inner.height + inner.depth + lineClearance + theta; // Create a sqrt SVG of the required minimum size\n\n    var {\n      span: img,\n      ruleWidth,\n      advanceWidth\n    } = delimiter.sqrtImage(minDelimiterHeight, options);\n    var delimDepth = img.height - ruleWidth; // Adjust the clearance based on the delimiter size\n\n    if (delimDepth > inner.height + inner.depth + lineClearance) {\n      lineClearance = (lineClearance + delimDepth - inner.height - inner.depth) / 2;\n    } // Shift the sqrt image\n\n\n    var imgShift = img.height - inner.height - lineClearance - ruleWidth;\n    inner.style.paddingLeft = advanceWidth + \"em\"; // Overlay the image and the argument.\n\n    var body = buildCommon.makeVList({\n      positionType: \"firstBaseline\",\n      children: [{\n        type: \"elem\",\n        elem: inner,\n        wrapperClasses: [\"svg-align\"]\n      }, {\n        type: \"kern\",\n        size: -(inner.height + imgShift)\n      }, {\n        type: \"elem\",\n        elem: img\n      }, {\n        type: \"kern\",\n        size: ruleWidth\n      }]\n    }, options);\n\n    if (!group.index) {\n      return buildCommon.makeSpan([\"mord\", \"sqrt\"], [body], options);\n    } else {\n      // Handle the optional root index\n      // The index is always in scriptscript style\n      var newOptions = options.havingStyle(Style$1.SCRIPTSCRIPT);\n      var rootm = buildGroup(group.index, newOptions, options); // The amount the index is shifted by. This is taken from the TeX\n      // source, in the definition of `\\r@@t`.\n\n      var toShift = 0.6 * (body.height - body.depth); // Build a VList with the superscript shifted up correctly\n\n      var rootVList = buildCommon.makeVList({\n        positionType: \"shift\",\n        positionData: -toShift,\n        children: [{\n          type: \"elem\",\n          elem: rootm\n        }]\n      }, options); // Add a class surrounding it so we can add on the appropriate\n      // kerning\n\n      var rootVListWrap = buildCommon.makeSpan([\"root\"], [rootVList]);\n      return buildCommon.makeSpan([\"mord\", \"sqrt\"], [rootVListWrap, body], options);\n    }\n  },\n\n  mathmlBuilder(group, options) {\n    var {\n      body,\n      index\n    } = group;\n    return index ? new mathMLTree.MathNode(\"mroot\", [buildGroup$1(body, options), buildGroup$1(index, options)]) : new mathMLTree.MathNode(\"msqrt\", [buildGroup$1(body, options)]);\n  }\n\n});\n\nvar styleMap$1 = {\n  \"display\": Style$1.DISPLAY,\n  \"text\": Style$1.TEXT,\n  \"script\": Style$1.SCRIPT,\n  \"scriptscript\": Style$1.SCRIPTSCRIPT\n};\ndefineFunction({\n  type: \"styling\",\n  names: [\"\\\\displaystyle\", \"\\\\textstyle\", \"\\\\scriptstyle\", \"\\\\scriptscriptstyle\"],\n  props: {\n    numArgs: 0,\n    allowedInText: true,\n    primitive: true\n  },\n\n  handler(_ref, args) {\n    var {\n      breakOnTokenText,\n      funcName,\n      parser\n    } = _ref;\n    // parse out the implicit body\n    var body = parser.parseExpression(true, breakOnTokenText); // TODO: Refactor to avoid duplicating styleMap in multiple places (e.g.\n    // here and in buildHTML and de-dupe the enumeration of all the styles).\n    // $FlowFixMe: The names above exactly match the styles.\n\n    var style = funcName.slice(1, funcName.length - 5);\n    return {\n      type: \"styling\",\n      mode: parser.mode,\n      // Figure out what style to use by pulling out the style from\n      // the function name\n      style,\n      body\n    };\n  },\n\n  htmlBuilder(group, options) {\n    // Style changes are handled in the TeXbook on pg. 442, Rule 3.\n    var newStyle = styleMap$1[group.style];\n    var newOptions = options.havingStyle(newStyle).withFont('');\n    return sizingGroup(group.body, newOptions, options);\n  },\n\n  mathmlBuilder(group, options) {\n    // Figure out what style we're changing to.\n    var newStyle = styleMap$1[group.style];\n    var newOptions = options.havingStyle(newStyle);\n    var inner = buildExpression$1(group.body, newOptions);\n    var node = new mathMLTree.MathNode(\"mstyle\", inner);\n    var styleAttributes = {\n      \"display\": [\"0\", \"true\"],\n      \"text\": [\"0\", \"false\"],\n      \"script\": [\"1\", \"false\"],\n      \"scriptscript\": [\"2\", \"false\"]\n    };\n    var attr = styleAttributes[group.style];\n    node.setAttribute(\"scriptlevel\", attr[0]);\n    node.setAttribute(\"displaystyle\", attr[1]);\n    return node;\n  }\n\n});\n\n/**\n * Sometimes, groups perform special rules when they have superscripts or\n * subscripts attached to them. This function lets the `supsub` group know that\n * Sometimes, groups perform special rules when they have superscripts or\n * its inner element should handle the superscripts and subscripts instead of\n * handling them itself.\n */\nvar htmlBuilderDelegate = function htmlBuilderDelegate(group, options) {\n  var base = group.base;\n\n  if (!base) {\n    return null;\n  } else if (base.type === \"op\") {\n    // Operators handle supsubs differently when they have limits\n    // (e.g. `\\displaystyle\\sum_2^3`)\n    var delegate = base.limits && (options.style.size === Style$1.DISPLAY.size || base.alwaysHandleSupSub);\n    return delegate ? htmlBuilder$8 : null;\n  } else if (base.type === \"operatorname\") {\n    var _delegate = base.alwaysHandleSupSub && (options.style.size === Style$1.DISPLAY.size || base.limits);\n\n    return _delegate ? htmlBuilder$9 : null;\n  } else if (base.type === \"accent\") {\n    return utils.isCharacterBox(base.base) ? htmlBuilder : null;\n  } else if (base.type === \"horizBrace\") {\n    var isSup = !group.sub;\n    return isSup === base.isOver ? htmlBuilder$7 : null;\n  } else {\n    return null;\n  }\n}; // Super scripts and subscripts, whose precise placement can depend on other\n// functions that precede them.\n\n\ndefineFunctionBuilders({\n  type: \"supsub\",\n\n  htmlBuilder(group, options) {\n    // Superscript and subscripts are handled in the TeXbook on page\n    // 445-446, rules 18(a-f).\n    // Here is where we defer to the inner group if it should handle\n    // superscripts and subscripts itself.\n    var builderDelegate = htmlBuilderDelegate(group, options);\n\n    if (builderDelegate) {\n      return builderDelegate(group, options);\n    }\n\n    var {\n      base: valueBase,\n      sup: valueSup,\n      sub: valueSub\n    } = group;\n    var base = buildGroup(valueBase, options);\n    var supm;\n    var subm;\n    var metrics = options.fontMetrics(); // Rule 18a\n\n    var supShift = 0;\n    var subShift = 0;\n    var isCharacterBox = valueBase && utils.isCharacterBox(valueBase);\n\n    if (valueSup) {\n      var newOptions = options.havingStyle(options.style.sup());\n      supm = buildGroup(valueSup, newOptions, options);\n\n      if (!isCharacterBox) {\n        supShift = base.height - newOptions.fontMetrics().supDrop * newOptions.sizeMultiplier / options.sizeMultiplier;\n      }\n    }\n\n    if (valueSub) {\n      var _newOptions = options.havingStyle(options.style.sub());\n\n      subm = buildGroup(valueSub, _newOptions, options);\n\n      if (!isCharacterBox) {\n        subShift = base.depth + _newOptions.fontMetrics().subDrop * _newOptions.sizeMultiplier / options.sizeMultiplier;\n      }\n    } // Rule 18c\n\n\n    var minSupShift;\n\n    if (options.style === Style$1.DISPLAY) {\n      minSupShift = metrics.sup1;\n    } else if (options.style.cramped) {\n      minSupShift = metrics.sup3;\n    } else {\n      minSupShift = metrics.sup2;\n    } // scriptspace is a font-size-independent size, so scale it\n    // appropriately for use as the marginRight.\n\n\n    var multiplier = options.sizeMultiplier;\n    var marginRight = 0.5 / metrics.ptPerEm / multiplier + \"em\";\n    var marginLeft = null;\n\n    if (subm) {\n      // Subscripts shouldn't be shifted by the base's italic correction.\n      // Account for that by shifting the subscript back the appropriate\n      // amount. Note we only do this when the base is a single symbol.\n      var isOiint = group.base && group.base.type === \"op\" && group.base.name && (group.base.name === \"\\\\oiint\" || group.base.name === \"\\\\oiiint\");\n\n      if (base instanceof SymbolNode || isOiint) {\n        // $FlowFixMe\n        marginLeft = -base.italic + \"em\";\n      }\n    }\n\n    var supsub;\n\n    if (supm && subm) {\n      supShift = Math.max(supShift, minSupShift, supm.depth + 0.25 * metrics.xHeight);\n      subShift = Math.max(subShift, metrics.sub2);\n      var ruleWidth = metrics.defaultRuleThickness; // Rule 18e\n\n      var maxWidth = 4 * ruleWidth;\n\n      if (supShift - supm.depth - (subm.height - subShift) < maxWidth) {\n        subShift = maxWidth - (supShift - supm.depth) + subm.height;\n        var psi = 0.8 * metrics.xHeight - (supShift - supm.depth);\n\n        if (psi > 0) {\n          supShift += psi;\n          subShift -= psi;\n        }\n      }\n\n      var vlistElem = [{\n        type: \"elem\",\n        elem: subm,\n        shift: subShift,\n        marginRight,\n        marginLeft\n      }, {\n        type: \"elem\",\n        elem: supm,\n        shift: -supShift,\n        marginRight\n      }];\n      supsub = buildCommon.makeVList({\n        positionType: \"individualShift\",\n        children: vlistElem\n      }, options);\n    } else if (subm) {\n      // Rule 18b\n      subShift = Math.max(subShift, metrics.sub1, subm.height - 0.8 * metrics.xHeight);\n      var _vlistElem = [{\n        type: \"elem\",\n        elem: subm,\n        marginLeft,\n        marginRight\n      }];\n      supsub = buildCommon.makeVList({\n        positionType: \"shift\",\n        positionData: subShift,\n        children: _vlistElem\n      }, options);\n    } else if (supm) {\n      // Rule 18c, d\n      supShift = Math.max(supShift, minSupShift, supm.depth + 0.25 * metrics.xHeight);\n      supsub = buildCommon.makeVList({\n        positionType: \"shift\",\n        positionData: -supShift,\n        children: [{\n          type: \"elem\",\n          elem: supm,\n          marginRight\n        }]\n      }, options);\n    } else {\n      throw new Error(\"supsub must have either sup or sub.\");\n    } // Wrap the supsub vlist in a span.msupsub to reset text-align.\n\n\n    var mclass = getTypeOfDomTree(base, \"right\") || \"mord\";\n    return buildCommon.makeSpan([mclass], [base, buildCommon.makeSpan([\"msupsub\"], [supsub])], options);\n  },\n\n  mathmlBuilder(group, options) {\n    // Is the inner group a relevant horizonal brace?\n    var isBrace = false;\n    var isOver;\n    var isSup;\n\n    if (group.base && group.base.type === \"horizBrace\") {\n      isSup = !!group.sup;\n\n      if (isSup === group.base.isOver) {\n        isBrace = true;\n        isOver = group.base.isOver;\n      }\n    }\n\n    if (group.base && (group.base.type === \"op\" || group.base.type === \"operatorname\")) {\n      group.base.parentIsSupSub = true;\n    }\n\n    var children = [buildGroup$1(group.base, options)];\n\n    if (group.sub) {\n      children.push(buildGroup$1(group.sub, options));\n    }\n\n    if (group.sup) {\n      children.push(buildGroup$1(group.sup, options));\n    }\n\n    var nodeType;\n\n    if (isBrace) {\n      nodeType = isOver ? \"mover\" : \"munder\";\n    } else if (!group.sub) {\n      var base = group.base;\n\n      if (base && base.type === \"op\" && base.limits && (options.style === Style$1.DISPLAY || base.alwaysHandleSupSub)) {\n        nodeType = \"mover\";\n      } else if (base && base.type === \"operatorname\" && base.alwaysHandleSupSub && (base.limits || options.style === Style$1.DISPLAY)) {\n        nodeType = \"mover\";\n      } else {\n        nodeType = \"msup\";\n      }\n    } else if (!group.sup) {\n      var _base = group.base;\n\n      if (_base && _base.type === \"op\" && _base.limits && (options.style === Style$1.DISPLAY || _base.alwaysHandleSupSub)) {\n        nodeType = \"munder\";\n      } else if (_base && _base.type === \"operatorname\" && _base.alwaysHandleSupSub && (_base.limits || options.style === Style$1.DISPLAY)) {\n        nodeType = \"munder\";\n      } else {\n        nodeType = \"msub\";\n      }\n    } else {\n      var _base2 = group.base;\n\n      if (_base2 && _base2.type === \"op\" && _base2.limits && options.style === Style$1.DISPLAY) {\n        nodeType = \"munderover\";\n      } else if (_base2 && _base2.type === \"operatorname\" && _base2.alwaysHandleSupSub && (options.style === Style$1.DISPLAY || _base2.limits)) {\n        nodeType = \"munderover\";\n      } else {\n        nodeType = \"msubsup\";\n      }\n    }\n\n    return new mathMLTree.MathNode(nodeType, children);\n  }\n\n});\n\ndefineFunctionBuilders({\n  type: \"atom\",\n\n  htmlBuilder(group, options) {\n    return buildCommon.mathsym(group.text, group.mode, options, [\"m\" + group.family]);\n  },\n\n  mathmlBuilder(group, options) {\n    var node = new mathMLTree.MathNode(\"mo\", [makeText(group.text, group.mode)]);\n\n    if (group.family === \"bin\") {\n      var variant = getVariant(group, options);\n\n      if (variant === \"bold-italic\") {\n        node.setAttribute(\"mathvariant\", variant);\n      }\n    } else if (group.family === \"punct\") {\n      node.setAttribute(\"separator\", \"true\");\n    } else if (group.family === \"open\" || group.family === \"close\") {\n      // Delims built here should not stretch vertically.\n      // See delimsizing.js for stretchy delims.\n      node.setAttribute(\"stretchy\", \"false\");\n    }\n\n    return node;\n  }\n\n});\n\n// \"mathord\" and \"textord\" ParseNodes created in Parser.js from symbol Groups in\n// src/symbols.js.\nvar defaultVariant = {\n  \"mi\": \"italic\",\n  \"mn\": \"normal\",\n  \"mtext\": \"normal\"\n};\ndefineFunctionBuilders({\n  type: \"mathord\",\n\n  htmlBuilder(group, options) {\n    return buildCommon.makeOrd(group, options, \"mathord\");\n  },\n\n  mathmlBuilder(group, options) {\n    var node = new mathMLTree.MathNode(\"mi\", [makeText(group.text, group.mode, options)]);\n    var variant = getVariant(group, options) || \"italic\";\n\n    if (variant !== defaultVariant[node.type]) {\n      node.setAttribute(\"mathvariant\", variant);\n    }\n\n    return node;\n  }\n\n});\ndefineFunctionBuilders({\n  type: \"textord\",\n\n  htmlBuilder(group, options) {\n    return buildCommon.makeOrd(group, options, \"textord\");\n  },\n\n  mathmlBuilder(group, options) {\n    var text = makeText(group.text, group.mode, options);\n    var variant = getVariant(group, options) || \"normal\";\n    var node;\n\n    if (group.mode === 'text') {\n      node = new mathMLTree.MathNode(\"mtext\", [text]);\n    } else if (/[0-9]/.test(group.text)) {\n      node = new mathMLTree.MathNode(\"mn\", [text]);\n    } else if (group.text === \"\\\\prime\") {\n      node = new mathMLTree.MathNode(\"mo\", [text]);\n    } else {\n      node = new mathMLTree.MathNode(\"mi\", [text]);\n    }\n\n    if (variant !== defaultVariant[node.type]) {\n      node.setAttribute(\"mathvariant\", variant);\n    }\n\n    return node;\n  }\n\n});\n\nvar cssSpace = {\n  \"\\\\nobreak\": \"nobreak\",\n  \"\\\\allowbreak\": \"allowbreak\"\n}; // A lookup table to determine whether a spacing function/symbol should be\n// treated like a regular space character.  If a symbol or command is a key\n// in this table, then it should be a regular space character.  Furthermore,\n// the associated value may have a `className` specifying an extra CSS class\n// to add to the created `span`.\n\nvar regularSpace = {\n  \" \": {},\n  \"\\\\ \": {},\n  \"~\": {\n    className: \"nobreak\"\n  },\n  \"\\\\space\": {},\n  \"\\\\nobreakspace\": {\n    className: \"nobreak\"\n  }\n}; // ParseNode<\"spacing\"> created in Parser.js from the \"spacing\" symbol Groups in\n// src/symbols.js.\n\ndefineFunctionBuilders({\n  type: \"spacing\",\n\n  htmlBuilder(group, options) {\n    if (regularSpace.hasOwnProperty(group.text)) {\n      var className = regularSpace[group.text].className || \"\"; // Spaces are generated by adding an actual space. Each of these\n      // things has an entry in the symbols table, so these will be turned\n      // into appropriate outputs.\n\n      if (group.mode === \"text\") {\n        var ord = buildCommon.makeOrd(group, options, \"textord\");\n        ord.classes.push(className);\n        return ord;\n      } else {\n        return buildCommon.makeSpan([\"mspace\", className], [buildCommon.mathsym(group.text, group.mode, options)], options);\n      }\n    } else if (cssSpace.hasOwnProperty(group.text)) {\n      // Spaces based on just a CSS class.\n      return buildCommon.makeSpan([\"mspace\", cssSpace[group.text]], [], options);\n    } else {\n      throw new ParseError(\"Unknown type of space \\\"\" + group.text + \"\\\"\");\n    }\n  },\n\n  mathmlBuilder(group, options) {\n    var node;\n\n    if (regularSpace.hasOwnProperty(group.text)) {\n      node = new mathMLTree.MathNode(\"mtext\", [new mathMLTree.TextNode(\"\\u00a0\")]);\n    } else if (cssSpace.hasOwnProperty(group.text)) {\n      // CSS-based MathML spaces (\\nobreak, \\allowbreak) are ignored\n      return new mathMLTree.MathNode(\"mspace\");\n    } else {\n      throw new ParseError(\"Unknown type of space \\\"\" + group.text + \"\\\"\");\n    }\n\n    return node;\n  }\n\n});\n\nvar pad = () => {\n  var padNode = new mathMLTree.MathNode(\"mtd\", []);\n  padNode.setAttribute(\"width\", \"50%\");\n  return padNode;\n};\n\ndefineFunctionBuilders({\n  type: \"tag\",\n\n  mathmlBuilder(group, options) {\n    var table = new mathMLTree.MathNode(\"mtable\", [new mathMLTree.MathNode(\"mtr\", [pad(), new mathMLTree.MathNode(\"mtd\", [buildExpressionRow(group.body, options)]), pad(), new mathMLTree.MathNode(\"mtd\", [buildExpressionRow(group.tag, options)])])]);\n    table.setAttribute(\"width\", \"100%\");\n    return table; // TODO: Left-aligned tags.\n    // Currently, the group and options passed here do not contain\n    // enough info to set tag alignment. `leqno` is in Settings but it is\n    // not passed to Options. On the HTML side, leqno is\n    // set by a CSS class applied in buildTree.js. That would have worked\n    // in MathML if browsers supported <mlabeledtr>. Since they don't, we\n    // need to rewrite the way this function is called.\n  }\n\n});\n\nvar textFontFamilies = {\n  \"\\\\text\": undefined,\n  \"\\\\textrm\": \"textrm\",\n  \"\\\\textsf\": \"textsf\",\n  \"\\\\texttt\": \"texttt\",\n  \"\\\\textnormal\": \"textrm\"\n};\nvar textFontWeights = {\n  \"\\\\textbf\": \"textbf\",\n  \"\\\\textmd\": \"textmd\"\n};\nvar textFontShapes = {\n  \"\\\\textit\": \"textit\",\n  \"\\\\textup\": \"textup\"\n};\n\nvar optionsWithFont = (group, options) => {\n  var font = group.font; // Checks if the argument is a font family or a font style.\n\n  if (!font) {\n    return options;\n  } else if (textFontFamilies[font]) {\n    return options.withTextFontFamily(textFontFamilies[font]);\n  } else if (textFontWeights[font]) {\n    return options.withTextFontWeight(textFontWeights[font]);\n  } else {\n    return options.withTextFontShape(textFontShapes[font]);\n  }\n};\n\ndefineFunction({\n  type: \"text\",\n  names: [// Font families\n  \"\\\\text\", \"\\\\textrm\", \"\\\\textsf\", \"\\\\texttt\", \"\\\\textnormal\", // Font weights\n  \"\\\\textbf\", \"\\\\textmd\", // Font Shapes\n  \"\\\\textit\", \"\\\\textup\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"text\"],\n    allowedInArgument: true,\n    allowedInText: true\n  },\n\n  handler(_ref, args) {\n    var {\n      parser,\n      funcName\n    } = _ref;\n    var body = args[0];\n    return {\n      type: \"text\",\n      mode: parser.mode,\n      body: ordargument(body),\n      font: funcName\n    };\n  },\n\n  htmlBuilder(group, options) {\n    var newOptions = optionsWithFont(group, options);\n    var inner = buildExpression(group.body, newOptions, true);\n    return buildCommon.makeSpan([\"mord\", \"text\"], inner, newOptions);\n  },\n\n  mathmlBuilder(group, options) {\n    var newOptions = optionsWithFont(group, options);\n    return buildExpressionRow(group.body, newOptions);\n  }\n\n});\n\ndefineFunction({\n  type: \"underline\",\n  names: [\"\\\\underline\"],\n  props: {\n    numArgs: 1,\n    allowedInText: true\n  },\n\n  handler(_ref, args) {\n    var {\n      parser\n    } = _ref;\n    return {\n      type: \"underline\",\n      mode: parser.mode,\n      body: args[0]\n    };\n  },\n\n  htmlBuilder(group, options) {\n    // Underlines are handled in the TeXbook pg 443, Rule 10.\n    // Build the inner group.\n    var innerGroup = buildGroup(group.body, options); // Create the line to go below the body\n\n    var line = buildCommon.makeLineSpan(\"underline-line\", options); // Generate the vlist, with the appropriate kerns\n\n    var defaultRuleThickness = options.fontMetrics().defaultRuleThickness;\n    var vlist = buildCommon.makeVList({\n      positionType: \"top\",\n      positionData: innerGroup.height,\n      children: [{\n        type: \"kern\",\n        size: defaultRuleThickness\n      }, {\n        type: \"elem\",\n        elem: line\n      }, {\n        type: \"kern\",\n        size: 3 * defaultRuleThickness\n      }, {\n        type: \"elem\",\n        elem: innerGroup\n      }]\n    }, options);\n    return buildCommon.makeSpan([\"mord\", \"underline\"], [vlist], options);\n  },\n\n  mathmlBuilder(group, options) {\n    var operator = new mathMLTree.MathNode(\"mo\", [new mathMLTree.TextNode(\"\\u203e\")]);\n    operator.setAttribute(\"stretchy\", \"true\");\n    var node = new mathMLTree.MathNode(\"munder\", [buildGroup$1(group.body, options), operator]);\n    node.setAttribute(\"accentunder\", \"true\");\n    return node;\n  }\n\n});\n\ndefineFunction({\n  type: \"vcenter\",\n  names: [\"\\\\vcenter\"],\n  props: {\n    numArgs: 1,\n    argTypes: [\"original\"],\n    // In LaTeX, \\vcenter can act only on a box.\n    allowedInText: false\n  },\n\n  handler(_ref, args) {\n    var {\n      parser\n    } = _ref;\n    return {\n      type: \"vcenter\",\n      mode: parser.mode,\n      body: args[0]\n    };\n  },\n\n  htmlBuilder(group, options) {\n    var body = buildGroup(group.body, options);\n    var axisHeight = options.fontMetrics().axisHeight;\n    var dy = 0.5 * (body.height - axisHeight - (body.depth + axisHeight));\n    return buildCommon.makeVList({\n      positionType: \"shift\",\n      positionData: dy,\n      children: [{\n        type: \"elem\",\n        elem: body\n      }]\n    }, options);\n  },\n\n  mathmlBuilder(group, options) {\n    // There is no way to do this in MathML.\n    // Write a class as a breadcrumb in case some post-processor wants\n    // to perform a vcenter adjustment.\n    return new mathMLTree.MathNode(\"mpadded\", [buildGroup$1(group.body, options)], [\"vcenter\"]);\n  }\n\n});\n\ndefineFunction({\n  type: \"verb\",\n  names: [\"\\\\verb\"],\n  props: {\n    numArgs: 0,\n    allowedInText: true\n  },\n\n  handler(context, args, optArgs) {\n    // \\verb and \\verb* are dealt with directly in Parser.js.\n    // If we end up here, it's because of a failure to match the two delimiters\n    // in the regex in Lexer.js.  LaTeX raises the following error when \\verb is\n    // terminated by end of line (or file).\n    throw new ParseError(\"\\\\verb ended by end of line instead of matching delimiter\");\n  },\n\n  htmlBuilder(group, options) {\n    var text = makeVerb(group);\n    var body = []; // \\verb enters text mode and therefore is sized like \\textstyle\n\n    var newOptions = options.havingStyle(options.style.text());\n\n    for (var i = 0; i < text.length; i++) {\n      var c = text[i];\n\n      if (c === '~') {\n        c = '\\\\textasciitilde';\n      }\n\n      body.push(buildCommon.makeSymbol(c, \"Typewriter-Regular\", group.mode, newOptions, [\"mord\", \"texttt\"]));\n    }\n\n    return buildCommon.makeSpan([\"mord\", \"text\"].concat(newOptions.sizingClasses(options)), buildCommon.tryCombineChars(body), newOptions);\n  },\n\n  mathmlBuilder(group, options) {\n    var text = new mathMLTree.TextNode(makeVerb(group));\n    var node = new mathMLTree.MathNode(\"mtext\", [text]);\n    node.setAttribute(\"mathvariant\", \"monospace\");\n    return node;\n  }\n\n});\n/**\n * Converts verb group into body string.\n *\n * \\verb* replaces each space with an open box \\u2423\n * \\verb replaces each space with a no-break space \\xA0\n */\n\nvar makeVerb = group => group.body.replace(/ /g, group.star ? '\\u2423' : '\\xA0');\n\n/** Include this to ensure that all functions are defined. */\nvar functions = _functions;\n\n/**\n * The Lexer class handles tokenizing the input in various ways. Since our\n * parser expects us to be able to backtrack, the lexer allows lexing from any\n * given starting point.\n *\n * Its main exposed function is the `lex` function, which takes a position to\n * lex from and a type of token to lex. It defers to the appropriate `_innerLex`\n * function.\n *\n * The various `_innerLex` functions perform the actual lexing of different\n * kinds.\n */\n\n/* The following tokenRegex\n * - matches typical whitespace (but not NBSP etc.) using its first group\n * - does not match any control character \\x00-\\x1f except whitespace\n * - does not match a bare backslash\n * - matches any ASCII character except those just mentioned\n * - does not match the BMP private use area \\uE000-\\uF8FF\n * - does not match bare surrogate code units\n * - matches any BMP character except for those just described\n * - matches any valid Unicode surrogate pair\n * - matches a backslash followed by one or more letters\n * - matches a backslash followed by any BMP character, including newline\n * Just because the Lexer matches something doesn't mean it's valid input:\n * If there is no matching function or symbol definition, the Parser will\n * still reject the input.\n */\nvar spaceRegexString = \"[ \\r\\n\\t]\";\nvar controlWordRegexString = \"\\\\\\\\[a-zA-Z@]+\";\nvar controlSymbolRegexString = \"\\\\\\\\[^\\uD800-\\uDFFF]\";\nvar controlWordWhitespaceRegexString = \"\" + controlWordRegexString + spaceRegexString + \"*\";\nvar controlWordWhitespaceRegex = new RegExp(\"^(\" + controlWordRegexString + \")\" + spaceRegexString + \"*$\");\nvar combiningDiacriticalMarkString = \"[\\u0300-\\u036f]\";\nvar combiningDiacriticalMarksEndRegex = new RegExp(combiningDiacriticalMarkString + \"+$\");\nvar tokenRegexString = \"(\" + spaceRegexString + \"+)|\" + // whitespace\n\"([!-\\\\[\\\\]-\\u2027\\u202A-\\uD7FF\\uF900-\\uFFFF]\" + ( // single codepoint\ncombiningDiacriticalMarkString + \"*\") + // ...plus accents\n\"|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]\" + ( // surrogate pair\ncombiningDiacriticalMarkString + \"*\") + // ...plus accents\n\"|\\\\\\\\verb\\\\*([^]).*?\\\\3\" + // \\verb*\n\"|\\\\\\\\verb([^*a-zA-Z]).*?\\\\4\" + // \\verb unstarred\n\"|\\\\\\\\operatorname\\\\*\" + ( // \\operatorname*\n\"|\" + controlWordWhitespaceRegexString) + ( // \\macroName + spaces\n\"|\" + controlSymbolRegexString + \")\"); // \\\\, \\', etc.\n\n/** Main Lexer class */\n\nclass Lexer {\n  // category codes, only supports comment characters (14) for now\n  constructor(input, settings) {\n    this.input = void 0;\n    this.settings = void 0;\n    this.tokenRegex = void 0;\n    this.catcodes = void 0;\n    // Separate accents from characters\n    this.input = input;\n    this.settings = settings;\n    this.tokenRegex = new RegExp(tokenRegexString, 'g');\n    this.catcodes = {\n      \"%\": 14 // comment character\n\n    };\n  }\n\n  setCatcode(char, code) {\n    this.catcodes[char] = code;\n  }\n  /**\n   * This function lexes a single token.\n   */\n\n\n  lex() {\n    var input = this.input;\n    var pos = this.tokenRegex.lastIndex;\n\n    if (pos === input.length) {\n      return new Token(\"EOF\", new SourceLocation(this, pos, pos));\n    }\n\n    var match = this.tokenRegex.exec(input);\n\n    if (match === null || match.index !== pos) {\n      throw new ParseError(\"Unexpected character: '\" + input[pos] + \"'\", new Token(input[pos], new SourceLocation(this, pos, pos + 1)));\n    }\n\n    var text = match[2] || \" \";\n\n    if (this.catcodes[text] === 14) {\n      // comment character\n      var nlIndex = input.indexOf('\\n', this.tokenRegex.lastIndex);\n\n      if (nlIndex === -1) {\n        this.tokenRegex.lastIndex = input.length; // EOF\n\n        this.settings.reportNonstrict(\"commentAtEnd\", \"% comment has no terminating newline; LaTeX would \" + \"fail because of commenting the end of math mode (e.g. $)\");\n      } else {\n        this.tokenRegex.lastIndex = nlIndex + 1;\n      }\n\n      return this.lex();\n    } // Trim any trailing whitespace from control word match\n\n\n    var controlMatch = text.match(controlWordWhitespaceRegex);\n\n    if (controlMatch) {\n      text = controlMatch[1];\n    }\n\n    return new Token(text, new SourceLocation(this, pos, this.tokenRegex.lastIndex));\n  }\n\n}\n\n/**\n * A `Namespace` refers to a space of nameable things like macros or lengths,\n * which can be `set` either globally or local to a nested group, using an\n * undo stack similar to how TeX implements this functionality.\n * Performance-wise, `get` and local `set` take constant time, while global\n * `set` takes time proportional to the depth of group nesting.\n */\nclass Namespace {\n  /**\n   * Both arguments are optional.  The first argument is an object of\n   * built-in mappings which never change.  The second argument is an object\n   * of initial (global-level) mappings, which will constantly change\n   * according to any global/top-level `set`s done.\n   */\n  constructor(builtins, globalMacros) {\n    if (builtins === void 0) {\n      builtins = {};\n    }\n\n    if (globalMacros === void 0) {\n      globalMacros = {};\n    }\n\n    this.current = void 0;\n    this.builtins = void 0;\n    this.undefStack = void 0;\n    this.current = globalMacros;\n    this.builtins = builtins;\n    this.undefStack = [];\n  }\n  /**\n   * Start a new nested group, affecting future local `set`s.\n   */\n\n\n  beginGroup() {\n    this.undefStack.push({});\n  }\n  /**\n   * End current nested group, restoring values before the group began.\n   */\n\n\n  endGroup() {\n    if (this.undefStack.length === 0) {\n      throw new ParseError(\"Unbalanced namespace destruction: attempt \" + \"to pop global namespace; please report this as a bug\");\n    }\n\n    var undefs = this.undefStack.pop();\n\n    for (var undef in undefs) {\n      if (undefs.hasOwnProperty(undef)) {\n        if (undefs[undef] === undefined) {\n          delete this.current[undef];\n        } else {\n          this.current[undef] = undefs[undef];\n        }\n      }\n    }\n  }\n  /**\n   * Detect whether `name` has a definition.  Equivalent to\n   * `get(name) != null`.\n   */\n\n\n  has(name) {\n    return this.current.hasOwnProperty(name) || this.builtins.hasOwnProperty(name);\n  }\n  /**\n   * Get the current value of a name, or `undefined` if there is no value.\n   *\n   * Note: Do not use `if (namespace.get(...))` to detect whether a macro\n   * is defined, as the definition may be the empty string which evaluates\n   * to `false` in JavaScript.  Use `if (namespace.get(...) != null)` or\n   * `if (namespace.has(...))`.\n   */\n\n\n  get(name) {\n    if (this.current.hasOwnProperty(name)) {\n      return this.current[name];\n    } else {\n      return this.builtins[name];\n    }\n  }\n  /**\n   * Set the current value of a name, and optionally set it globally too.\n   * Local set() sets the current value and (when appropriate) adds an undo\n   * operation to the undo stack.  Global set() may change the undo\n   * operation at every level, so takes time linear in their number.\n   */\n\n\n  set(name, value, global) {\n    if (global === void 0) {\n      global = false;\n    }\n\n    if (global) {\n      // Global set is equivalent to setting in all groups.  Simulate this\n      // by destroying any undos currently scheduled for this name,\n      // and adding an undo with the *new* value (in case it later gets\n      // locally reset within this environment).\n      for (var i = 0; i < this.undefStack.length; i++) {\n        delete this.undefStack[i][name];\n      }\n\n      if (this.undefStack.length > 0) {\n        this.undefStack[this.undefStack.length - 1][name] = value;\n      }\n    } else {\n      // Undo this set at end of this group (possibly to `undefined`),\n      // unless an undo is already in place, in which case that older\n      // value is the correct one.\n      var top = this.undefStack[this.undefStack.length - 1];\n\n      if (top && !top.hasOwnProperty(name)) {\n        top[name] = this.current[name];\n      }\n    }\n\n    this.current[name] = value;\n  }\n\n}\n\n/**\n * Predefined macros for KaTeX.\n * This can be used to define some commands in terms of others.\n */\nvar builtinMacros = {};\n\nfunction defineMacro(name, body) {\n  builtinMacros[name] = body;\n} //////////////////////////////////////////////////////////////////////\n// macro tools\n\ndefineMacro(\"\\\\noexpand\", function (context) {\n  // The expansion is the token itself; but that token is interpreted\n  // as if its meaning were \\relax if it is a control sequence that\n  // would ordinarily be expanded by TeXs expansion rules.\n  var t = context.popToken();\n\n  if (context.isExpandable(t.text)) {\n    t.noexpand = true;\n    t.treatAsRelax = true;\n  }\n\n  return {\n    tokens: [t],\n    numArgs: 0\n  };\n});\ndefineMacro(\"\\\\expandafter\", function (context) {\n  // TeX first reads the token that comes immediately after \\expandafter,\n  // without expanding it; lets call this token t. Then TeX reads the\n  // token that comes after t (and possibly more tokens, if that token\n  // has an argument), replacing it by its expansion. Finally TeX puts\n  // t back in front of that expansion.\n  var t = context.popToken();\n  context.expandOnce(true); // expand only an expandable token\n\n  return {\n    tokens: [t],\n    numArgs: 0\n  };\n}); // LaTeX's \\@firstoftwo{#1}{#2} expands to #1, skipping #2\n// TeX source: \\long\\def\\@firstoftwo#1#2{#1}\n\ndefineMacro(\"\\\\@firstoftwo\", function (context) {\n  var args = context.consumeArgs(2);\n  return {\n    tokens: args[0],\n    numArgs: 0\n  };\n}); // LaTeX's \\@secondoftwo{#1}{#2} expands to #2, skipping #1\n// TeX source: \\long\\def\\@secondoftwo#1#2{#2}\n\ndefineMacro(\"\\\\@secondoftwo\", function (context) {\n  var args = context.consumeArgs(2);\n  return {\n    tokens: args[1],\n    numArgs: 0\n  };\n}); // LaTeX's \\@ifnextchar{#1}{#2}{#3} looks ahead to the next (unexpanded)\n// symbol that isn't a space, consuming any spaces but not consuming the\n// first nonspace character.  If that nonspace character matches #1, then\n// the macro expands to #2; otherwise, it expands to #3.\n\ndefineMacro(\"\\\\@ifnextchar\", function (context) {\n  var args = context.consumeArgs(3); // symbol, if, else\n\n  context.consumeSpaces();\n  var nextToken = context.future();\n\n  if (args[0].length === 1 && args[0][0].text === nextToken.text) {\n    return {\n      tokens: args[1],\n      numArgs: 0\n    };\n  } else {\n    return {\n      tokens: args[2],\n      numArgs: 0\n    };\n  }\n}); // LaTeX's \\@ifstar{#1}{#2} looks ahead to the next (unexpanded) symbol.\n// If it is `*`, then it consumes the symbol, and the macro expands to #1;\n// otherwise, the macro expands to #2 (without consuming the symbol).\n// TeX source: \\def\\@ifstar#1{\\@ifnextchar *{\\@firstoftwo{#1}}}\n\ndefineMacro(\"\\\\@ifstar\", \"\\\\@ifnextchar *{\\\\@firstoftwo{#1}}\"); // LaTeX's \\TextOrMath{#1}{#2} expands to #1 in text mode, #2 in math mode\n\ndefineMacro(\"\\\\TextOrMath\", function (context) {\n  var args = context.consumeArgs(2);\n\n  if (context.mode === 'text') {\n    return {\n      tokens: args[0],\n      numArgs: 0\n    };\n  } else {\n    return {\n      tokens: args[1],\n      numArgs: 0\n    };\n  }\n}); // Lookup table for parsing numbers in base 8 through 16\n\nvar digitToNumber = {\n  \"0\": 0,\n  \"1\": 1,\n  \"2\": 2,\n  \"3\": 3,\n  \"4\": 4,\n  \"5\": 5,\n  \"6\": 6,\n  \"7\": 7,\n  \"8\": 8,\n  \"9\": 9,\n  \"a\": 10,\n  \"A\": 10,\n  \"b\": 11,\n  \"B\": 11,\n  \"c\": 12,\n  \"C\": 12,\n  \"d\": 13,\n  \"D\": 13,\n  \"e\": 14,\n  \"E\": 14,\n  \"f\": 15,\n  \"F\": 15\n}; // TeX \\char makes a literal character (catcode 12) using the following forms:\n// (see The TeXBook, p. 43)\n//   \\char123  -- decimal\n//   \\char'123 -- octal\n//   \\char\"123 -- hex\n//   \\char`x   -- character that can be written (i.e. isn't active)\n//   \\char`\\x  -- character that cannot be written (e.g. %)\n// These all refer to characters from the font, so we turn them into special\n// calls to a function \\@char dealt with in the Parser.\n\ndefineMacro(\"\\\\char\", function (context) {\n  var token = context.popToken();\n  var base;\n  var number = '';\n\n  if (token.text === \"'\") {\n    base = 8;\n    token = context.popToken();\n  } else if (token.text === '\"') {\n    base = 16;\n    token = context.popToken();\n  } else if (token.text === \"`\") {\n    token = context.popToken();\n\n    if (token.text[0] === \"\\\\\") {\n      number = token.text.charCodeAt(1);\n    } else if (token.text === \"EOF\") {\n      throw new ParseError(\"\\\\char` missing argument\");\n    } else {\n      number = token.text.charCodeAt(0);\n    }\n  } else {\n    base = 10;\n  }\n\n  if (base) {\n    // Parse a number in the given base, starting with first `token`.\n    number = digitToNumber[token.text];\n\n    if (number == null || number >= base) {\n      throw new ParseError(\"Invalid base-\" + base + \" digit \" + token.text);\n    }\n\n    var digit;\n\n    while ((digit = digitToNumber[context.future().text]) != null && digit < base) {\n      number *= base;\n      number += digit;\n      context.popToken();\n    }\n  }\n\n  return \"\\\\@char{\" + number + \"}\";\n}); // \\newcommand{\\macro}[args]{definition}\n// \\renewcommand{\\macro}[args]{definition}\n// TODO: Optional arguments: \\newcommand{\\macro}[args][default]{definition}\n\nvar newcommand = (context, existsOK, nonexistsOK) => {\n  var arg = context.consumeArg().tokens;\n\n  if (arg.length !== 1) {\n    throw new ParseError(\"\\\\newcommand's first argument must be a macro name\");\n  }\n\n  var name = arg[0].text;\n  var exists = context.isDefined(name);\n\n  if (exists && !existsOK) {\n    throw new ParseError(\"\\\\newcommand{\" + name + \"} attempting to redefine \" + (name + \"; use \\\\renewcommand\"));\n  }\n\n  if (!exists && !nonexistsOK) {\n    throw new ParseError(\"\\\\renewcommand{\" + name + \"} when command \" + name + \" \" + \"does not yet exist; use \\\\newcommand\");\n  }\n\n  var numArgs = 0;\n  arg = context.consumeArg().tokens;\n\n  if (arg.length === 1 && arg[0].text === \"[\") {\n    var argText = '';\n    var token = context.expandNextToken();\n\n    while (token.text !== \"]\" && token.text !== \"EOF\") {\n      // TODO: Should properly expand arg, e.g., ignore {}s\n      argText += token.text;\n      token = context.expandNextToken();\n    }\n\n    if (!argText.match(/^\\s*[0-9]+\\s*$/)) {\n      throw new ParseError(\"Invalid number of arguments: \" + argText);\n    }\n\n    numArgs = parseInt(argText);\n    arg = context.consumeArg().tokens;\n  } // Final arg is the expansion of the macro\n\n\n  context.macros.set(name, {\n    tokens: arg,\n    numArgs\n  });\n  return '';\n};\n\ndefineMacro(\"\\\\newcommand\", context => newcommand(context, false, true));\ndefineMacro(\"\\\\renewcommand\", context => newcommand(context, true, false));\ndefineMacro(\"\\\\providecommand\", context => newcommand(context, true, true)); // terminal (console) tools\n\ndefineMacro(\"\\\\message\", context => {\n  var arg = context.consumeArgs(1)[0]; // eslint-disable-next-line no-console\n\n  console.log(arg.reverse().map(token => token.text).join(\"\"));\n  return '';\n});\ndefineMacro(\"\\\\errmessage\", context => {\n  var arg = context.consumeArgs(1)[0]; // eslint-disable-next-line no-console\n\n  console.error(arg.reverse().map(token => token.text).join(\"\"));\n  return '';\n});\ndefineMacro(\"\\\\show\", context => {\n  var tok = context.popToken();\n  var name = tok.text; // eslint-disable-next-line no-console\n\n  console.log(tok, context.macros.get(name), functions[name], symbols.math[name], symbols.text[name]);\n  return '';\n}); //////////////////////////////////////////////////////////////////////\n// Grouping\n// \\let\\bgroup={ \\let\\egroup=}\n\ndefineMacro(\"\\\\bgroup\", \"{\");\ndefineMacro(\"\\\\egroup\", \"}\"); // Symbols from latex.ltx:\n// \\def\\lq{`}\n// \\def\\rq{'}\n// \\def \\aa {\\r a}\n// \\def \\AA {\\r A}\n\ndefineMacro(\"\\\\lq\", \"`\");\ndefineMacro(\"\\\\rq\", \"'\");\ndefineMacro(\"\\\\aa\", \"\\\\r a\");\ndefineMacro(\"\\\\AA\", \"\\\\r A\"); // Copyright (C) and registered (R) symbols. Use raw symbol in MathML.\n// \\DeclareTextCommandDefault{\\textcopyright}{\\textcircled{c}}\n// \\DeclareTextCommandDefault{\\textregistered}{\\textcircled{%\n//      \\check@mathfonts\\fontsize\\sf@size\\z@\\math@fontsfalse\\selectfont R}}\n// \\DeclareRobustCommand{\\copyright}{%\n//    \\ifmmode{\\nfss@text{\\textcopyright}}\\else\\textcopyright\\fi}\n\ndefineMacro(\"\\\\textcopyright\", \"\\\\html@mathml{\\\\textcircled{c}}{\\\\char`}\");\ndefineMacro(\"\\\\copyright\", \"\\\\TextOrMath{\\\\textcopyright}{\\\\text{\\\\textcopyright}}\");\ndefineMacro(\"\\\\textregistered\", \"\\\\html@mathml{\\\\textcircled{\\\\scriptsize R}}{\\\\char`}\"); // Characters omitted from Unicode range 1D4001D7FF\n\ndefineMacro(\"\\u212C\", \"\\\\mathscr{B}\"); // script\n\ndefineMacro(\"\\u2130\", \"\\\\mathscr{E}\");\ndefineMacro(\"\\u2131\", \"\\\\mathscr{F}\");\ndefineMacro(\"\\u210B\", \"\\\\mathscr{H}\");\ndefineMacro(\"\\u2110\", \"\\\\mathscr{I}\");\ndefineMacro(\"\\u2112\", \"\\\\mathscr{L}\");\ndefineMacro(\"\\u2133\", \"\\\\mathscr{M}\");\ndefineMacro(\"\\u211B\", \"\\\\mathscr{R}\");\ndefineMacro(\"\\u212D\", \"\\\\mathfrak{C}\"); // Fraktur\n\ndefineMacro(\"\\u210C\", \"\\\\mathfrak{H}\");\ndefineMacro(\"\\u2128\", \"\\\\mathfrak{Z}\"); // Define \\Bbbk with a macro that works in both HTML and MathML.\n\ndefineMacro(\"\\\\Bbbk\", \"\\\\Bbb{k}\"); // Unicode middle dot\n// The KaTeX fonts do not contain U+00B7. Instead, \\cdotp displays\n// the dot at U+22C5 and gives it punct spacing.\n\ndefineMacro(\"\\u00b7\", \"\\\\cdotp\"); // \\llap and \\rlap render their contents in text mode\n\ndefineMacro(\"\\\\llap\", \"\\\\mathllap{\\\\textrm{#1}}\");\ndefineMacro(\"\\\\rlap\", \"\\\\mathrlap{\\\\textrm{#1}}\");\ndefineMacro(\"\\\\clap\", \"\\\\mathclap{\\\\textrm{#1}}\"); // \\mathstrut from the TeXbook, p 360\n\ndefineMacro(\"\\\\mathstrut\", \"\\\\vphantom{(}\"); // \\underbar from TeXbook p 353\n\ndefineMacro(\"\\\\underbar\", \"\\\\underline{\\\\text{#1}}\"); // \\not is defined by base/fontmath.ltx via\n// \\DeclareMathSymbol{\\not}{\\mathrel}{symbols}{\"36}\n// It's thus treated like a \\mathrel, but defined by a symbol that has zero\n// width but extends to the right.  We use \\rlap to get that spacing.\n// For MathML we write U+0338 here. buildMathML.js will then do the overlay.\n\ndefineMacro(\"\\\\not\", '\\\\html@mathml{\\\\mathrel{\\\\mathrlap\\\\@not}}{\\\\char\"338}'); // Negated symbols from base/fontmath.ltx:\n// \\def\\neq{\\not=} \\let\\ne=\\neq\n// \\DeclareRobustCommand\n//   \\notin{\\mathrel{\\m@th\\mathpalette\\c@ncel\\in}}\n// \\def\\c@ncel#1#2{\\m@th\\ooalign{$\\hfil#1\\mkern1mu/\\hfil$\\crcr$#1#2$}}\n\ndefineMacro(\"\\\\neq\", \"\\\\html@mathml{\\\\mathrel{\\\\not=}}{\\\\mathrel{\\\\char`}}\");\ndefineMacro(\"\\\\ne\", \"\\\\neq\");\ndefineMacro(\"\\u2260\", \"\\\\neq\");\ndefineMacro(\"\\\\notin\", \"\\\\html@mathml{\\\\mathrel{{\\\\in}\\\\mathllap{/\\\\mskip1mu}}}\" + \"{\\\\mathrel{\\\\char`}}\");\ndefineMacro(\"\\u2209\", \"\\\\notin\"); // Unicode stacked relations\n\ndefineMacro(\"\\u2258\", \"\\\\html@mathml{\" + \"\\\\mathrel{=\\\\kern{-1em}\\\\raisebox{0.4em}{$\\\\scriptsize\\\\frown$}}\" + \"}{\\\\mathrel{\\\\char`\\u2258}}\");\ndefineMacro(\"\\u2259\", \"\\\\html@mathml{\\\\stackrel{\\\\tiny\\\\wedge}{=}}{\\\\mathrel{\\\\char`\\u2258}}\");\ndefineMacro(\"\\u225A\", \"\\\\html@mathml{\\\\stackrel{\\\\tiny\\\\vee}{=}}{\\\\mathrel{\\\\char`\\u225A}}\");\ndefineMacro(\"\\u225B\", \"\\\\html@mathml{\\\\stackrel{\\\\scriptsize\\\\star}{=}}\" + \"{\\\\mathrel{\\\\char`\\u225B}}\");\ndefineMacro(\"\\u225D\", \"\\\\html@mathml{\\\\stackrel{\\\\tiny\\\\mathrm{def}}{=}}\" + \"{\\\\mathrel{\\\\char`\\u225D}}\");\ndefineMacro(\"\\u225E\", \"\\\\html@mathml{\\\\stackrel{\\\\tiny\\\\mathrm{m}}{=}}\" + \"{\\\\mathrel{\\\\char`\\u225E}}\");\ndefineMacro(\"\\u225F\", \"\\\\html@mathml{\\\\stackrel{\\\\tiny?}{=}}{\\\\mathrel{\\\\char`\\u225F}}\"); // Misc Unicode\n\ndefineMacro(\"\\u27C2\", \"\\\\perp\");\ndefineMacro(\"\\u203C\", \"\\\\mathclose{!\\\\mkern-0.8mu!}\");\ndefineMacro(\"\\u220C\", \"\\\\notni\");\ndefineMacro(\"\\u231C\", \"\\\\ulcorner\");\ndefineMacro(\"\\u231D\", \"\\\\urcorner\");\ndefineMacro(\"\\u231E\", \"\\\\llcorner\");\ndefineMacro(\"\\u231F\", \"\\\\lrcorner\");\ndefineMacro(\"\\u00A9\", \"\\\\copyright\");\ndefineMacro(\"\\u00AE\", \"\\\\textregistered\");\ndefineMacro(\"\\uFE0F\", \"\\\\textregistered\"); // The KaTeX fonts have corners at codepoints that don't match Unicode.\n// For MathML purposes, use the Unicode code point.\n\ndefineMacro(\"\\\\ulcorner\", \"\\\\html@mathml{\\\\@ulcorner}{\\\\mathop{\\\\char\\\"231c}}\");\ndefineMacro(\"\\\\urcorner\", \"\\\\html@mathml{\\\\@urcorner}{\\\\mathop{\\\\char\\\"231d}}\");\ndefineMacro(\"\\\\llcorner\", \"\\\\html@mathml{\\\\@llcorner}{\\\\mathop{\\\\char\\\"231e}}\");\ndefineMacro(\"\\\\lrcorner\", \"\\\\html@mathml{\\\\@lrcorner}{\\\\mathop{\\\\char\\\"231f}}\"); //////////////////////////////////////////////////////////////////////\n// LaTeX_2\n// \\vdots{\\vbox{\\baselineskip4\\p@  \\lineskiplimit\\z@\n// \\kern6\\p@\\hbox{.}\\hbox{.}\\hbox{.}}}\n// We'll call \\varvdots, which gets a glyph from symbols.js.\n// The zero-width rule gets us an equivalent to the vertical 6pt kern.\n\ndefineMacro(\"\\\\vdots\", \"\\\\mathord{\\\\varvdots\\\\rule{0pt}{15pt}}\");\ndefineMacro(\"\\u22ee\", \"\\\\vdots\"); //////////////////////////////////////////////////////////////////////\n// amsmath.sty\n// http://mirrors.concertpass.com/tex-archive/macros/latex/required/amsmath/amsmath.pdf\n// Italic Greek capital letters.  AMS defines these with \\DeclareMathSymbol,\n// but they are equivalent to \\mathit{\\Letter}.\n\ndefineMacro(\"\\\\varGamma\", \"\\\\mathit{\\\\Gamma}\");\ndefineMacro(\"\\\\varDelta\", \"\\\\mathit{\\\\Delta}\");\ndefineMacro(\"\\\\varTheta\", \"\\\\mathit{\\\\Theta}\");\ndefineMacro(\"\\\\varLambda\", \"\\\\mathit{\\\\Lambda}\");\ndefineMacro(\"\\\\varXi\", \"\\\\mathit{\\\\Xi}\");\ndefineMacro(\"\\\\varPi\", \"\\\\mathit{\\\\Pi}\");\ndefineMacro(\"\\\\varSigma\", \"\\\\mathit{\\\\Sigma}\");\ndefineMacro(\"\\\\varUpsilon\", \"\\\\mathit{\\\\Upsilon}\");\ndefineMacro(\"\\\\varPhi\", \"\\\\mathit{\\\\Phi}\");\ndefineMacro(\"\\\\varPsi\", \"\\\\mathit{\\\\Psi}\");\ndefineMacro(\"\\\\varOmega\", \"\\\\mathit{\\\\Omega}\"); //\\newcommand{\\substack}[1]{\\subarray{c}#1\\endsubarray}\n\ndefineMacro(\"\\\\substack\", \"\\\\begin{subarray}{c}#1\\\\end{subarray}\"); // \\renewcommand{\\colon}{\\nobreak\\mskip2mu\\mathpunct{}\\nonscript\n// \\mkern-\\thinmuskip{:}\\mskip6muplus1mu\\relax}\n\ndefineMacro(\"\\\\colon\", \"\\\\nobreak\\\\mskip2mu\\\\mathpunct{}\" + \"\\\\mathchoice{\\\\mkern-3mu}{\\\\mkern-3mu}{}{}{:}\\\\mskip6mu\"); // \\newcommand{\\boxed}[1]{\\fbox{\\m@th$\\displaystyle#1$}}\n\ndefineMacro(\"\\\\boxed\", \"\\\\fbox{$\\\\displaystyle{#1}$}\"); // \\def\\iff{\\DOTSB\\;\\Longleftrightarrow\\;}\n// \\def\\implies{\\DOTSB\\;\\Longrightarrow\\;}\n// \\def\\impliedby{\\DOTSB\\;\\Longleftarrow\\;}\n\ndefineMacro(\"\\\\iff\", \"\\\\DOTSB\\\\;\\\\Longleftrightarrow\\\\;\");\ndefineMacro(\"\\\\implies\", \"\\\\DOTSB\\\\;\\\\Longrightarrow\\\\;\");\ndefineMacro(\"\\\\impliedby\", \"\\\\DOTSB\\\\;\\\\Longleftarrow\\\\;\"); // AMSMath's automatic \\dots, based on \\mdots@@ macro.\n\nvar dotsByToken = {\n  ',': '\\\\dotsc',\n  '\\\\not': '\\\\dotsb',\n  // \\keybin@ checks for the following:\n  '+': '\\\\dotsb',\n  '=': '\\\\dotsb',\n  '<': '\\\\dotsb',\n  '>': '\\\\dotsb',\n  '-': '\\\\dotsb',\n  '*': '\\\\dotsb',\n  ':': '\\\\dotsb',\n  // Symbols whose definition starts with \\DOTSB:\n  '\\\\DOTSB': '\\\\dotsb',\n  '\\\\coprod': '\\\\dotsb',\n  '\\\\bigvee': '\\\\dotsb',\n  '\\\\bigwedge': '\\\\dotsb',\n  '\\\\biguplus': '\\\\dotsb',\n  '\\\\bigcap': '\\\\dotsb',\n  '\\\\bigcup': '\\\\dotsb',\n  '\\\\prod': '\\\\dotsb',\n  '\\\\sum': '\\\\dotsb',\n  '\\\\bigotimes': '\\\\dotsb',\n  '\\\\bigoplus': '\\\\dotsb',\n  '\\\\bigodot': '\\\\dotsb',\n  '\\\\bigsqcup': '\\\\dotsb',\n  '\\\\And': '\\\\dotsb',\n  '\\\\longrightarrow': '\\\\dotsb',\n  '\\\\Longrightarrow': '\\\\dotsb',\n  '\\\\longleftarrow': '\\\\dotsb',\n  '\\\\Longleftarrow': '\\\\dotsb',\n  '\\\\longleftrightarrow': '\\\\dotsb',\n  '\\\\Longleftrightarrow': '\\\\dotsb',\n  '\\\\mapsto': '\\\\dotsb',\n  '\\\\longmapsto': '\\\\dotsb',\n  '\\\\hookrightarrow': '\\\\dotsb',\n  '\\\\doteq': '\\\\dotsb',\n  // Symbols whose definition starts with \\mathbin:\n  '\\\\mathbin': '\\\\dotsb',\n  // Symbols whose definition starts with \\mathrel:\n  '\\\\mathrel': '\\\\dotsb',\n  '\\\\relbar': '\\\\dotsb',\n  '\\\\Relbar': '\\\\dotsb',\n  '\\\\xrightarrow': '\\\\dotsb',\n  '\\\\xleftarrow': '\\\\dotsb',\n  // Symbols whose definition starts with \\DOTSI:\n  '\\\\DOTSI': '\\\\dotsi',\n  '\\\\int': '\\\\dotsi',\n  '\\\\oint': '\\\\dotsi',\n  '\\\\iint': '\\\\dotsi',\n  '\\\\iiint': '\\\\dotsi',\n  '\\\\iiiint': '\\\\dotsi',\n  '\\\\idotsint': '\\\\dotsi',\n  // Symbols whose definition starts with \\DOTSX:\n  '\\\\DOTSX': '\\\\dotsx'\n};\ndefineMacro(\"\\\\dots\", function (context) {\n  // TODO: If used in text mode, should expand to \\textellipsis.\n  // However, in KaTeX, \\textellipsis and \\ldots behave the same\n  // (in text mode), and it's unlikely we'd see any of the math commands\n  // that affect the behavior of \\dots when in text mode.  So fine for now\n  // (until we support \\ifmmode ... \\else ... \\fi).\n  var thedots = '\\\\dotso';\n  var next = context.expandAfterFuture().text;\n\n  if (next in dotsByToken) {\n    thedots = dotsByToken[next];\n  } else if (next.substr(0, 4) === '\\\\not') {\n    thedots = '\\\\dotsb';\n  } else if (next in symbols.math) {\n    if (utils.contains(['bin', 'rel'], symbols.math[next].group)) {\n      thedots = '\\\\dotsb';\n    }\n  }\n\n  return thedots;\n});\nvar spaceAfterDots = {\n  // \\rightdelim@ checks for the following:\n  ')': true,\n  ']': true,\n  '\\\\rbrack': true,\n  '\\\\}': true,\n  '\\\\rbrace': true,\n  '\\\\rangle': true,\n  '\\\\rceil': true,\n  '\\\\rfloor': true,\n  '\\\\rgroup': true,\n  '\\\\rmoustache': true,\n  '\\\\right': true,\n  '\\\\bigr': true,\n  '\\\\biggr': true,\n  '\\\\Bigr': true,\n  '\\\\Biggr': true,\n  // \\extra@ also tests for the following:\n  '$': true,\n  // \\extrap@ checks for the following:\n  ';': true,\n  '.': true,\n  ',': true\n};\ndefineMacro(\"\\\\dotso\", function (context) {\n  var next = context.future().text;\n\n  if (next in spaceAfterDots) {\n    return \"\\\\ldots\\\\,\";\n  } else {\n    return \"\\\\ldots\";\n  }\n});\ndefineMacro(\"\\\\dotsc\", function (context) {\n  var next = context.future().text; // \\dotsc uses \\extra@ but not \\extrap@, instead specially checking for\n  // ';' and '.', but doesn't check for ','.\n\n  if (next in spaceAfterDots && next !== ',') {\n    return \"\\\\ldots\\\\,\";\n  } else {\n    return \"\\\\ldots\";\n  }\n});\ndefineMacro(\"\\\\cdots\", function (context) {\n  var next = context.future().text;\n\n  if (next in spaceAfterDots) {\n    return \"\\\\@cdots\\\\,\";\n  } else {\n    return \"\\\\@cdots\";\n  }\n});\ndefineMacro(\"\\\\dotsb\", \"\\\\cdots\");\ndefineMacro(\"\\\\dotsm\", \"\\\\cdots\");\ndefineMacro(\"\\\\dotsi\", \"\\\\!\\\\cdots\"); // amsmath doesn't actually define \\dotsx, but \\dots followed by a macro\n// starting with \\DOTSX implies \\dotso, and then \\extra@ detects this case\n// and forces the added `\\,`.\n\ndefineMacro(\"\\\\dotsx\", \"\\\\ldots\\\\,\"); // \\let\\DOTSI\\relax\n// \\let\\DOTSB\\relax\n// \\let\\DOTSX\\relax\n\ndefineMacro(\"\\\\DOTSI\", \"\\\\relax\");\ndefineMacro(\"\\\\DOTSB\", \"\\\\relax\");\ndefineMacro(\"\\\\DOTSX\", \"\\\\relax\"); // Spacing, based on amsmath.sty's override of LaTeX defaults\n// \\DeclareRobustCommand{\\tmspace}[3]{%\n//   \\ifmmode\\mskip#1#2\\else\\kern#1#3\\fi\\relax}\n\ndefineMacro(\"\\\\tmspace\", \"\\\\TextOrMath{\\\\kern#1#3}{\\\\mskip#1#2}\\\\relax\"); // \\renewcommand{\\,}{\\tmspace+\\thinmuskip{.1667em}}\n// TODO: math mode should use \\thinmuskip\n\ndefineMacro(\"\\\\,\", \"\\\\tmspace+{3mu}{.1667em}\"); // \\let\\thinspace\\,\n\ndefineMacro(\"\\\\thinspace\", \"\\\\,\"); // \\def\\>{\\mskip\\medmuskip}\n// \\renewcommand{\\:}{\\tmspace+\\medmuskip{.2222em}}\n// TODO: \\> and math mode of \\: should use \\medmuskip = 4mu plus 2mu minus 4mu\n\ndefineMacro(\"\\\\>\", \"\\\\mskip{4mu}\");\ndefineMacro(\"\\\\:\", \"\\\\tmspace+{4mu}{.2222em}\"); // \\let\\medspace\\:\n\ndefineMacro(\"\\\\medspace\", \"\\\\:\"); // \\renewcommand{\\;}{\\tmspace+\\thickmuskip{.2777em}}\n// TODO: math mode should use \\thickmuskip = 5mu plus 5mu\n\ndefineMacro(\"\\\\;\", \"\\\\tmspace+{5mu}{.2777em}\"); // \\let\\thickspace\\;\n\ndefineMacro(\"\\\\thickspace\", \"\\\\;\"); // \\renewcommand{\\!}{\\tmspace-\\thinmuskip{.1667em}}\n// TODO: math mode should use \\thinmuskip\n\ndefineMacro(\"\\\\!\", \"\\\\tmspace-{3mu}{.1667em}\"); // \\let\\negthinspace\\!\n\ndefineMacro(\"\\\\negthinspace\", \"\\\\!\"); // \\newcommand{\\negmedspace}{\\tmspace-\\medmuskip{.2222em}}\n// TODO: math mode should use \\medmuskip\n\ndefineMacro(\"\\\\negmedspace\", \"\\\\tmspace-{4mu}{.2222em}\"); // \\newcommand{\\negthickspace}{\\tmspace-\\thickmuskip{.2777em}}\n// TODO: math mode should use \\thickmuskip\n\ndefineMacro(\"\\\\negthickspace\", \"\\\\tmspace-{5mu}{.277em}\"); // \\def\\enspace{\\kern.5em }\n\ndefineMacro(\"\\\\enspace\", \"\\\\kern.5em \"); // \\def\\enskip{\\hskip.5em\\relax}\n\ndefineMacro(\"\\\\enskip\", \"\\\\hskip.5em\\\\relax\"); // \\def\\quad{\\hskip1em\\relax}\n\ndefineMacro(\"\\\\quad\", \"\\\\hskip1em\\\\relax\"); // \\def\\qquad{\\hskip2em\\relax}\n\ndefineMacro(\"\\\\qquad\", \"\\\\hskip2em\\\\relax\"); // \\tag@in@display form of \\tag\n\ndefineMacro(\"\\\\tag\", \"\\\\@ifstar\\\\tag@literal\\\\tag@paren\");\ndefineMacro(\"\\\\tag@paren\", \"\\\\tag@literal{({#1})}\");\ndefineMacro(\"\\\\tag@literal\", context => {\n  if (context.macros.get(\"\\\\df@tag\")) {\n    throw new ParseError(\"Multiple \\\\tag\");\n  }\n\n  return \"\\\\gdef\\\\df@tag{\\\\text{#1}}\";\n}); // \\renewcommand{\\bmod}{\\nonscript\\mskip-\\medmuskip\\mkern5mu\\mathbin\n//   {\\operator@font mod}\\penalty900\n//   \\mkern5mu\\nonscript\\mskip-\\medmuskip}\n// \\newcommand{\\pod}[1]{\\allowbreak\n//   \\if@display\\mkern18mu\\else\\mkern8mu\\fi(#1)}\n// \\renewcommand{\\pmod}[1]{\\pod{{\\operator@font mod}\\mkern6mu#1}}\n// \\newcommand{\\mod}[1]{\\allowbreak\\if@display\\mkern18mu\n//   \\else\\mkern12mu\\fi{\\operator@font mod}\\,\\,#1}\n// TODO: math mode should use \\medmuskip = 4mu plus 2mu minus 4mu\n\ndefineMacro(\"\\\\bmod\", \"\\\\mathchoice{\\\\mskip1mu}{\\\\mskip1mu}{\\\\mskip5mu}{\\\\mskip5mu}\" + \"\\\\mathbin{\\\\rm mod}\" + \"\\\\mathchoice{\\\\mskip1mu}{\\\\mskip1mu}{\\\\mskip5mu}{\\\\mskip5mu}\");\ndefineMacro(\"\\\\pod\", \"\\\\allowbreak\" + \"\\\\mathchoice{\\\\mkern18mu}{\\\\mkern8mu}{\\\\mkern8mu}{\\\\mkern8mu}(#1)\");\ndefineMacro(\"\\\\pmod\", \"\\\\pod{{\\\\rm mod}\\\\mkern6mu#1}\");\ndefineMacro(\"\\\\mod\", \"\\\\allowbreak\" + \"\\\\mathchoice{\\\\mkern18mu}{\\\\mkern12mu}{\\\\mkern12mu}{\\\\mkern12mu}\" + \"{\\\\rm mod}\\\\,\\\\,#1\"); // \\pmb    --   A simulation of bold.\n// The version in ambsy.sty works by typesetting three copies of the argument\n// with small offsets. We use two copies. We omit the vertical offset because\n// of rendering problems that makeVList encounters in Safari.\n\ndefineMacro(\"\\\\pmb\", \"\\\\html@mathml{\" + \"\\\\@binrel{#1}{\\\\mathrlap{#1}\\\\kern0.5px#1}}\" + \"{\\\\mathbf{#1}}\"); //////////////////////////////////////////////////////////////////////\n// LaTeX source2e\n// \\expandafter\\let\\expandafter\\@normalcr\n//     \\csname\\expandafter\\@gobble\\string\\\\ \\endcsname\n// \\DeclareRobustCommand\\newline{\\@normalcr\\relax}\n\ndefineMacro(\"\\\\newline\", \"\\\\\\\\\\\\relax\"); // \\def\\TeX{T\\kern-.1667em\\lower.5ex\\hbox{E}\\kern-.125emX\\@}\n// TODO: Doesn't normally work in math mode because \\@ fails.  KaTeX doesn't\n// support \\@ yet, so that's omitted, and we add \\text so that the result\n// doesn't look funny in math mode.\n\ndefineMacro(\"\\\\TeX\", \"\\\\textrm{\\\\html@mathml{\" + \"T\\\\kern-.1667em\\\\raisebox{-.5ex}{E}\\\\kern-.125emX\" + \"}{TeX}}\"); // \\DeclareRobustCommand{\\LaTeX}{L\\kern-.36em%\n//         {\\sbox\\z@ T%\n//          \\vbox to\\ht\\z@{\\hbox{\\check@mathfonts\n//                               \\fontsize\\sf@size\\z@\n//                               \\math@fontsfalse\\selectfont\n//                               A}%\n//                         \\vss}%\n//         }%\n//         \\kern-.15em%\n//         \\TeX}\n// This code aligns the top of the A with the T (from the perspective of TeX's\n// boxes, though visually the A appears to extend above slightly).\n// We compute the corresponding \\raisebox when A is rendered in \\normalsize\n// \\scriptstyle, which has a scale factor of 0.7 (see Options.js).\n\nvar latexRaiseA = fontMetricsData['Main-Regular'][\"T\".charCodeAt(0)][1] - 0.7 * fontMetricsData['Main-Regular'][\"A\".charCodeAt(0)][1] + \"em\";\ndefineMacro(\"\\\\LaTeX\", \"\\\\textrm{\\\\html@mathml{\" + (\"L\\\\kern-.36em\\\\raisebox{\" + latexRaiseA + \"}{\\\\scriptstyle A}\") + \"\\\\kern-.15em\\\\TeX}{LaTeX}}\"); // New KaTeX logo based on tweaking LaTeX logo\n\ndefineMacro(\"\\\\KaTeX\", \"\\\\textrm{\\\\html@mathml{\" + (\"K\\\\kern-.17em\\\\raisebox{\" + latexRaiseA + \"}{\\\\scriptstyle A}\") + \"\\\\kern-.15em\\\\TeX}{KaTeX}}\"); // \\DeclareRobustCommand\\hspace{\\@ifstar\\@hspacer\\@hspace}\n// \\def\\@hspace#1{\\hskip  #1\\relax}\n// \\def\\@hspacer#1{\\vrule \\@width\\z@\\nobreak\n//                 \\hskip #1\\hskip \\z@skip}\n\ndefineMacro(\"\\\\hspace\", \"\\\\@ifstar\\\\@hspacer\\\\@hspace\");\ndefineMacro(\"\\\\@hspace\", \"\\\\hskip #1\\\\relax\");\ndefineMacro(\"\\\\@hspacer\", \"\\\\rule{0pt}{0pt}\\\\hskip #1\\\\relax\"); //////////////////////////////////////////////////////////////////////\n// mathtools.sty\n//\\providecommand\\ordinarycolon{:}\n\ndefineMacro(\"\\\\ordinarycolon\", \":\"); //\\def\\vcentcolon{\\mathrel{\\mathop\\ordinarycolon}}\n//TODO(edemaine): Not yet centered. Fix via \\raisebox or #726\n\ndefineMacro(\"\\\\vcentcolon\", \"\\\\mathrel{\\\\mathop\\\\ordinarycolon}\"); // \\providecommand*\\dblcolon{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}\n\ndefineMacro(\"\\\\dblcolon\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\vcentcolon\\\\mathrel{\\\\mkern-.9mu}\\\\vcentcolon}}\" + \"{\\\\mathop{\\\\char\\\"2237}}\"); // \\providecommand*\\coloneqq{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}\n\ndefineMacro(\"\\\\coloneqq\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\vcentcolon\\\\mathrel{\\\\mkern-1.2mu}=}}\" + \"{\\\\mathop{\\\\char\\\"2254}}\"); // \n// \\providecommand*\\Coloneqq{\\dblcolon\\mathrel{\\mkern-1.2mu}=}\n\ndefineMacro(\"\\\\Coloneqq\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\dblcolon\\\\mathrel{\\\\mkern-1.2mu}=}}\" + \"{\\\\mathop{\\\\char\\\"2237\\\\char\\\"3d}}\"); // \\providecommand*\\coloneq{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}\n\ndefineMacro(\"\\\\coloneq\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\vcentcolon\\\\mathrel{\\\\mkern-1.2mu}\\\\mathrel{-}}}\" + \"{\\\\mathop{\\\\char\\\"3a\\\\char\\\"2212}}\"); // \\providecommand*\\Coloneq{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}\n\ndefineMacro(\"\\\\Coloneq\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\dblcolon\\\\mathrel{\\\\mkern-1.2mu}\\\\mathrel{-}}}\" + \"{\\\\mathop{\\\\char\\\"2237\\\\char\\\"2212}}\"); // \\providecommand*\\eqqcolon{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}\n\ndefineMacro(\"\\\\eqqcolon\", \"\\\\html@mathml{\" + \"\\\\mathrel{=\\\\mathrel{\\\\mkern-1.2mu}\\\\vcentcolon}}\" + \"{\\\\mathop{\\\\char\\\"2255}}\"); // \n// \\providecommand*\\Eqqcolon{=\\mathrel{\\mkern-1.2mu}\\dblcolon}\n\ndefineMacro(\"\\\\Eqqcolon\", \"\\\\html@mathml{\" + \"\\\\mathrel{=\\\\mathrel{\\\\mkern-1.2mu}\\\\dblcolon}}\" + \"{\\\\mathop{\\\\char\\\"3d\\\\char\\\"2237}}\"); // \\providecommand*\\eqcolon{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}\n\ndefineMacro(\"\\\\eqcolon\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\mathrel{-}\\\\mathrel{\\\\mkern-1.2mu}\\\\vcentcolon}}\" + \"{\\\\mathop{\\\\char\\\"2239}}\"); // \\providecommand*\\Eqcolon{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}\n\ndefineMacro(\"\\\\Eqcolon\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\mathrel{-}\\\\mathrel{\\\\mkern-1.2mu}\\\\dblcolon}}\" + \"{\\\\mathop{\\\\char\\\"2212\\\\char\\\"2237}}\"); // \\providecommand*\\colonapprox{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}\n\ndefineMacro(\"\\\\colonapprox\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\vcentcolon\\\\mathrel{\\\\mkern-1.2mu}\\\\approx}}\" + \"{\\\\mathop{\\\\char\\\"3a\\\\char\\\"2248}}\"); // \\providecommand*\\Colonapprox{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}\n\ndefineMacro(\"\\\\Colonapprox\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\dblcolon\\\\mathrel{\\\\mkern-1.2mu}\\\\approx}}\" + \"{\\\\mathop{\\\\char\\\"2237\\\\char\\\"2248}}\"); // \\providecommand*\\colonsim{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}\n\ndefineMacro(\"\\\\colonsim\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\vcentcolon\\\\mathrel{\\\\mkern-1.2mu}\\\\sim}}\" + \"{\\\\mathop{\\\\char\\\"3a\\\\char\\\"223c}}\"); // \\providecommand*\\Colonsim{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}\n\ndefineMacro(\"\\\\Colonsim\", \"\\\\html@mathml{\" + \"\\\\mathrel{\\\\dblcolon\\\\mathrel{\\\\mkern-1.2mu}\\\\sim}}\" + \"{\\\\mathop{\\\\char\\\"2237\\\\char\\\"223c}}\"); // Some Unicode characters are implemented with macros to mathtools functions.\n\ndefineMacro(\"\\u2237\", \"\\\\dblcolon\"); // ::\n\ndefineMacro(\"\\u2239\", \"\\\\eqcolon\"); // -:\n\ndefineMacro(\"\\u2254\", \"\\\\coloneqq\"); // :=\n\ndefineMacro(\"\\u2255\", \"\\\\eqqcolon\"); // =:\n\ndefineMacro(\"\\u2A74\", \"\\\\Coloneqq\"); // ::=\n//////////////////////////////////////////////////////////////////////\n// colonequals.sty\n// Alternate names for mathtools's macros:\n\ndefineMacro(\"\\\\ratio\", \"\\\\vcentcolon\");\ndefineMacro(\"\\\\coloncolon\", \"\\\\dblcolon\");\ndefineMacro(\"\\\\colonequals\", \"\\\\coloneqq\");\ndefineMacro(\"\\\\coloncolonequals\", \"\\\\Coloneqq\");\ndefineMacro(\"\\\\equalscolon\", \"\\\\eqqcolon\");\ndefineMacro(\"\\\\equalscoloncolon\", \"\\\\Eqqcolon\");\ndefineMacro(\"\\\\colonminus\", \"\\\\coloneq\");\ndefineMacro(\"\\\\coloncolonminus\", \"\\\\Coloneq\");\ndefineMacro(\"\\\\minuscolon\", \"\\\\eqcolon\");\ndefineMacro(\"\\\\minuscoloncolon\", \"\\\\Eqcolon\"); // \\colonapprox name is same in mathtools and colonequals.\n\ndefineMacro(\"\\\\coloncolonapprox\", \"\\\\Colonapprox\"); // \\colonsim name is same in mathtools and colonequals.\n\ndefineMacro(\"\\\\coloncolonsim\", \"\\\\Colonsim\"); // Additional macros, implemented by analogy with mathtools definitions:\n\ndefineMacro(\"\\\\simcolon\", \"\\\\mathrel{\\\\sim\\\\mathrel{\\\\mkern-1.2mu}\\\\vcentcolon}\");\ndefineMacro(\"\\\\simcoloncolon\", \"\\\\mathrel{\\\\sim\\\\mathrel{\\\\mkern-1.2mu}\\\\dblcolon}\");\ndefineMacro(\"\\\\approxcolon\", \"\\\\mathrel{\\\\approx\\\\mathrel{\\\\mkern-1.2mu}\\\\vcentcolon}\");\ndefineMacro(\"\\\\approxcoloncolon\", \"\\\\mathrel{\\\\approx\\\\mathrel{\\\\mkern-1.2mu}\\\\dblcolon}\"); // Present in newtxmath, pxfonts and txfonts\n\ndefineMacro(\"\\\\notni\", \"\\\\html@mathml{\\\\not\\\\ni}{\\\\mathrel{\\\\char`\\u220C}}\");\ndefineMacro(\"\\\\limsup\", \"\\\\DOTSB\\\\operatorname*{lim\\\\,sup}\");\ndefineMacro(\"\\\\liminf\", \"\\\\DOTSB\\\\operatorname*{lim\\\\,inf}\"); //////////////////////////////////////////////////////////////////////\n// From amsopn.sty\n\ndefineMacro(\"\\\\injlim\", \"\\\\DOTSB\\\\operatorname*{inj\\\\,lim}\");\ndefineMacro(\"\\\\projlim\", \"\\\\DOTSB\\\\operatorname*{proj\\\\,lim}\");\ndefineMacro(\"\\\\varlimsup\", \"\\\\DOTSB\\\\operatorname*{\\\\overline{lim}}\");\ndefineMacro(\"\\\\varliminf\", \"\\\\DOTSB\\\\operatorname*{\\\\underline{lim}}\");\ndefineMacro(\"\\\\varinjlim\", \"\\\\DOTSB\\\\operatorname*{\\\\underrightarrow{lim}}\");\ndefineMacro(\"\\\\varprojlim\", \"\\\\DOTSB\\\\operatorname*{\\\\underleftarrow{lim}}\"); //////////////////////////////////////////////////////////////////////\n// MathML alternates for KaTeX glyphs in the Unicode private area\n\ndefineMacro(\"\\\\gvertneqq\", \"\\\\html@mathml{\\\\@gvertneqq}{\\u2269}\");\ndefineMacro(\"\\\\lvertneqq\", \"\\\\html@mathml{\\\\@lvertneqq}{\\u2268}\");\ndefineMacro(\"\\\\ngeqq\", \"\\\\html@mathml{\\\\@ngeqq}{\\u2271}\");\ndefineMacro(\"\\\\ngeqslant\", \"\\\\html@mathml{\\\\@ngeqslant}{\\u2271}\");\ndefineMacro(\"\\\\nleqq\", \"\\\\html@mathml{\\\\@nleqq}{\\u2270}\");\ndefineMacro(\"\\\\nleqslant\", \"\\\\html@mathml{\\\\@nleqslant}{\\u2270}\");\ndefineMacro(\"\\\\nshortmid\", \"\\\\html@mathml{\\\\@nshortmid}{}\");\ndefineMacro(\"\\\\nshortparallel\", \"\\\\html@mathml{\\\\@nshortparallel}{}\");\ndefineMacro(\"\\\\nsubseteqq\", \"\\\\html@mathml{\\\\@nsubseteqq}{\\u2288}\");\ndefineMacro(\"\\\\nsupseteqq\", \"\\\\html@mathml{\\\\@nsupseteqq}{\\u2289}\");\ndefineMacro(\"\\\\varsubsetneq\", \"\\\\html@mathml{\\\\@varsubsetneq}{}\");\ndefineMacro(\"\\\\varsubsetneqq\", \"\\\\html@mathml{\\\\@varsubsetneqq}{}\");\ndefineMacro(\"\\\\varsupsetneq\", \"\\\\html@mathml{\\\\@varsupsetneq}{}\");\ndefineMacro(\"\\\\varsupsetneqq\", \"\\\\html@mathml{\\\\@varsupsetneqq}{}\");\ndefineMacro(\"\\\\imath\", \"\\\\html@mathml{\\\\@imath}{\\u0131}\");\ndefineMacro(\"\\\\jmath\", \"\\\\html@mathml{\\\\@jmath}{\\u0237}\"); //////////////////////////////////////////////////////////////////////\n// stmaryrd and semantic\n// The stmaryrd and semantic packages render the next four items by calling a\n// glyph. Those glyphs do not exist in the KaTeX fonts. Hence the macros.\n\ndefineMacro(\"\\\\llbracket\", \"\\\\html@mathml{\" + \"\\\\mathopen{[\\\\mkern-3.2mu[}}\" + \"{\\\\mathopen{\\\\char`\\u27e6}}\");\ndefineMacro(\"\\\\rrbracket\", \"\\\\html@mathml{\" + \"\\\\mathclose{]\\\\mkern-3.2mu]}}\" + \"{\\\\mathclose{\\\\char`\\u27e7}}\");\ndefineMacro(\"\\u27e6\", \"\\\\llbracket\"); // blackboard bold [\n\ndefineMacro(\"\\u27e7\", \"\\\\rrbracket\"); // blackboard bold ]\n\ndefineMacro(\"\\\\lBrace\", \"\\\\html@mathml{\" + \"\\\\mathopen{\\\\{\\\\mkern-3.2mu[}}\" + \"{\\\\mathopen{\\\\char`\\u2983}}\");\ndefineMacro(\"\\\\rBrace\", \"\\\\html@mathml{\" + \"\\\\mathclose{]\\\\mkern-3.2mu\\\\}}}\" + \"{\\\\mathclose{\\\\char`\\u2984}}\");\ndefineMacro(\"\\u2983\", \"\\\\lBrace\"); // blackboard bold {\n\ndefineMacro(\"\\u2984\", \"\\\\rBrace\"); // blackboard bold }\n// TODO: Create variable sized versions of the last two items. I believe that\n// will require new font glyphs.\n// The stmaryrd function `\\minuso` provides a \"Plimsoll\" symbol that\n// superimposes the characters \\circ and \\mathminus. Used in chemistry.\n\ndefineMacro(\"\\\\minuso\", \"\\\\mathbin{\\\\html@mathml{\" + \"{\\\\mathrlap{\\\\mathchoice{\\\\kern{0.145em}}{\\\\kern{0.145em}}\" + \"{\\\\kern{0.1015em}}{\\\\kern{0.0725em}}\\\\circ}{-}}}\" + \"{\\\\char`}}\");\ndefineMacro(\"\", \"\\\\minuso\"); //////////////////////////////////////////////////////////////////////\n// texvc.sty\n// The texvc package contains macros available in mediawiki pages.\n// We omit the functions deprecated at\n// https://en.wikipedia.org/wiki/Help:Displaying_a_formula#Deprecated_syntax\n// We also omit texvc's \\O, which conflicts with \\text{\\O}\n\ndefineMacro(\"\\\\darr\", \"\\\\downarrow\");\ndefineMacro(\"\\\\dArr\", \"\\\\Downarrow\");\ndefineMacro(\"\\\\Darr\", \"\\\\Downarrow\");\ndefineMacro(\"\\\\lang\", \"\\\\langle\");\ndefineMacro(\"\\\\rang\", \"\\\\rangle\");\ndefineMacro(\"\\\\uarr\", \"\\\\uparrow\");\ndefineMacro(\"\\\\uArr\", \"\\\\Uparrow\");\ndefineMacro(\"\\\\Uarr\", \"\\\\Uparrow\");\ndefineMacro(\"\\\\N\", \"\\\\mathbb{N}\");\ndefineMacro(\"\\\\R\", \"\\\\mathbb{R}\");\ndefineMacro(\"\\\\Z\", \"\\\\mathbb{Z}\");\ndefineMacro(\"\\\\alef\", \"\\\\aleph\");\ndefineMacro(\"\\\\alefsym\", \"\\\\aleph\");\ndefineMacro(\"\\\\Alpha\", \"\\\\mathrm{A}\");\ndefineMacro(\"\\\\Beta\", \"\\\\mathrm{B}\");\ndefineMacro(\"\\\\bull\", \"\\\\bullet\");\ndefineMacro(\"\\\\Chi\", \"\\\\mathrm{X}\");\ndefineMacro(\"\\\\clubs\", \"\\\\clubsuit\");\ndefineMacro(\"\\\\cnums\", \"\\\\mathbb{C}\");\ndefineMacro(\"\\\\Complex\", \"\\\\mathbb{C}\");\ndefineMacro(\"\\\\Dagger\", \"\\\\ddagger\");\ndefineMacro(\"\\\\diamonds\", \"\\\\diamondsuit\");\ndefineMacro(\"\\\\empty\", \"\\\\emptyset\");\ndefineMacro(\"\\\\Epsilon\", \"\\\\mathrm{E}\");\ndefineMacro(\"\\\\Eta\", \"\\\\mathrm{H}\");\ndefineMacro(\"\\\\exist\", \"\\\\exists\");\ndefineMacro(\"\\\\harr\", \"\\\\leftrightarrow\");\ndefineMacro(\"\\\\hArr\", \"\\\\Leftrightarrow\");\ndefineMacro(\"\\\\Harr\", \"\\\\Leftrightarrow\");\ndefineMacro(\"\\\\hearts\", \"\\\\heartsuit\");\ndefineMacro(\"\\\\image\", \"\\\\Im\");\ndefineMacro(\"\\\\infin\", \"\\\\infty\");\ndefineMacro(\"\\\\Iota\", \"\\\\mathrm{I}\");\ndefineMacro(\"\\\\isin\", \"\\\\in\");\ndefineMacro(\"\\\\Kappa\", \"\\\\mathrm{K}\");\ndefineMacro(\"\\\\larr\", \"\\\\leftarrow\");\ndefineMacro(\"\\\\lArr\", \"\\\\Leftarrow\");\ndefineMacro(\"\\\\Larr\", \"\\\\Leftarrow\");\ndefineMacro(\"\\\\lrarr\", \"\\\\leftrightarrow\");\ndefineMacro(\"\\\\lrArr\", \"\\\\Leftrightarrow\");\ndefineMacro(\"\\\\Lrarr\", \"\\\\Leftrightarrow\");\ndefineMacro(\"\\\\Mu\", \"\\\\mathrm{M}\");\ndefineMacro(\"\\\\natnums\", \"\\\\mathbb{N}\");\ndefineMacro(\"\\\\Nu\", \"\\\\mathrm{N}\");\ndefineMacro(\"\\\\Omicron\", \"\\\\mathrm{O}\");\ndefineMacro(\"\\\\plusmn\", \"\\\\pm\");\ndefineMacro(\"\\\\rarr\", \"\\\\rightarrow\");\ndefineMacro(\"\\\\rArr\", \"\\\\Rightarrow\");\ndefineMacro(\"\\\\Rarr\", \"\\\\Rightarrow\");\ndefineMacro(\"\\\\real\", \"\\\\Re\");\ndefineMacro(\"\\\\reals\", \"\\\\mathbb{R}\");\ndefineMacro(\"\\\\Reals\", \"\\\\mathbb{R}\");\ndefineMacro(\"\\\\Rho\", \"\\\\mathrm{P}\");\ndefineMacro(\"\\\\sdot\", \"\\\\cdot\");\ndefineMacro(\"\\\\sect\", \"\\\\S\");\ndefineMacro(\"\\\\spades\", \"\\\\spadesuit\");\ndefineMacro(\"\\\\sub\", \"\\\\subset\");\ndefineMacro(\"\\\\sube\", \"\\\\subseteq\");\ndefineMacro(\"\\\\supe\", \"\\\\supseteq\");\ndefineMacro(\"\\\\Tau\", \"\\\\mathrm{T}\");\ndefineMacro(\"\\\\thetasym\", \"\\\\vartheta\"); // TODO: defineMacro(\"\\\\varcoppa\", \"\\\\\\mbox{\\\\coppa}\");\n\ndefineMacro(\"\\\\weierp\", \"\\\\wp\");\ndefineMacro(\"\\\\Zeta\", \"\\\\mathrm{Z}\"); //////////////////////////////////////////////////////////////////////\n// statmath.sty\n// https://ctan.math.illinois.edu/macros/latex/contrib/statmath/statmath.pdf\n\ndefineMacro(\"\\\\argmin\", \"\\\\DOTSB\\\\operatorname*{arg\\\\,min}\");\ndefineMacro(\"\\\\argmax\", \"\\\\DOTSB\\\\operatorname*{arg\\\\,max}\");\ndefineMacro(\"\\\\plim\", \"\\\\DOTSB\\\\mathop{\\\\operatorname{plim}}\\\\limits\"); //////////////////////////////////////////////////////////////////////\n// braket.sty\n// http://ctan.math.washington.edu/tex-archive/macros/latex/contrib/braket/braket.pdf\n\ndefineMacro(\"\\\\bra\", \"\\\\mathinner{\\\\langle{#1}|}\");\ndefineMacro(\"\\\\ket\", \"\\\\mathinner{|{#1}\\\\rangle}\");\ndefineMacro(\"\\\\braket\", \"\\\\mathinner{\\\\langle{#1}\\\\rangle}\");\ndefineMacro(\"\\\\Bra\", \"\\\\left\\\\langle#1\\\\right|\");\ndefineMacro(\"\\\\Ket\", \"\\\\left|#1\\\\right\\\\rangle\"); //////////////////////////////////////////////////////////////////////\n// actuarialangle.dtx\n\ndefineMacro(\"\\\\angln\", \"{\\\\angl n}\"); // Custom Khan Academy colors, should be moved to an optional package\n\ndefineMacro(\"\\\\blue\", \"\\\\textcolor{##6495ed}{#1}\");\ndefineMacro(\"\\\\orange\", \"\\\\textcolor{##ffa500}{#1}\");\ndefineMacro(\"\\\\pink\", \"\\\\textcolor{##ff00af}{#1}\");\ndefineMacro(\"\\\\red\", \"\\\\textcolor{##df0030}{#1}\");\ndefineMacro(\"\\\\green\", \"\\\\textcolor{##28ae7b}{#1}\");\ndefineMacro(\"\\\\gray\", \"\\\\textcolor{gray}{#1}\");\ndefineMacro(\"\\\\purple\", \"\\\\textcolor{##9d38bd}{#1}\");\ndefineMacro(\"\\\\blueA\", \"\\\\textcolor{##ccfaff}{#1}\");\ndefineMacro(\"\\\\blueB\", \"\\\\textcolor{##80f6ff}{#1}\");\ndefineMacro(\"\\\\blueC\", \"\\\\textcolor{##63d9ea}{#1}\");\ndefineMacro(\"\\\\blueD\", \"\\\\textcolor{##11accd}{#1}\");\ndefineMacro(\"\\\\blueE\", \"\\\\textcolor{##0c7f99}{#1}\");\ndefineMacro(\"\\\\tealA\", \"\\\\textcolor{##94fff5}{#1}\");\ndefineMacro(\"\\\\tealB\", \"\\\\textcolor{##26edd5}{#1}\");\ndefineMacro(\"\\\\tealC\", \"\\\\textcolor{##01d1c1}{#1}\");\ndefineMacro(\"\\\\tealD\", \"\\\\textcolor{##01a995}{#1}\");\ndefineMacro(\"\\\\tealE\", \"\\\\textcolor{##208170}{#1}\");\ndefineMacro(\"\\\\greenA\", \"\\\\textcolor{##b6ffb0}{#1}\");\ndefineMacro(\"\\\\greenB\", \"\\\\textcolor{##8af281}{#1}\");\ndefineMacro(\"\\\\greenC\", \"\\\\textcolor{##74cf70}{#1}\");\ndefineMacro(\"\\\\greenD\", \"\\\\textcolor{##1fab54}{#1}\");\ndefineMacro(\"\\\\greenE\", \"\\\\textcolor{##0d923f}{#1}\");\ndefineMacro(\"\\\\goldA\", \"\\\\textcolor{##ffd0a9}{#1}\");\ndefineMacro(\"\\\\goldB\", \"\\\\textcolor{##ffbb71}{#1}\");\ndefineMacro(\"\\\\goldC\", \"\\\\textcolor{##ff9c39}{#1}\");\ndefineMacro(\"\\\\goldD\", \"\\\\textcolor{##e07d10}{#1}\");\ndefineMacro(\"\\\\goldE\", \"\\\\textcolor{##a75a05}{#1}\");\ndefineMacro(\"\\\\redA\", \"\\\\textcolor{##fca9a9}{#1}\");\ndefineMacro(\"\\\\redB\", \"\\\\textcolor{##ff8482}{#1}\");\ndefineMacro(\"\\\\redC\", \"\\\\textcolor{##f9685d}{#1}\");\ndefineMacro(\"\\\\redD\", \"\\\\textcolor{##e84d39}{#1}\");\ndefineMacro(\"\\\\redE\", \"\\\\textcolor{##bc2612}{#1}\");\ndefineMacro(\"\\\\maroonA\", \"\\\\textcolor{##ffbde0}{#1}\");\ndefineMacro(\"\\\\maroonB\", \"\\\\textcolor{##ff92c6}{#1}\");\ndefineMacro(\"\\\\maroonC\", \"\\\\textcolor{##ed5fa6}{#1}\");\ndefineMacro(\"\\\\maroonD\", \"\\\\textcolor{##ca337c}{#1}\");\ndefineMacro(\"\\\\maroonE\", \"\\\\textcolor{##9e034e}{#1}\");\ndefineMacro(\"\\\\purpleA\", \"\\\\textcolor{##ddd7ff}{#1}\");\ndefineMacro(\"\\\\purpleB\", \"\\\\textcolor{##c6b9fc}{#1}\");\ndefineMacro(\"\\\\purpleC\", \"\\\\textcolor{##aa87ff}{#1}\");\ndefineMacro(\"\\\\purpleD\", \"\\\\textcolor{##7854ab}{#1}\");\ndefineMacro(\"\\\\purpleE\", \"\\\\textcolor{##543b78}{#1}\");\ndefineMacro(\"\\\\mintA\", \"\\\\textcolor{##f5f9e8}{#1}\");\ndefineMacro(\"\\\\mintB\", \"\\\\textcolor{##edf2df}{#1}\");\ndefineMacro(\"\\\\mintC\", \"\\\\textcolor{##e0e5cc}{#1}\");\ndefineMacro(\"\\\\grayA\", \"\\\\textcolor{##f6f7f7}{#1}\");\ndefineMacro(\"\\\\grayB\", \"\\\\textcolor{##f0f1f2}{#1}\");\ndefineMacro(\"\\\\grayC\", \"\\\\textcolor{##e3e5e6}{#1}\");\ndefineMacro(\"\\\\grayD\", \"\\\\textcolor{##d6d8da}{#1}\");\ndefineMacro(\"\\\\grayE\", \"\\\\textcolor{##babec2}{#1}\");\ndefineMacro(\"\\\\grayF\", \"\\\\textcolor{##888d93}{#1}\");\ndefineMacro(\"\\\\grayG\", \"\\\\textcolor{##626569}{#1}\");\ndefineMacro(\"\\\\grayH\", \"\\\\textcolor{##3b3e40}{#1}\");\ndefineMacro(\"\\\\grayI\", \"\\\\textcolor{##21242c}{#1}\");\ndefineMacro(\"\\\\kaBlue\", \"\\\\textcolor{##314453}{#1}\");\ndefineMacro(\"\\\\kaGreen\", \"\\\\textcolor{##71B307}{#1}\");\n\n/**\n * This file contains the gullet where macros are expanded\n * until only non-macro tokens remain.\n */\n// List of commands that act like macros but aren't defined as a macro,\n// function, or symbol.  Used in `isDefined`.\nvar implicitCommands = {\n  \"\\\\relax\": true,\n  // MacroExpander.js\n  \"^\": true,\n  // Parser.js\n  \"_\": true,\n  // Parser.js\n  \"\\\\limits\": true,\n  // Parser.js\n  \"\\\\nolimits\": true // Parser.js\n\n};\nclass MacroExpander {\n  constructor(input, settings, mode) {\n    this.settings = void 0;\n    this.expansionCount = void 0;\n    this.lexer = void 0;\n    this.macros = void 0;\n    this.stack = void 0;\n    this.mode = void 0;\n    this.settings = settings;\n    this.expansionCount = 0;\n    this.feed(input); // Make new global namespace\n\n    this.macros = new Namespace(builtinMacros, settings.macros);\n    this.mode = mode;\n    this.stack = []; // contains tokens in REVERSE order\n  }\n  /**\n   * Feed a new input string to the same MacroExpander\n   * (with existing macros etc.).\n   */\n\n\n  feed(input) {\n    this.lexer = new Lexer(input, this.settings);\n  }\n  /**\n   * Switches between \"text\" and \"math\" modes.\n   */\n\n\n  switchMode(newMode) {\n    this.mode = newMode;\n  }\n  /**\n   * Start a new group nesting within all namespaces.\n   */\n\n\n  beginGroup() {\n    this.macros.beginGroup();\n  }\n  /**\n   * End current group nesting within all namespaces.\n   */\n\n\n  endGroup() {\n    this.macros.endGroup();\n  }\n  /**\n   * Returns the topmost token on the stack, without expanding it.\n   * Similar in behavior to TeX's `\\futurelet`.\n   */\n\n\n  future() {\n    if (this.stack.length === 0) {\n      this.pushToken(this.lexer.lex());\n    }\n\n    return this.stack[this.stack.length - 1];\n  }\n  /**\n   * Remove and return the next unexpanded token.\n   */\n\n\n  popToken() {\n    this.future(); // ensure non-empty stack\n\n    return this.stack.pop();\n  }\n  /**\n   * Add a given token to the token stack.  In particular, this get be used\n   * to put back a token returned from one of the other methods.\n   */\n\n\n  pushToken(token) {\n    this.stack.push(token);\n  }\n  /**\n   * Append an array of tokens to the token stack.\n   */\n\n\n  pushTokens(tokens) {\n    this.stack.push(...tokens);\n  }\n  /**\n   * Find an macro argument without expanding tokens and append the array of\n   * tokens to the token stack. Uses Token as a container for the result.\n   */\n\n\n  scanArgument(isOptional) {\n    var start;\n    var end;\n    var tokens;\n\n    if (isOptional) {\n      this.consumeSpaces(); // \\@ifnextchar gobbles any space following it\n\n      if (this.future().text !== \"[\") {\n        return null;\n      }\n\n      start = this.popToken(); // don't include [ in tokens\n\n      ({\n        tokens,\n        end\n      } = this.consumeArg([\"]\"]));\n    } else {\n      ({\n        tokens,\n        start,\n        end\n      } = this.consumeArg());\n    } // indicate the end of an argument\n\n\n    this.pushToken(new Token(\"EOF\", end.loc));\n    this.pushTokens(tokens);\n    return start.range(end, \"\");\n  }\n  /**\n   * Consume all following space tokens, without expansion.\n   */\n\n\n  consumeSpaces() {\n    for (;;) {\n      var token = this.future();\n\n      if (token.text === \" \") {\n        this.stack.pop();\n      } else {\n        break;\n      }\n    }\n  }\n  /**\n   * Consume an argument from the token stream, and return the resulting array\n   * of tokens and start/end token.\n   */\n\n\n  consumeArg(delims) {\n    // The argument for a delimited parameter is the shortest (possibly\n    // empty) sequence of tokens with properly nested {...} groups that is\n    // followed ... by this particular list of non-parameter tokens.\n    // The argument for an undelimited parameter is the next nonblank\n    // token, unless that token is {, when the argument will be the\n    // entire {...} group that follows.\n    var tokens = [];\n    var isDelimited = delims && delims.length > 0;\n\n    if (!isDelimited) {\n      // Ignore spaces between arguments.  As the TeXbook says:\n      // \"After you have said \\def\\row#1#2{...}, you are allowed to\n      //  put spaces between the arguments (e.g., \\row x n), because\n      //  TeX doesnt use single spaces as undelimited arguments.\"\n      this.consumeSpaces();\n    }\n\n    var start = this.future();\n    var tok;\n    var depth = 0;\n    var match = 0;\n\n    do {\n      tok = this.popToken();\n      tokens.push(tok);\n\n      if (tok.text === \"{\") {\n        ++depth;\n      } else if (tok.text === \"}\") {\n        --depth;\n\n        if (depth === -1) {\n          throw new ParseError(\"Extra }\", tok);\n        }\n      } else if (tok.text === \"EOF\") {\n        throw new ParseError(\"Unexpected end of input in a macro argument\" + \", expected '\" + (delims && isDelimited ? delims[match] : \"}\") + \"'\", tok);\n      }\n\n      if (delims && isDelimited) {\n        if ((depth === 0 || depth === 1 && delims[match] === \"{\") && tok.text === delims[match]) {\n          ++match;\n\n          if (match === delims.length) {\n            // don't include delims in tokens\n            tokens.splice(-match, match);\n            break;\n          }\n        } else {\n          match = 0;\n        }\n      }\n    } while (depth !== 0 || isDelimited); // If the argument found ... has the form {<nested tokens>},\n    // ... the outermost braces enclosing the argument are removed\n\n\n    if (start.text === \"{\" && tokens[tokens.length - 1].text === \"}\") {\n      tokens.pop();\n      tokens.shift();\n    }\n\n    tokens.reverse(); // to fit in with stack order\n\n    return {\n      tokens,\n      start,\n      end: tok\n    };\n  }\n  /**\n   * Consume the specified number of (delimited) arguments from the token\n   * stream and return the resulting array of arguments.\n   */\n\n\n  consumeArgs(numArgs, delimiters) {\n    if (delimiters) {\n      if (delimiters.length !== numArgs + 1) {\n        throw new ParseError(\"The length of delimiters doesn't match the number of args!\");\n      }\n\n      var delims = delimiters[0];\n\n      for (var i = 0; i < delims.length; i++) {\n        var tok = this.popToken();\n\n        if (delims[i] !== tok.text) {\n          throw new ParseError(\"Use of the macro doesn't match its definition\", tok);\n        }\n      }\n    }\n\n    var args = [];\n\n    for (var _i = 0; _i < numArgs; _i++) {\n      args.push(this.consumeArg(delimiters && delimiters[_i + 1]).tokens);\n    }\n\n    return args;\n  }\n  /**\n   * Expand the next token only once if possible.\n   *\n   * If the token is expanded, the resulting tokens will be pushed onto\n   * the stack in reverse order and will be returned as an array,\n   * also in reverse order.\n   *\n   * If not, the next token will be returned without removing it\n   * from the stack.  This case can be detected by a `Token` return value\n   * instead of an `Array` return value.\n   *\n   * In either case, the next token will be on the top of the stack,\n   * or the stack will be empty.\n   *\n   * Used to implement `expandAfterFuture` and `expandNextToken`.\n   *\n   * If expandableOnly, only expandable tokens are expanded and\n   * an undefined control sequence results in an error.\n   */\n\n\n  expandOnce(expandableOnly) {\n    var topToken = this.popToken();\n    var name = topToken.text;\n    var expansion = !topToken.noexpand ? this._getExpansion(name) : null;\n\n    if (expansion == null || expandableOnly && expansion.unexpandable) {\n      if (expandableOnly && expansion == null && name[0] === \"\\\\\" && !this.isDefined(name)) {\n        throw new ParseError(\"Undefined control sequence: \" + name);\n      }\n\n      this.pushToken(topToken);\n      return topToken;\n    }\n\n    this.expansionCount++;\n\n    if (this.expansionCount > this.settings.maxExpand) {\n      throw new ParseError(\"Too many expansions: infinite loop or \" + \"need to increase maxExpand setting\");\n    }\n\n    var tokens = expansion.tokens;\n    var args = this.consumeArgs(expansion.numArgs, expansion.delimiters);\n\n    if (expansion.numArgs) {\n      // paste arguments in place of the placeholders\n      tokens = tokens.slice(); // make a shallow copy\n\n      for (var i = tokens.length - 1; i >= 0; --i) {\n        var tok = tokens[i];\n\n        if (tok.text === \"#\") {\n          if (i === 0) {\n            throw new ParseError(\"Incomplete placeholder at end of macro body\", tok);\n          }\n\n          tok = tokens[--i]; // next token on stack\n\n          if (tok.text === \"#\") {\n            // ##  #\n            tokens.splice(i + 1, 1); // drop first #\n          } else if (/^[1-9]$/.test(tok.text)) {\n            // replace the placeholder with the indicated argument\n            tokens.splice(i, 2, ...args[+tok.text - 1]);\n          } else {\n            throw new ParseError(\"Not a valid argument number\", tok);\n          }\n        }\n      }\n    } // Concatenate expansion onto top of stack.\n\n\n    this.pushTokens(tokens);\n    return tokens;\n  }\n  /**\n   * Expand the next token only once (if possible), and return the resulting\n   * top token on the stack (without removing anything from the stack).\n   * Similar in behavior to TeX's `\\expandafter\\futurelet`.\n   * Equivalent to expandOnce() followed by future().\n   */\n\n\n  expandAfterFuture() {\n    this.expandOnce();\n    return this.future();\n  }\n  /**\n   * Recursively expand first token, then return first non-expandable token.\n   */\n\n\n  expandNextToken() {\n    for (;;) {\n      var expanded = this.expandOnce(); // expandOnce returns Token if and only if it's fully expanded.\n\n      if (expanded instanceof Token) {\n        // \\relax stops the expansion, but shouldn't get returned (a\n        // null return value couldn't get implemented as a function).\n        // the token after \\noexpand is interpreted as if its meaning\n        // were \\relax\n        if (expanded.text === \"\\\\relax\" || expanded.treatAsRelax) {\n          this.stack.pop();\n        } else {\n          return this.stack.pop(); // === expanded\n        }\n      }\n    } // Flow unable to figure out that this pathway is impossible.\n    // https://github.com/facebook/flow/issues/4808\n\n\n    throw new Error(); // eslint-disable-line no-unreachable\n  }\n  /**\n   * Fully expand the given macro name and return the resulting list of\n   * tokens, or return `undefined` if no such macro is defined.\n   */\n\n\n  expandMacro(name) {\n    return this.macros.has(name) ? this.expandTokens([new Token(name)]) : undefined;\n  }\n  /**\n   * Fully expand the given token stream and return the resulting list of tokens\n   */\n\n\n  expandTokens(tokens) {\n    var output = [];\n    var oldStackLength = this.stack.length;\n    this.pushTokens(tokens);\n\n    while (this.stack.length > oldStackLength) {\n      var expanded = this.expandOnce(true); // expand only expandable tokens\n      // expandOnce returns Token if and only if it's fully expanded.\n\n      if (expanded instanceof Token) {\n        if (expanded.treatAsRelax) {\n          // the expansion of \\noexpand is the token itself\n          expanded.noexpand = false;\n          expanded.treatAsRelax = false;\n        }\n\n        output.push(this.stack.pop());\n      }\n    }\n\n    return output;\n  }\n  /**\n   * Fully expand the given macro name and return the result as a string,\n   * or return `undefined` if no such macro is defined.\n   */\n\n\n  expandMacroAsText(name) {\n    var tokens = this.expandMacro(name);\n\n    if (tokens) {\n      return tokens.map(token => token.text).join(\"\");\n    } else {\n      return tokens;\n    }\n  }\n  /**\n   * Returns the expanded macro as a reversed array of tokens and a macro\n   * argument count.  Or returns `null` if no such macro.\n   */\n\n\n  _getExpansion(name) {\n    var definition = this.macros.get(name);\n\n    if (definition == null) {\n      // mainly checking for undefined here\n      return definition;\n    }\n\n    var expansion = typeof definition === \"function\" ? definition(this) : definition;\n\n    if (typeof expansion === \"string\") {\n      var numArgs = 0;\n\n      if (expansion.indexOf(\"#\") !== -1) {\n        var stripped = expansion.replace(/##/g, \"\");\n\n        while (stripped.indexOf(\"#\" + (numArgs + 1)) !== -1) {\n          ++numArgs;\n        }\n      }\n\n      var bodyLexer = new Lexer(expansion, this.settings);\n      var tokens = [];\n      var tok = bodyLexer.lex();\n\n      while (tok.text !== \"EOF\") {\n        tokens.push(tok);\n        tok = bodyLexer.lex();\n      }\n\n      tokens.reverse(); // to fit in with stack using push and pop\n\n      var expanded = {\n        tokens,\n        numArgs\n      };\n      return expanded;\n    }\n\n    return expansion;\n  }\n  /**\n   * Determine whether a command is currently \"defined\" (has some\n   * functionality), meaning that it's a macro (in the current group),\n   * a function, a symbol, or one of the special commands listed in\n   * `implicitCommands`.\n   */\n\n\n  isDefined(name) {\n    return this.macros.has(name) || functions.hasOwnProperty(name) || symbols.math.hasOwnProperty(name) || symbols.text.hasOwnProperty(name) || implicitCommands.hasOwnProperty(name);\n  }\n  /**\n   * Determine whether a command is expandable.\n   */\n\n\n  isExpandable(name) {\n    var macro = this.macros.get(name);\n    return macro != null ? typeof macro === \"string\" || typeof macro === \"function\" || !macro.unexpandable : functions.hasOwnProperty(name) && !functions[name].primitive;\n  }\n\n}\n\n/* eslint no-constant-condition:0 */\n\nvar unicodeAccents = {\n  \"\": {\n    \"text\": \"\\\\'\",\n    \"math\": \"\\\\acute\"\n  },\n  \"\": {\n    \"text\": \"\\\\`\",\n    \"math\": \"\\\\grave\"\n  },\n  \"\": {\n    \"text\": \"\\\\\\\"\",\n    \"math\": \"\\\\ddot\"\n  },\n  \"\": {\n    \"text\": \"\\\\~\",\n    \"math\": \"\\\\tilde\"\n  },\n  \"\": {\n    \"text\": \"\\\\=\",\n    \"math\": \"\\\\bar\"\n  },\n  \"\": {\n    \"text\": \"\\\\u\",\n    \"math\": \"\\\\breve\"\n  },\n  \"\": {\n    \"text\": \"\\\\v\",\n    \"math\": \"\\\\check\"\n  },\n  \"\": {\n    \"text\": \"\\\\^\",\n    \"math\": \"\\\\hat\"\n  },\n  \"\": {\n    \"text\": \"\\\\.\",\n    \"math\": \"\\\\dot\"\n  },\n  \"\": {\n    \"text\": \"\\\\r\",\n    \"math\": \"\\\\mathring\"\n  },\n  \"\": {\n    \"text\": \"\\\\H\"\n  }\n};\nvar unicodeSymbols = {\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"a\",\n  \"\": \"b\",\n  \"\": \"c\",\n  \"\": \"c\",\n  \"\": \"c\",\n  \"\": \"c\",\n  \"\": \"d\",\n  \"\": \"d\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"e\",\n  \"\": \"f\",\n  \"\": \"g\",\n  \"\": \"g\",\n  \"\": \"g\",\n  \"\": \"g\",\n  \"\": \"g\",\n  \"\": \"g\",\n  \"\": \"h\",\n  \"\": \"h\",\n  \"\": \"h\",\n  \"\": \"h\",\n  \"\": \"i\",\n  \"\": \"i\",\n  \"\": \"i\",\n  \"\": \"i\",\n  \"\": \"i\",\n  \"\": \"i\",\n  \"\": \"i\",\n  \"\": \"i\",\n  \"\": \"i\",\n  \"\": \"j\",\n  \"\": \"j\",\n  \"\": \"k\",\n  \"\": \"k\",\n  \"\": \"l\",\n  \"\": \"l\",\n  \"\": \"m\",\n  \"\": \"m\",\n  \"\": \"n\",\n  \"\": \"n\",\n  \"\": \"n\",\n  \"\": \"n\",\n  \"\": \"n\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"o\",\n  \"\": \"p\",\n  \"\": \"p\",\n  \"\": \"r\",\n  \"\": \"r\",\n  \"\": \"r\",\n  \"\": \"s\",\n  \"\": \"s\",\n  \"\": \"s\",\n  \"\": \"s\",\n  \"\": \"s\",\n  \"\": \"s\",\n  \"\": \"t\",\n  \"\": \"t\",\n  \"\": \"t\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"u\",\n  \"\": \"v\",\n  \"\": \"w\",\n  \"\": \"w\",\n  \"\": \"w\",\n  \"\": \"w\",\n  \"\": \"w\",\n  \"\": \"w\",\n  \"\": \"x\",\n  \"\": \"x\",\n  \"\": \"y\",\n  \"\": \"y\",\n  \"\": \"y\",\n  \"\": \"y\",\n  \"\": \"y\",\n  \"\": \"y\",\n  \"\": \"y\",\n  \"\": \"y\",\n  \"\": \"z\",\n  \"\": \"z\",\n  \"\": \"z\",\n  \"\": \"z\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"A\",\n  \"\": \"B\",\n  \"\": \"C\",\n  \"\": \"C\",\n  \"\": \"C\",\n  \"\": \"C\",\n  \"\": \"D\",\n  \"\": \"D\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"E\",\n  \"\": \"F\",\n  \"\": \"G\",\n  \"\": \"G\",\n  \"\": \"G\",\n  \"\": \"G\",\n  \"\": \"G\",\n  \"\": \"G\",\n  \"\": \"H\",\n  \"\": \"H\",\n  \"\": \"H\",\n  \"\": \"H\",\n  \"\": \"I\",\n  \"\": \"I\",\n  \"\": \"I\",\n  \"\": \"I\",\n  \"\": \"I\",\n  \"\": \"I\",\n  \"\": \"I\",\n  \"\": \"I\",\n  \"\": \"I\",\n  \"\": \"I\",\n  \"\": \"J\",\n  \"\": \"K\",\n  \"\": \"K\",\n  \"\": \"L\",\n  \"\": \"L\",\n  \"\": \"M\",\n  \"\": \"M\",\n  \"\": \"N\",\n  \"\": \"N\",\n  \"\": \"N\",\n  \"\": \"N\",\n  \"\": \"N\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"O\",\n  \"\": \"P\",\n  \"\": \"P\",\n  \"\": \"R\",\n  \"\": \"R\",\n  \"\": \"R\",\n  \"\": \"S\",\n  \"\": \"S\",\n  \"\": \"S\",\n  \"\": \"S\",\n  \"\": \"S\",\n  \"\": \"S\",\n  \"\": \"T\",\n  \"\": \"T\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"U\",\n  \"\": \"V\",\n  \"\": \"W\",\n  \"\": \"W\",\n  \"\": \"W\",\n  \"\": \"W\",\n  \"\": \"W\",\n  \"\": \"X\",\n  \"\": \"X\",\n  \"\": \"Y\",\n  \"\": \"Y\",\n  \"\": \"Y\",\n  \"\": \"Y\",\n  \"\": \"Y\",\n  \"\": \"Y\",\n  \"\": \"Y\",\n  \"\": \"Z\",\n  \"\": \"Z\",\n  \"\": \"Z\",\n  \"\": \"Z\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\",\n  \"\": \"\"\n};\n\n/**\n * This file contains the parser used to parse out a TeX expression from the\n * input. Since TeX isn't context-free, standard parsers don't work particularly\n * well.\n *\n * The strategy of this parser is as such:\n *\n * The main functions (the `.parse...` ones) take a position in the current\n * parse string to parse tokens from. The lexer (found in Lexer.js, stored at\n * this.gullet.lexer) also supports pulling out tokens at arbitrary places. When\n * individual tokens are needed at a position, the lexer is called to pull out a\n * token, which is then used.\n *\n * The parser has a property called \"mode\" indicating the mode that\n * the parser is currently in. Currently it has to be one of \"math\" or\n * \"text\", which denotes whether the current environment is a math-y\n * one or a text-y one (e.g. inside \\text). Currently, this serves to\n * limit the functions which can be used in text mode.\n *\n * The main functions then return an object which contains the useful data that\n * was parsed at its given point, and a new position at the end of the parsed\n * data. The main functions can call each other and continue the parsing by\n * using the returned position as a new starting point.\n *\n * There are also extra `.handle...` functions, which pull out some reused\n * functionality into self-contained functions.\n *\n * The functions return ParseNodes.\n */\nclass Parser {\n  constructor(input, settings) {\n    this.mode = void 0;\n    this.gullet = void 0;\n    this.settings = void 0;\n    this.leftrightDepth = void 0;\n    this.nextToken = void 0;\n    // Start in math mode\n    this.mode = \"math\"; // Create a new macro expander (gullet) and (indirectly via that) also a\n    // new lexer (mouth) for this parser (stomach, in the language of TeX)\n\n    this.gullet = new MacroExpander(input, settings, this.mode); // Store the settings for use in parsing\n\n    this.settings = settings; // Count leftright depth (for \\middle errors)\n\n    this.leftrightDepth = 0;\n  }\n  /**\n   * Checks a result to make sure it has the right type, and throws an\n   * appropriate error otherwise.\n   */\n\n\n  expect(text, consume) {\n    if (consume === void 0) {\n      consume = true;\n    }\n\n    if (this.fetch().text !== text) {\n      throw new ParseError(\"Expected '\" + text + \"', got '\" + this.fetch().text + \"'\", this.fetch());\n    }\n\n    if (consume) {\n      this.consume();\n    }\n  }\n  /**\n   * Discards the current lookahead token, considering it consumed.\n   */\n\n\n  consume() {\n    this.nextToken = null;\n  }\n  /**\n   * Return the current lookahead token, or if there isn't one (at the\n   * beginning, or if the previous lookahead token was consume()d),\n   * fetch the next token as the new lookahead token and return it.\n   */\n\n\n  fetch() {\n    if (this.nextToken == null) {\n      this.nextToken = this.gullet.expandNextToken();\n    }\n\n    return this.nextToken;\n  }\n  /**\n   * Switches between \"text\" and \"math\" modes.\n   */\n\n\n  switchMode(newMode) {\n    this.mode = newMode;\n    this.gullet.switchMode(newMode);\n  }\n  /**\n   * Main parsing function, which parses an entire input.\n   */\n\n\n  parse() {\n    if (!this.settings.globalGroup) {\n      // Create a group namespace for the math expression.\n      // (LaTeX creates a new group for every $...$, $$...$$, \\[...\\].)\n      this.gullet.beginGroup();\n    } // Use old \\color behavior (same as LaTeX's \\textcolor) if requested.\n    // We do this within the group for the math expression, so it doesn't\n    // pollute settings.macros.\n\n\n    if (this.settings.colorIsTextColor) {\n      this.gullet.macros.set(\"\\\\color\", \"\\\\textcolor\");\n    } // Try to parse the input\n\n\n    var parse = this.parseExpression(false); // If we succeeded, make sure there's an EOF at the end\n\n    this.expect(\"EOF\"); // End the group namespace for the expression\n\n    if (!this.settings.globalGroup) {\n      this.gullet.endGroup();\n    }\n\n    return parse;\n  }\n\n  /**\n   * Parses an \"expression\", which is a list of atoms.\n   *\n   * `breakOnInfix`: Should the parsing stop when we hit infix nodes? This\n   *                 happens when functions have higher precendence han infix\n   *                 nodes in implicit parses.\n   *\n   * `breakOnTokenText`: The text of the token that the expression should end\n   *                     with, or `null` if something else should end the\n   *                     expression.\n   */\n  parseExpression(breakOnInfix, breakOnTokenText) {\n    var body = []; // Keep adding atoms to the body until we can't parse any more atoms (either\n    // we reached the end, a }, or a \\right)\n\n    while (true) {\n      // Ignore spaces in math mode\n      if (this.mode === \"math\") {\n        this.consumeSpaces();\n      }\n\n      var lex = this.fetch();\n\n      if (Parser.endOfExpression.indexOf(lex.text) !== -1) {\n        break;\n      }\n\n      if (breakOnTokenText && lex.text === breakOnTokenText) {\n        break;\n      }\n\n      if (breakOnInfix && functions[lex.text] && functions[lex.text].infix) {\n        break;\n      }\n\n      var atom = this.parseAtom(breakOnTokenText);\n\n      if (!atom) {\n        break;\n      } else if (atom.type === \"internal\") {\n        continue;\n      }\n\n      body.push(atom);\n    }\n\n    if (this.mode === \"text\") {\n      this.formLigatures(body);\n    }\n\n    return this.handleInfixNodes(body);\n  }\n  /**\n   * Rewrites infix operators such as \\over with corresponding commands such\n   * as \\frac.\n   *\n   * There can only be one infix operator per group.  If there's more than one\n   * then the expression is ambiguous.  This can be resolved by adding {}.\n   */\n\n\n  handleInfixNodes(body) {\n    var overIndex = -1;\n    var funcName;\n\n    for (var i = 0; i < body.length; i++) {\n      if (body[i].type === \"infix\") {\n        if (overIndex !== -1) {\n          throw new ParseError(\"only one infix operator per group\", body[i].token);\n        }\n\n        overIndex = i;\n        funcName = body[i].replaceWith;\n      }\n    }\n\n    if (overIndex !== -1 && funcName) {\n      var numerNode;\n      var denomNode;\n      var numerBody = body.slice(0, overIndex);\n      var denomBody = body.slice(overIndex + 1);\n\n      if (numerBody.length === 1 && numerBody[0].type === \"ordgroup\") {\n        numerNode = numerBody[0];\n      } else {\n        numerNode = {\n          type: \"ordgroup\",\n          mode: this.mode,\n          body: numerBody\n        };\n      }\n\n      if (denomBody.length === 1 && denomBody[0].type === \"ordgroup\") {\n        denomNode = denomBody[0];\n      } else {\n        denomNode = {\n          type: \"ordgroup\",\n          mode: this.mode,\n          body: denomBody\n        };\n      }\n\n      var node;\n\n      if (funcName === \"\\\\\\\\abovefrac\") {\n        node = this.callFunction(funcName, [numerNode, body[overIndex], denomNode], []);\n      } else {\n        node = this.callFunction(funcName, [numerNode, denomNode], []);\n      }\n\n      return [node];\n    } else {\n      return body;\n    }\n  }\n  /**\n   * Handle a subscript or superscript with nice errors.\n   */\n\n\n  handleSupSubscript(name) {\n    var symbolToken = this.fetch();\n    var symbol = symbolToken.text;\n    this.consume();\n    this.consumeSpaces(); // ignore spaces before sup/subscript argument\n\n    var group = this.parseGroup(name);\n\n    if (!group) {\n      throw new ParseError(\"Expected group after '\" + symbol + \"'\", symbolToken);\n    }\n\n    return group;\n  }\n  /**\n   * Converts the textual input of an unsupported command into a text node\n   * contained within a color node whose color is determined by errorColor\n   */\n\n\n  formatUnsupportedCmd(text) {\n    var textordArray = [];\n\n    for (var i = 0; i < text.length; i++) {\n      textordArray.push({\n        type: \"textord\",\n        mode: \"text\",\n        text: text[i]\n      });\n    }\n\n    var textNode = {\n      type: \"text\",\n      mode: this.mode,\n      body: textordArray\n    };\n    var colorNode = {\n      type: \"color\",\n      mode: this.mode,\n      color: this.settings.errorColor,\n      body: [textNode]\n    };\n    return colorNode;\n  }\n  /**\n   * Parses a group with optional super/subscripts.\n   */\n\n\n  parseAtom(breakOnTokenText) {\n    // The body of an atom is an implicit group, so that things like\n    // \\left(x\\right)^2 work correctly.\n    var base = this.parseGroup(\"atom\", breakOnTokenText); // In text mode, we don't have superscripts or subscripts\n\n    if (this.mode === \"text\") {\n      return base;\n    } // Note that base may be empty (i.e. null) at this point.\n\n\n    var superscript;\n    var subscript;\n\n    while (true) {\n      // Guaranteed in math mode, so eat any spaces first.\n      this.consumeSpaces(); // Lex the first token\n\n      var lex = this.fetch();\n\n      if (lex.text === \"\\\\limits\" || lex.text === \"\\\\nolimits\") {\n        // We got a limit control\n        if (base && base.type === \"op\") {\n          var limits = lex.text === \"\\\\limits\";\n          base.limits = limits;\n          base.alwaysHandleSupSub = true;\n        } else if (base && base.type === \"operatorname\" && base.alwaysHandleSupSub) {\n          var _limits = lex.text === \"\\\\limits\";\n\n          base.limits = _limits;\n        } else {\n          throw new ParseError(\"Limit controls must follow a math operator\", lex);\n        }\n\n        this.consume();\n      } else if (lex.text === \"^\") {\n        // We got a superscript start\n        if (superscript) {\n          throw new ParseError(\"Double superscript\", lex);\n        }\n\n        superscript = this.handleSupSubscript(\"superscript\");\n      } else if (lex.text === \"_\") {\n        // We got a subscript start\n        if (subscript) {\n          throw new ParseError(\"Double subscript\", lex);\n        }\n\n        subscript = this.handleSupSubscript(\"subscript\");\n      } else if (lex.text === \"'\") {\n        // We got a prime\n        if (superscript) {\n          throw new ParseError(\"Double superscript\", lex);\n        }\n\n        var prime = {\n          type: \"textord\",\n          mode: this.mode,\n          text: \"\\\\prime\"\n        }; // Many primes can be grouped together, so we handle this here\n\n        var primes = [prime];\n        this.consume(); // Keep lexing tokens until we get something that's not a prime\n\n        while (this.fetch().text === \"'\") {\n          // For each one, add another prime to the list\n          primes.push(prime);\n          this.consume();\n        } // If there's a superscript following the primes, combine that\n        // superscript in with the primes.\n\n\n        if (this.fetch().text === \"^\") {\n          primes.push(this.handleSupSubscript(\"superscript\"));\n        } // Put everything into an ordgroup as the superscript\n\n\n        superscript = {\n          type: \"ordgroup\",\n          mode: this.mode,\n          body: primes\n        };\n      } else {\n        // If it wasn't ^, _, or ', stop parsing super/subscripts\n        break;\n      }\n    } // Base must be set if superscript or subscript are set per logic above,\n    // but need to check here for type check to pass.\n\n\n    if (superscript || subscript) {\n      // If we got either a superscript or subscript, create a supsub\n      return {\n        type: \"supsub\",\n        mode: this.mode,\n        base: base,\n        sup: superscript,\n        sub: subscript\n      };\n    } else {\n      // Otherwise return the original body\n      return base;\n    }\n  }\n  /**\n   * Parses an entire function, including its base and all of its arguments.\n   */\n\n\n  parseFunction(breakOnTokenText, name) {\n    var token = this.fetch();\n    var func = token.text;\n    var funcData = functions[func];\n\n    if (!funcData) {\n      return null;\n    }\n\n    this.consume(); // consume command token\n\n    if (name && name !== \"atom\" && !funcData.allowedInArgument) {\n      throw new ParseError(\"Got function '\" + func + \"' with no arguments\" + (name ? \" as \" + name : \"\"), token);\n    } else if (this.mode === \"text\" && !funcData.allowedInText) {\n      throw new ParseError(\"Can't use function '\" + func + \"' in text mode\", token);\n    } else if (this.mode === \"math\" && funcData.allowedInMath === false) {\n      throw new ParseError(\"Can't use function '\" + func + \"' in math mode\", token);\n    }\n\n    var {\n      args,\n      optArgs\n    } = this.parseArguments(func, funcData);\n    return this.callFunction(func, args, optArgs, token, breakOnTokenText);\n  }\n  /**\n   * Call a function handler with a suitable context and arguments.\n   */\n\n\n  callFunction(name, args, optArgs, token, breakOnTokenText) {\n    var context = {\n      funcName: name,\n      parser: this,\n      token,\n      breakOnTokenText\n    };\n    var func = functions[name];\n\n    if (func && func.handler) {\n      return func.handler(context, args, optArgs);\n    } else {\n      throw new ParseError(\"No function handler for \" + name);\n    }\n  }\n  /**\n   * Parses the arguments of a function or environment\n   */\n\n\n  parseArguments(func, // Should look like \"\\name\" or \"\\begin{name}\".\n  funcData) {\n    var totalArgs = funcData.numArgs + funcData.numOptionalArgs;\n\n    if (totalArgs === 0) {\n      return {\n        args: [],\n        optArgs: []\n      };\n    }\n\n    var args = [];\n    var optArgs = [];\n\n    for (var i = 0; i < totalArgs; i++) {\n      var argType = funcData.argTypes && funcData.argTypes[i];\n      var isOptional = i < funcData.numOptionalArgs;\n\n      if (funcData.primitive && argType == null || // \\sqrt expands into primitive if optional argument doesn't exist\n      funcData.type === \"sqrt\" && i === 1 && optArgs[0] == null) {\n        argType = \"primitive\";\n      }\n\n      var arg = this.parseGroupOfType(\"argument to '\" + func + \"'\", argType, isOptional);\n\n      if (isOptional) {\n        optArgs.push(arg);\n      } else if (arg != null) {\n        args.push(arg);\n      } else {\n        // should be unreachable\n        throw new ParseError(\"Null argument, please report this as a bug\");\n      }\n    }\n\n    return {\n      args,\n      optArgs\n    };\n  }\n  /**\n   * Parses a group when the mode is changing.\n   */\n\n\n  parseGroupOfType(name, type, optional) {\n    switch (type) {\n      case \"color\":\n        return this.parseColorGroup(optional);\n\n      case \"size\":\n        return this.parseSizeGroup(optional);\n\n      case \"url\":\n        return this.parseUrlGroup(optional);\n\n      case \"math\":\n      case \"text\":\n        return this.parseArgumentGroup(optional, type);\n\n      case \"hbox\":\n        {\n          // hbox argument type wraps the argument in the equivalent of\n          // \\hbox, which is like \\text but switching to \\textstyle size.\n          var group = this.parseArgumentGroup(optional, \"text\");\n          return group != null ? {\n            type: \"styling\",\n            mode: group.mode,\n            body: [group],\n            style: \"text\" // simulate \\textstyle\n\n          } : null;\n        }\n\n      case \"raw\":\n        {\n          var token = this.parseStringGroup(\"raw\", optional);\n          return token != null ? {\n            type: \"raw\",\n            mode: \"text\",\n            string: token.text\n          } : null;\n        }\n\n      case \"primitive\":\n        {\n          if (optional) {\n            throw new ParseError(\"A primitive argument cannot be optional\");\n          }\n\n          var _group = this.parseGroup(name);\n\n          if (_group == null) {\n            throw new ParseError(\"Expected group as \" + name, this.fetch());\n          }\n\n          return _group;\n        }\n\n      case \"original\":\n      case null:\n      case undefined:\n        return this.parseArgumentGroup(optional);\n\n      default:\n        throw new ParseError(\"Unknown group type as \" + name, this.fetch());\n    }\n  }\n  /**\n   * Discard any space tokens, fetching the next non-space token.\n   */\n\n\n  consumeSpaces() {\n    while (this.fetch().text === \" \") {\n      this.consume();\n    }\n  }\n  /**\n   * Parses a group, essentially returning the string formed by the\n   * brace-enclosed tokens plus some position information.\n   */\n\n\n  parseStringGroup(modeName, // Used to describe the mode in error messages.\n  optional) {\n    var argToken = this.gullet.scanArgument(optional);\n\n    if (argToken == null) {\n      return null;\n    }\n\n    var str = \"\";\n    var nextToken;\n\n    while ((nextToken = this.fetch()).text !== \"EOF\") {\n      str += nextToken.text;\n      this.consume();\n    }\n\n    this.consume(); // consume the end of the argument\n\n    argToken.text = str;\n    return argToken;\n  }\n  /**\n   * Parses a regex-delimited group: the largest sequence of tokens\n   * whose concatenated strings match `regex`. Returns the string\n   * formed by the tokens plus some position information.\n   */\n\n\n  parseRegexGroup(regex, modeName) {\n    var firstToken = this.fetch();\n    var lastToken = firstToken;\n    var str = \"\";\n    var nextToken;\n\n    while ((nextToken = this.fetch()).text !== \"EOF\" && regex.test(str + nextToken.text)) {\n      lastToken = nextToken;\n      str += lastToken.text;\n      this.consume();\n    }\n\n    if (str === \"\") {\n      throw new ParseError(\"Invalid \" + modeName + \": '\" + firstToken.text + \"'\", firstToken);\n    }\n\n    return firstToken.range(lastToken, str);\n  }\n  /**\n   * Parses a color description.\n   */\n\n\n  parseColorGroup(optional) {\n    var res = this.parseStringGroup(\"color\", optional);\n\n    if (res == null) {\n      return null;\n    }\n\n    var match = /^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(res.text);\n\n    if (!match) {\n      throw new ParseError(\"Invalid color: '\" + res.text + \"'\", res);\n    }\n\n    var color = match[0];\n\n    if (/^[0-9a-f]{6}$/i.test(color)) {\n      // We allow a 6-digit HTML color spec without a leading \"#\".\n      // This follows the xcolor package's HTML color model.\n      // Predefined color names are all missed by this RegEx pattern.\n      color = \"#\" + color;\n    }\n\n    return {\n      type: \"color-token\",\n      mode: this.mode,\n      color\n    };\n  }\n  /**\n   * Parses a size specification, consisting of magnitude and unit.\n   */\n\n\n  parseSizeGroup(optional) {\n    var res;\n    var isBlank = false; // don't expand before parseStringGroup\n\n    this.gullet.consumeSpaces();\n\n    if (!optional && this.gullet.future().text !== \"{\") {\n      res = this.parseRegexGroup(/^[-+]? *(?:$|\\d+|\\d+\\.\\d*|\\.\\d*) *[a-z]{0,2} *$/, \"size\");\n    } else {\n      res = this.parseStringGroup(\"size\", optional);\n    }\n\n    if (!res) {\n      return null;\n    }\n\n    if (!optional && res.text.length === 0) {\n      // Because we've tested for what is !optional, this block won't\n      // affect \\kern, \\hspace, etc. It will capture the mandatory arguments\n      // to \\genfrac and \\above.\n      res.text = \"0pt\"; // Enable \\above{}\n\n      isBlank = true; // This is here specifically for \\genfrac\n    }\n\n    var match = /([-+]?) *(\\d+(?:\\.\\d*)?|\\.\\d+) *([a-z]{2})/.exec(res.text);\n\n    if (!match) {\n      throw new ParseError(\"Invalid size: '\" + res.text + \"'\", res);\n    }\n\n    var data = {\n      number: +(match[1] + match[2]),\n      // sign + magnitude, cast to number\n      unit: match[3]\n    };\n\n    if (!validUnit(data)) {\n      throw new ParseError(\"Invalid unit: '\" + data.unit + \"'\", res);\n    }\n\n    return {\n      type: \"size\",\n      mode: this.mode,\n      value: data,\n      isBlank\n    };\n  }\n  /**\n   * Parses an URL, checking escaped letters and allowed protocols,\n   * and setting the catcode of % as an active character (as in \\hyperref).\n   */\n\n\n  parseUrlGroup(optional) {\n    this.gullet.lexer.setCatcode(\"%\", 13); // active character\n\n    var res = this.parseStringGroup(\"url\", optional);\n    this.gullet.lexer.setCatcode(\"%\", 14); // comment character\n\n    if (res == null) {\n      return null;\n    } // hyperref package allows backslashes alone in href, but doesn't\n    // generate valid links in such cases; we interpret this as\n    // \"undefined\" behaviour, and keep them as-is. Some browser will\n    // replace backslashes with forward slashes.\n\n\n    var url = res.text.replace(/\\\\([#$%&~_^{}])/g, '$1');\n    return {\n      type: \"url\",\n      mode: this.mode,\n      url\n    };\n  }\n  /**\n   * Parses an argument with the mode specified.\n   */\n\n\n  parseArgumentGroup(optional, mode) {\n    var argToken = this.gullet.scanArgument(optional);\n\n    if (argToken == null) {\n      return null;\n    }\n\n    var outerMode = this.mode;\n\n    if (mode) {\n      // Switch to specified mode\n      this.switchMode(mode);\n    }\n\n    this.gullet.beginGroup();\n    var expression = this.parseExpression(false, \"EOF\"); // TODO: find an alternative way to denote the end\n\n    this.expect(\"EOF\"); // expect the end of the argument\n\n    this.gullet.endGroup();\n    var result = {\n      type: \"ordgroup\",\n      mode: this.mode,\n      loc: argToken.loc,\n      body: expression\n    };\n\n    if (mode) {\n      // Switch mode back\n      this.switchMode(outerMode);\n    }\n\n    return result;\n  }\n  /**\n   * Parses an ordinary group, which is either a single nucleus (like \"x\")\n   * or an expression in braces (like \"{x+y}\") or an implicit group, a group\n   * that starts at the current position, and ends right before a higher explicit\n   * group ends, or at EOF.\n   */\n\n\n  parseGroup(name, // For error reporting.\n  breakOnTokenText) {\n    var firstToken = this.fetch();\n    var text = firstToken.text;\n    var result; // Try to parse an open brace or \\begingroup\n\n    if (text === \"{\" || text === \"\\\\begingroup\") {\n      this.consume();\n      var groupEnd = text === \"{\" ? \"}\" : \"\\\\endgroup\";\n      this.gullet.beginGroup(); // If we get a brace, parse an expression\n\n      var expression = this.parseExpression(false, groupEnd);\n      var lastToken = this.fetch();\n      this.expect(groupEnd); // Check that we got a matching closing brace\n\n      this.gullet.endGroup();\n      result = {\n        type: \"ordgroup\",\n        mode: this.mode,\n        loc: SourceLocation.range(firstToken, lastToken),\n        body: expression,\n        // A group formed by \\begingroup...\\endgroup is a semi-simple group\n        // which doesn't affect spacing in math mode, i.e., is transparent.\n        // https://tex.stackexchange.com/questions/1930/when-should-one-\n        // use-begingroup-instead-of-bgroup\n        semisimple: text === \"\\\\begingroup\" || undefined\n      };\n    } else {\n      // If there exists a function with this name, parse the function.\n      // Otherwise, just return a nucleus\n      result = this.parseFunction(breakOnTokenText, name) || this.parseSymbol();\n\n      if (result == null && text[0] === \"\\\\\" && !implicitCommands.hasOwnProperty(text)) {\n        if (this.settings.throwOnError) {\n          throw new ParseError(\"Undefined control sequence: \" + text, firstToken);\n        }\n\n        result = this.formatUnsupportedCmd(text);\n        this.consume();\n      }\n    }\n\n    return result;\n  }\n  /**\n   * Form ligature-like combinations of characters for text mode.\n   * This includes inputs like \"--\", \"---\", \"``\" and \"''\".\n   * The result will simply replace multiple textord nodes with a single\n   * character in each value by a single textord node having multiple\n   * characters in its value.  The representation is still ASCII source.\n   * The group will be modified in place.\n   */\n\n\n  formLigatures(group) {\n    var n = group.length - 1;\n\n    for (var i = 0; i < n; ++i) {\n      var a = group[i]; // $FlowFixMe: Not every node type has a `text` property.\n\n      var v = a.text;\n\n      if (v === \"-\" && group[i + 1].text === \"-\") {\n        if (i + 1 < n && group[i + 2].text === \"-\") {\n          group.splice(i, 3, {\n            type: \"textord\",\n            mode: \"text\",\n            loc: SourceLocation.range(a, group[i + 2]),\n            text: \"---\"\n          });\n          n -= 2;\n        } else {\n          group.splice(i, 2, {\n            type: \"textord\",\n            mode: \"text\",\n            loc: SourceLocation.range(a, group[i + 1]),\n            text: \"--\"\n          });\n          n -= 1;\n        }\n      }\n\n      if ((v === \"'\" || v === \"`\") && group[i + 1].text === v) {\n        group.splice(i, 2, {\n          type: \"textord\",\n          mode: \"text\",\n          loc: SourceLocation.range(a, group[i + 1]),\n          text: v + v\n        });\n        n -= 1;\n      }\n    }\n  }\n  /**\n   * Parse a single symbol out of the string. Here, we handle single character\n   * symbols and special functions like \\verb.\n   */\n\n\n  parseSymbol() {\n    var nucleus = this.fetch();\n    var text = nucleus.text;\n\n    if (/^\\\\verb[^a-zA-Z]/.test(text)) {\n      this.consume();\n      var arg = text.slice(5);\n      var star = arg.charAt(0) === \"*\";\n\n      if (star) {\n        arg = arg.slice(1);\n      } // Lexer's tokenRegex is constructed to always have matching\n      // first/last characters.\n\n\n      if (arg.length < 2 || arg.charAt(0) !== arg.slice(-1)) {\n        throw new ParseError(\"\\\\verb assertion failed --\\n                    please report what input caused this bug\");\n      }\n\n      arg = arg.slice(1, -1); // remove first and last char\n\n      return {\n        type: \"verb\",\n        mode: \"text\",\n        body: arg,\n        star\n      };\n    } // At this point, we should have a symbol, possibly with accents.\n    // First expand any accented base symbol according to unicodeSymbols.\n\n\n    if (unicodeSymbols.hasOwnProperty(text[0]) && !symbols[this.mode][text[0]]) {\n      // This behavior is not strict (XeTeX-compatible) in math mode.\n      if (this.settings.strict && this.mode === \"math\") {\n        this.settings.reportNonstrict(\"unicodeTextInMathMode\", \"Accented Unicode text character \\\"\" + text[0] + \"\\\" used in \" + \"math mode\", nucleus);\n      }\n\n      text = unicodeSymbols[text[0]] + text.substr(1);\n    } // Strip off any combining characters\n\n\n    var match = combiningDiacriticalMarksEndRegex.exec(text);\n\n    if (match) {\n      text = text.substring(0, match.index);\n\n      if (text === 'i') {\n        text = '\\u0131'; // dotless i, in math and text mode\n      } else if (text === 'j') {\n        text = '\\u0237'; // dotless j, in math and text mode\n      }\n    } // Recognize base symbol\n\n\n    var symbol;\n\n    if (symbols[this.mode][text]) {\n      if (this.settings.strict && this.mode === 'math' && extraLatin.indexOf(text) >= 0) {\n        this.settings.reportNonstrict(\"unicodeTextInMathMode\", \"Latin-1/Unicode text character \\\"\" + text[0] + \"\\\" used in \" + \"math mode\", nucleus);\n      }\n\n      var group = symbols[this.mode][text].group;\n      var loc = SourceLocation.range(nucleus);\n      var s;\n\n      if (ATOMS.hasOwnProperty(group)) {\n        // $FlowFixMe\n        var family = group;\n        s = {\n          type: \"atom\",\n          mode: this.mode,\n          family,\n          loc,\n          text\n        };\n      } else {\n        // $FlowFixMe\n        s = {\n          type: group,\n          mode: this.mode,\n          loc,\n          text\n        };\n      } // $FlowFixMe\n\n\n      symbol = s;\n    } else if (text.charCodeAt(0) >= 0x80) {\n      // no symbol for e.g. ^\n      if (this.settings.strict) {\n        if (!supportedCodepoint(text.charCodeAt(0))) {\n          this.settings.reportNonstrict(\"unknownSymbol\", \"Unrecognized Unicode character \\\"\" + text[0] + \"\\\"\" + (\" (\" + text.charCodeAt(0) + \")\"), nucleus);\n        } else if (this.mode === \"math\") {\n          this.settings.reportNonstrict(\"unicodeTextInMathMode\", \"Unicode text character \\\"\" + text[0] + \"\\\" used in math mode\", nucleus);\n        }\n      } // All nonmathematical Unicode characters are rendered as if they\n      // are in text mode (wrapped in \\text) because that's what it\n      // takes to render them in LaTeX.  Setting `mode: this.mode` is\n      // another natural choice (the user requested math mode), but\n      // this makes it more difficult for getCharacterMetrics() to\n      // distinguish Unicode characters without metrics and those for\n      // which we want to simulate the letter M.\n\n\n      symbol = {\n        type: \"textord\",\n        mode: \"text\",\n        loc: SourceLocation.range(nucleus),\n        text\n      };\n    } else {\n      return null; // EOF, ^, _, {, }, etc.\n    }\n\n    this.consume(); // Transform combining characters into accents\n\n    if (match) {\n      for (var i = 0; i < match[0].length; i++) {\n        var accent = match[0][i];\n\n        if (!unicodeAccents[accent]) {\n          throw new ParseError(\"Unknown accent ' \" + accent + \"'\", nucleus);\n        }\n\n        var command = unicodeAccents[accent][this.mode];\n\n        if (!command) {\n          throw new ParseError(\"Accent \" + accent + \" unsupported in \" + this.mode + \" mode\", nucleus);\n        }\n\n        symbol = {\n          type: \"accent\",\n          mode: this.mode,\n          loc: SourceLocation.range(nucleus),\n          label: command,\n          isStretchy: false,\n          isShifty: true,\n          // $FlowFixMe\n          base: symbol\n        };\n      }\n    } // $FlowFixMe\n\n\n    return symbol;\n  }\n\n}\nParser.endOfExpression = [\"}\", \"\\\\endgroup\", \"\\\\end\", \"\\\\right\", \"&\"];\n\n/**\n * Provides a single function for parsing an expression using a Parser\n * TODO(emily): Remove this\n */\n\n/**\n * Parses an expression using a Parser, then returns the parsed result.\n */\nvar parseTree = function parseTree(toParse, settings) {\n  if (!(typeof toParse === 'string' || toParse instanceof String)) {\n    throw new TypeError('KaTeX can only parse string typed expression');\n  }\n\n  var parser = new Parser(toParse, settings); // Blank out any \\df@tag to avoid spurious \"Duplicate \\tag\" errors\n\n  delete parser.gullet.macros.current[\"\\\\df@tag\"];\n  var tree = parser.parse(); // Prevent a color definition from persisting between calls to katex.render().\n\n  delete parser.gullet.macros.current[\"\\\\current@color\"];\n  delete parser.gullet.macros.current[\"\\\\color\"]; // If the input used \\tag, it will set the \\df@tag macro to the tag.\n  // In this case, we separately parse the tag and wrap the tree.\n\n  if (parser.gullet.macros.get(\"\\\\df@tag\")) {\n    if (!settings.displayMode) {\n      throw new ParseError(\"\\\\tag works only in display equations\");\n    }\n\n    parser.gullet.feed(\"\\\\df@tag\");\n    tree = [{\n      type: \"tag\",\n      mode: \"text\",\n      body: tree,\n      tag: parser.parse()\n    }];\n  }\n\n  return tree;\n};\n\n/* eslint no-console:0 */\n\n/**\n * Parse and build an expression, and place that expression in the DOM node\n * given.\n */\nvar render = function render(expression, baseNode, options) {\n  baseNode.textContent = \"\";\n  var node = renderToDomTree(expression, options).toNode();\n  baseNode.appendChild(node);\n}; // KaTeX's styles don't work properly in quirks mode. Print out an error, and\n// disable rendering.\n\n\nif (typeof document !== \"undefined\") {\n  if (document.compatMode !== \"CSS1Compat\") {\n    typeof console !== \"undefined\" && console.warn(\"Warning: KaTeX doesn't work in quirks mode. Make sure your \" + \"website has a suitable doctype.\");\n\n    render = function render() {\n      throw new ParseError(\"KaTeX doesn't work in quirks mode.\");\n    };\n  }\n}\n/**\n * Parse and build an expression, and return the markup for that.\n */\n\n\nvar renderToString = function renderToString(expression, options) {\n  var markup = renderToDomTree(expression, options).toMarkup();\n  return markup;\n};\n/**\n * Parse an expression and return the parse tree.\n */\n\n\nvar generateParseTree = function generateParseTree(expression, options) {\n  var settings = new Settings(options);\n  return parseTree(expression, settings);\n};\n/**\n * If the given error is a KaTeX ParseError and options.throwOnError is false,\n * renders the invalid LaTeX as a span with hover title giving the KaTeX\n * error message.  Otherwise, simply throws the error.\n */\n\n\nvar renderError = function renderError(error, expression, options) {\n  if (options.throwOnError || !(error instanceof ParseError)) {\n    throw error;\n  }\n\n  var node = buildCommon.makeSpan([\"katex-error\"], [new SymbolNode(expression)]);\n  node.setAttribute(\"title\", error.toString());\n  node.setAttribute(\"style\", \"color:\" + options.errorColor);\n  return node;\n};\n/**\n * Generates and returns the katex build tree. This is used for advanced\n * use cases (like rendering to custom output).\n */\n\n\nvar renderToDomTree = function renderToDomTree(expression, options) {\n  var settings = new Settings(options);\n\n  try {\n    var tree = parseTree(expression, settings);\n    return buildTree(tree, expression, settings);\n  } catch (error) {\n    return renderError(error, expression, settings);\n  }\n};\n/**\n * Generates and returns the katex build tree, with just HTML (no MathML).\n * This is used for advanced use cases (like rendering to custom output).\n */\n\n\nvar renderToHTMLTree = function renderToHTMLTree(expression, options) {\n  var settings = new Settings(options);\n\n  try {\n    var tree = parseTree(expression, settings);\n    return buildHTMLTree(tree, expression, settings);\n  } catch (error) {\n    return renderError(error, expression, settings);\n  }\n};\n\nvar katex = {\n  /**\n   * Current KaTeX version\n   */\n  version: \"0.13.0\",\n\n  /**\n   * Renders the given LaTeX into an HTML+MathML combination, and adds\n   * it as a child to the specified DOM node.\n   */\n  render,\n\n  /**\n   * Renders the given LaTeX into an HTML+MathML combination string,\n   * for sending to the client.\n   */\n  renderToString,\n\n  /**\n   * KaTeX error, usually during parsing.\n   */\n  ParseError,\n\n  /**\n   * Parses the given LaTeX into KaTeX's internal parse tree structure,\n   * without rendering to HTML or MathML.\n   *\n   * NOTE: This method is not currently recommended for public use.\n   * The internal tree representation is unstable and is very likely\n   * to change. Use at your own risk.\n   */\n  __parse: generateParseTree,\n\n  /**\n   * Renders the given LaTeX into an HTML+MathML internal DOM tree\n   * representation, without flattening that representation to a string.\n   *\n   * NOTE: This method is not currently recommended for public use.\n   * The internal tree representation is unstable and is very likely\n   * to change. Use at your own risk.\n   */\n  __renderToDomTree: renderToDomTree,\n\n  /**\n   * Renders the given LaTeX into an HTML internal DOM tree representation,\n   * without MathML and without flattening that representation to a string.\n   *\n   * NOTE: This method is not currently recommended for public use.\n   * The internal tree representation is unstable and is very likely\n   * to change. Use at your own risk.\n   */\n  __renderToHTMLTree: renderToHTMLTree,\n\n  /**\n   * extends internal font metrics object with a new object\n   * each key in the new object represents a font name\n  */\n  __setFontMetrics: setFontMetrics,\n\n  /**\n   * adds a new symbol to builtin symbols table\n   */\n  __defineSymbol: defineSymbol,\n\n  /**\n   * adds a new macro to builtin macro list\n   */\n  __defineMacro: defineMacro,\n\n  /**\n   * Expose the dom tree node types, which can be useful for type checking nodes.\n   *\n   * NOTE: This method is not currently recommended for public use.\n   * The internal tree representation is unstable and is very likely\n   * to change. Use at your own risk.\n   */\n  __domTree: {\n    Span,\n    Anchor,\n    SymbolNode,\n    SvgNode,\n    PathNode,\n    LineNode\n  }\n};\n\nexport default katex;\n","import katex from '../katex.mjs';\n\n/* eslint no-constant-condition:0 */\nvar findEndOfMath = function findEndOfMath(delimiter, text, startIndex) {\n  // Adapted from\n  // https://github.com/Khan/perseus/blob/master/src/perseus-markdown.jsx\n  var index = startIndex;\n  var braceLevel = 0;\n  var delimLength = delimiter.length;\n\n  while (index < text.length) {\n    var character = text[index];\n\n    if (braceLevel <= 0 && text.slice(index, index + delimLength) === delimiter) {\n      return index;\n    } else if (character === \"\\\\\") {\n      index++;\n    } else if (character === \"{\") {\n      braceLevel++;\n    } else if (character === \"}\") {\n      braceLevel--;\n    }\n\n    index++;\n  }\n\n  return -1;\n};\n\nvar escapeRegex = function escapeRegex(string) {\n  return string.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n};\n\nvar amsRegex = /^\\\\begin{/;\n\nvar splitAtDelimiters = function splitAtDelimiters(text, delimiters) {\n  var index;\n  var data = [];\n  var regexLeft = new RegExp(\"(\" + delimiters.map(x => escapeRegex(x.left)).join(\"|\") + \")\");\n\n  while (true) {\n    index = text.search(regexLeft);\n\n    if (index === -1) {\n      break;\n    }\n\n    if (index > 0) {\n      data.push({\n        type: \"text\",\n        data: text.slice(0, index)\n      });\n      text = text.slice(index); // now text starts with delimiter\n    } // ... so this always succeeds:\n\n\n    var i = delimiters.findIndex(delim => text.startsWith(delim.left));\n    index = findEndOfMath(delimiters[i].right, text, delimiters[i].left.length);\n\n    if (index === -1) {\n      break;\n    }\n\n    var rawData = text.slice(0, index + delimiters[i].right.length);\n    var math = amsRegex.test(rawData) ? rawData : text.slice(delimiters[i].left.length, index);\n    data.push({\n      type: \"math\",\n      data: math,\n      rawData,\n      display: delimiters[i].display\n    });\n    text = text.slice(index + delimiters[i].right.length);\n  }\n\n  if (text !== \"\") {\n    data.push({\n      type: \"text\",\n      data: text\n    });\n  }\n\n  return data;\n};\n\n/* eslint no-console:0 */\n/* Note: optionsCopy is mutated by this method. If it is ever exposed in the\n * API, we should copy it before mutating.\n */\n\nvar renderMathInText = function renderMathInText(text, optionsCopy) {\n  var data = splitAtDelimiters(text, optionsCopy.delimiters);\n\n  if (data.length === 1 && data[0].type === 'text') {\n    // There is no formula in the text.\n    // Let's return null which means there is no need to replace\n    // the current text node with a new one.\n    return null;\n  }\n\n  var fragment = document.createDocumentFragment();\n\n  for (var i = 0; i < data.length; i++) {\n    if (data[i].type === \"text\") {\n      fragment.appendChild(document.createTextNode(data[i].data));\n    } else {\n      var span = document.createElement(\"span\");\n      var math = data[i].data; // Override any display mode defined in the settings with that\n      // defined by the text itself\n\n      optionsCopy.displayMode = data[i].display;\n\n      try {\n        if (optionsCopy.preProcess) {\n          math = optionsCopy.preProcess(math);\n        }\n\n        katex.render(math, span, optionsCopy);\n      } catch (e) {\n        if (!(e instanceof katex.ParseError)) {\n          throw e;\n        }\n\n        optionsCopy.errorCallback(\"KaTeX auto-render: Failed to parse `\" + data[i].data + \"` with \", e);\n        fragment.appendChild(document.createTextNode(data[i].rawData));\n        continue;\n      }\n\n      fragment.appendChild(span);\n    }\n  }\n\n  return fragment;\n};\n\nvar renderElem = function renderElem(elem, optionsCopy) {\n  for (var i = 0; i < elem.childNodes.length; i++) {\n    var childNode = elem.childNodes[i];\n\n    if (childNode.nodeType === 3) {\n      // Text node\n      var frag = renderMathInText(childNode.textContent, optionsCopy);\n\n      if (frag) {\n        i += frag.childNodes.length - 1;\n        elem.replaceChild(frag, childNode);\n      }\n    } else if (childNode.nodeType === 1) {\n      (function () {\n        // Element node\n        var className = ' ' + childNode.className + ' ';\n        var shouldRender = optionsCopy.ignoredTags.indexOf(childNode.nodeName.toLowerCase()) === -1 && optionsCopy.ignoredClasses.every(x => className.indexOf(' ' + x + ' ') === -1);\n\n        if (shouldRender) {\n          renderElem(childNode, optionsCopy);\n        }\n      })();\n    } // Otherwise, it's something else, and ignore it.\n\n  }\n};\n\nvar renderMathInElement = function renderMathInElement(elem, options) {\n  if (!elem) {\n    throw new Error(\"No element provided to render\");\n  }\n\n  var optionsCopy = {}; // Object.assign(optionsCopy, option)\n\n  for (var option in options) {\n    if (options.hasOwnProperty(option)) {\n      optionsCopy[option] = options[option];\n    }\n  } // default options\n\n\n  optionsCopy.delimiters = optionsCopy.delimiters || [{\n    left: \"$$\",\n    right: \"$$\",\n    display: true\n  }, {\n    left: \"\\\\(\",\n    right: \"\\\\)\",\n    display: false\n  }, // LaTeX uses $$, but it ruins the display of normal `$` in text:\n  // {left: \"$\", right: \"$\", display: false},\n  // $ must come after $$\n  // Render AMS environments even if outside $$$$ delimiters.\n  {\n    left: \"\\\\begin{equation}\",\n    right: \"\\\\end{equation}\",\n    display: true\n  }, {\n    left: \"\\\\begin{align}\",\n    right: \"\\\\end{align}\",\n    display: true\n  }, {\n    left: \"\\\\begin{alignat}\",\n    right: \"\\\\end{alignat}\",\n    display: true\n  }, {\n    left: \"\\\\begin{gather}\",\n    right: \"\\\\end{gather}\",\n    display: true\n  }, {\n    left: \"\\\\begin{CD}\",\n    right: \"\\\\end{CD}\",\n    display: true\n  }, {\n    left: \"\\\\[\",\n    right: \"\\\\]\",\n    display: true\n  }];\n  optionsCopy.ignoredTags = optionsCopy.ignoredTags || [\"script\", \"noscript\", \"style\", \"textarea\", \"pre\", \"code\", \"option\"];\n  optionsCopy.ignoredClasses = optionsCopy.ignoredClasses || [];\n  optionsCopy.errorCallback = optionsCopy.errorCallback || console.error; // Enable sharing of global macros defined via `\\gdef` between different\n  // math elements within a single call to `renderMathInElement`.\n\n  optionsCopy.macros = optionsCopy.macros || {};\n  renderElem(elem, optionsCopy);\n};\n\nexport default renderMathInElement;\n","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nimport capitalize from '../utils/capitalize';\nimport unsupportedProp from '../utils/unsupportedProp';\nexport var styles = function styles(theme) {\n  var _extends2;\n\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.button, (_extends2 = {\n      maxWidth: 264,\n      minWidth: 72,\n      position: 'relative',\n      boxSizing: 'border-box',\n      minHeight: 48,\n      flexShrink: 0,\n      padding: '6px 12px'\n    }, _defineProperty(_extends2, theme.breakpoints.up('sm'), {\n      padding: '6px 24px'\n    }), _defineProperty(_extends2, \"overflow\", 'hidden'), _defineProperty(_extends2, \"whiteSpace\", 'normal'), _defineProperty(_extends2, \"textAlign\", 'center'), _defineProperty(_extends2, theme.breakpoints.up('sm'), {\n      minWidth: 160\n    }), _extends2)),\n\n    /* Styles applied to the root element if both `icon` and `label` are provided. */\n    labelIcon: {\n      minHeight: 72,\n      paddingTop: 9,\n      '& $wrapper > *:first-child': {\n        marginBottom: 6\n      }\n    },\n\n    /* Styles applied to the root element if the parent [`Tabs`](/api/tabs/) has `textColor=\"inherit\"`. */\n    textColorInherit: {\n      color: 'inherit',\n      opacity: 0.7,\n      '&$selected': {\n        opacity: 1\n      },\n      '&$disabled': {\n        opacity: 0.5\n      }\n    },\n\n    /* Styles applied to the root element if the parent [`Tabs`](/api/tabs/) has `textColor=\"primary\"`. */\n    textColorPrimary: {\n      color: theme.palette.text.secondary,\n      '&$selected': {\n        color: theme.palette.primary.main\n      },\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    },\n\n    /* Styles applied to the root element if the parent [`Tabs`](/api/tabs/) has `textColor=\"secondary\"`. */\n    textColorSecondary: {\n      color: theme.palette.text.secondary,\n      '&$selected': {\n        color: theme.palette.secondary.main\n      },\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    },\n\n    /* Pseudo-class applied to the root element if `selected={true}` (controlled by the Tabs component). */\n    selected: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}` (controlled by the Tabs component). */\n    disabled: {},\n\n    /* Styles applied to the root element if `fullWidth={true}` (controlled by the Tabs component). */\n    fullWidth: {\n      flexShrink: 1,\n      flexGrow: 1,\n      flexBasis: 0,\n      maxWidth: 'none'\n    },\n\n    /* Styles applied to the root element if `wrapped={true}`. */\n    wrapped: {\n      fontSize: theme.typography.pxToRem(12),\n      lineHeight: 1.5\n    },\n\n    /* Styles applied to the `icon` and `label`'s wrapper element. */\n    wrapper: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%',\n      flexDirection: 'column'\n    }\n  };\n};\nvar Tab = /*#__PURE__*/React.forwardRef(function Tab(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      fullWidth = props.fullWidth,\n      icon = props.icon,\n      indicator = props.indicator,\n      label = props.label,\n      onChange = props.onChange,\n      onClick = props.onClick,\n      onFocus = props.onFocus,\n      selected = props.selected,\n      selectionFollowsFocus = props.selectionFollowsFocus,\n      _props$textColor = props.textColor,\n      textColor = _props$textColor === void 0 ? 'inherit' : _props$textColor,\n      value = props.value,\n      _props$wrapped = props.wrapped,\n      wrapped = _props$wrapped === void 0 ? false : _props$wrapped,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"disabled\", \"disableFocusRipple\", \"fullWidth\", \"icon\", \"indicator\", \"label\", \"onChange\", \"onClick\", \"onFocus\", \"selected\", \"selectionFollowsFocus\", \"textColor\", \"value\", \"wrapped\"]);\n\n  var handleClick = function handleClick(event) {\n    if (onChange) {\n      onChange(event, value);\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  var handleFocus = function handleFocus(event) {\n    if (selectionFollowsFocus && !selected && onChange) {\n      onChange(event, value);\n    }\n\n    if (onFocus) {\n      onFocus(event);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    focusRipple: !disableFocusRipple,\n    className: clsx(classes.root, classes[\"textColor\".concat(capitalize(textColor))], className, disabled && classes.disabled, selected && classes.selected, label && icon && classes.labelIcon, fullWidth && classes.fullWidth, wrapped && classes.wrapped),\n    ref: ref,\n    role: \"tab\",\n    \"aria-selected\": selected,\n    disabled: disabled,\n    onClick: handleClick,\n    onFocus: handleFocus,\n    tabIndex: selected ? 0 : -1\n  }, other), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.wrapper\n  }, icon, label), indicator);\n});\nprocess.env.NODE_ENV !== \"production\" ? Tab.propTypes = {\n  /**\n   * This prop isn't supported.\n   * Use the `component` prop if you need to change the children structure.\n   */\n  children: unsupportedProp,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the tab will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the  keyboard focus ripple will be disabled.\n   */\n  disableFocusRipple: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  fullWidth: PropTypes.bool,\n\n  /**\n   * The icon element.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * @ignore\n   * For server-side rendering consideration, we let the selected tab\n   * render the indicator.\n   */\n  indicator: PropTypes.node,\n\n  /**\n   * The label element.\n   */\n  label: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  selected: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  selectionFollowsFocus: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  textColor: PropTypes.oneOf(['secondary', 'primary', 'inherit']),\n\n  /**\n   * You can provide your own value. Otherwise, we fallback to the child position index.\n   */\n  value: PropTypes.any,\n\n  /**\n   * Tab labels appear in a single row.\n   * They can use a second line if needed.\n   */\n  wrapped: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTab'\n})(Tab);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { chainPropTypes, getDisplayName } from '@material-ui/utils';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport makeStyles from '../makeStyles';\n\nfunction omit(input, fields) {\n  var output = {};\n  Object.keys(input).forEach(function (prop) {\n    if (fields.indexOf(prop) === -1) {\n      output[prop] = input[prop];\n    }\n  });\n  return output;\n} // styled-components's API removes the mapping between components and styles.\n// Using components as a low-level styling construct can be simpler.\n\n\nexport default function styled(Component) {\n  var componentCreator = function componentCreator(style) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var name = options.name,\n        stylesOptions = _objectWithoutProperties(options, [\"name\"]);\n\n    if (process.env.NODE_ENV !== 'production' && Component === undefined) {\n      throw new Error(['You are calling styled(Component)(style) with an undefined component.', 'You may have forgotten to import it.'].join('\\n'));\n    }\n\n    var classNamePrefix = name;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!name) {\n        // Provide a better DX outside production.\n        var displayName = getDisplayName(Component);\n\n        if (displayName !== undefined) {\n          classNamePrefix = displayName;\n        }\n      }\n    }\n\n    var stylesOrCreator = typeof style === 'function' ? function (theme) {\n      return {\n        root: function root(props) {\n          return style(_extends({\n            theme: theme\n          }, props));\n        }\n      };\n    } : {\n      root: style\n    };\n    var useStyles = makeStyles(stylesOrCreator, _extends({\n      Component: Component,\n      name: name || Component.displayName,\n      classNamePrefix: classNamePrefix\n    }, stylesOptions));\n    var filterProps;\n    var propTypes = {};\n\n    if (style.filterProps) {\n      filterProps = style.filterProps;\n      delete style.filterProps;\n    }\n    /* eslint-disable react/forbid-foreign-prop-types */\n\n\n    if (style.propTypes) {\n      propTypes = style.propTypes;\n      delete style.propTypes;\n    }\n    /* eslint-enable react/forbid-foreign-prop-types */\n\n\n    var StyledComponent = /*#__PURE__*/React.forwardRef(function StyledComponent(props, ref) {\n      var children = props.children,\n          classNameProp = props.className,\n          clone = props.clone,\n          ComponentProp = props.component,\n          other = _objectWithoutProperties(props, [\"children\", \"className\", \"clone\", \"component\"]);\n\n      var classes = useStyles(props);\n      var className = clsx(classes.root, classNameProp);\n      var spread = other;\n\n      if (filterProps) {\n        spread = omit(spread, filterProps);\n      }\n\n      if (clone) {\n        return /*#__PURE__*/React.cloneElement(children, _extends({\n          className: clsx(children.props.className, className)\n        }, spread));\n      }\n\n      if (typeof children === 'function') {\n        return children(_extends({\n          className: className\n        }, spread));\n      }\n\n      var FinalComponent = ComponentProp || Component;\n      return /*#__PURE__*/React.createElement(FinalComponent, _extends({\n        ref: ref,\n        className: className\n      }, spread), children);\n    });\n    process.env.NODE_ENV !== \"production\" ? StyledComponent.propTypes = _extends({\n      /**\n       * A render function or node.\n       */\n      children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n      /**\n       * @ignore\n       */\n      className: PropTypes.string,\n\n      /**\n       * If `true`, the component will recycle it's children HTML element.\n       * It's using `React.cloneElement` internally.\n       *\n       * This prop will be deprecated and removed in v5\n       */\n      clone: chainPropTypes(PropTypes.bool, function (props) {\n        if (props.clone && props.component) {\n          return new Error('You can not use the clone and component prop at the same time.');\n        }\n\n        return null;\n      }),\n\n      /**\n       * The component used for the root node.\n       * Either a string to use a HTML element or a component.\n       */\n      component: PropTypes\n      /* @typescript-to-proptypes-ignore */\n      .elementType\n    }, propTypes) : void 0;\n\n    if (process.env.NODE_ENV !== 'production') {\n      StyledComponent.displayName = \"Styled(\".concat(classNamePrefix, \")\");\n    }\n\n    hoistNonReactStatics(StyledComponent, Component);\n    return StyledComponent;\n  };\n\n  return componentCreator;\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ListItem from '../ListItem';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body1, _defineProperty({\n      minHeight: 48,\n      paddingTop: 6,\n      paddingBottom: 6,\n      boxSizing: 'border-box',\n      width: 'auto',\n      overflow: 'hidden',\n      whiteSpace: 'nowrap'\n    }, theme.breakpoints.up('sm'), {\n      minHeight: 'auto'\n    })),\n    // TODO v5: remove\n\n    /* Styles applied to the root element if `disableGutters={false}`. */\n    gutters: {},\n\n    /* Styles applied to the root element if `selected={true}`. */\n    selected: {},\n\n    /* Styles applied to the root element if dense. */\n    dense: _extends({}, theme.typography.body2, {\n      minHeight: 'auto'\n    })\n  };\n};\nvar MenuItem = /*#__PURE__*/React.forwardRef(function MenuItem(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      component = _props$component === void 0 ? 'li' : _props$component,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      ListItemClasses = props.ListItemClasses,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'menuitem' : _props$role,\n      selected = props.selected,\n      tabIndexProp = props.tabIndex,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\", \"disableGutters\", \"ListItemClasses\", \"role\", \"selected\", \"tabIndex\"]);\n\n  var tabIndex;\n\n  if (!props.disabled) {\n    tabIndex = tabIndexProp !== undefined ? tabIndexProp : -1;\n  }\n\n  return /*#__PURE__*/React.createElement(ListItem, _extends({\n    button: true,\n    role: role,\n    tabIndex: tabIndex,\n    component: component,\n    selected: selected,\n    disableGutters: disableGutters,\n    classes: _extends({\n      dense: classes.dense\n    }, ListItemClasses),\n    className: clsx(classes.root, className, selected && classes.selected, !disableGutters && classes.gutters),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? MenuItem.propTypes = {\n  /**\n   * Menu item contents.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, compact vertical padding designed for keyboard and mouse input will be used.\n   */\n  dense: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the left and right padding is removed.\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * `classes` prop applied to the [`ListItem`](/api/list-item/) element.\n   */\n  ListItemClasses: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  role: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  selected: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  tabIndex: PropTypes.number\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiMenuItem'\n})(MenuItem);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nimport isMuiElement from '../utils/isMuiElement';\nimport useForkRef from '../utils/useForkRef';\nimport ListContext from '../List/ListContext';\nimport * as ReactDOM from 'react-dom';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the (normally root) `component` element. May be wrapped by a `container`. */\n    root: {\n      display: 'flex',\n      justifyContent: 'flex-start',\n      alignItems: 'center',\n      position: 'relative',\n      textDecoration: 'none',\n      width: '100%',\n      boxSizing: 'border-box',\n      textAlign: 'left',\n      paddingTop: 8,\n      paddingBottom: 8,\n      '&$focusVisible': {\n        backgroundColor: theme.palette.action.selected\n      },\n      '&$selected, &$selected:hover': {\n        backgroundColor: theme.palette.action.selected\n      },\n      '&$disabled': {\n        opacity: 0.5\n      }\n    },\n\n    /* Styles applied to the `container` element if `children` includes `ListItemSecondaryAction`. */\n    container: {\n      position: 'relative'\n    },\n\n    /* Pseudo-class applied to the `component`'s `focusVisibleClassName` prop if `button={true}`. */\n    focusVisible: {},\n\n    /* Styles applied to the `component` element if dense. */\n    dense: {\n      paddingTop: 4,\n      paddingBottom: 4\n    },\n\n    /* Styles applied to the `component` element if `alignItems=\"flex-start\"`. */\n    alignItemsFlexStart: {\n      alignItems: 'flex-start'\n    },\n\n    /* Pseudo-class applied to the inner `component` element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the inner `component` element if `divider={true}`. */\n    divider: {\n      borderBottom: \"1px solid \".concat(theme.palette.divider),\n      backgroundClip: 'padding-box'\n    },\n\n    /* Styles applied to the inner `component` element if `disableGutters={false}`. */\n    gutters: {\n      paddingLeft: 16,\n      paddingRight: 16\n    },\n\n    /* Styles applied to the inner `component` element if `button={true}`. */\n    button: {\n      transition: theme.transitions.create('background-color', {\n        duration: theme.transitions.duration.shortest\n      }),\n      '&:hover': {\n        textDecoration: 'none',\n        backgroundColor: theme.palette.action.hover,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Styles applied to the `component` element if `children` includes `ListItemSecondaryAction`. */\n    secondaryAction: {\n      // Add some space to avoid collision as `ListItemSecondaryAction`\n      // is absolutely positioned.\n      paddingRight: 48\n    },\n\n    /* Pseudo-class applied to the root element if `selected={true}`. */\n    selected: {}\n  };\n};\nvar useEnhancedEffect = typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\n/**\n * Uses an additional container component if `ListItemSecondaryAction` is the last child.\n */\n\nvar ListItem = /*#__PURE__*/React.forwardRef(function ListItem(props, ref) {\n  var _props$alignItems = props.alignItems,\n      alignItems = _props$alignItems === void 0 ? 'center' : _props$alignItems,\n      _props$autoFocus = props.autoFocus,\n      autoFocus = _props$autoFocus === void 0 ? false : _props$autoFocus,\n      _props$button = props.button,\n      button = _props$button === void 0 ? false : _props$button,\n      childrenProp = props.children,\n      classes = props.classes,\n      className = props.className,\n      componentProp = props.component,\n      _props$ContainerCompo = props.ContainerComponent,\n      ContainerComponent = _props$ContainerCompo === void 0 ? 'li' : _props$ContainerCompo,\n      _props$ContainerProps = props.ContainerProps;\n  _props$ContainerProps = _props$ContainerProps === void 0 ? {} : _props$ContainerProps;\n\n  var ContainerClassName = _props$ContainerProps.className,\n      ContainerProps = _objectWithoutProperties(_props$ContainerProps, [\"className\"]),\n      _props$dense = props.dense,\n      dense = _props$dense === void 0 ? false : _props$dense,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      _props$divider = props.divider,\n      divider = _props$divider === void 0 ? false : _props$divider,\n      focusVisibleClassName = props.focusVisibleClassName,\n      _props$selected = props.selected,\n      selected = _props$selected === void 0 ? false : _props$selected,\n      other = _objectWithoutProperties(props, [\"alignItems\", \"autoFocus\", \"button\", \"children\", \"classes\", \"className\", \"component\", \"ContainerComponent\", \"ContainerProps\", \"dense\", \"disabled\", \"disableGutters\", \"divider\", \"focusVisibleClassName\", \"selected\"]);\n\n  var context = React.useContext(ListContext);\n  var childContext = {\n    dense: dense || context.dense || false,\n    alignItems: alignItems\n  };\n  var listItemRef = React.useRef(null);\n  useEnhancedEffect(function () {\n    if (autoFocus) {\n      if (listItemRef.current) {\n        listItemRef.current.focus();\n      } else if (process.env.NODE_ENV !== 'production') {\n        console.error('Material-UI: Unable to set focus to a ListItem whose component has not been rendered.');\n      }\n    }\n  }, [autoFocus]);\n  var children = React.Children.toArray(childrenProp);\n  var hasSecondaryAction = children.length && isMuiElement(children[children.length - 1], ['ListItemSecondaryAction']);\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    listItemRef.current = ReactDOM.findDOMNode(instance);\n  }, []);\n  var handleRef = useForkRef(handleOwnRef, ref);\n\n  var componentProps = _extends({\n    className: clsx(classes.root, className, childContext.dense && classes.dense, !disableGutters && classes.gutters, divider && classes.divider, disabled && classes.disabled, button && classes.button, alignItems !== \"center\" && classes.alignItemsFlexStart, hasSecondaryAction && classes.secondaryAction, selected && classes.selected),\n    disabled: disabled\n  }, other);\n\n  var Component = componentProp || 'li';\n\n  if (button) {\n    componentProps.component = componentProp || 'div';\n    componentProps.focusVisibleClassName = clsx(classes.focusVisible, focusVisibleClassName);\n    Component = ButtonBase;\n  }\n\n  if (hasSecondaryAction) {\n    // Use div by default.\n    Component = !componentProps.component && !componentProp ? 'div' : Component; // Avoid nesting of li > li.\n\n    if (ContainerComponent === 'li') {\n      if (Component === 'li') {\n        Component = 'div';\n      } else if (componentProps.component === 'li') {\n        componentProps.component = 'div';\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(ListContext.Provider, {\n      value: childContext\n    }, /*#__PURE__*/React.createElement(ContainerComponent, _extends({\n      className: clsx(classes.container, ContainerClassName),\n      ref: handleRef\n    }, ContainerProps), /*#__PURE__*/React.createElement(Component, componentProps, children), children.pop()));\n  }\n\n  return /*#__PURE__*/React.createElement(ListContext.Provider, {\n    value: childContext\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    ref: handleRef\n  }, componentProps), children));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItem.propTypes = {\n  /**\n   * Defines the `align-items` style property.\n   */\n  alignItems: PropTypes.oneOf(['flex-start', 'center']),\n\n  /**\n   * If `true`, the list item will be focused during the first mount.\n   * Focus will also be triggered if the value changes from false to true.\n   */\n  autoFocus: PropTypes.bool,\n\n  /**\n   * If `true`, the list item will be a button (using `ButtonBase`). Props intended\n   * for `ButtonBase` can then be applied to `ListItem`.\n   */\n  button: PropTypes.bool,\n\n  /**\n   * The content of the component. If a `ListItemSecondaryAction` is used it must\n   * be the last child.\n   */\n  children: chainPropTypes(PropTypes.node, function (props) {\n    var children = React.Children.toArray(props.children); // React.Children.toArray(props.children).findLastIndex(isListItemSecondaryAction)\n\n    var secondaryActionIndex = -1;\n\n    for (var i = children.length - 1; i >= 0; i -= 1) {\n      var child = children[i];\n\n      if (isMuiElement(child, ['ListItemSecondaryAction'])) {\n        secondaryActionIndex = i;\n        break;\n      }\n    } //  is ListItemSecondaryAction the last child of ListItem\n\n\n    if (secondaryActionIndex !== -1 && secondaryActionIndex !== children.length - 1) {\n      return new Error('Material-UI: You used an element after ListItemSecondaryAction. ' + 'For ListItem to detect that it has a secondary action ' + 'you must pass it as the last child to ListItem.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   * By default, it's a `li` when `button` is `false` and a `div` when `button` is `true`.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * The container component used when a `ListItemSecondaryAction` is the last child.\n   */\n  ContainerComponent: PropTypes.elementType,\n\n  /**\n   * Props applied to the container component if used.\n   */\n  ContainerProps: PropTypes.object,\n\n  /**\n   * If `true`, compact vertical padding designed for keyboard and mouse input will be used.\n   */\n  dense: PropTypes.bool,\n\n  /**\n   * If `true`, the list item will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the left and right padding is removed.\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * If `true`, a 1px light border is added to the bottom of the list item.\n   */\n  divider: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * Use to apply selected styling.\n   */\n  selected: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListItem'\n})(ListItem);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport capitalize from '../utils/capitalize';\nimport { fade } from '../styles/colorManipulator';\nimport withStyles from '../styles/withStyles';\nimport Button from '../Button'; // Force a side effect so we don't have any override priority issue.\n// eslint-disable-next-line no-unused-expressions\n\nButton.styles;\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      borderRadius: theme.shape.borderRadius\n    },\n\n    /* Styles applied to the root element if `variant=\"contained\"`. */\n    contained: {\n      boxShadow: theme.shadows[2]\n    },\n\n    /* Styles applied to the root element if `disableElevation={true}`. */\n    disableElevation: {\n      boxShadow: 'none'\n    },\n\n    /* Pseudo-class applied to child elements if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the root element if `fullWidth={true}`. */\n    fullWidth: {\n      width: '100%'\n    },\n\n    /* Styles applied to the root element if `orientation=\"vertical\"`. */\n    vertical: {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the children. */\n    grouped: {\n      minWidth: 40\n    },\n\n    /* Styles applied to the children if `orientation=\"horizontal\"`. */\n    groupedHorizontal: {\n      '&:not(:first-child)': {\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0\n      },\n      '&:not(:last-child)': {\n        borderTopRightRadius: 0,\n        borderBottomRightRadius: 0\n      }\n    },\n\n    /* Styles applied to the children if `orientation=\"vertical\"`. */\n    groupedVertical: {\n      '&:not(:first-child)': {\n        borderTopRightRadius: 0,\n        borderTopLeftRadius: 0\n      },\n      '&:not(:last-child)': {\n        borderBottomRightRadius: 0,\n        borderBottomLeftRadius: 0\n      }\n    },\n\n    /* Styles applied to the children if `variant=\"text\"`. */\n    groupedText: {},\n\n    /* Styles applied to the children if `variant=\"text\"` and `orientation=\"horizontal\"`. */\n    groupedTextHorizontal: {\n      '&:not(:last-child)': {\n        borderRight: \"1px solid \".concat(theme.palette.type === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)')\n      }\n    },\n\n    /* Styles applied to the children if `variant=\"text\"` and `orientation=\"vertical\"`. */\n    groupedTextVertical: {\n      '&:not(:last-child)': {\n        borderBottom: \"1px solid \".concat(theme.palette.type === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)')\n      }\n    },\n\n    /* Styles applied to the children if `variant=\"text\"` and `color=\"primary\"`. */\n    groupedTextPrimary: {\n      '&:not(:last-child)': {\n        borderColor: fade(theme.palette.primary.main, 0.5)\n      }\n    },\n\n    /* Styles applied to the children if `variant=\"text\"` and `color=\"secondary\"`. */\n    groupedTextSecondary: {\n      '&:not(:last-child)': {\n        borderColor: fade(theme.palette.secondary.main, 0.5)\n      }\n    },\n\n    /* Styles applied to the children if `variant=\"outlined\"`. */\n    groupedOutlined: {},\n\n    /* Styles applied to the children if `variant=\"outlined\"` and `orientation=\"horizontal\"`. */\n    groupedOutlinedHorizontal: {\n      '&:not(:first-child)': {\n        marginLeft: -1\n      },\n      '&:not(:last-child)': {\n        borderRightColor: 'transparent'\n      }\n    },\n\n    /* Styles applied to the children if `variant=\"outlined\"` and `orientation=\"vertical\"`. */\n    groupedOutlinedVertical: {\n      '&:not(:first-child)': {\n        marginTop: -1\n      },\n      '&:not(:last-child)': {\n        borderBottomColor: 'transparent'\n      }\n    },\n\n    /* Styles applied to the children if `variant=\"outlined\"` and `color=\"primary\"`. */\n    groupedOutlinedPrimary: {\n      '&:hover': {\n        borderColor: theme.palette.primary.main\n      }\n    },\n\n    /* Styles applied to the children if `variant=\"outlined\"` and `color=\"secondary\"`. */\n    groupedOutlinedSecondary: {\n      '&:hover': {\n        borderColor: theme.palette.secondary.main\n      }\n    },\n\n    /* Styles applied to the children if `variant=\"contained\"`. */\n    groupedContained: {\n      boxShadow: 'none'\n    },\n\n    /* Styles applied to the children if `variant=\"contained\"` and `orientation=\"horizontal\"`. */\n    groupedContainedHorizontal: {\n      '&:not(:last-child)': {\n        borderRight: \"1px solid \".concat(theme.palette.grey[400]),\n        '&$disabled': {\n          borderRight: \"1px solid \".concat(theme.palette.action.disabled)\n        }\n      }\n    },\n\n    /* Styles applied to the children if `variant=\"contained\"` and `orientation=\"vertical\"`. */\n    groupedContainedVertical: {\n      '&:not(:last-child)': {\n        borderBottom: \"1px solid \".concat(theme.palette.grey[400]),\n        '&$disabled': {\n          borderBottom: \"1px solid \".concat(theme.palette.action.disabled)\n        }\n      }\n    },\n\n    /* Styles applied to the children if `variant=\"contained\"` and `color=\"primary\"`. */\n    groupedContainedPrimary: {\n      '&:not(:last-child)': {\n        borderColor: theme.palette.primary.dark\n      }\n    },\n\n    /* Styles applied to the children if `variant=\"contained\"` and `color=\"secondary\"`. */\n    groupedContainedSecondary: {\n      '&:not(:last-child)': {\n        borderColor: theme.palette.secondary.dark\n      }\n    }\n  };\n};\nvar ButtonGroup = /*#__PURE__*/React.forwardRef(function ButtonGroup(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableElevati = props.disableElevation,\n      disableElevation = _props$disableElevati === void 0 ? false : _props$disableElevati,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      _props$disableRipple = props.disableRipple,\n      disableRipple = _props$disableRipple === void 0 ? false : _props$disableRipple,\n      _props$fullWidth = props.fullWidth,\n      fullWidth = _props$fullWidth === void 0 ? false : _props$fullWidth,\n      _props$orientation = props.orientation,\n      orientation = _props$orientation === void 0 ? 'horizontal' : _props$orientation,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'outlined' : _props$variant,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"color\", \"component\", \"disabled\", \"disableElevation\", \"disableFocusRipple\", \"disableRipple\", \"fullWidth\", \"orientation\", \"size\", \"variant\"]);\n\n  var buttonClassName = clsx(classes.grouped, classes[\"grouped\".concat(capitalize(orientation))], classes[\"grouped\".concat(capitalize(variant))], classes[\"grouped\".concat(capitalize(variant)).concat(capitalize(orientation))], classes[\"grouped\".concat(capitalize(variant)).concat(color !== 'default' ? capitalize(color) : '')], disabled && classes.disabled);\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    role: \"group\",\n    className: clsx(classes.root, className, fullWidth && classes.fullWidth, disableElevation && classes.disableElevation, variant === 'contained' && classes.contained, orientation === 'vertical' && classes.vertical),\n    ref: ref\n  }, other), React.Children.map(children, function (child) {\n    if (! /*#__PURE__*/React.isValidElement(child)) {\n      return null;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFragment(child)) {\n        console.error([\"Material-UI: The ButtonGroup component doesn't accept a Fragment as a child.\", 'Consider providing an array instead.'].join('\\n'));\n      }\n    }\n\n    return /*#__PURE__*/React.cloneElement(child, {\n      className: clsx(buttonClassName, child.props.className),\n      color: child.props.color || color,\n      disabled: child.props.disabled || disabled,\n      disableElevation: child.props.disableElevation || disableElevation,\n      disableFocusRipple: disableFocusRipple,\n      disableRipple: disableRipple,\n      fullWidth: fullWidth,\n      size: child.props.size || size,\n      variant: child.props.variant || variant\n    });\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? ButtonGroup.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the button group.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, the buttons will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, no elevation is used.\n   */\n  disableElevation: PropTypes.bool,\n\n  /**\n   * If `true`, the button keyboard focus ripple will be disabled.\n   */\n  disableFocusRipple: PropTypes.bool,\n\n  /**\n   * If `true`, the button ripple effect will be disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * If `true`, the buttons will take up the full width of its container.\n   */\n  fullWidth: PropTypes.bool,\n\n  /**\n   * The group orientation (layout flow direction).\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n  /**\n   * The size of the button.\n   * `small` is equivalent to the dense button styling.\n   */\n  size: PropTypes.oneOf(['large', 'medium', 'small']),\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['contained', 'outlined', 'text'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiButtonGroup'\n})(ButtonGroup);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { fade } from '../styles/colorManipulator';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      height: 1,\n      margin: 0,\n      // Reset browser default style.\n      border: 'none',\n      flexShrink: 0,\n      backgroundColor: theme.palette.divider\n    },\n\n    /* Styles applied to the root element if `absolute={true}`. */\n    absolute: {\n      position: 'absolute',\n      bottom: 0,\n      left: 0,\n      width: '100%'\n    },\n\n    /* Styles applied to the root element if `variant=\"inset\"`. */\n    inset: {\n      marginLeft: 72\n    },\n\n    /* Styles applied to the root element if `light={true}`. */\n    light: {\n      backgroundColor: fade(theme.palette.divider, 0.08)\n    },\n\n    /* Styles applied to the root element if `variant=\"middle\"`. */\n    middle: {\n      marginLeft: theme.spacing(2),\n      marginRight: theme.spacing(2)\n    },\n\n    /* Styles applied to the root element if `orientation=\"vertical\"`. */\n    vertical: {\n      height: '100%',\n      width: 1\n    },\n\n    /* Styles applied to the root element if `flexItem={true}`. */\n    flexItem: {\n      alignSelf: 'stretch',\n      height: 'auto'\n    }\n  };\n};\nvar Divider = /*#__PURE__*/React.forwardRef(function Divider(props, ref) {\n  var _props$absolute = props.absolute,\n      absolute = _props$absolute === void 0 ? false : _props$absolute,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'hr' : _props$component,\n      _props$flexItem = props.flexItem,\n      flexItem = _props$flexItem === void 0 ? false : _props$flexItem,\n      _props$light = props.light,\n      light = _props$light === void 0 ? false : _props$light,\n      _props$orientation = props.orientation,\n      orientation = _props$orientation === void 0 ? 'horizontal' : _props$orientation,\n      _props$role = props.role,\n      role = _props$role === void 0 ? Component !== 'hr' ? 'separator' : undefined : _props$role,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'fullWidth' : _props$variant,\n      other = _objectWithoutProperties(props, [\"absolute\", \"classes\", \"className\", \"component\", \"flexItem\", \"light\", \"orientation\", \"role\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, variant !== 'fullWidth' && classes[variant], absolute && classes.absolute, flexItem && classes.flexItem, light && classes.light, orientation === 'vertical' && classes.vertical),\n    role: role,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Divider.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Absolutely position the element.\n   */\n  absolute: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, a vertical divider will have the correct height when used in flex container.\n   * (By default, a vertical divider will have a calculated height of `0px` if it is the child of a flex container.)\n   */\n  flexItem: PropTypes.bool,\n\n  /**\n   * If `true`, the divider will have a lighter color.\n   */\n  light: PropTypes.bool,\n\n  /**\n   * The divider orientation.\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n  /**\n   * @ignore\n   */\n  role: PropTypes.string,\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['fullWidth', 'inset', 'middle'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDivider'\n})(Divider);","// Source from https://github.com/alitaheri/normalize-scroll-left\nvar cachedType;\n/**\n * Based on the jquery plugin https://github.com/othree/jquery.rtl-scroll-type\n *\n * Types of scrollLeft, assuming scrollWidth=100 and direction is rtl.\n *\n * Type             | <- Most Left | Most Right -> | Initial\n * ---------------- | ------------ | ------------- | -------\n * default          | 0            | 100           | 100\n * negative (spec*) | -100         | 0             | 0\n * reverse          | 100          | 0             | 0\n *\n * Edge 85: default\n * Safari 14: negative\n * Chrome 85: negative\n * Firefox 81: negative\n * IE 11: reverse\n *\n * spec* https://drafts.csswg.org/cssom-view/#dom-window-scroll\n */\n\nexport function detectScrollType() {\n  if (cachedType) {\n    return cachedType;\n  }\n\n  var dummy = document.createElement('div');\n  var container = document.createElement('div');\n  container.style.width = '10px';\n  container.style.height = '1px';\n  dummy.appendChild(container);\n  dummy.dir = 'rtl';\n  dummy.style.fontSize = '14px';\n  dummy.style.width = '4px';\n  dummy.style.height = '1px';\n  dummy.style.position = 'absolute';\n  dummy.style.top = '-1000px';\n  dummy.style.overflow = 'scroll';\n  document.body.appendChild(dummy);\n  cachedType = 'reverse';\n\n  if (dummy.scrollLeft > 0) {\n    cachedType = 'default';\n  } else {\n    dummy.scrollLeft = 1;\n\n    if (dummy.scrollLeft === 0) {\n      cachedType = 'negative';\n    }\n  }\n\n  document.body.removeChild(dummy);\n  return cachedType;\n} // Based on https://stackoverflow.com/a/24394376\n\nexport function getNormalizedScrollLeft(element, direction) {\n  var scrollLeft = element.scrollLeft; // Perform the calculations only when direction is rtl to avoid messing up the ltr bahavior\n\n  if (direction !== 'rtl') {\n    return scrollLeft;\n  }\n\n  var type = detectScrollType();\n\n  switch (type) {\n    case 'negative':\n      return element.scrollWidth - element.clientWidth + scrollLeft;\n\n    case 'reverse':\n      return element.scrollWidth - element.clientWidth - scrollLeft;\n\n    default:\n      return scrollLeft;\n  }\n}","function easeInOutSin(time) {\n  return (1 + Math.sin(Math.PI * time - Math.PI / 2)) / 2;\n}\n\nexport default function animate(property, element, to) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var cb = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function () {};\n  var _options$ease = options.ease,\n      ease = _options$ease === void 0 ? easeInOutSin : _options$ease,\n      _options$duration = options.duration,\n      duration = _options$duration === void 0 ? 300 : _options$duration;\n  var start = null;\n  var from = element[property];\n  var cancelled = false;\n\n  var cancel = function cancel() {\n    cancelled = true;\n  };\n\n  var step = function step(timestamp) {\n    if (cancelled) {\n      cb(new Error('Animation cancelled'));\n      return;\n    }\n\n    if (start === null) {\n      start = timestamp;\n    }\n\n    var time = Math.min(1, (timestamp - start) / duration);\n    element[property] = ease(time) * (to - from) + from;\n\n    if (time >= 1) {\n      requestAnimationFrame(function () {\n        cb(null);\n      });\n      return;\n    }\n\n    requestAnimationFrame(step);\n  };\n\n  if (from === to) {\n    cb(new Error('Element already at target position'));\n    return cancel;\n  }\n\n  requestAnimationFrame(step);\n  return cancel;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport debounce from '../utils/debounce';\nvar styles = {\n  width: 99,\n  height: 99,\n  position: 'absolute',\n  top: -9999,\n  overflow: 'scroll'\n};\n/**\n * @ignore - internal component.\n * The component originates from https://github.com/STORIS/react-scrollbar-size.\n * It has been moved into the core in order to minimize the bundle size.\n */\n\nexport default function ScrollbarSize(props) {\n  var onChange = props.onChange,\n      other = _objectWithoutProperties(props, [\"onChange\"]);\n\n  var scrollbarHeight = React.useRef();\n  var nodeRef = React.useRef(null);\n\n  var setMeasurements = function setMeasurements() {\n    scrollbarHeight.current = nodeRef.current.offsetHeight - nodeRef.current.clientHeight;\n  };\n\n  React.useEffect(function () {\n    var handleResize = debounce(function () {\n      var prevHeight = scrollbarHeight.current;\n      setMeasurements();\n\n      if (prevHeight !== scrollbarHeight.current) {\n        onChange(scrollbarHeight.current);\n      }\n    });\n    window.addEventListener('resize', handleResize);\n    return function () {\n      handleResize.clear();\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [onChange]);\n  React.useEffect(function () {\n    setMeasurements();\n    onChange(scrollbarHeight.current);\n  }, [onChange]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    style: styles,\n    ref: nodeRef\n  }, other));\n}\nprocess.env.NODE_ENV !== \"production\" ? ScrollbarSize.propTypes = {\n  onChange: PropTypes.func.isRequired\n} : void 0;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    root: {\n      position: 'absolute',\n      height: 2,\n      bottom: 0,\n      width: '100%',\n      transition: theme.transitions.create()\n    },\n    colorPrimary: {\n      backgroundColor: theme.palette.primary.main\n    },\n    colorSecondary: {\n      backgroundColor: theme.palette.secondary.main\n    },\n    vertical: {\n      height: '100%',\n      width: 2,\n      right: 0\n    }\n  };\n};\n/**\n * @ignore - internal component.\n */\n\nvar TabIndicator = /*#__PURE__*/React.forwardRef(function TabIndicator(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      color = props.color,\n      orientation = props.orientation,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"orientation\"]);\n\n  return /*#__PURE__*/React.createElement(\"span\", _extends({\n    className: clsx(classes.root, classes[\"color\".concat(capitalize(color))], className, orientation === 'vertical' && classes.vertical),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? TabIndicator.propTypes = {\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   * The color of the tab indicator.\n   */\n  color: PropTypes.oneOf(['primary', 'secondary']).isRequired,\n\n  /**\n   * The tabs orientation (layout flow direction).\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired\n} : void 0;\nexport default withStyles(styles, {\n  name: 'PrivateTabIndicator'\n})(TabIndicator);","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z\"\n}), 'KeyboardArrowLeft');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z\"\n}), 'KeyboardArrowRight');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\n/* eslint-disable jsx-a11y/aria-role */\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport KeyboardArrowLeft from '../internal/svg-icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '../internal/svg-icons/KeyboardArrowRight';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    width: 40,\n    flexShrink: 0,\n    opacity: 0.8,\n    '&$disabled': {\n      opacity: 0\n    }\n  },\n\n  /* Styles applied to the root element if `orientation=\"vertical\"`. */\n  vertical: {\n    width: '100%',\n    height: 40,\n    '& svg': {\n      transform: 'rotate(90deg)'\n    }\n  },\n\n  /* Pseudo-class applied to the root element if `disabled={true}`. */\n  disabled: {}\n};\n\nvar _ref = /*#__PURE__*/React.createElement(KeyboardArrowLeft, {\n  fontSize: \"small\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(KeyboardArrowRight, {\n  fontSize: \"small\"\n});\n\nvar TabScrollButton = /*#__PURE__*/React.forwardRef(function TabScrollButton(props, ref) {\n  var classes = props.classes,\n      classNameProp = props.className,\n      direction = props.direction,\n      orientation = props.orientation,\n      disabled = props.disabled,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"direction\", \"orientation\", \"disabled\"]);\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    component: \"div\",\n    className: clsx(classes.root, classNameProp, disabled && classes.disabled, orientation === 'vertical' && classes.vertical),\n    ref: ref,\n    role: null,\n    tabIndex: null\n  }, other), direction === 'left' ? _ref : _ref2);\n});\nprocess.env.NODE_ENV !== \"production\" ? TabScrollButton.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Which direction should the button indicate?\n   */\n  direction: PropTypes.oneOf(['left', 'right']).isRequired,\n\n  /**\n   * If `true`, the element will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * The tabs orientation (layout flow direction).\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTabScrollButton'\n})(TabScrollButton);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport debounce from '../utils/debounce';\nimport ownerWindow from '../utils/ownerWindow';\nimport { getNormalizedScrollLeft, detectScrollType } from '../utils/scrollLeft';\nimport animate from '../internal/animate';\nimport ScrollbarSize from './ScrollbarSize';\nimport withStyles from '../styles/withStyles';\nimport TabIndicator from './TabIndicator';\nimport TabScrollButton from '../TabScrollButton';\nimport useEventCallback from '../utils/useEventCallback';\nimport useTheme from '../styles/useTheme';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      overflow: 'hidden',\n      minHeight: 48,\n      WebkitOverflowScrolling: 'touch',\n      // Add iOS momentum scrolling.\n      display: 'flex'\n    },\n\n    /* Styles applied to the root element if `orientation=\"vertical\"`. */\n    vertical: {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the flex container element. */\n    flexContainer: {\n      display: 'flex'\n    },\n\n    /* Styles applied to the flex container element if `orientation=\"vertical\"`. */\n    flexContainerVertical: {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the flex container element if `centered={true}` & `!variant=\"scrollable\"`. */\n    centered: {\n      justifyContent: 'center'\n    },\n\n    /* Styles applied to the tablist element. */\n    scroller: {\n      position: 'relative',\n      display: 'inline-block',\n      flex: '1 1 auto',\n      whiteSpace: 'nowrap'\n    },\n\n    /* Styles applied to the tablist element if `!variant=\"scrollable\"`\b\b\b. */\n    fixed: {\n      overflowX: 'hidden',\n      width: '100%'\n    },\n\n    /* Styles applied to the tablist element if `variant=\"scrollable\"`. */\n    scrollable: {\n      overflowX: 'scroll',\n      // Hide dimensionless scrollbar on MacOS\n      scrollbarWidth: 'none',\n      // Firefox\n      '&::-webkit-scrollbar': {\n        display: 'none' // Safari + Chrome\n\n      }\n    },\n\n    /* Styles applied to the `ScrollButtonComponent` component. */\n    scrollButtons: {},\n\n    /* Styles applied to the `ScrollButtonComponent` component if `scrollButtons=\"auto\"` or scrollButtons=\"desktop\"`. */\n    scrollButtonsDesktop: _defineProperty({}, theme.breakpoints.down('xs'), {\n      display: 'none'\n    }),\n\n    /* Styles applied to the `TabIndicator` component. */\n    indicator: {}\n  };\n};\nvar Tabs = /*#__PURE__*/React.forwardRef(function Tabs(props, ref) {\n  var ariaLabel = props['aria-label'],\n      ariaLabelledBy = props['aria-labelledby'],\n      action = props.action,\n      _props$centered = props.centered,\n      centered = _props$centered === void 0 ? false : _props$centered,\n      childrenProp = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$indicatorColor = props.indicatorColor,\n      indicatorColor = _props$indicatorColor === void 0 ? 'secondary' : _props$indicatorColor,\n      onChange = props.onChange,\n      _props$orientation = props.orientation,\n      orientation = _props$orientation === void 0 ? 'horizontal' : _props$orientation,\n      _props$ScrollButtonCo = props.ScrollButtonComponent,\n      ScrollButtonComponent = _props$ScrollButtonCo === void 0 ? TabScrollButton : _props$ScrollButtonCo,\n      _props$scrollButtons = props.scrollButtons,\n      scrollButtons = _props$scrollButtons === void 0 ? 'auto' : _props$scrollButtons,\n      selectionFollowsFocus = props.selectionFollowsFocus,\n      _props$TabIndicatorPr = props.TabIndicatorProps,\n      TabIndicatorProps = _props$TabIndicatorPr === void 0 ? {} : _props$TabIndicatorPr,\n      TabScrollButtonProps = props.TabScrollButtonProps,\n      _props$textColor = props.textColor,\n      textColor = _props$textColor === void 0 ? 'inherit' : _props$textColor,\n      value = props.value,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'standard' : _props$variant,\n      other = _objectWithoutProperties(props, [\"aria-label\", \"aria-labelledby\", \"action\", \"centered\", \"children\", \"classes\", \"className\", \"component\", \"indicatorColor\", \"onChange\", \"orientation\", \"ScrollButtonComponent\", \"scrollButtons\", \"selectionFollowsFocus\", \"TabIndicatorProps\", \"TabScrollButtonProps\", \"textColor\", \"value\", \"variant\"]);\n\n  var theme = useTheme();\n  var scrollable = variant === 'scrollable';\n  var isRtl = theme.direction === 'rtl';\n  var vertical = orientation === 'vertical';\n  var scrollStart = vertical ? 'scrollTop' : 'scrollLeft';\n  var start = vertical ? 'top' : 'left';\n  var end = vertical ? 'bottom' : 'right';\n  var clientSize = vertical ? 'clientHeight' : 'clientWidth';\n  var size = vertical ? 'height' : 'width';\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (centered && scrollable) {\n      console.error('Material-UI: You can not use the `centered={true}` and `variant=\"scrollable\"` properties ' + 'at the same time on a `Tabs` component.');\n    }\n  }\n\n  var _React$useState = React.useState(false),\n      mounted = _React$useState[0],\n      setMounted = _React$useState[1];\n\n  var _React$useState2 = React.useState({}),\n      indicatorStyle = _React$useState2[0],\n      setIndicatorStyle = _React$useState2[1];\n\n  var _React$useState3 = React.useState({\n    start: false,\n    end: false\n  }),\n      displayScroll = _React$useState3[0],\n      setDisplayScroll = _React$useState3[1];\n\n  var _React$useState4 = React.useState({\n    overflow: 'hidden',\n    marginBottom: null\n  }),\n      scrollerStyle = _React$useState4[0],\n      setScrollerStyle = _React$useState4[1];\n\n  var valueToIndex = new Map();\n  var tabsRef = React.useRef(null);\n  var tabListRef = React.useRef(null);\n\n  var getTabsMeta = function getTabsMeta() {\n    var tabsNode = tabsRef.current;\n    var tabsMeta;\n\n    if (tabsNode) {\n      var rect = tabsNode.getBoundingClientRect(); // create a new object with ClientRect class props + scrollLeft\n\n      tabsMeta = {\n        clientWidth: tabsNode.clientWidth,\n        scrollLeft: tabsNode.scrollLeft,\n        scrollTop: tabsNode.scrollTop,\n        scrollLeftNormalized: getNormalizedScrollLeft(tabsNode, theme.direction),\n        scrollWidth: tabsNode.scrollWidth,\n        top: rect.top,\n        bottom: rect.bottom,\n        left: rect.left,\n        right: rect.right\n      };\n    }\n\n    var tabMeta;\n\n    if (tabsNode && value !== false) {\n      var _children = tabListRef.current.children;\n\n      if (_children.length > 0) {\n        var tab = _children[valueToIndex.get(value)];\n\n        if (process.env.NODE_ENV !== 'production') {\n          if (!tab) {\n            console.error([\"Material-UI: The value provided to the Tabs component is invalid.\", \"None of the Tabs' children match with `\".concat(value, \"`.\"), valueToIndex.keys ? \"You can provide one of the following values: \".concat(Array.from(valueToIndex.keys()).join(', '), \".\") : null].join('\\n'));\n          }\n        }\n\n        tabMeta = tab ? tab.getBoundingClientRect() : null;\n      }\n    }\n\n    return {\n      tabsMeta: tabsMeta,\n      tabMeta: tabMeta\n    };\n  };\n\n  var updateIndicatorState = useEventCallback(function () {\n    var _newIndicatorStyle;\n\n    var _getTabsMeta = getTabsMeta(),\n        tabsMeta = _getTabsMeta.tabsMeta,\n        tabMeta = _getTabsMeta.tabMeta;\n\n    var startValue = 0;\n\n    if (tabMeta && tabsMeta) {\n      if (vertical) {\n        startValue = tabMeta.top - tabsMeta.top + tabsMeta.scrollTop;\n      } else {\n        var correction = isRtl ? tabsMeta.scrollLeftNormalized + tabsMeta.clientWidth - tabsMeta.scrollWidth : tabsMeta.scrollLeft;\n        startValue = tabMeta.left - tabsMeta.left + correction;\n      }\n    }\n\n    var newIndicatorStyle = (_newIndicatorStyle = {}, _defineProperty(_newIndicatorStyle, start, startValue), _defineProperty(_newIndicatorStyle, size, tabMeta ? tabMeta[size] : 0), _newIndicatorStyle);\n\n    if (isNaN(indicatorStyle[start]) || isNaN(indicatorStyle[size])) {\n      setIndicatorStyle(newIndicatorStyle);\n    } else {\n      var dStart = Math.abs(indicatorStyle[start] - newIndicatorStyle[start]);\n      var dSize = Math.abs(indicatorStyle[size] - newIndicatorStyle[size]);\n\n      if (dStart >= 1 || dSize >= 1) {\n        setIndicatorStyle(newIndicatorStyle);\n      }\n    }\n  });\n\n  var scroll = function scroll(scrollValue) {\n    animate(scrollStart, tabsRef.current, scrollValue);\n  };\n\n  var moveTabsScroll = function moveTabsScroll(delta) {\n    var scrollValue = tabsRef.current[scrollStart];\n\n    if (vertical) {\n      scrollValue += delta;\n    } else {\n      scrollValue += delta * (isRtl ? -1 : 1); // Fix for Edge\n\n      scrollValue *= isRtl && detectScrollType() === 'reverse' ? -1 : 1;\n    }\n\n    scroll(scrollValue);\n  };\n\n  var handleStartScrollClick = function handleStartScrollClick() {\n    moveTabsScroll(-tabsRef.current[clientSize]);\n  };\n\n  var handleEndScrollClick = function handleEndScrollClick() {\n    moveTabsScroll(tabsRef.current[clientSize]);\n  };\n\n  var handleScrollbarSizeChange = React.useCallback(function (scrollbarHeight) {\n    setScrollerStyle({\n      overflow: null,\n      marginBottom: -scrollbarHeight\n    });\n  }, []);\n\n  var getConditionalElements = function getConditionalElements() {\n    var conditionalElements = {};\n    conditionalElements.scrollbarSizeListener = scrollable ? /*#__PURE__*/React.createElement(ScrollbarSize, {\n      className: classes.scrollable,\n      onChange: handleScrollbarSizeChange\n    }) : null;\n    var scrollButtonsActive = displayScroll.start || displayScroll.end;\n    var showScrollButtons = scrollable && (scrollButtons === 'auto' && scrollButtonsActive || scrollButtons === 'desktop' || scrollButtons === 'on');\n    conditionalElements.scrollButtonStart = showScrollButtons ? /*#__PURE__*/React.createElement(ScrollButtonComponent, _extends({\n      orientation: orientation,\n      direction: isRtl ? 'right' : 'left',\n      onClick: handleStartScrollClick,\n      disabled: !displayScroll.start,\n      className: clsx(classes.scrollButtons, scrollButtons !== 'on' && classes.scrollButtonsDesktop)\n    }, TabScrollButtonProps)) : null;\n    conditionalElements.scrollButtonEnd = showScrollButtons ? /*#__PURE__*/React.createElement(ScrollButtonComponent, _extends({\n      orientation: orientation,\n      direction: isRtl ? 'left' : 'right',\n      onClick: handleEndScrollClick,\n      disabled: !displayScroll.end,\n      className: clsx(classes.scrollButtons, scrollButtons !== 'on' && classes.scrollButtonsDesktop)\n    }, TabScrollButtonProps)) : null;\n    return conditionalElements;\n  };\n\n  var scrollSelectedIntoView = useEventCallback(function () {\n    var _getTabsMeta2 = getTabsMeta(),\n        tabsMeta = _getTabsMeta2.tabsMeta,\n        tabMeta = _getTabsMeta2.tabMeta;\n\n    if (!tabMeta || !tabsMeta) {\n      return;\n    }\n\n    if (tabMeta[start] < tabsMeta[start]) {\n      // left side of button is out of view\n      var nextScrollStart = tabsMeta[scrollStart] + (tabMeta[start] - tabsMeta[start]);\n      scroll(nextScrollStart);\n    } else if (tabMeta[end] > tabsMeta[end]) {\n      // right side of button is out of view\n      var _nextScrollStart = tabsMeta[scrollStart] + (tabMeta[end] - tabsMeta[end]);\n\n      scroll(_nextScrollStart);\n    }\n  });\n  var updateScrollButtonState = useEventCallback(function () {\n    if (scrollable && scrollButtons !== 'off') {\n      var _tabsRef$current = tabsRef.current,\n          scrollTop = _tabsRef$current.scrollTop,\n          scrollHeight = _tabsRef$current.scrollHeight,\n          clientHeight = _tabsRef$current.clientHeight,\n          scrollWidth = _tabsRef$current.scrollWidth,\n          clientWidth = _tabsRef$current.clientWidth;\n      var showStartScroll;\n      var showEndScroll;\n\n      if (vertical) {\n        showStartScroll = scrollTop > 1;\n        showEndScroll = scrollTop < scrollHeight - clientHeight - 1;\n      } else {\n        var scrollLeft = getNormalizedScrollLeft(tabsRef.current, theme.direction); // use 1 for the potential rounding error with browser zooms.\n\n        showStartScroll = isRtl ? scrollLeft < scrollWidth - clientWidth - 1 : scrollLeft > 1;\n        showEndScroll = !isRtl ? scrollLeft < scrollWidth - clientWidth - 1 : scrollLeft > 1;\n      }\n\n      if (showStartScroll !== displayScroll.start || showEndScroll !== displayScroll.end) {\n        setDisplayScroll({\n          start: showStartScroll,\n          end: showEndScroll\n        });\n      }\n    }\n  });\n  React.useEffect(function () {\n    var handleResize = debounce(function () {\n      updateIndicatorState();\n      updateScrollButtonState();\n    });\n    var win = ownerWindow(tabsRef.current);\n    win.addEventListener('resize', handleResize);\n    return function () {\n      handleResize.clear();\n      win.removeEventListener('resize', handleResize);\n    };\n  }, [updateIndicatorState, updateScrollButtonState]);\n  var handleTabsScroll = React.useCallback(debounce(function () {\n    updateScrollButtonState();\n  }));\n  React.useEffect(function () {\n    return function () {\n      handleTabsScroll.clear();\n    };\n  }, [handleTabsScroll]);\n  React.useEffect(function () {\n    setMounted(true);\n  }, []);\n  React.useEffect(function () {\n    updateIndicatorState();\n    updateScrollButtonState();\n  });\n  React.useEffect(function () {\n    scrollSelectedIntoView();\n  }, [scrollSelectedIntoView, indicatorStyle]);\n  React.useImperativeHandle(action, function () {\n    return {\n      updateIndicator: updateIndicatorState,\n      updateScrollButtons: updateScrollButtonState\n    };\n  }, [updateIndicatorState, updateScrollButtonState]);\n  var indicator = /*#__PURE__*/React.createElement(TabIndicator, _extends({\n    className: classes.indicator,\n    orientation: orientation,\n    color: indicatorColor\n  }, TabIndicatorProps, {\n    style: _extends({}, indicatorStyle, TabIndicatorProps.style)\n  }));\n  var childIndex = 0;\n  var children = React.Children.map(childrenProp, function (child) {\n    if (! /*#__PURE__*/React.isValidElement(child)) {\n      return null;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFragment(child)) {\n        console.error([\"Material-UI: The Tabs component doesn't accept a Fragment as a child.\", 'Consider providing an array instead.'].join('\\n'));\n      }\n    }\n\n    var childValue = child.props.value === undefined ? childIndex : child.props.value;\n    valueToIndex.set(childValue, childIndex);\n    var selected = childValue === value;\n    childIndex += 1;\n    return /*#__PURE__*/React.cloneElement(child, {\n      fullWidth: variant === 'fullWidth',\n      indicator: selected && !mounted && indicator,\n      selected: selected,\n      selectionFollowsFocus: selectionFollowsFocus,\n      onChange: onChange,\n      textColor: textColor,\n      value: childValue\n    });\n  });\n\n  var handleKeyDown = function handleKeyDown(event) {\n    var target = event.target; // Keyboard navigation assumes that [role=\"tab\"] are siblings\n    // though we might warn in the future about nested, interactive elements\n    // as a a11y violation\n\n    var role = target.getAttribute('role');\n\n    if (role !== 'tab') {\n      return;\n    }\n\n    var newFocusTarget = null;\n    var previousItemKey = orientation !== \"vertical\" ? 'ArrowLeft' : 'ArrowUp';\n    var nextItemKey = orientation !== \"vertical\" ? 'ArrowRight' : 'ArrowDown';\n\n    if (orientation !== \"vertical\" && theme.direction === 'rtl') {\n      // swap previousItemKey with nextItemKey\n      previousItemKey = 'ArrowRight';\n      nextItemKey = 'ArrowLeft';\n    }\n\n    switch (event.key) {\n      case previousItemKey:\n        newFocusTarget = target.previousElementSibling || tabListRef.current.lastChild;\n        break;\n\n      case nextItemKey:\n        newFocusTarget = target.nextElementSibling || tabListRef.current.firstChild;\n        break;\n\n      case 'Home':\n        newFocusTarget = tabListRef.current.firstChild;\n        break;\n\n      case 'End':\n        newFocusTarget = tabListRef.current.lastChild;\n        break;\n\n      default:\n        break;\n    }\n\n    if (newFocusTarget !== null) {\n      newFocusTarget.focus();\n      event.preventDefault();\n    }\n  };\n\n  var conditionalElements = getConditionalElements();\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, vertical && classes.vertical),\n    ref: ref\n  }, other), conditionalElements.scrollButtonStart, conditionalElements.scrollbarSizeListener, /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.scroller, scrollable ? classes.scrollable : classes.fixed),\n    style: scrollerStyle,\n    ref: tabsRef,\n    onScroll: handleTabsScroll\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabelledBy,\n    className: clsx(classes.flexContainer, vertical && classes.flexContainerVertical, centered && !scrollable && classes.centered),\n    onKeyDown: handleKeyDown,\n    ref: tabListRef,\n    role: \"tablist\"\n  }, children), mounted && indicator), conditionalElements.scrollButtonEnd);\n});\nprocess.env.NODE_ENV !== \"production\" ? Tabs.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Callback fired when the component mounts.\n   * This is useful when you want to trigger an action programmatically.\n   * It supports two actions: `updateIndicator()` and `updateScrollButtons()`\n   *\n   * @param {object} actions This object contains all possible actions\n   * that can be triggered programmatically.\n   */\n  action: refType,\n\n  /**\n   * The label for the Tabs as a string.\n   */\n  'aria-label': PropTypes.string,\n\n  /**\n   * An id or list of ids separated by a space that label the Tabs.\n   */\n  'aria-labelledby': PropTypes.string,\n\n  /**\n   * If `true`, the tabs will be centered.\n   * This property is intended for large views.\n   */\n  centered: PropTypes.bool,\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Determines the color of the indicator.\n   */\n  indicatorColor: PropTypes.oneOf(['primary', 'secondary']),\n\n  /**\n   * Callback fired when the value changes.\n   *\n   * @param {object} event The event source of the callback\n   * @param {any} value We default to the index of the child (number)\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * The tabs orientation (layout flow direction).\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n  /**\n   * The component used to render the scroll buttons.\n   */\n  ScrollButtonComponent: PropTypes.elementType,\n\n  /**\n   * Determine behavior of scroll buttons when tabs are set to scroll:\n   *\n   * - `auto` will only present them when not all the items are visible.\n   * - `desktop` will only present them on medium and larger viewports.\n   * - `on` will always present them.\n   * - `off` will never present them.\n   */\n  scrollButtons: PropTypes.oneOf(['auto', 'desktop', 'off', 'on']),\n\n  /**\n   * If `true` the selected tab changes on focus. Otherwise it only\n   * changes on activation.\n   */\n  selectionFollowsFocus: PropTypes.bool,\n\n  /**\n   * Props applied to the tab indicator element.\n   */\n  TabIndicatorProps: PropTypes.object,\n\n  /**\n   * Props applied to the [`TabScrollButton`](/api/tab-scroll-button/) element.\n   */\n  TabScrollButtonProps: PropTypes.object,\n\n  /**\n   * Determines the color of the `Tab`.\n   */\n  textColor: PropTypes.oneOf(['inherit', 'primary', 'secondary']),\n\n  /**\n   * The value of the currently selected `Tab`.\n   * If you don't want any selected `Tab`, you can set this property to `false`.\n   */\n  value: PropTypes.any,\n\n  /**\n   * Determines additional display behavior of the tabs:\n   *\n   *  - `scrollable` will invoke scrolling properties and allow for horizontally\n   *  scrolling (or swiping) of the tab bar.\n   *  -`fullWidth` will make the tabs grow to use all the available space,\n   *  which should be used for small views, like on mobile.\n   *  - `standard` will render the default state.\n   */\n  variant: PropTypes.oneOf(['fullWidth', 'scrollable', 'standard'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTabs'\n})(Tabs);","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z\"\n}), 'FirstPage');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z\"\n}), 'LastPage');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}), 'NavigateBefore');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}), 'NavigateNext');","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { fade, useTheme, withStyles } from '@material-ui/core/styles';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport FirstPageIcon from '../internal/svg-icons/FirstPage';\nimport LastPageIcon from '../internal/svg-icons/LastPage';\nimport NavigateBeforeIcon from '../internal/svg-icons/NavigateBefore';\nimport NavigateNextIcon from '../internal/svg-icons/NavigateNext';\nimport { capitalize } from '@material-ui/core/utils';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body2, {\n      borderRadius: 32 / 2,\n      textAlign: 'center',\n      boxSizing: 'border-box',\n      minWidth: 32,\n      height: 32,\n      padding: '0 6px',\n      margin: '0 3px',\n      color: theme.palette.text.primary\n    }),\n\n    /* Styles applied to the root element if `type=\"page\"`. */\n    page: {\n      transition: theme.transitions.create(['color', 'background-color'], {\n        duration: theme.transitions.duration.short\n      }),\n      '&:hover': {\n        backgroundColor: theme.palette.action.hover,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      },\n      '&$focusVisible': {\n        backgroundColor: theme.palette.action.focus\n      },\n      '&$selected': {\n        backgroundColor: theme.palette.action.selected,\n        '&:hover, &$focusVisible': {\n          backgroundColor: fade(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity),\n          // Reset on touch devices, it doesn't add specificity\n          '@media (hover: none)': {\n            backgroundColor: theme.palette.action.selected\n          }\n        },\n        '&$disabled': {\n          opacity: 1,\n          color: theme.palette.action.disabled,\n          backgroundColor: theme.palette.action.selected\n        }\n      },\n      '&$disabled': {\n        opacity: theme.palette.action.disabledOpacity\n      }\n    },\n\n    /* Styles applied applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      minWidth: 26,\n      height: 26,\n      borderRadius: 26 / 2,\n      margin: '0 1px',\n      padding: '0 4px',\n      '& $icon': {\n        fontSize: theme.typography.pxToRem(18)\n      }\n    },\n\n    /* Styles applied applied to the root element if `size=\"large\"`. */\n    sizeLarge: {\n      minWidth: 40,\n      height: 40,\n      borderRadius: 40 / 2,\n      padding: '0 10px',\n      fontSize: theme.typography.pxToRem(15),\n      '& $icon': {\n        fontSize: theme.typography.pxToRem(22)\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"text\"` and `color=\"primary\"`. */\n    textPrimary: {\n      '&$selected': {\n        color: theme.palette.primary.contrastText,\n        backgroundColor: theme.palette.primary.main,\n        '&:hover, &$focusVisible': {\n          backgroundColor: theme.palette.primary.dark,\n          // Reset on touch devices, it doesn't add specificity\n          '@media (hover: none)': {\n            backgroundColor: theme.palette.primary.main\n          }\n        },\n        '&$disabled': {\n          color: theme.palette.action.disabled\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"text\"` and `color=\"secondary\"`. */\n    textSecondary: {\n      '&$selected': {\n        color: theme.palette.secondary.contrastText,\n        backgroundColor: theme.palette.secondary.main,\n        '&:hover, &$focusVisible': {\n          backgroundColor: theme.palette.secondary.dark,\n          // Reset on touch devices, it doesn't add specificity\n          '@media (hover: none)': {\n            backgroundColor: theme.palette.secondary.main\n          }\n        },\n        '&$disabled': {\n          color: theme.palette.action.disabled\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `outlined=\"true\"`. */\n    outlined: {\n      border: \"1px solid \".concat(theme.palette.type === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)'),\n      '&$selected': {\n        '&$disabled': {\n          border: \"1px solid \".concat(theme.palette.action.disabledBackground)\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"primary\"`. */\n    outlinedPrimary: {\n      '&$selected': {\n        color: theme.palette.primary.main,\n        border: \"1px solid \".concat(fade(theme.palette.primary.main, 0.5)),\n        backgroundColor: fade(theme.palette.primary.main, theme.palette.action.activatedOpacity),\n        '&:hover, &$focusVisible': {\n          backgroundColor: fade(theme.palette.primary.main, theme.palette.action.activatedOpacity + theme.palette.action.hoverOpacity),\n          // Reset on touch devices, it doesn't add specificity\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        },\n        '&$disabled': {\n          color: theme.palette.action.disabled\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"secondary\"`. */\n    outlinedSecondary: {\n      '&$selected': {\n        color: theme.palette.secondary.main,\n        border: \"1px solid \".concat(fade(theme.palette.secondary.main, 0.5)),\n        backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.activatedOpacity),\n        '&:hover, &$focusVisible': {\n          backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.activatedOpacity + theme.palette.action.hoverOpacity),\n          // Reset on touch devices, it doesn't add specificity\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        },\n        '&$disabled': {\n          color: theme.palette.action.disabled\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `rounded=\"true\"`. */\n    rounded: {\n      borderRadius: theme.shape.borderRadius\n    },\n\n    /* Styles applied to the root element if `type=\"start-ellipsis\"` or `type=\"end-ellipsis\"`. */\n    ellipsis: {\n      height: 'auto',\n      '&$disabled': {\n        opacity: theme.palette.action.disabledOpacity\n      }\n    },\n\n    /* Pseudo-class applied to the root element if keyboard focused. */\n    focusVisible: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Pseudo-class applied to the root element if `selected={true}`. */\n    selected: {},\n\n    /* Styles applied to the icon element. */\n    icon: {\n      fontSize: theme.typography.pxToRem(20),\n      margin: '0 -8px'\n    }\n  };\n};\nvar PaginationItem = /*#__PURE__*/React.forwardRef(function PaginationItem(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'standard' : _props$color,\n      component = props.component,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      page = props.page,\n      _props$selected = props.selected,\n      selected = _props$selected === void 0 ? false : _props$selected,\n      _props$shape = props.shape,\n      shape = _props$shape === void 0 ? 'round' : _props$shape,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      _props$type = props.type,\n      type = _props$type === void 0 ? 'page' : _props$type,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'text' : _props$variant,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"component\", \"disabled\", \"page\", \"selected\", \"shape\", \"size\", \"type\", \"variant\"]);\n\n  var theme = useTheme();\n  var normalizedIcons = theme.direction === 'rtl' ? {\n    previous: NavigateNextIcon,\n    next: NavigateBeforeIcon,\n    last: FirstPageIcon,\n    first: LastPageIcon\n  } : {\n    previous: NavigateBeforeIcon,\n    next: NavigateNextIcon,\n    first: FirstPageIcon,\n    last: LastPageIcon\n  };\n  var Icon = normalizedIcons[type];\n  return type === 'start-ellipsis' || type === 'end-ellipsis' ? /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    className: clsx(classes.root, classes.ellipsis, disabled && classes.disabled, size !== 'medium' && classes[\"size\".concat(capitalize(size))])\n  }, \"\\u2026\") : /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    ref: ref,\n    component: component,\n    disabled: disabled,\n    focusVisibleClassName: classes.focusVisible,\n    className: clsx(classes.root, classes.page, classes[variant], classes[shape], className, color !== 'standard' && classes[\"\".concat(variant).concat(capitalize(color))], disabled && classes.disabled, selected && classes.selected, size !== 'medium' && classes[\"size\".concat(capitalize(size))])\n  }, other), type === 'page' && page, Icon ? /*#__PURE__*/React.createElement(Icon, {\n    className: classes.icon\n  }) : null);\n});\nprocess.env.NODE_ENV !== \"production\" ? PaginationItem.propTypes = {\n  /**\n   * @ignore\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The active color.\n   */\n  color: PropTypes.oneOf(['standard', 'primary', 'secondary']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, the item will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * The current page number.\n   */\n  page: PropTypes.number,\n\n  /**\n   * If `true` the pagination item is selected.\n   */\n  selected: PropTypes.bool,\n\n  /**\n   * The shape of the pagination item.\n   */\n  shape: PropTypes.oneOf(['round', 'rounded']),\n\n  /**\n   * The size of the pagination item.\n   */\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\n   * The type of pagination item.\n   */\n  type: PropTypes.oneOf(['page', 'first', 'last', 'next', 'previous', 'start-ellipsis', 'end-ellipsis']),\n\n  /**\n   * The pagination item variant.\n   */\n  variant: PropTypes.oneOf(['text', 'outlined'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiPaginationItem'\n})(PaginationItem);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { withStyles } from '@material-ui/core/styles';\nimport usePagination from './usePagination';\nimport PaginationItem from '../PaginationItem';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {},\n\n  /* Styles applied to the ul element. */\n  ul: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    padding: 0,\n    margin: 0,\n    listStyle: 'none'\n  }\n};\n\nfunction defaultGetAriaLabel(type, page, selected) {\n  if (type === 'page') {\n    return \"\".concat(selected ? '' : 'Go to ', \"page \").concat(page);\n  }\n\n  return \"Go to \".concat(type, \" page\");\n}\n\nvar Pagination = /*#__PURE__*/React.forwardRef(function Pagination(props, ref) {\n  var boundaryCount = props.boundaryCount,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'standard' : _props$color,\n      count = props.count,\n      defaultPage = props.defaultPage,\n      disabled = props.disabled,\n      _props$getItemAriaLab = props.getItemAriaLabel,\n      getItemAriaLabel = _props$getItemAriaLab === void 0 ? defaultGetAriaLabel : _props$getItemAriaLab,\n      hideNextButton = props.hideNextButton,\n      hidePrevButton = props.hidePrevButton,\n      onChange = props.onChange,\n      page = props.page,\n      _props$renderItem = props.renderItem,\n      renderItem = _props$renderItem === void 0 ? function (item) {\n    return /*#__PURE__*/React.createElement(PaginationItem, item);\n  } : _props$renderItem,\n      _props$shape = props.shape,\n      shape = _props$shape === void 0 ? 'round' : _props$shape,\n      showFirstButton = props.showFirstButton,\n      showLastButton = props.showLastButton,\n      siblingCount = props.siblingCount,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'text' : _props$variant,\n      other = _objectWithoutProperties(props, [\"boundaryCount\", \"classes\", \"className\", \"color\", \"count\", \"defaultPage\", \"disabled\", \"getItemAriaLabel\", \"hideNextButton\", \"hidePrevButton\", \"onChange\", \"page\", \"renderItem\", \"shape\", \"showFirstButton\", \"showLastButton\", \"siblingCount\", \"size\", \"variant\"]);\n\n  var _usePagination = usePagination(_extends({}, props, {\n    componentName: 'Pagination'\n  })),\n      items = _usePagination.items;\n\n  return /*#__PURE__*/React.createElement(\"nav\", _extends({\n    \"aria-label\": \"pagination navigation\",\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"ul\", {\n    className: classes.ul\n  }, items.map(function (item, index) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: index\n    }, renderItem(_extends({}, item, {\n      color: color,\n      'aria-label': getItemAriaLabel(item.type, item.page, item.selected),\n      shape: shape,\n      size: size,\n      variant: variant\n    })));\n  })));\n}); // @default tags synced with default values from usePagination\n\nprocess.env.NODE_ENV !== \"production\" ? Pagination.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Number of always visible pages at the beginning and end.\n   * @default 1\n   */\n  boundaryCount: PropTypes.number,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The active color.\n   */\n  color: PropTypes.oneOf(['primary', 'secondary', 'standard']),\n\n  /**\n   * The total number of pages.\n   * @default 1\n   */\n  count: PropTypes.number,\n\n  /**\n   * The page selected by default when the component is uncontrolled.\n   * @default 1\n   */\n  defaultPage: PropTypes.number,\n\n  /**\n   * If `true`, the pagination component will be disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Accepts a function which returns a string value that provides a user-friendly name for the current page.\n   *\n   * For localization purposes, you can use the provided [translations](/guides/localization/).\n   *\n   * @param {string} type The link or button type to format ('page' | 'first' | 'last' | 'next' | 'previous'). Defaults to 'page'.\n   * @param {number} page The page number to format.\n   * @param {bool} selected If true, the current page is selected.\n   * @returns {string}\n   */\n  getItemAriaLabel: PropTypes.func,\n\n  /**\n   * If `true`, hide the next-page button.\n   * @default false\n   */\n  hideNextButton: PropTypes.bool,\n\n  /**\n   * If `true`, hide the previous-page button.\n   * @default false\n   */\n  hidePrevButton: PropTypes.bool,\n\n  /**\n   * Callback fired when the page is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * @param {number} page The page selected.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * The current page.\n   */\n  page: PropTypes.number,\n\n  /**\n   * Render the item.\n   *\n   * @param {PaginationRenderItemParams} params The props to spread on a PaginationItem.\n   * @returns {ReactNode}\n   */\n  renderItem: PropTypes.func,\n\n  /**\n   * The shape of the pagination items.\n   */\n  shape: PropTypes.oneOf(['round', 'rounded']),\n\n  /**\n   * If `true`, show the first-page button.\n   * @default false\n   */\n  showFirstButton: PropTypes.bool,\n\n  /**\n   * If `true`, show the last-page button.\n   * @default false\n   */\n  showLastButton: PropTypes.bool,\n\n  /**\n   * Number of always visible pages before and after the current page.\n   * @default 1\n   */\n  siblingCount: PropTypes.number,\n\n  /**\n   * The size of the pagination component.\n   */\n  size: PropTypes.oneOf(['large', 'medium', 'small']),\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['outlined', 'text'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiPagination'\n})(Pagination);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport { useControlled } from '@material-ui/core/utils';\nexport default function usePagination() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  // keep default values in sync with @default tags in Pagination.propTypes\n  var _props$boundaryCount = props.boundaryCount,\n      boundaryCount = _props$boundaryCount === void 0 ? 1 : _props$boundaryCount,\n      _props$componentName = props.componentName,\n      componentName = _props$componentName === void 0 ? 'usePagination' : _props$componentName,\n      _props$count = props.count,\n      count = _props$count === void 0 ? 1 : _props$count,\n      _props$defaultPage = props.defaultPage,\n      defaultPage = _props$defaultPage === void 0 ? 1 : _props$defaultPage,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$hideNextButton = props.hideNextButton,\n      hideNextButton = _props$hideNextButton === void 0 ? false : _props$hideNextButton,\n      _props$hidePrevButton = props.hidePrevButton,\n      hidePrevButton = _props$hidePrevButton === void 0 ? false : _props$hidePrevButton,\n      handleChange = props.onChange,\n      pageProp = props.page,\n      _props$showFirstButto = props.showFirstButton,\n      showFirstButton = _props$showFirstButto === void 0 ? false : _props$showFirstButto,\n      _props$showLastButton = props.showLastButton,\n      showLastButton = _props$showLastButton === void 0 ? false : _props$showLastButton,\n      _props$siblingCount = props.siblingCount,\n      siblingCount = _props$siblingCount === void 0 ? 1 : _props$siblingCount,\n      other = _objectWithoutProperties(props, [\"boundaryCount\", \"componentName\", \"count\", \"defaultPage\", \"disabled\", \"hideNextButton\", \"hidePrevButton\", \"onChange\", \"page\", \"showFirstButton\", \"showLastButton\", \"siblingCount\"]);\n\n  var _useControlled = useControlled({\n    controlled: pageProp,\n    default: defaultPage,\n    name: componentName,\n    state: 'page'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      page = _useControlled2[0],\n      setPageState = _useControlled2[1];\n\n  var handleClick = function handleClick(event, value) {\n    if (!pageProp) {\n      setPageState(value);\n    }\n\n    if (handleChange) {\n      handleChange(event, value);\n    }\n  }; // https://dev.to/namirsab/comment/2050\n\n\n  var range = function range(start, end) {\n    var length = end - start + 1;\n    return Array.from({\n      length: length\n    }, function (_, i) {\n      return start + i;\n    });\n  };\n\n  var startPages = range(1, Math.min(boundaryCount, count));\n  var endPages = range(Math.max(count - boundaryCount + 1, boundaryCount + 1), count);\n  var siblingsStart = Math.max(Math.min( // Natural start\n  page - siblingCount, // Lower boundary when page is high\n  count - boundaryCount - siblingCount * 2 - 1), // Greater than startPages\n  boundaryCount + 2);\n  var siblingsEnd = Math.min(Math.max( // Natural end\n  page + siblingCount, // Upper boundary when page is low\n  boundaryCount + siblingCount * 2 + 2), // Less than endPages\n  endPages[0] - 2); // Basic list of items to render\n  // e.g. itemList = ['first', 'previous', 1, 'ellipsis', 4, 5, 6, 'ellipsis', 10, 'next', 'last']\n\n  var itemList = [].concat(_toConsumableArray(showFirstButton ? ['first'] : []), _toConsumableArray(hidePrevButton ? [] : ['previous']), _toConsumableArray(startPages), _toConsumableArray(siblingsStart > boundaryCount + 2 ? ['start-ellipsis'] : boundaryCount + 1 < count - boundaryCount ? [boundaryCount + 1] : []), _toConsumableArray(range(siblingsStart, siblingsEnd)), _toConsumableArray(siblingsEnd < count - boundaryCount - 1 ? ['end-ellipsis'] : count - boundaryCount > boundaryCount ? [count - boundaryCount] : []), _toConsumableArray(endPages), _toConsumableArray(hideNextButton ? [] : ['next']), _toConsumableArray(showLastButton ? ['last'] : [])); // Map the button type to its page number\n\n  var buttonPage = function buttonPage(type) {\n    switch (type) {\n      case 'first':\n        return 1;\n\n      case 'previous':\n        return page - 1;\n\n      case 'next':\n        return page + 1;\n\n      case 'last':\n        return count;\n\n      default:\n        return null;\n    }\n  }; // Convert the basic item list to PaginationItem props objects\n\n\n  var items = itemList.map(function (item) {\n    return typeof item === 'number' ? {\n      onClick: function onClick(event) {\n        handleClick(event, item);\n      },\n      type: 'page',\n      page: item,\n      selected: item === page,\n      disabled: disabled,\n      'aria-current': item === page ? 'true' : undefined\n    } : {\n      onClick: function onClick(event) {\n        handleClick(event, buttonPage(item));\n      },\n      type: item,\n      page: buttonPage(item),\n      selected: false,\n      disabled: disabled || item.indexOf('ellipsis') === -1 && (item === 'next' || item === 'last' ? page >= count : page <= 1)\n    };\n  });\n  return _extends({\n    items: items\n  }, other);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      boxSizing: 'border-box',\n      lineHeight: '48px',\n      listStyle: 'none',\n      color: theme.palette.text.secondary,\n      fontFamily: theme.typography.fontFamily,\n      fontWeight: theme.typography.fontWeightMedium,\n      fontSize: theme.typography.pxToRem(14)\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the inner `component` element if `disableGutters={false}`. */\n    gutters: {\n      paddingLeft: 16,\n      paddingRight: 16\n    },\n\n    /* Styles applied to the root element if `inset={true}`. */\n    inset: {\n      paddingLeft: 72\n    },\n\n    /* Styles applied to the root element if `disableSticky={false}`. */\n    sticky: {\n      position: 'sticky',\n      top: 0,\n      zIndex: 1,\n      backgroundColor: 'inherit'\n    }\n  };\n};\nvar ListSubheader = /*#__PURE__*/React.forwardRef(function ListSubheader(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'li' : _props$component,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      _props$disableSticky = props.disableSticky,\n      disableSticky = _props$disableSticky === void 0 ? false : _props$disableSticky,\n      _props$inset = props.inset,\n      inset = _props$inset === void 0 ? false : _props$inset,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"component\", \"disableGutters\", \"disableSticky\", \"inset\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, color !== 'default' && classes[\"color\".concat(capitalize(color))], inset && classes.inset, !disableSticky && classes.sticky, !disableGutters && classes.gutters),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListSubheader.propTypes = {\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'primary', 'inherit']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, the List Subheader will not have gutters.\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * If `true`, the List Subheader will not stick to the top during scroll.\n   */\n  disableSticky: PropTypes.bool,\n\n  /**\n   * If `true`, the List Subheader will be indented.\n   */\n  inset: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListSubheader'\n})(ListSubheader);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport { fade } from '../styles/colorManipulator';\nimport ButtonBase from '../ButtonBase';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      textAlign: 'center',\n      flex: '0 0 auto',\n      fontSize: theme.typography.pxToRem(24),\n      padding: 12,\n      borderRadius: '50%',\n      overflow: 'visible',\n      // Explicitly set the default value to solve a bug on IE 11.\n      color: theme.palette.action.active,\n      transition: theme.transitions.create('background-color', {\n        duration: theme.transitions.duration.shortest\n      }),\n      '&:hover': {\n        backgroundColor: fade(theme.palette.action.active, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      },\n      '&$disabled': {\n        backgroundColor: 'transparent',\n        color: theme.palette.action.disabled\n      }\n    },\n\n    /* Styles applied to the root element if `edge=\"start\"`. */\n    edgeStart: {\n      marginLeft: -12,\n      '$sizeSmall&': {\n        marginLeft: -3\n      }\n    },\n\n    /* Styles applied to the root element if `edge=\"end\"`. */\n    edgeEnd: {\n      marginRight: -12,\n      '$sizeSmall&': {\n        marginRight: -3\n      }\n    },\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      padding: 3,\n      fontSize: theme.typography.pxToRem(18)\n    },\n\n    /* Styles applied to the children container element. */\n    label: {\n      width: '100%',\n      display: 'flex',\n      alignItems: 'inherit',\n      justifyContent: 'inherit'\n    }\n  };\n};\n/**\n * Refer to the [Icons](/components/icons/) section of the documentation\n * regarding the available icon options.\n */\n\nvar IconButton = /*#__PURE__*/React.forwardRef(function IconButton(props, ref) {\n  var _props$edge = props.edge,\n      edge = _props$edge === void 0 ? false : _props$edge,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      other = _objectWithoutProperties(props, [\"edge\", \"children\", \"classes\", \"className\", \"color\", \"disabled\", \"disableFocusRipple\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    className: clsx(classes.root, className, color !== 'default' && classes[\"color\".concat(capitalize(color))], disabled && classes.disabled, size === \"small\" && classes[\"size\".concat(capitalize(size))], {\n      'start': classes.edgeStart,\n      'end': classes.edgeEnd\n    }[edge]),\n    centerRipple: true,\n    focusRipple: !disableFocusRipple,\n    disabled: disabled,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.label\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? IconButton.propTypes = {\n  /**\n   * The icon element.\n   */\n  children: chainPropTypes(PropTypes.node, function (props) {\n    var found = React.Children.toArray(props.children).some(function (child) {\n      return /*#__PURE__*/React.isValidElement(child) && child.props.onClick;\n    });\n\n    if (found) {\n      return new Error(['Material-UI: You are providing an onClick event listener ' + 'to a child of a button element.', 'Firefox will never trigger the event.', 'You should move the onClick listener to the parent button element.', 'https://github.com/mui-org/material-ui/issues/13957'].join('\\n'));\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary']),\n\n  /**\n   * If `true`, the button will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the  keyboard focus ripple will be disabled.\n   */\n  disableFocusRipple: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * If given, uses a negative margin to counteract the padding on one\n   * side (this is often helpful for aligning the left or right\n   * side of the icon with content above or below, without ruining the border\n   * size and shape).\n   */\n  edge: PropTypes.oneOf(['start', 'end', false]),\n\n  /**\n   * The size of the button.\n   * `small` is equivalent to the dense button styling.\n   */\n  size: PropTypes.oneOf(['small', 'medium'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiIconButton'\n})(IconButton);","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 10l5 5 5-5z\"\n}), 'ArrowDropDown');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\n\n/* eslint-disable no-constant-condition */\nimport * as React from 'react';\nimport { setRef, useEventCallback, useControlled, unstable_useId as useId } from '@material-ui/core/utils'; // https://stackoverflow.com/questions/990904/remove-accents-diacritics-in-a-string-in-javascript\n// Give up on IE 11 support for this feature\n\nfunction stripDiacritics(string) {\n  return typeof string.normalize !== 'undefined' ? string.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '') : string;\n}\n\nexport function createFilterOptions() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _config$ignoreAccents = config.ignoreAccents,\n      ignoreAccents = _config$ignoreAccents === void 0 ? true : _config$ignoreAccents,\n      _config$ignoreCase = config.ignoreCase,\n      ignoreCase = _config$ignoreCase === void 0 ? true : _config$ignoreCase,\n      limit = config.limit,\n      _config$matchFrom = config.matchFrom,\n      matchFrom = _config$matchFrom === void 0 ? 'any' : _config$matchFrom,\n      stringify = config.stringify,\n      _config$trim = config.trim,\n      trim = _config$trim === void 0 ? false : _config$trim;\n  return function (options, _ref) {\n    var inputValue = _ref.inputValue,\n        getOptionLabel = _ref.getOptionLabel;\n    var input = trim ? inputValue.trim() : inputValue;\n\n    if (ignoreCase) {\n      input = input.toLowerCase();\n    }\n\n    if (ignoreAccents) {\n      input = stripDiacritics(input);\n    }\n\n    var filteredOptions = options.filter(function (option) {\n      var candidate = (stringify || getOptionLabel)(option);\n\n      if (ignoreCase) {\n        candidate = candidate.toLowerCase();\n      }\n\n      if (ignoreAccents) {\n        candidate = stripDiacritics(candidate);\n      }\n\n      return matchFrom === 'start' ? candidate.indexOf(input) === 0 : candidate.indexOf(input) > -1;\n    });\n    return typeof limit === 'number' ? filteredOptions.slice(0, limit) : filteredOptions;\n  };\n} // To replace with .findIndex() once we stop IE 11 support.\n\nfunction findIndex(array, comp) {\n  for (var i = 0; i < array.length; i += 1) {\n    if (comp(array[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nvar defaultFilterOptions = createFilterOptions(); // Number of options to jump in list box when pageup and pagedown keys are used.\n\nvar pageSize = 5;\nexport default function useAutocomplete(props) {\n  var _props$autoComplete = props.autoComplete,\n      autoComplete = _props$autoComplete === void 0 ? false : _props$autoComplete,\n      _props$autoHighlight = props.autoHighlight,\n      autoHighlight = _props$autoHighlight === void 0 ? false : _props$autoHighlight,\n      _props$autoSelect = props.autoSelect,\n      autoSelect = _props$autoSelect === void 0 ? false : _props$autoSelect,\n      _props$blurOnSelect = props.blurOnSelect,\n      blurOnSelect = _props$blurOnSelect === void 0 ? false : _props$blurOnSelect,\n      _props$clearOnBlur = props.clearOnBlur,\n      clearOnBlur = _props$clearOnBlur === void 0 ? !props.freeSolo : _props$clearOnBlur,\n      _props$clearOnEscape = props.clearOnEscape,\n      clearOnEscape = _props$clearOnEscape === void 0 ? false : _props$clearOnEscape,\n      _props$componentName = props.componentName,\n      componentName = _props$componentName === void 0 ? 'useAutocomplete' : _props$componentName,\n      _props$debug = props.debug,\n      debug = _props$debug === void 0 ? false : _props$debug,\n      _props$defaultValue = props.defaultValue,\n      defaultValue = _props$defaultValue === void 0 ? props.multiple ? [] : null : _props$defaultValue,\n      _props$disableClearab = props.disableClearable,\n      disableClearable = _props$disableClearab === void 0 ? false : _props$disableClearab,\n      _props$disableCloseOn = props.disableCloseOnSelect,\n      disableCloseOnSelect = _props$disableCloseOn === void 0 ? false : _props$disableCloseOn,\n      _props$disabledItemsF = props.disabledItemsFocusable,\n      disabledItemsFocusable = _props$disabledItemsF === void 0 ? false : _props$disabledItemsF,\n      _props$disableListWra = props.disableListWrap,\n      disableListWrap = _props$disableListWra === void 0 ? false : _props$disableListWra,\n      _props$filterOptions = props.filterOptions,\n      filterOptions = _props$filterOptions === void 0 ? defaultFilterOptions : _props$filterOptions,\n      _props$filterSelected = props.filterSelectedOptions,\n      filterSelectedOptions = _props$filterSelected === void 0 ? false : _props$filterSelected,\n      _props$freeSolo = props.freeSolo,\n      freeSolo = _props$freeSolo === void 0 ? false : _props$freeSolo,\n      getOptionDisabled = props.getOptionDisabled,\n      _props$getOptionLabel = props.getOptionLabel,\n      getOptionLabelProp = _props$getOptionLabel === void 0 ? function (option) {\n    return option;\n  } : _props$getOptionLabel,\n      _props$getOptionSelec = props.getOptionSelected,\n      getOptionSelected = _props$getOptionSelec === void 0 ? function (option, value) {\n    return option === value;\n  } : _props$getOptionSelec,\n      groupBy = props.groupBy,\n      _props$handleHomeEndK = props.handleHomeEndKeys,\n      handleHomeEndKeys = _props$handleHomeEndK === void 0 ? !props.freeSolo : _props$handleHomeEndK,\n      idProp = props.id,\n      _props$includeInputIn = props.includeInputInList,\n      includeInputInList = _props$includeInputIn === void 0 ? false : _props$includeInputIn,\n      inputValueProp = props.inputValue,\n      _props$multiple = props.multiple,\n      multiple = _props$multiple === void 0 ? false : _props$multiple,\n      onChange = props.onChange,\n      onClose = props.onClose,\n      onHighlightChange = props.onHighlightChange,\n      onInputChange = props.onInputChange,\n      onOpen = props.onOpen,\n      openProp = props.open,\n      _props$openOnFocus = props.openOnFocus,\n      openOnFocus = _props$openOnFocus === void 0 ? false : _props$openOnFocus,\n      options = props.options,\n      _props$selectOnFocus = props.selectOnFocus,\n      selectOnFocus = _props$selectOnFocus === void 0 ? !props.freeSolo : _props$selectOnFocus,\n      valueProp = props.value;\n  var id = useId(idProp);\n  var getOptionLabel = getOptionLabelProp;\n\n  if (process.env.NODE_ENV !== 'production') {\n    getOptionLabel = function getOptionLabel(option) {\n      var optionLabel = getOptionLabelProp(option);\n\n      if (typeof optionLabel !== 'string') {\n        var erroneousReturn = optionLabel === undefined ? 'undefined' : \"\".concat(_typeof(optionLabel), \" (\").concat(optionLabel, \")\");\n        console.error(\"Material-UI: The `getOptionLabel` method of \".concat(componentName, \" returned \").concat(erroneousReturn, \" instead of a string for \").concat(JSON.stringify(option), \".\"));\n      }\n\n      return optionLabel;\n    };\n  }\n\n  var ignoreFocus = React.useRef(false);\n  var firstFocus = React.useRef(true);\n  var inputRef = React.useRef(null);\n  var listboxRef = React.useRef(null);\n\n  var _React$useState = React.useState(null),\n      anchorEl = _React$useState[0],\n      setAnchorEl = _React$useState[1];\n\n  var _React$useState2 = React.useState(-1),\n      focusedTag = _React$useState2[0],\n      setFocusedTag = _React$useState2[1];\n\n  var defaultHighlighted = autoHighlight ? 0 : -1;\n  var highlightedIndexRef = React.useRef(defaultHighlighted);\n\n  var _useControlled = useControlled({\n    controlled: valueProp,\n    default: defaultValue,\n    name: componentName\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      value = _useControlled2[0],\n      setValue = _useControlled2[1];\n\n  var _useControlled3 = useControlled({\n    controlled: inputValueProp,\n    default: '',\n    name: componentName,\n    state: 'inputValue'\n  }),\n      _useControlled4 = _slicedToArray(_useControlled3, 2),\n      inputValue = _useControlled4[0],\n      setInputValue = _useControlled4[1];\n\n  var _React$useState3 = React.useState(false),\n      focused = _React$useState3[0],\n      setFocused = _React$useState3[1];\n\n  var resetInputValue = useEventCallback(function (event, newValue) {\n    var newInputValue;\n\n    if (multiple) {\n      newInputValue = '';\n    } else if (newValue == null) {\n      newInputValue = '';\n    } else {\n      var optionLabel = getOptionLabel(newValue);\n      newInputValue = typeof optionLabel === 'string' ? optionLabel : '';\n    }\n\n    if (inputValue === newInputValue) {\n      return;\n    }\n\n    setInputValue(newInputValue);\n\n    if (onInputChange) {\n      onInputChange(event, newInputValue, 'reset');\n    }\n  });\n  React.useEffect(function () {\n    resetInputValue(null, value);\n  }, [value, resetInputValue]);\n\n  var _useControlled5 = useControlled({\n    controlled: openProp,\n    default: false,\n    name: componentName,\n    state: 'open'\n  }),\n      _useControlled6 = _slicedToArray(_useControlled5, 2),\n      open = _useControlled6[0],\n      setOpenState = _useControlled6[1];\n\n  var inputValueIsSelectedValue = !multiple && value != null && inputValue === getOptionLabel(value);\n  var popupOpen = open;\n  var filteredOptions = popupOpen ? filterOptions(options.filter(function (option) {\n    if (filterSelectedOptions && (multiple ? value : [value]).some(function (value2) {\n      return value2 !== null && getOptionSelected(option, value2);\n    })) {\n      return false;\n    }\n\n    return true;\n  }), // we use the empty string to manipulate `filterOptions` to not filter any options\n  // i.e. the filter predicate always returns true\n  {\n    inputValue: inputValueIsSelectedValue ? '' : inputValue,\n    getOptionLabel: getOptionLabel\n  }) : [];\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (value !== null && !freeSolo && options.length > 0) {\n      var missingValue = (multiple ? value : [value]).filter(function (value2) {\n        return !options.some(function (option) {\n          return getOptionSelected(option, value2);\n        });\n      });\n\n      if (missingValue.length > 0) {\n        console.warn([\"Material-UI: The value provided to \".concat(componentName, \" is invalid.\"), \"None of the options match with `\".concat(missingValue.length > 1 ? JSON.stringify(missingValue) : JSON.stringify(missingValue[0]), \"`.\"), 'You can use the `getOptionSelected` prop to customize the equality test.'].join('\\n'));\n      }\n    }\n  }\n\n  var focusTag = useEventCallback(function (tagToFocus) {\n    if (tagToFocus === -1) {\n      inputRef.current.focus();\n    } else {\n      anchorEl.querySelector(\"[data-tag-index=\\\"\".concat(tagToFocus, \"\\\"]\")).focus();\n    }\n  }); // Ensure the focusedTag is never inconsistent\n\n  React.useEffect(function () {\n    if (multiple && focusedTag > value.length - 1) {\n      setFocusedTag(-1);\n      focusTag(-1);\n    }\n  }, [value, multiple, focusedTag, focusTag]);\n\n  function validOptionIndex(index, direction) {\n    if (!listboxRef.current || index === -1) {\n      return -1;\n    }\n\n    var nextFocus = index;\n\n    while (true) {\n      // Out of range\n      if (direction === 'next' && nextFocus === filteredOptions.length || direction === 'previous' && nextFocus === -1) {\n        return -1;\n      }\n\n      var option = listboxRef.current.querySelector(\"[data-option-index=\\\"\".concat(nextFocus, \"\\\"]\")); // Same logic as MenuList.js\n\n      var nextFocusDisabled = disabledItemsFocusable ? false : option && (option.disabled || option.getAttribute('aria-disabled') === 'true');\n\n      if (option && !option.hasAttribute('tabindex') || nextFocusDisabled) {\n        // Move to the next element.\n        nextFocus += direction === 'next' ? 1 : -1;\n      } else {\n        return nextFocus;\n      }\n    }\n  }\n\n  var setHighlightedIndex = useEventCallback(function (_ref2) {\n    var event = _ref2.event,\n        index = _ref2.index,\n        _ref2$reason = _ref2.reason,\n        reason = _ref2$reason === void 0 ? 'auto' : _ref2$reason;\n    highlightedIndexRef.current = index; // does the index exist?\n\n    if (index === -1) {\n      inputRef.current.removeAttribute('aria-activedescendant');\n    } else {\n      inputRef.current.setAttribute('aria-activedescendant', \"\".concat(id, \"-option-\").concat(index));\n    }\n\n    if (onHighlightChange) {\n      onHighlightChange(event, index === -1 ? null : filteredOptions[index], reason);\n    }\n\n    if (!listboxRef.current) {\n      return;\n    }\n\n    var prev = listboxRef.current.querySelector('[data-focus]');\n\n    if (prev) {\n      prev.removeAttribute('data-focus');\n    }\n\n    var listboxNode = listboxRef.current.parentElement.querySelector('[role=\"listbox\"]'); // \"No results\"\n\n    if (!listboxNode) {\n      return;\n    }\n\n    if (index === -1) {\n      listboxNode.scrollTop = 0;\n      return;\n    }\n\n    var option = listboxRef.current.querySelector(\"[data-option-index=\\\"\".concat(index, \"\\\"]\"));\n\n    if (!option) {\n      return;\n    }\n\n    option.setAttribute('data-focus', 'true'); // Scroll active descendant into view.\n    // Logic copied from https://www.w3.org/TR/wai-aria-practices/examples/listbox/js/listbox.js\n    //\n    // Consider this API instead once it has a better browser support:\n    // .scrollIntoView({ scrollMode: 'if-needed', block: 'nearest' });\n\n    if (listboxNode.scrollHeight > listboxNode.clientHeight && reason !== 'mouse') {\n      var element = option;\n      var scrollBottom = listboxNode.clientHeight + listboxNode.scrollTop;\n      var elementBottom = element.offsetTop + element.offsetHeight;\n\n      if (elementBottom > scrollBottom) {\n        listboxNode.scrollTop = elementBottom - listboxNode.clientHeight;\n      } else if (element.offsetTop - element.offsetHeight * (groupBy ? 1.3 : 0) < listboxNode.scrollTop) {\n        listboxNode.scrollTop = element.offsetTop - element.offsetHeight * (groupBy ? 1.3 : 0);\n      }\n    }\n  });\n  var changeHighlightedIndex = useEventCallback(function (_ref3) {\n    var event = _ref3.event,\n        diff = _ref3.diff,\n        _ref3$direction = _ref3.direction,\n        direction = _ref3$direction === void 0 ? 'next' : _ref3$direction,\n        _ref3$reason = _ref3.reason,\n        reason = _ref3$reason === void 0 ? 'auto' : _ref3$reason;\n\n    if (!popupOpen) {\n      return;\n    }\n\n    var getNextIndex = function getNextIndex() {\n      var maxIndex = filteredOptions.length - 1;\n\n      if (diff === 'reset') {\n        return defaultHighlighted;\n      }\n\n      if (diff === 'start') {\n        return 0;\n      }\n\n      if (diff === 'end') {\n        return maxIndex;\n      }\n\n      var newIndex = highlightedIndexRef.current + diff;\n\n      if (newIndex < 0) {\n        if (newIndex === -1 && includeInputInList) {\n          return -1;\n        }\n\n        if (disableListWrap && highlightedIndexRef.current !== -1 || Math.abs(diff) > 1) {\n          return 0;\n        }\n\n        return maxIndex;\n      }\n\n      if (newIndex > maxIndex) {\n        if (newIndex === maxIndex + 1 && includeInputInList) {\n          return -1;\n        }\n\n        if (disableListWrap || Math.abs(diff) > 1) {\n          return maxIndex;\n        }\n\n        return 0;\n      }\n\n      return newIndex;\n    };\n\n    var nextIndex = validOptionIndex(getNextIndex(), direction);\n    setHighlightedIndex({\n      index: nextIndex,\n      reason: reason,\n      event: event\n    }); // Sync the content of the input with the highlighted option.\n\n    if (autoComplete && diff !== 'reset') {\n      if (nextIndex === -1) {\n        inputRef.current.value = inputValue;\n      } else {\n        var option = getOptionLabel(filteredOptions[nextIndex]);\n        inputRef.current.value = option; // The portion of the selected suggestion that has not been typed by the user,\n        // a completion string, appears inline after the input cursor in the textbox.\n\n        var index = option.toLowerCase().indexOf(inputValue.toLowerCase());\n\n        if (index === 0 && inputValue.length > 0) {\n          inputRef.current.setSelectionRange(inputValue.length, option.length);\n        }\n      }\n    }\n  });\n  var syncHighlightedIndex = React.useCallback(function () {\n    if (!popupOpen) {\n      return;\n    }\n\n    var valueItem = multiple ? value[0] : value; // The popup is empty, reset\n\n    if (filteredOptions.length === 0 || valueItem == null) {\n      changeHighlightedIndex({\n        diff: 'reset'\n      });\n      return;\n    }\n\n    if (!listboxRef.current) {\n      return;\n    } // Synchronize the value with the highlighted index\n\n\n    if (!filterSelectedOptions && valueItem != null) {\n      var currentOption = filteredOptions[highlightedIndexRef.current]; // Keep the current highlighted index if possible\n\n      if (multiple && currentOption && findIndex(value, function (val) {\n        return getOptionSelected(currentOption, val);\n      }) !== -1) {\n        return;\n      }\n\n      var itemIndex = findIndex(filteredOptions, function (optionItem) {\n        return getOptionSelected(optionItem, valueItem);\n      });\n\n      if (itemIndex === -1) {\n        changeHighlightedIndex({\n          diff: 'reset'\n        });\n      } else {\n        setHighlightedIndex({\n          index: itemIndex\n        });\n      }\n\n      return;\n    } // Prevent the highlighted index to leak outside the boundaries.\n\n\n    if (highlightedIndexRef.current >= filteredOptions.length - 1) {\n      setHighlightedIndex({\n        index: filteredOptions.length - 1\n      });\n      return;\n    } // Restore the focus to the previous index.\n\n\n    setHighlightedIndex({\n      index: highlightedIndexRef.current\n    }); // Ignore filteredOptions (and options, getOptionSelected, getOptionLabel) not to break the scroll position\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [// Only sync the highlighted index when the option switch between empty and not\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  filteredOptions.length === 0, // Don't sync the highlighted index with the value when multiple\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  multiple ? false : value, filterSelectedOptions, changeHighlightedIndex, setHighlightedIndex, popupOpen, inputValue, multiple]);\n  var handleListboxRef = useEventCallback(function (node) {\n    setRef(listboxRef, node);\n\n    if (!node) {\n      return;\n    }\n\n    syncHighlightedIndex();\n  });\n  React.useEffect(function () {\n    syncHighlightedIndex();\n  }, [syncHighlightedIndex]);\n\n  var handleOpen = function handleOpen(event) {\n    if (open) {\n      return;\n    }\n\n    setOpenState(true);\n\n    if (onOpen) {\n      onOpen(event);\n    }\n  };\n\n  var handleClose = function handleClose(event, reason) {\n    if (!open) {\n      return;\n    }\n\n    setOpenState(false);\n\n    if (onClose) {\n      onClose(event, reason);\n    }\n  };\n\n  var handleValue = function handleValue(event, newValue, reason, details) {\n    if (value === newValue) {\n      return;\n    }\n\n    if (onChange) {\n      onChange(event, newValue, reason, details);\n    }\n\n    setValue(newValue);\n  };\n\n  var isTouch = React.useRef(false);\n\n  var selectNewValue = function selectNewValue(event, option) {\n    var reasonProp = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'select-option';\n    var origin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'options';\n    var reason = reasonProp;\n    var newValue = option;\n\n    if (multiple) {\n      newValue = Array.isArray(value) ? value.slice() : [];\n\n      if (process.env.NODE_ENV !== 'production') {\n        var matches = newValue.filter(function (val) {\n          return getOptionSelected(option, val);\n        });\n\n        if (matches.length > 1) {\n          console.error([\"Material-UI: The `getOptionSelected` method of \".concat(componentName, \" do not handle the arguments correctly.\"), \"The component expects a single value to match a given option but found \".concat(matches.length, \" matches.\")].join('\\n'));\n        }\n      }\n\n      var itemIndex = findIndex(newValue, function (valueItem) {\n        return getOptionSelected(option, valueItem);\n      });\n\n      if (itemIndex === -1) {\n        newValue.push(option);\n      } else if (origin !== 'freeSolo') {\n        newValue.splice(itemIndex, 1);\n        reason = 'remove-option';\n      }\n    }\n\n    resetInputValue(event, newValue);\n    handleValue(event, newValue, reason, {\n      option: option\n    });\n\n    if (!disableCloseOnSelect) {\n      handleClose(event, reason);\n    }\n\n    if (blurOnSelect === true || blurOnSelect === 'touch' && isTouch.current || blurOnSelect === 'mouse' && !isTouch.current) {\n      inputRef.current.blur();\n    }\n  };\n\n  function validTagIndex(index, direction) {\n    if (index === -1) {\n      return -1;\n    }\n\n    var nextFocus = index;\n\n    while (true) {\n      // Out of range\n      if (direction === 'next' && nextFocus === value.length || direction === 'previous' && nextFocus === -1) {\n        return -1;\n      }\n\n      var option = anchorEl.querySelector(\"[data-tag-index=\\\"\".concat(nextFocus, \"\\\"]\")); // Same logic as MenuList.js\n\n      if (option && (!option.hasAttribute('tabindex') || option.disabled || option.getAttribute('aria-disabled') === 'true')) {\n        nextFocus += direction === 'next' ? 1 : -1;\n      } else {\n        return nextFocus;\n      }\n    }\n  }\n\n  var handleFocusTag = function handleFocusTag(event, direction) {\n    if (!multiple) {\n      return;\n    }\n\n    handleClose(event, 'toggleInput');\n    var nextTag = focusedTag;\n\n    if (focusedTag === -1) {\n      if (inputValue === '' && direction === 'previous') {\n        nextTag = value.length - 1;\n      }\n    } else {\n      nextTag += direction === 'next' ? 1 : -1;\n\n      if (nextTag < 0) {\n        nextTag = 0;\n      }\n\n      if (nextTag === value.length) {\n        nextTag = -1;\n      }\n    }\n\n    nextTag = validTagIndex(nextTag, direction);\n    setFocusedTag(nextTag);\n    focusTag(nextTag);\n  };\n\n  var handleClear = function handleClear(event) {\n    ignoreFocus.current = true;\n    setInputValue('');\n\n    if (onInputChange) {\n      onInputChange(event, '', 'clear');\n    }\n\n    handleValue(event, multiple ? [] : null, 'clear');\n  };\n\n  var handleKeyDown = function handleKeyDown(other) {\n    return function (event) {\n      if (focusedTag !== -1 && ['ArrowLeft', 'ArrowRight'].indexOf(event.key) === -1) {\n        setFocusedTag(-1);\n        focusTag(-1);\n      }\n\n      switch (event.key) {\n        case 'Home':\n          if (popupOpen && handleHomeEndKeys) {\n            // Prevent scroll of the page\n            event.preventDefault();\n            changeHighlightedIndex({\n              diff: 'start',\n              direction: 'next',\n              reason: 'keyboard',\n              event: event\n            });\n          }\n\n          break;\n\n        case 'End':\n          if (popupOpen && handleHomeEndKeys) {\n            // Prevent scroll of the page\n            event.preventDefault();\n            changeHighlightedIndex({\n              diff: 'end',\n              direction: 'previous',\n              reason: 'keyboard',\n              event: event\n            });\n          }\n\n          break;\n\n        case 'PageUp':\n          // Prevent scroll of the page\n          event.preventDefault();\n          changeHighlightedIndex({\n            diff: -pageSize,\n            direction: 'previous',\n            reason: 'keyboard',\n            event: event\n          });\n          handleOpen(event);\n          break;\n\n        case 'PageDown':\n          // Prevent scroll of the page\n          event.preventDefault();\n          changeHighlightedIndex({\n            diff: pageSize,\n            direction: 'next',\n            reason: 'keyboard',\n            event: event\n          });\n          handleOpen(event);\n          break;\n\n        case 'ArrowDown':\n          // Prevent cursor move\n          event.preventDefault();\n          changeHighlightedIndex({\n            diff: 1,\n            direction: 'next',\n            reason: 'keyboard',\n            event: event\n          });\n          handleOpen(event);\n          break;\n\n        case 'ArrowUp':\n          // Prevent cursor move\n          event.preventDefault();\n          changeHighlightedIndex({\n            diff: -1,\n            direction: 'previous',\n            reason: 'keyboard',\n            event: event\n          });\n          handleOpen(event);\n          break;\n\n        case 'ArrowLeft':\n          handleFocusTag(event, 'previous');\n          break;\n\n        case 'ArrowRight':\n          handleFocusTag(event, 'next');\n          break;\n\n        case 'Enter':\n          // Wait until IME is settled.\n          if (event.which === 229) {\n            break;\n          }\n\n          if (highlightedIndexRef.current !== -1 && popupOpen) {\n            var option = filteredOptions[highlightedIndexRef.current];\n            var disabled = getOptionDisabled ? getOptionDisabled(option) : false; // We don't want to validate the form.\n\n            event.preventDefault();\n\n            if (disabled) {\n              return;\n            }\n\n            selectNewValue(event, option, 'select-option'); // Move the selection to the end.\n\n            if (autoComplete) {\n              inputRef.current.setSelectionRange(inputRef.current.value.length, inputRef.current.value.length);\n            }\n          } else if (freeSolo && inputValue !== '' && inputValueIsSelectedValue === false) {\n            if (multiple) {\n              // Allow people to add new values before they submit the form.\n              event.preventDefault();\n            }\n\n            selectNewValue(event, inputValue, 'create-option', 'freeSolo');\n          }\n\n          break;\n\n        case 'Escape':\n          if (popupOpen) {\n            // Avoid Opera to exit fullscreen mode.\n            event.preventDefault(); // Avoid the Modal to handle the event.\n\n            event.stopPropagation();\n            handleClose(event, 'escape');\n          } else if (clearOnEscape && (inputValue !== '' || multiple && value.length > 0)) {\n            // Avoid Opera to exit fullscreen mode.\n            event.preventDefault(); // Avoid the Modal to handle the event.\n\n            event.stopPropagation();\n            handleClear(event);\n          }\n\n          break;\n\n        case 'Backspace':\n          if (multiple && inputValue === '' && value.length > 0) {\n            var index = focusedTag === -1 ? value.length - 1 : focusedTag;\n            var newValue = value.slice();\n            newValue.splice(index, 1);\n            handleValue(event, newValue, 'remove-option', {\n              option: value[index]\n            });\n          }\n\n          break;\n\n        default:\n      }\n\n      if (other.onKeyDown) {\n        other.onKeyDown(event);\n      }\n    };\n  };\n\n  var handleFocus = function handleFocus(event) {\n    setFocused(true);\n\n    if (openOnFocus && !ignoreFocus.current) {\n      handleOpen(event);\n    }\n  };\n\n  var handleBlur = function handleBlur(event) {\n    // Ignore the event when using the scrollbar with IE 11\n    if (listboxRef.current !== null && document.activeElement === listboxRef.current.parentElement) {\n      inputRef.current.focus();\n      return;\n    }\n\n    setFocused(false);\n    firstFocus.current = true;\n    ignoreFocus.current = false;\n\n    if (debug && inputValue !== '') {\n      return;\n    }\n\n    if (autoSelect && highlightedIndexRef.current !== -1 && popupOpen) {\n      selectNewValue(event, filteredOptions[highlightedIndexRef.current], 'blur');\n    } else if (autoSelect && freeSolo && inputValue !== '') {\n      selectNewValue(event, inputValue, 'blur', 'freeSolo');\n    } else if (clearOnBlur) {\n      resetInputValue(event, value);\n    }\n\n    handleClose(event, 'blur');\n  };\n\n  var handleInputChange = function handleInputChange(event) {\n    var newValue = event.target.value;\n\n    if (inputValue !== newValue) {\n      setInputValue(newValue);\n\n      if (onInputChange) {\n        onInputChange(event, newValue, 'input');\n      }\n    }\n\n    if (newValue === '') {\n      if (!disableClearable && !multiple) {\n        handleValue(event, null, 'clear');\n      }\n    } else {\n      handleOpen(event);\n    }\n  };\n\n  var handleOptionMouseOver = function handleOptionMouseOver(event) {\n    setHighlightedIndex({\n      event: event,\n      index: Number(event.currentTarget.getAttribute('data-option-index')),\n      reason: 'mouse'\n    });\n  };\n\n  var handleOptionTouchStart = function handleOptionTouchStart() {\n    isTouch.current = true;\n  };\n\n  var handleOptionClick = function handleOptionClick(event) {\n    var index = Number(event.currentTarget.getAttribute('data-option-index'));\n    selectNewValue(event, filteredOptions[index], 'select-option');\n    isTouch.current = false;\n  };\n\n  var handleTagDelete = function handleTagDelete(index) {\n    return function (event) {\n      var newValue = value.slice();\n      newValue.splice(index, 1);\n      handleValue(event, newValue, 'remove-option', {\n        option: value[index]\n      });\n    };\n  };\n\n  var handlePopupIndicator = function handlePopupIndicator(event) {\n    if (open) {\n      handleClose(event, 'toggleInput');\n    } else {\n      handleOpen(event);\n    }\n  }; // Prevent input blur when interacting with the combobox\n\n\n  var handleMouseDown = function handleMouseDown(event) {\n    if (event.target.getAttribute('id') !== id) {\n      event.preventDefault();\n    }\n  }; // Focus the input when interacting with the combobox\n\n\n  var handleClick = function handleClick() {\n    inputRef.current.focus();\n\n    if (selectOnFocus && firstFocus.current && inputRef.current.selectionEnd - inputRef.current.selectionStart === 0) {\n      inputRef.current.select();\n    }\n\n    firstFocus.current = false;\n  };\n\n  var handleInputMouseDown = function handleInputMouseDown(event) {\n    if (inputValue === '' || !open) {\n      handlePopupIndicator(event);\n    }\n  };\n\n  var dirty = freeSolo && inputValue.length > 0;\n  dirty = dirty || (multiple ? value.length > 0 : value !== null);\n  var groupedOptions = filteredOptions;\n\n  if (groupBy) {\n    // used to keep track of key and indexes in the result array\n    var indexBy = new Map();\n    var warn = false;\n    groupedOptions = filteredOptions.reduce(function (acc, option, index) {\n      var group = groupBy(option);\n\n      if (acc.length > 0 && acc[acc.length - 1].group === group) {\n        acc[acc.length - 1].options.push(option);\n      } else {\n        if (process.env.NODE_ENV !== 'production') {\n          if (indexBy.get(group) && !warn) {\n            console.warn(\"Material-UI: The options provided combined with the `groupBy` method of \".concat(componentName, \" returns duplicated headers.\"), 'You can solve the issue by sorting the options with the output of `groupBy`.');\n            warn = true;\n          }\n\n          indexBy.set(group, true);\n        }\n\n        acc.push({\n          key: index,\n          index: index,\n          group: group,\n          options: [option]\n        });\n      }\n\n      return acc;\n    }, []);\n  }\n\n  return {\n    getRootProps: function getRootProps() {\n      var other = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return _extends({\n        'aria-owns': popupOpen ? \"\".concat(id, \"-popup\") : null,\n        role: 'combobox',\n        'aria-expanded': popupOpen\n      }, other, {\n        onKeyDown: handleKeyDown(other),\n        onMouseDown: handleMouseDown,\n        onClick: handleClick\n      });\n    },\n    getInputLabelProps: function getInputLabelProps() {\n      return {\n        id: \"\".concat(id, \"-label\"),\n        htmlFor: id\n      };\n    },\n    getInputProps: function getInputProps() {\n      return {\n        id: id,\n        value: inputValue,\n        onBlur: handleBlur,\n        onFocus: handleFocus,\n        onChange: handleInputChange,\n        onMouseDown: handleInputMouseDown,\n        // if open then this is handled imperativeley so don't let react override\n        // only have an opinion about this when closed\n        'aria-activedescendant': popupOpen ? '' : null,\n        'aria-autocomplete': autoComplete ? 'both' : 'list',\n        'aria-controls': popupOpen ? \"\".concat(id, \"-popup\") : null,\n        // Disable browser's suggestion that might overlap with the popup.\n        // Handle autocomplete but not autofill.\n        autoComplete: 'off',\n        ref: inputRef,\n        autoCapitalize: 'none',\n        spellCheck: 'false'\n      };\n    },\n    getClearProps: function getClearProps() {\n      return {\n        tabIndex: -1,\n        onClick: handleClear\n      };\n    },\n    getPopupIndicatorProps: function getPopupIndicatorProps() {\n      return {\n        tabIndex: -1,\n        onClick: handlePopupIndicator\n      };\n    },\n    getTagProps: function getTagProps(_ref4) {\n      var index = _ref4.index;\n      return {\n        key: index,\n        'data-tag-index': index,\n        tabIndex: -1,\n        onDelete: handleTagDelete(index)\n      };\n    },\n    getListboxProps: function getListboxProps() {\n      return {\n        role: 'listbox',\n        id: \"\".concat(id, \"-popup\"),\n        'aria-labelledby': \"\".concat(id, \"-label\"),\n        ref: handleListboxRef,\n        onMouseDown: function onMouseDown(event) {\n          // Prevent blur\n          event.preventDefault();\n        }\n      };\n    },\n    getOptionProps: function getOptionProps(_ref5) {\n      var index = _ref5.index,\n          option = _ref5.option;\n      var selected = (multiple ? value : [value]).some(function (value2) {\n        return value2 != null && getOptionSelected(option, value2);\n      });\n      var disabled = getOptionDisabled ? getOptionDisabled(option) : false;\n      return {\n        key: index,\n        tabIndex: -1,\n        role: 'option',\n        id: \"\".concat(id, \"-option-\").concat(index),\n        onMouseOver: handleOptionMouseOver,\n        onClick: handleOptionClick,\n        onTouchStart: handleOptionTouchStart,\n        'data-option-index': index,\n        'aria-disabled': disabled,\n        'aria-selected': selected\n      };\n    },\n    id: id,\n    inputValue: inputValue,\n    value: value,\n    dirty: dirty,\n    popupOpen: popupOpen,\n    focused: focused || focusedTag !== -1,\n    anchorEl: anchorEl,\n    setAnchorEl: setAnchorEl,\n    focusedTag: focusedTag,\n    groupedOptions: groupedOptions\n  };\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { withStyles } from '@material-ui/core/styles';\nimport Popper from '@material-ui/core/Popper';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport Chip from '@material-ui/core/Chip';\nimport CloseIcon from '../internal/svg-icons/Close';\nimport ArrowDropDownIcon from '../internal/svg-icons/ArrowDropDown';\nimport useAutocomplete, { createFilterOptions } from '../useAutocomplete';\nexport { createFilterOptions };\nexport var styles = function styles(theme) {\n  var _option;\n\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      '&$focused $clearIndicatorDirty': {\n        visibility: 'visible'\n      },\n\n      /* Avoid double tap issue on iOS */\n      '@media (pointer: fine)': {\n        '&:hover $clearIndicatorDirty': {\n          visibility: 'visible'\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `fullWidth={true}`. */\n    fullWidth: {\n      width: '100%'\n    },\n\n    /* Pseudo-class applied to the root element if focused. */\n    focused: {},\n\n    /* Styles applied to the tag elements, e.g. the chips. */\n    tag: {\n      margin: 3,\n      maxWidth: 'calc(100% - 6px)'\n    },\n\n    /* Styles applied to the tag elements, e.g. the chips if `size=\"small\"`. */\n    tagSizeSmall: {\n      margin: 2,\n      maxWidth: 'calc(100% - 4px)'\n    },\n\n    /* Styles applied when the popup icon is rendered. */\n    hasPopupIcon: {},\n\n    /* Styles applied when the clear icon is rendered. */\n    hasClearIcon: {},\n\n    /* Styles applied to the Input element. */\n    inputRoot: {\n      flexWrap: 'wrap',\n      '$hasPopupIcon &, $hasClearIcon &': {\n        paddingRight: 26 + 4\n      },\n      '$hasPopupIcon$hasClearIcon &': {\n        paddingRight: 52 + 4\n      },\n      '& $input': {\n        width: 0,\n        minWidth: 30\n      },\n      '&[class*=\"MuiInput-root\"]': {\n        paddingBottom: 1,\n        '& $input': {\n          padding: 4\n        },\n        '& $input:first-child': {\n          padding: '6px 0'\n        }\n      },\n      '&[class*=\"MuiInput-root\"][class*=\"MuiInput-marginDense\"]': {\n        '& $input': {\n          padding: '4px 4px 5px'\n        },\n        '& $input:first-child': {\n          padding: '3px 0 6px'\n        }\n      },\n      '&[class*=\"MuiOutlinedInput-root\"]': {\n        padding: 9,\n        '$hasPopupIcon &, $hasClearIcon &': {\n          paddingRight: 26 + 4 + 9\n        },\n        '$hasPopupIcon$hasClearIcon &': {\n          paddingRight: 52 + 4 + 9\n        },\n        '& $input': {\n          padding: '9.5px 4px'\n        },\n        '& $input:first-child': {\n          paddingLeft: 6\n        },\n        '& $endAdornment': {\n          right: 9\n        }\n      },\n      '&[class*=\"MuiOutlinedInput-root\"][class*=\"MuiOutlinedInput-marginDense\"]': {\n        padding: 6,\n        '& $input': {\n          padding: '4.5px 4px'\n        }\n      },\n      '&[class*=\"MuiFilledInput-root\"]': {\n        paddingTop: 19,\n        paddingLeft: 8,\n        '$hasPopupIcon &, $hasClearIcon &': {\n          paddingRight: 26 + 4 + 9\n        },\n        '$hasPopupIcon$hasClearIcon &': {\n          paddingRight: 52 + 4 + 9\n        },\n        '& $input': {\n          padding: '9px 4px'\n        },\n        '& $endAdornment': {\n          right: 9\n        }\n      },\n      '&[class*=\"MuiFilledInput-root\"][class*=\"MuiFilledInput-marginDense\"]': {\n        paddingBottom: 1,\n        '& $input': {\n          padding: '4.5px 4px'\n        }\n      }\n    },\n\n    /* Styles applied to the input element. */\n    input: {\n      flexGrow: 1,\n      textOverflow: 'ellipsis',\n      opacity: 0\n    },\n\n    /* Styles applied to the input element if tag focused. */\n    inputFocused: {\n      opacity: 1\n    },\n\n    /* Styles applied to the endAdornment element. */\n    endAdornment: {\n      // We use a position absolute to support wrapping tags.\n      position: 'absolute',\n      right: 0,\n      top: 'calc(50% - 14px)' // Center vertically\n\n    },\n\n    /* Styles applied to the clear indicator. */\n    clearIndicator: {\n      marginRight: -2,\n      padding: 4,\n      visibility: 'hidden'\n    },\n\n    /* Styles applied to the clear indicator if the input is dirty. */\n    clearIndicatorDirty: {},\n\n    /* Styles applied to the popup indicator. */\n    popupIndicator: {\n      padding: 2,\n      marginRight: -2\n    },\n\n    /* Styles applied to the popup indicator if the popup is open. */\n    popupIndicatorOpen: {\n      transform: 'rotate(180deg)'\n    },\n\n    /* Styles applied to the popper element. */\n    popper: {\n      zIndex: theme.zIndex.modal\n    },\n\n    /* Styles applied to the popper element if `disablePortal={true}`. */\n    popperDisablePortal: {\n      position: 'absolute'\n    },\n\n    /* Styles applied to the `Paper` component. */\n    paper: _extends({}, theme.typography.body1, {\n      overflow: 'hidden',\n      margin: '4px 0'\n    }),\n\n    /* Styles applied to the `listbox` component. */\n    listbox: {\n      listStyle: 'none',\n      margin: 0,\n      padding: '8px 0',\n      maxHeight: '40vh',\n      overflow: 'auto'\n    },\n\n    /* Styles applied to the loading wrapper. */\n    loading: {\n      color: theme.palette.text.secondary,\n      padding: '14px 16px'\n    },\n\n    /* Styles applied to the no option wrapper. */\n    noOptions: {\n      color: theme.palette.text.secondary,\n      padding: '14px 16px'\n    },\n\n    /* Styles applied to the option elements. */\n    option: (_option = {\n      minHeight: 48,\n      display: 'flex',\n      justifyContent: 'flex-start',\n      alignItems: 'center',\n      cursor: 'pointer',\n      paddingTop: 6,\n      boxSizing: 'border-box',\n      outline: '0',\n      WebkitTapHighlightColor: 'transparent',\n      paddingBottom: 6,\n      paddingLeft: 16,\n      paddingRight: 16\n    }, _defineProperty(_option, theme.breakpoints.up('sm'), {\n      minHeight: 'auto'\n    }), _defineProperty(_option, '&[aria-selected=\"true\"]', {\n      backgroundColor: theme.palette.action.selected\n    }), _defineProperty(_option, '&[data-focus=\"true\"]', {\n      backgroundColor: theme.palette.action.hover\n    }), _defineProperty(_option, '&:active', {\n      backgroundColor: theme.palette.action.selected\n    }), _defineProperty(_option, '&[aria-disabled=\"true\"]', {\n      opacity: theme.palette.action.disabledOpacity,\n      pointerEvents: 'none'\n    }), _option),\n\n    /* Styles applied to the group's label elements. */\n    groupLabel: {\n      backgroundColor: theme.palette.background.paper,\n      top: -8\n    },\n\n    /* Styles applied to the group's ul elements. */\n    groupUl: {\n      padding: 0,\n      '& $option': {\n        paddingLeft: 24\n      }\n    }\n  };\n};\n\nfunction DisablePortal(props) {\n  // eslint-disable-next-line react/prop-types\n  var anchorEl = props.anchorEl,\n      open = props.open,\n      other = _objectWithoutProperties(props, [\"anchorEl\", \"open\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", other);\n}\n\nvar _ref = /*#__PURE__*/React.createElement(CloseIcon, {\n  fontSize: \"small\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(ArrowDropDownIcon, null);\n\nvar Autocomplete = /*#__PURE__*/React.forwardRef(function Autocomplete(props, ref) {\n  /* eslint-disable no-unused-vars */\n  var _props$autoComplete = props.autoComplete,\n      autoComplete = _props$autoComplete === void 0 ? false : _props$autoComplete,\n      _props$autoHighlight = props.autoHighlight,\n      autoHighlight = _props$autoHighlight === void 0 ? false : _props$autoHighlight,\n      _props$autoSelect = props.autoSelect,\n      autoSelect = _props$autoSelect === void 0 ? false : _props$autoSelect,\n      _props$blurOnSelect = props.blurOnSelect,\n      blurOnSelect = _props$blurOnSelect === void 0 ? false : _props$blurOnSelect,\n      ChipProps = props.ChipProps,\n      classes = props.classes,\n      className = props.className,\n      _props$clearOnBlur = props.clearOnBlur,\n      clearOnBlur = _props$clearOnBlur === void 0 ? !props.freeSolo : _props$clearOnBlur,\n      _props$clearOnEscape = props.clearOnEscape,\n      clearOnEscape = _props$clearOnEscape === void 0 ? false : _props$clearOnEscape,\n      _props$clearText = props.clearText,\n      clearText = _props$clearText === void 0 ? 'Clear' : _props$clearText,\n      _props$closeIcon = props.closeIcon,\n      closeIcon = _props$closeIcon === void 0 ? _ref : _props$closeIcon,\n      _props$closeText = props.closeText,\n      closeText = _props$closeText === void 0 ? 'Close' : _props$closeText,\n      _props$debug = props.debug,\n      debug = _props$debug === void 0 ? false : _props$debug,\n      _props$defaultValue = props.defaultValue,\n      defaultValue = _props$defaultValue === void 0 ? props.multiple ? [] : null : _props$defaultValue,\n      _props$disableClearab = props.disableClearable,\n      disableClearable = _props$disableClearab === void 0 ? false : _props$disableClearab,\n      _props$disableCloseOn = props.disableCloseOnSelect,\n      disableCloseOnSelect = _props$disableCloseOn === void 0 ? false : _props$disableCloseOn,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disabledItemsF = props.disabledItemsFocusable,\n      disabledItemsFocusable = _props$disabledItemsF === void 0 ? false : _props$disabledItemsF,\n      _props$disableListWra = props.disableListWrap,\n      disableListWrap = _props$disableListWra === void 0 ? false : _props$disableListWra,\n      _props$disablePortal = props.disablePortal,\n      disablePortal = _props$disablePortal === void 0 ? false : _props$disablePortal,\n      filterOptions = props.filterOptions,\n      _props$filterSelected = props.filterSelectedOptions,\n      filterSelectedOptions = _props$filterSelected === void 0 ? false : _props$filterSelected,\n      _props$forcePopupIcon = props.forcePopupIcon,\n      forcePopupIcon = _props$forcePopupIcon === void 0 ? 'auto' : _props$forcePopupIcon,\n      _props$freeSolo = props.freeSolo,\n      freeSolo = _props$freeSolo === void 0 ? false : _props$freeSolo,\n      _props$fullWidth = props.fullWidth,\n      fullWidth = _props$fullWidth === void 0 ? false : _props$fullWidth,\n      _props$getLimitTagsTe = props.getLimitTagsText,\n      getLimitTagsText = _props$getLimitTagsTe === void 0 ? function (more) {\n    return \"+\".concat(more);\n  } : _props$getLimitTagsTe,\n      getOptionDisabled = props.getOptionDisabled,\n      _props$getOptionLabel = props.getOptionLabel,\n      getOptionLabel = _props$getOptionLabel === void 0 ? function (x) {\n    return x;\n  } : _props$getOptionLabel,\n      getOptionSelected = props.getOptionSelected,\n      groupBy = props.groupBy,\n      _props$handleHomeEndK = props.handleHomeEndKeys,\n      handleHomeEndKeys = _props$handleHomeEndK === void 0 ? !props.freeSolo : _props$handleHomeEndK,\n      idProp = props.id,\n      _props$includeInputIn = props.includeInputInList,\n      includeInputInList = _props$includeInputIn === void 0 ? false : _props$includeInputIn,\n      inputValueProp = props.inputValue,\n      _props$limitTags = props.limitTags,\n      limitTags = _props$limitTags === void 0 ? -1 : _props$limitTags,\n      _props$ListboxCompone = props.ListboxComponent,\n      ListboxComponent = _props$ListboxCompone === void 0 ? 'ul' : _props$ListboxCompone,\n      ListboxProps = props.ListboxProps,\n      _props$loading = props.loading,\n      loading = _props$loading === void 0 ? false : _props$loading,\n      _props$loadingText = props.loadingText,\n      loadingText = _props$loadingText === void 0 ? 'Loading' : _props$loadingText,\n      _props$multiple = props.multiple,\n      multiple = _props$multiple === void 0 ? false : _props$multiple,\n      _props$noOptionsText = props.noOptionsText,\n      noOptionsText = _props$noOptionsText === void 0 ? 'No options' : _props$noOptionsText,\n      onChange = props.onChange,\n      onClose = props.onClose,\n      onHighlightChange = props.onHighlightChange,\n      onInputChange = props.onInputChange,\n      onOpen = props.onOpen,\n      open = props.open,\n      _props$openOnFocus = props.openOnFocus,\n      openOnFocus = _props$openOnFocus === void 0 ? false : _props$openOnFocus,\n      _props$openText = props.openText,\n      openText = _props$openText === void 0 ? 'Open' : _props$openText,\n      options = props.options,\n      _props$PaperComponent = props.PaperComponent,\n      PaperComponent = _props$PaperComponent === void 0 ? Paper : _props$PaperComponent,\n      _props$PopperComponen = props.PopperComponent,\n      PopperComponentProp = _props$PopperComponen === void 0 ? Popper : _props$PopperComponen,\n      _props$popupIcon = props.popupIcon,\n      popupIcon = _props$popupIcon === void 0 ? _ref2 : _props$popupIcon,\n      renderGroupProp = props.renderGroup,\n      renderInput = props.renderInput,\n      renderOptionProp = props.renderOption,\n      renderTags = props.renderTags,\n      _props$selectOnFocus = props.selectOnFocus,\n      selectOnFocus = _props$selectOnFocus === void 0 ? !props.freeSolo : _props$selectOnFocus,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      valueProp = props.value,\n      other = _objectWithoutProperties(props, [\"autoComplete\", \"autoHighlight\", \"autoSelect\", \"blurOnSelect\", \"ChipProps\", \"classes\", \"className\", \"clearOnBlur\", \"clearOnEscape\", \"clearText\", \"closeIcon\", \"closeText\", \"debug\", \"defaultValue\", \"disableClearable\", \"disableCloseOnSelect\", \"disabled\", \"disabledItemsFocusable\", \"disableListWrap\", \"disablePortal\", \"filterOptions\", \"filterSelectedOptions\", \"forcePopupIcon\", \"freeSolo\", \"fullWidth\", \"getLimitTagsText\", \"getOptionDisabled\", \"getOptionLabel\", \"getOptionSelected\", \"groupBy\", \"handleHomeEndKeys\", \"id\", \"includeInputInList\", \"inputValue\", \"limitTags\", \"ListboxComponent\", \"ListboxProps\", \"loading\", \"loadingText\", \"multiple\", \"noOptionsText\", \"onChange\", \"onClose\", \"onHighlightChange\", \"onInputChange\", \"onOpen\", \"open\", \"openOnFocus\", \"openText\", \"options\", \"PaperComponent\", \"PopperComponent\", \"popupIcon\", \"renderGroup\", \"renderInput\", \"renderOption\", \"renderTags\", \"selectOnFocus\", \"size\", \"value\"]);\n  /* eslint-enable no-unused-vars */\n\n\n  var PopperComponent = disablePortal ? DisablePortal : PopperComponentProp;\n\n  var _useAutocomplete = useAutocomplete(_extends({}, props, {\n    componentName: 'Autocomplete'\n  })),\n      getRootProps = _useAutocomplete.getRootProps,\n      getInputProps = _useAutocomplete.getInputProps,\n      getInputLabelProps = _useAutocomplete.getInputLabelProps,\n      getPopupIndicatorProps = _useAutocomplete.getPopupIndicatorProps,\n      getClearProps = _useAutocomplete.getClearProps,\n      getTagProps = _useAutocomplete.getTagProps,\n      getListboxProps = _useAutocomplete.getListboxProps,\n      getOptionProps = _useAutocomplete.getOptionProps,\n      value = _useAutocomplete.value,\n      dirty = _useAutocomplete.dirty,\n      id = _useAutocomplete.id,\n      popupOpen = _useAutocomplete.popupOpen,\n      focused = _useAutocomplete.focused,\n      focusedTag = _useAutocomplete.focusedTag,\n      anchorEl = _useAutocomplete.anchorEl,\n      setAnchorEl = _useAutocomplete.setAnchorEl,\n      inputValue = _useAutocomplete.inputValue,\n      groupedOptions = _useAutocomplete.groupedOptions;\n\n  var startAdornment;\n\n  if (multiple && value.length > 0) {\n    var getCustomizedTagProps = function getCustomizedTagProps(params) {\n      return _extends({\n        className: clsx(classes.tag, size === 'small' && classes.tagSizeSmall),\n        disabled: disabled\n      }, getTagProps(params));\n    };\n\n    if (renderTags) {\n      startAdornment = renderTags(value, getCustomizedTagProps);\n    } else {\n      startAdornment = value.map(function (option, index) {\n        return /*#__PURE__*/React.createElement(Chip, _extends({\n          label: getOptionLabel(option),\n          size: size\n        }, getCustomizedTagProps({\n          index: index\n        }), ChipProps));\n      });\n    }\n  }\n\n  if (limitTags > -1 && Array.isArray(startAdornment)) {\n    var more = startAdornment.length - limitTags;\n\n    if (!focused && more > 0) {\n      startAdornment = startAdornment.splice(0, limitTags);\n      startAdornment.push( /*#__PURE__*/React.createElement(\"span\", {\n        className: classes.tag,\n        key: startAdornment.length\n      }, getLimitTagsText(more)));\n    }\n  }\n\n  var defaultRenderGroup = function defaultRenderGroup(params) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: params.key\n    }, /*#__PURE__*/React.createElement(ListSubheader, {\n      className: classes.groupLabel,\n      component: \"div\"\n    }, params.group), /*#__PURE__*/React.createElement(\"ul\", {\n      className: classes.groupUl\n    }, params.children));\n  };\n\n  var renderGroup = renderGroupProp || defaultRenderGroup;\n  var renderOption = renderOptionProp || getOptionLabel;\n\n  var renderListOption = function renderListOption(option, index) {\n    var optionProps = getOptionProps({\n      option: option,\n      index: index\n    });\n    return /*#__PURE__*/React.createElement(\"li\", _extends({}, optionProps, {\n      className: classes.option\n    }), renderOption(option, {\n      selected: optionProps['aria-selected'],\n      inputValue: inputValue\n    }));\n  };\n\n  var hasClearIcon = !disableClearable && !disabled;\n  var hasPopupIcon = (!freeSolo || forcePopupIcon === true) && forcePopupIcon !== false;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref,\n    className: clsx(classes.root, className, focused && classes.focused, fullWidth && classes.fullWidth, hasClearIcon && classes.hasClearIcon, hasPopupIcon && classes.hasPopupIcon)\n  }, getRootProps(other)), renderInput({\n    id: id,\n    disabled: disabled,\n    fullWidth: true,\n    size: size === 'small' ? 'small' : undefined,\n    InputLabelProps: getInputLabelProps(),\n    InputProps: {\n      ref: setAnchorEl,\n      className: classes.inputRoot,\n      startAdornment: startAdornment,\n      endAdornment: /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.endAdornment\n      }, hasClearIcon ? /*#__PURE__*/React.createElement(IconButton, _extends({}, getClearProps(), {\n        \"aria-label\": clearText,\n        title: clearText,\n        className: clsx(classes.clearIndicator, dirty && classes.clearIndicatorDirty)\n      }), closeIcon) : null, hasPopupIcon ? /*#__PURE__*/React.createElement(IconButton, _extends({}, getPopupIndicatorProps(), {\n        disabled: disabled,\n        \"aria-label\": popupOpen ? closeText : openText,\n        title: popupOpen ? closeText : openText,\n        className: clsx(classes.popupIndicator, popupOpen && classes.popupIndicatorOpen)\n      }), popupIcon) : null)\n    },\n    inputProps: _extends({\n      className: clsx(classes.input, focusedTag === -1 && classes.inputFocused),\n      disabled: disabled\n    }, getInputProps())\n  })), popupOpen && anchorEl ? /*#__PURE__*/React.createElement(PopperComponent, {\n    className: clsx(classes.popper, disablePortal && classes.popperDisablePortal),\n    style: {\n      width: anchorEl ? anchorEl.clientWidth : null\n    },\n    role: \"presentation\",\n    anchorEl: anchorEl,\n    open: true\n  }, /*#__PURE__*/React.createElement(PaperComponent, {\n    className: classes.paper\n  }, loading && groupedOptions.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.loading\n  }, loadingText) : null, groupedOptions.length === 0 && !freeSolo && !loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.noOptions\n  }, noOptionsText) : null, groupedOptions.length > 0 ? /*#__PURE__*/React.createElement(ListboxComponent, _extends({\n    className: classes.listbox\n  }, getListboxProps(), ListboxProps), groupedOptions.map(function (option, index) {\n    if (groupBy) {\n      return renderGroup({\n        key: option.key,\n        group: option.group,\n        children: option.options.map(function (option2, index2) {\n          return renderListOption(option2, option.index + index2);\n        })\n      });\n    }\n\n    return renderListOption(option, index);\n  })) : null)) : null);\n});\nprocess.env.NODE_ENV !== \"production\" ? Autocomplete.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * If `true`, the portion of the selected suggestion that has not been typed by the user,\n   * known as the completion string, appears inline after the input cursor in the textbox.\n   * The inline completion string is visually highlighted and has a selected state.\n   */\n  autoComplete: PropTypes.bool,\n\n  /**\n   * If `true`, the first option is automatically highlighted.\n   */\n  autoHighlight: PropTypes.bool,\n\n  /**\n   * If `true`, the selected option becomes the value of the input\n   * when the Autocomplete loses focus unless the user chooses\n   * a different option or changes the character string in the input.\n   */\n  autoSelect: PropTypes.bool,\n\n  /**\n   * Control if the input should be blurred when an option is selected:\n   *\n   * - `false` the input is not blurred.\n   * - `true` the input is always blurred.\n   * - `touch` the input is blurred after a touch event.\n   * - `mouse` the input is blurred after a mouse event.\n   */\n  blurOnSelect: PropTypes.oneOfType([PropTypes.oneOf(['mouse', 'touch']), PropTypes.bool]),\n\n  /**\n   * Props applied to the [`Chip`](/api/chip/) element.\n   */\n  ChipProps: PropTypes.object,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the input's text will be cleared on blur if no value is selected.\n   *\n   * Set to `true` if you want to help the user enter a new value.\n   * Set to `false` if you want to help the user resume his search.\n   */\n  clearOnBlur: PropTypes.bool,\n\n  /**\n   * If `true`, clear all values when the user presses escape and the popup is closed.\n   */\n  clearOnEscape: PropTypes.bool,\n\n  /**\n   * Override the default text for the *clear* icon button.\n   *\n   * For localization purposes, you can use the provided [translations](/guides/localization/).\n   */\n  clearText: PropTypes.string,\n\n  /**\n   * The icon to display in place of the default close icon.\n   */\n  closeIcon: PropTypes.node,\n\n  /**\n   * Override the default text for the *close popup* icon button.\n   *\n   * For localization purposes, you can use the provided [translations](/guides/localization/).\n   */\n  closeText: PropTypes.string,\n\n  /**\n   * If `true`, the popup will ignore the blur event if the input is filled.\n   * You can inspect the popup markup with your browser tools.\n   * Consider this option when you need to customize the component.\n   */\n  debug: PropTypes.bool,\n\n  /**\n   * The default input value. Use when the component is not controlled.\n   */\n  defaultValue: PropTypes.any,\n\n  /**\n   * If `true`, the input can't be cleared.\n   */\n  disableClearable: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .bool,\n\n  /**\n   * If `true`, the popup won't close when a value is selected.\n   */\n  disableCloseOnSelect: PropTypes.bool,\n\n  /**\n   * If `true`, the input will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, will allow focus on disabled items.\n   */\n  disabledItemsFocusable: PropTypes.bool,\n\n  /**\n   * If `true`, the list box in the popup will not wrap focus.\n   */\n  disableListWrap: PropTypes.bool,\n\n  /**\n   * Disable the portal behavior.\n   * The children stay within it's parent DOM hierarchy.\n   */\n  disablePortal: PropTypes.bool,\n\n  /**\n   * A filter function that determines the options that are eligible.\n   *\n   * @param {T[]} options The options to render.\n   * @param {object} state The state of the component.\n   * @returns {T[]}\n   */\n  filterOptions: PropTypes.func,\n\n  /**\n   * If `true`, hide the selected options from the list box.\n   */\n  filterSelectedOptions: PropTypes.bool,\n\n  /**\n   * Force the visibility display of the popup icon.\n   */\n  forcePopupIcon: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.bool]),\n\n  /**\n   * If `true`, the Autocomplete is free solo, meaning that the user input is not bound to provided options.\n   */\n  freeSolo: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .bool,\n\n  /**\n   * If `true`, the input will take up the full width of its container.\n   */\n  fullWidth: PropTypes.bool,\n\n  /**\n   * The label to display when the tags are truncated (`limitTags`).\n   *\n   * @param {number} more The number of truncated tags.\n   * @returns {ReactNode}\n   */\n  getLimitTagsText: PropTypes.func,\n\n  /**\n   * Used to determine the disabled state for a given option.\n   *\n   * @param {T} option The option to test.\n   * @returns {boolean}\n   */\n  getOptionDisabled: PropTypes.func,\n\n  /**\n   * Used to determine the string value for a given option.\n   * It's used to fill the input (and the list box options if `renderOption` is not provided).\n   *\n   * @param {T} option\n   * @returns {string}\n   */\n  getOptionLabel: PropTypes.func,\n\n  /**\n   * Used to determine if an option is selected, considering the current value.\n   * Uses strict equality by default.\n   *\n   * @param {T} option The option to test.\n   * @param {T} value The value to test against.\n   * @returns {boolean}\n   */\n  getOptionSelected: PropTypes.func,\n\n  /**\n   * If provided, the options will be grouped under the returned string.\n   * The groupBy value is also used as the text for group headings when `renderGroup` is not provided.\n   *\n   * @param {T} options The options to group.\n   * @returns {string}\n   */\n  groupBy: PropTypes.func,\n\n  /**\n   * If `true`, the component handles the \"Home\" and \"End\" keys when the popup is open.\n   * It should move focus to the first option and last option, respectively.\n   */\n  handleHomeEndKeys: PropTypes.bool,\n\n  /**\n   * This prop is used to help implement the accessibility logic.\n   * If you don't provide this prop. It falls back to a randomly generated id.\n   */\n  id: PropTypes.string,\n\n  /**\n   * If `true`, the highlight can move to the input.\n   */\n  includeInputInList: PropTypes.bool,\n\n  /**\n   * The input value.\n   */\n  inputValue: PropTypes.string,\n\n  /**\n   * The maximum number of tags that will be visible when not focused.\n   * Set `-1` to disable the limit.\n   */\n  limitTags: PropTypes.number,\n\n  /**\n   * The component used to render the listbox.\n   */\n  ListboxComponent: PropTypes.elementType,\n\n  /**\n   * Props applied to the Listbox element.\n   */\n  ListboxProps: PropTypes.object,\n\n  /**\n   * If `true`, the component is in a loading state.\n   */\n  loading: PropTypes.bool,\n\n  /**\n   * Text to display when in a loading state.\n   *\n   * For localization purposes, you can use the provided [translations](/guides/localization/).\n   */\n  loadingText: PropTypes.node,\n\n  /**\n   * If `true`, `value` must be an array and the menu will support multiple selections.\n   */\n  multiple: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .bool,\n\n  /**\n   * Text to display when there are no options.\n   *\n   * For localization purposes, you can use the provided [translations](/guides/localization/).\n   */\n  noOptionsText: PropTypes.node,\n\n  /**\n   * Callback fired when the value changes.\n   *\n   * @param {object} event The event source of the callback.\n   * @param {T|T[]} value The new value of the component.\n   * @param {string} reason One of \"create-option\", \"select-option\", \"remove-option\", \"blur\" or \"clear\".\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * Callback fired when the popup requests to be closed.\n   * Use in controlled mode (see open).\n   *\n   * @param {object} event The event source of the callback.\n   * @param {string} reason Can be: `\"toggleInput\"`, `\"escape\"`, `\"select-option\"`, `\"blur\"`.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Callback fired when the highlight option changes.\n   *\n   * @param {object} event The event source of the callback.\n   * @param {T} option The highlighted option.\n   * @param {string} reason Can be: `\"keyboard\"`, `\"auto\"`, `\"mouse\"`.\n   */\n  onHighlightChange: PropTypes.func,\n\n  /**\n   * Callback fired when the input value changes.\n   *\n   * @param {object} event The event source of the callback.\n   * @param {string} value The new value of the text input.\n   * @param {string} reason Can be: `\"input\"` (user input), `\"reset\"` (programmatic change), `\"clear\"`.\n   */\n  onInputChange: PropTypes.func,\n\n  /**\n   * Callback fired when the popup requests to be opened.\n   * Use in controlled mode (see open).\n   *\n   * @param {object} event The event source of the callback.\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Control the popup` open state.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * If `true`, the popup will open on input focus.\n   */\n  openOnFocus: PropTypes.bool,\n\n  /**\n   * Override the default text for the *open popup* icon button.\n   *\n   * For localization purposes, you can use the provided [translations](/guides/localization/).\n   */\n  openText: PropTypes.string,\n\n  /**\n   * Array of options.\n   */\n  options: PropTypes.array.isRequired,\n\n  /**\n   * The component used to render the body of the popup.\n   */\n  PaperComponent: PropTypes.elementType,\n\n  /**\n   * The component used to position the popup.\n   */\n  PopperComponent: PropTypes.elementType,\n\n  /**\n   * The icon to display in place of the default popup icon.\n   */\n  popupIcon: PropTypes.node,\n\n  /**\n   * Render the group.\n   *\n   * @param {any} option The group to render.\n   * @returns {ReactNode}\n   */\n  renderGroup: PropTypes.func,\n\n  /**\n   * Render the input.\n   *\n   * @param {object} params\n   * @returns {ReactNode}\n   */\n  renderInput: PropTypes.func.isRequired,\n\n  /**\n   * Render the option, use `getOptionLabel` by default.\n   *\n   * @param {T} option The option to render.\n   * @param {object} state The state of the component.\n   * @returns {ReactNode}\n   */\n  renderOption: PropTypes.func,\n\n  /**\n   * Render the selected value.\n   *\n   * @param {T[]} value The `value` provided to the component.\n   * @param {function} getTagProps A tag props getter.\n   * @returns {ReactNode}\n   */\n  renderTags: PropTypes.func,\n\n  /**\n   * If `true`, the input's text will be selected on focus.\n   * It helps the user clear the selected value.\n   */\n  selectOnFocus: PropTypes.bool,\n\n  /**\n   * The size of the autocomplete.\n   */\n  size: PropTypes.oneOf(['medium', 'small']),\n\n  /**\n   * The value of the autocomplete.\n   *\n   * The value must have reference equality with the option in order to be selected.\n   * You can customize the equality behavior with the `getOptionSelected` prop.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAutocomplete'\n})(Autocomplete);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { styled as styledWithoutDefault } from '@material-ui/styles';\nimport defaultTheme from './defaultTheme';\n\nvar styled = function styled(Component) {\n  var componentCreator = styledWithoutDefault(Component);\n  return function (style, options) {\n    return componentCreator(style, _extends({\n      defaultTheme: defaultTheme\n    }, options));\n  };\n};\n\nexport default styled;","import { borders, compose, display, flexbox, grid, palette, positions, shadows, sizing, spacing, typography, css } from '@material-ui/system';\nimport styled from '../styles/styled';\nexport var styleFunction = css(compose(borders, display, flexbox, grid, positions, palette, shadows, sizing, spacing, typography));\n/**\n * @ignore - do not document.\n */\n\nvar Box = styled('div')(styleFunction, {\n  name: 'MuiBox'\n});\nexport default Box;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n}), 'Cancel');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport CancelIcon from '../internal/svg-icons/Cancel';\nimport withStyles from '../styles/withStyles';\nimport { emphasize, fade } from '../styles/colorManipulator';\nimport useForkRef from '../utils/useForkRef';\nimport unsupportedProp from '../utils/unsupportedProp';\nimport capitalize from '../utils/capitalize';\nimport ButtonBase from '../ButtonBase';\nexport var styles = function styles(theme) {\n  var backgroundColor = theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700];\n  var deleteIconColor = fade(theme.palette.text.primary, 0.26);\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      fontFamily: theme.typography.fontFamily,\n      fontSize: theme.typography.pxToRem(13),\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      height: 32,\n      color: theme.palette.getContrastText(backgroundColor),\n      backgroundColor: backgroundColor,\n      borderRadius: 32 / 2,\n      whiteSpace: 'nowrap',\n      transition: theme.transitions.create(['background-color', 'box-shadow']),\n      // label will inherit this from root, then `clickable` class overrides this for both\n      cursor: 'default',\n      // We disable the focus ring for mouse, touch and keyboard users.\n      outline: 0,\n      textDecoration: 'none',\n      border: 'none',\n      // Remove `button` border\n      padding: 0,\n      // Remove `button` padding\n      verticalAlign: 'middle',\n      boxSizing: 'border-box',\n      '&$disabled': {\n        opacity: 0.5,\n        pointerEvents: 'none'\n      },\n      '& $avatar': {\n        marginLeft: 5,\n        marginRight: -6,\n        width: 24,\n        height: 24,\n        color: theme.palette.type === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n        fontSize: theme.typography.pxToRem(12)\n      },\n      '& $avatarColorPrimary': {\n        color: theme.palette.primary.contrastText,\n        backgroundColor: theme.palette.primary.dark\n      },\n      '& $avatarColorSecondary': {\n        color: theme.palette.secondary.contrastText,\n        backgroundColor: theme.palette.secondary.dark\n      },\n      '& $avatarSmall': {\n        marginLeft: 4,\n        marginRight: -4,\n        width: 18,\n        height: 18,\n        fontSize: theme.typography.pxToRem(10)\n      }\n    },\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      height: 24\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText\n    },\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the root element if `onClick` is defined or `clickable={true}`. */\n    clickable: {\n      userSelect: 'none',\n      WebkitTapHighlightColor: 'transparent',\n      cursor: 'pointer',\n      '&:hover, &:focus': {\n        backgroundColor: emphasize(backgroundColor, 0.08)\n      },\n      '&:active': {\n        boxShadow: theme.shadows[1]\n      }\n    },\n\n    /* Styles applied to the root element if `onClick` and `color=\"primary\"` is defined or `clickable={true}`. */\n    clickableColorPrimary: {\n      '&:hover, &:focus': {\n        backgroundColor: emphasize(theme.palette.primary.main, 0.08)\n      }\n    },\n\n    /* Styles applied to the root element if `onClick` and `color=\"secondary\"` is defined or `clickable={true}`. */\n    clickableColorSecondary: {\n      '&:hover, &:focus': {\n        backgroundColor: emphasize(theme.palette.secondary.main, 0.08)\n      }\n    },\n\n    /* Styles applied to the root element if `onDelete` is defined. */\n    deletable: {\n      '&:focus': {\n        backgroundColor: emphasize(backgroundColor, 0.08)\n      }\n    },\n\n    /* Styles applied to the root element if `onDelete` and `color=\"primary\"` is defined. */\n    deletableColorPrimary: {\n      '&:focus': {\n        backgroundColor: emphasize(theme.palette.primary.main, 0.2)\n      }\n    },\n\n    /* Styles applied to the root element if `onDelete` and `color=\"secondary\"` is defined. */\n    deletableColorSecondary: {\n      '&:focus': {\n        backgroundColor: emphasize(theme.palette.secondary.main, 0.2)\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"`. */\n    outlined: {\n      backgroundColor: 'transparent',\n      border: \"1px solid \".concat(theme.palette.type === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)'),\n      '$clickable&:hover, $clickable&:focus, $deletable&:focus': {\n        backgroundColor: fade(theme.palette.text.primary, theme.palette.action.hoverOpacity)\n      },\n      '& $avatar': {\n        marginLeft: 4\n      },\n      '& $avatarSmall': {\n        marginLeft: 2\n      },\n      '& $icon': {\n        marginLeft: 4\n      },\n      '& $iconSmall': {\n        marginLeft: 2\n      },\n      '& $deleteIcon': {\n        marginRight: 5\n      },\n      '& $deleteIconSmall': {\n        marginRight: 3\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"primary\"`. */\n    outlinedPrimary: {\n      color: theme.palette.primary.main,\n      border: \"1px solid \".concat(theme.palette.primary.main),\n      '$clickable&:hover, $clickable&:focus, $deletable&:focus': {\n        backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity)\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"secondary\"`. */\n    outlinedSecondary: {\n      color: theme.palette.secondary.main,\n      border: \"1px solid \".concat(theme.palette.secondary.main),\n      '$clickable&:hover, $clickable&:focus, $deletable&:focus': {\n        backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity)\n      }\n    },\n    // TODO v5: remove\n\n    /* Styles applied to the `avatar` element. */\n    avatar: {},\n\n    /* Styles applied to the `avatar` element if `size=\"small\"`. */\n    avatarSmall: {},\n\n    /* Styles applied to the `avatar` element if `color=\"primary\"`. */\n    avatarColorPrimary: {},\n\n    /* Styles applied to the `avatar` element if `color=\"secondary\"`. */\n    avatarColorSecondary: {},\n\n    /* Styles applied to the `icon` element. */\n    icon: {\n      color: theme.palette.type === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n      marginLeft: 5,\n      marginRight: -6\n    },\n\n    /* Styles applied to the `icon` element if `size=\"small\"`. */\n    iconSmall: {\n      width: 18,\n      height: 18,\n      marginLeft: 4,\n      marginRight: -4\n    },\n\n    /* Styles applied to the `icon` element if `color=\"primary\"`. */\n    iconColorPrimary: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the `icon` element if `color=\"secondary\"`. */\n    iconColorSecondary: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the label `span` element. */\n    label: {\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      paddingLeft: 12,\n      paddingRight: 12,\n      whiteSpace: 'nowrap'\n    },\n\n    /* Styles applied to the label `span` element if `size=\"small\"`. */\n    labelSmall: {\n      paddingLeft: 8,\n      paddingRight: 8\n    },\n\n    /* Styles applied to the `deleteIcon` element. */\n    deleteIcon: {\n      WebkitTapHighlightColor: 'transparent',\n      color: deleteIconColor,\n      height: 22,\n      width: 22,\n      cursor: 'pointer',\n      margin: '0 5px 0 -6px',\n      '&:hover': {\n        color: fade(deleteIconColor, 0.4)\n      }\n    },\n\n    /* Styles applied to the `deleteIcon` element if `size=\"small\"`. */\n    deleteIconSmall: {\n      height: 16,\n      width: 16,\n      marginRight: 4,\n      marginLeft: -4\n    },\n\n    /* Styles applied to the deleteIcon element if `color=\"primary\"` and `variant=\"default\"`. */\n    deleteIconColorPrimary: {\n      color: fade(theme.palette.primary.contrastText, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette.primary.contrastText\n      }\n    },\n\n    /* Styles applied to the deleteIcon element if `color=\"secondary\"` and `variant=\"default\"`. */\n    deleteIconColorSecondary: {\n      color: fade(theme.palette.secondary.contrastText, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette.secondary.contrastText\n      }\n    },\n\n    /* Styles applied to the deleteIcon element if `color=\"primary\"` and `variant=\"outlined\"`. */\n    deleteIconOutlinedColorPrimary: {\n      color: fade(theme.palette.primary.main, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette.primary.main\n      }\n    },\n\n    /* Styles applied to the deleteIcon element if `color=\"secondary\"` and `variant=\"outlined\"`. */\n    deleteIconOutlinedColorSecondary: {\n      color: fade(theme.palette.secondary.main, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette.secondary.main\n      }\n    }\n  };\n};\n\nfunction isDeleteKeyboardEvent(keyboardEvent) {\n  return keyboardEvent.key === 'Backspace' || keyboardEvent.key === 'Delete';\n}\n/**\n * Chips represent complex entities in small blocks, such as a contact.\n */\n\n\nvar Chip = /*#__PURE__*/React.forwardRef(function Chip(props, ref) {\n  var avatarProp = props.avatar,\n      classes = props.classes,\n      className = props.className,\n      clickableProp = props.clickable,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      ComponentProp = props.component,\n      deleteIconProp = props.deleteIcon,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      iconProp = props.icon,\n      label = props.label,\n      onClick = props.onClick,\n      onDelete = props.onDelete,\n      onKeyDown = props.onKeyDown,\n      onKeyUp = props.onKeyUp,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'default' : _props$variant,\n      other = _objectWithoutProperties(props, [\"avatar\", \"classes\", \"className\", \"clickable\", \"color\", \"component\", \"deleteIcon\", \"disabled\", \"icon\", \"label\", \"onClick\", \"onDelete\", \"onKeyDown\", \"onKeyUp\", \"size\", \"variant\"]);\n\n  var chipRef = React.useRef(null);\n  var handleRef = useForkRef(chipRef, ref);\n\n  var handleDeleteIconClick = function handleDeleteIconClick(event) {\n    // Stop the event from bubbling up to the `Chip`\n    event.stopPropagation();\n\n    if (onDelete) {\n      onDelete(event);\n    }\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target && isDeleteKeyboardEvent(event)) {\n      // will be handled in keyUp, otherwise some browsers\n      // might init navigation\n      event.preventDefault();\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  };\n\n  var handleKeyUp = function handleKeyUp(event) {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target) {\n      if (onDelete && isDeleteKeyboardEvent(event)) {\n        onDelete(event);\n      } else if (event.key === 'Escape' && chipRef.current) {\n        chipRef.current.blur();\n      }\n    }\n\n    if (onKeyUp) {\n      onKeyUp(event);\n    }\n  };\n\n  var clickable = clickableProp !== false && onClick ? true : clickableProp;\n  var small = size === 'small';\n  var Component = ComponentProp || (clickable ? ButtonBase : 'div');\n  var moreProps = Component === ButtonBase ? {\n    component: 'div'\n  } : {};\n  var deleteIcon = null;\n\n  if (onDelete) {\n    var customClasses = clsx(color !== 'default' && (variant === \"default\" ? classes[\"deleteIconColor\".concat(capitalize(color))] : classes[\"deleteIconOutlinedColor\".concat(capitalize(color))]), small && classes.deleteIconSmall);\n    deleteIcon = deleteIconProp && /*#__PURE__*/React.isValidElement(deleteIconProp) ? /*#__PURE__*/React.cloneElement(deleteIconProp, {\n      className: clsx(deleteIconProp.props.className, classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    }) : /*#__PURE__*/React.createElement(CancelIcon, {\n      className: clsx(classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    });\n  }\n\n  var avatar = null;\n\n  if (avatarProp && /*#__PURE__*/React.isValidElement(avatarProp)) {\n    avatar = /*#__PURE__*/React.cloneElement(avatarProp, {\n      className: clsx(classes.avatar, avatarProp.props.className, small && classes.avatarSmall, color !== 'default' && classes[\"avatarColor\".concat(capitalize(color))])\n    });\n  }\n\n  var icon = null;\n\n  if (iconProp && /*#__PURE__*/React.isValidElement(iconProp)) {\n    icon = /*#__PURE__*/React.cloneElement(iconProp, {\n      className: clsx(classes.icon, iconProp.props.className, small && classes.iconSmall, color !== 'default' && classes[\"iconColor\".concat(capitalize(color))])\n    });\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (avatar && icon) {\n      console.error('Material-UI: The Chip component can not handle the avatar ' + 'and the icon prop at the same time. Pick one.');\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    role: clickable || onDelete ? 'button' : undefined,\n    className: clsx(classes.root, className, color !== 'default' && [classes[\"color\".concat(capitalize(color))], clickable && classes[\"clickableColor\".concat(capitalize(color))], onDelete && classes[\"deletableColor\".concat(capitalize(color))]], variant !== \"default\" && [classes.outlined, {\n      'primary': classes.outlinedPrimary,\n      'secondary': classes.outlinedSecondary\n    }[color]], disabled && classes.disabled, small && classes.sizeSmall, clickable && classes.clickable, onDelete && classes.deletable),\n    \"aria-disabled\": disabled ? true : undefined,\n    tabIndex: clickable || onDelete ? 0 : undefined,\n    onClick: onClick,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    ref: handleRef\n  }, moreProps, other), avatar || icon, /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.label, small && classes.labelSmall)\n  }, label), deleteIcon);\n});\nprocess.env.NODE_ENV !== \"production\" ? Chip.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Avatar element.\n   */\n  avatar: PropTypes.element,\n\n  /**\n   * This prop isn't supported.\n   * Use the `component` prop if you need to change the children structure.\n   */\n  children: unsupportedProp,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the chip will appear clickable, and will raise when pressed,\n   * even if the onClick prop is not defined.\n   * If false, the chip will not be clickable, even if onClick prop is defined.\n   * This can be used, for example,\n   * along with the component prop to indicate an anchor Chip is clickable.\n   */\n  clickable: PropTypes.bool,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'primary', 'secondary']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Override the default delete icon element. Shown only if `onDelete` is set.\n   */\n  deleteIcon: PropTypes.element,\n\n  /**\n   * If `true`, the chip should be displayed in a disabled state.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Icon element.\n   */\n  icon: PropTypes.element,\n\n  /**\n   * The content of the label.\n   */\n  label: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Callback function fired when the delete icon is clicked.\n   * If set, the delete icon will be shown.\n   */\n  onDelete: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyDown: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyUp: PropTypes.func,\n\n  /**\n   * The size of the chip.\n   */\n  size: PropTypes.oneOf(['medium', 'small']),\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['default', 'outlined'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiChip'\n})(Chip);"],"sourceRoot":""}